/*! For license information please see main.b55eceef.js.LICENSE.txt */
(()=>{var e={356:(e,t,n)=>{e.exports=n(9645).last},400:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="0.0.0-automated"},579:(e,t,n)=>{"use strict";e.exports=n(2799)},870:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObject=function(e){return null!==e&&("object"===typeof e||"function"===typeof e)}},1203:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8420);t.isArrayLike=function(e){return null!=e&&"function"!==typeof e&&r.isLength(e.length)}},1210:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(8829)),i=r(n(5736)),s=n(5745);class o{constructor(e){let{headers:t={},schema:n,fetch:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=Object.assign(Object.assign({},s.DEFAULT_HEADERS),t),this.schemaName=n,this.fetch=r}from(e){const t=new URL(`${this.url}/${e}`);return new a.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new o(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:r=!1,get:a=!1,count:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=new URL(`${this.url}/rpc/${e}`);let l;r||a?(t=r?"HEAD":"GET",Object.entries(n).filter(e=>{let[t,n]=e;return void 0!==n}).map(e=>{let[t,n]=e;return[t,Array.isArray(n)?`{${n.join(",")}}`:`${n}`]}).forEach(e=>{let[t,n]=e;o.searchParams.append(t,n)})):(t="POST",l=n);const c=Object.assign({},this.headers);return s&&(c.Prefer=`count=${s}`),new i.default({method:t,url:o,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}}t.default=o},1293:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4830);t.debounce=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"!==typeof n&&(n={});const{leading:a=!1,trailing:i=!0,maxWait:s}=n,o=Array(2);let l;a&&(o[0]="leading"),i&&(o[1]="trailing");let c=null;const u=r.debounce(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];l=e.apply(this,n),c=null},t,{edges:o}),d=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return null!=s&&(null===c&&(c=Date.now()),Date.now()-c>=s)?(l=e.apply(this,n),c=Date.now(),u.cancel(),u.schedule(),l):(u.apply(this,n),l)};return d.cancel=u.cancel,d.flush=()=>(u.flush(),l),d}},1444:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toPath=function(e){const t=[],n=e.length;if(0===n)return t;let r=0,a="",i="",s=!1;for(46===e.charCodeAt(0)&&(t.push(""),r++);r<n;){const o=e[r];i?"\\"===o&&r+1<n?(r++,a+=e[r]):o===i?i="":a+=o:s?'"'===o||"'"===o?i=o:"]"===o?(s=!1,t.push(a),a=""):a+=o:"["===o?(s=!0,a&&(t.push(a),a="")):"."===o?a&&(t.push(a),a=""):a+=o,r++}return a&&t.push(a),t}},2086:(e,t,n)=>{"use strict";e.exports=n(5082)},2104:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1203),a=n(9921);t.isArrayLikeObject=function(e){return a.isObjectLike(e)&&r.isArrayLike(e)}},2132:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8268),a=n(870),i=n(4803),s=n(9972);function o(e,t,n,r){if(t===e)return!0;switch(typeof t){case"object":return function(e,t,n,r){if(null==t)return!0;if(Array.isArray(t))return l(e,t,n,r);if(t instanceof Map)return function(e,t,n,r){if(0===t.size)return!0;if(!(e instanceof Map))return!1;for(const[a,i]of t.entries()){if(!1===n(e.get(a),i,a,e,t,r))return!1}return!0}(e,t,n,r);if(t instanceof Set)return c(e,t,n,r);const a=Object.keys(t);if(null==e)return 0===a.length;if(0===a.length)return!0;if(r&&r.has(t))return r.get(t)===e;r&&r.set(t,e);try{for(let s=0;s<a.length;s++){const o=a[s];if(!i.isPrimitive(e)&&!(o in e))return!1;if(void 0===t[o]&&void 0!==e[o])return!1;if(null===t[o]&&null!==e[o])return!1;if(!n(e[o],t[o],o,e,t,r))return!1}return!0}finally{r&&r.delete(t)}}(e,t,n,r);case"function":return Object.keys(t).length>0?o(e,{...t},n,r):s.eq(e,t);default:return a.isObject(e)?"string"!==typeof t||""===t:s.eq(e,t)}}function l(e,t,n,r){if(0===t.length)return!0;if(!Array.isArray(e))return!1;const a=new Set;for(let i=0;i<t.length;i++){const s=t[i];let o=!1;for(let l=0;l<e.length;l++){if(a.has(l))continue;let c=!1;if(n(e[l],s,i,e,t,r)&&(c=!0),c){a.add(l),o=!0;break}}if(!o)return!1}return!0}function c(e,t,n,r){return 0===t.size||e instanceof Set&&l([...e],[...t],n,r)}t.isMatchWith=function(e,t,n){return"function"!==typeof n?r.isMatch(e,t):o(e,t,function e(t,r,a,i,s,l){const c=n(t,r,a,i,s,l);return void 0!==c?Boolean(c):o(t,r,e,l)},new Map)},t.isSetMatch=c},2204:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5316),a=n(7312),i=n(3799);t.sortBy=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];const o=n.length;return o>1&&i.isIterateeCall(e,n[0],n[1])?n=[]:o>2&&i.isIterateeCall(n[0],n[1],n[2])&&(n=[n[0]]),r.orderBy(e,a.flatten(n),["asc"])}},2330:(e,t,n)=>{"use strict";var r=n(5043);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=r.useState,s=r.useEffect,o=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!a(e,n)}catch(r){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=i({inst:{value:n,getSnapshot:t}}),a=r[0].inst,u=r[1];return o(function(){a.value=n,a.getSnapshot=t,c(a)&&u({inst:a})},[e,n,t]),s(function(){return c(a)&&u({inst:a}),e(function(){c(a)&&u({inst:a})})},[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},2489:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isDeepKey=function(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}},2611:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=n},2682:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPlainObject=function(e){if("object"!==typeof e)return!1;if(null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){const t=e[Symbol.toStringTag];if(null==t)return!1;return!!Object.getOwnPropertyDescriptor(e,Symbol.toStringTag)?.writable&&e.toString()===`[object ${t}]`}let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}},2715:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9599),a=n(7330),i=n(3808),s=n(8845);t.iteratee=function(e){if(null==e)return r.identity;switch(typeof e){case"function":return e;case"object":return Array.isArray(e)&&2===e.length?s.matchesProperty(e[0],e[1]):i.matches(e);case"string":case"symbol":case"number":return a.property(e)}}},2777:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isSymbol=function(e){return"symbol"===typeof e||e instanceof Symbol}},2799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(e,t,r){var a=null;if(void 0!==r&&(a=""+r),void 0!==t.key&&(a=""+t.key),"key"in t)for(var i in r={},t)"key"!==i&&(r[i]=t[i]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:a,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=a,t.jsxs=a},3272:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toKey=function(e){return"string"===typeof e||"symbol"===typeof e?e:Object.is(e?.valueOf?.(),-0)?"-0":String(e)}},3757:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isTypedArray=function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}},3799:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4704),a=n(1203),i=n(870),s=n(9972);t.isIterateeCall=function(e,t,n){return!!i.isObject(n)&&(!!("number"===typeof t&&a.isArrayLike(n)&&r.isIndex(t)&&t<n.length||"string"===typeof t&&t in n)&&s.eq(n[t],e))}},3808:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8268),a=n(5261);t.matches=function(e){return e=a.cloneDeep(e),t=>r.isMatch(t,e)}},3821:(e,t,n)=>{e.exports=n(2204).sortBy},4208:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.uniqBy=function(e,t){const n=new Map;for(let r=0;r<e.length;r++){const a=e[r],i=t(a);n.has(i)||n.set(i,a)}return Array.from(n.values())}},4250:(e,t,n)=>{e.exports=n(8182).isEqual},4288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=x.prototype=new y;b.constructor=x,m(b,v.prototype),b.isPureReactComponent=!0;var w=Array.isArray,j={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function N(e,t,r,a,i,s){return r=s.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:s}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var S=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function O(){}function E(e,t,a,i,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return E((u=e._init)(e._payload),t,a,i,s)}}if(u)return s=s(e),u=""===i?"."+C(e,0):i,w(s)?(a="",null!=u&&(a=u.replace(S,"$&/")+"/"),E(s,t,a,"",function(e){return e})):null!=s&&(_(s)&&(l=s,c=a+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(S,"$&/")+"/")+u,s=N(l.type,c,void 0,0,0,l.props)),t.push(s)),1;u=0;var d,p=""===i?".":i+":";if(w(e))for(var m=0;m<e.length;m++)u+=E(i=e[m],t,a,o=p+C(i,m),s);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(i=e.next()).done;)u+=E(i=i.value,t,a,o=p+C(i,m++),s);else if("object"===o){if("function"===typeof e.then)return E(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(O,O):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,a,i,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function P(e,t,n){if(null==e)return e;var r=[],a=0;return E(e,r,"","",function(e){return t.call(n,e,a++)}),r}function T(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function M(){}t.Children={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=a,t.Profiler=s,t.PureComponent=x,t.StrictMode=i,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return j.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),a=e.key;if(null!=t)for(i in void 0!==t.ref&&void 0,void 0!==t.key&&(a=""+t.key),t)!k.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(r[i]=t[i]);var i=arguments.length-2;if(1===i)r.children=n;else if(1<i){for(var s=Array(i),o=0;o<i;o++)s[o]=arguments[o+2];r.children=s}return N(e.type,a,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,a={},i=null;if(null!=t)for(r in void 0!==t.key&&(i=""+t.key),t)k.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];a.children=o}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return N(e,i,void 0,0,0,a)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=j.T,n={};j.T=n;try{var r=e(),a=j.S;null!==a&&a(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(M,A)}catch(i){A(i)}finally{j.T=t}},t.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},t.use=function(e){return j.H.use(e)},t.useActionState=function(e,t,n){return j.H.useActionState(e,t,n)},t.useCallback=function(e,t){return j.H.useCallback(e,t)},t.useContext=function(e){return j.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return j.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=j.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return j.H.useId()},t.useImperativeHandle=function(e,t,n){return j.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return j.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return j.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return j.H.useMemo(e,t)},t.useOptimistic=function(e,t){return j.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return j.H.useReducer(e,t,n)},t.useRef=function(e){return j.H.useRef(e)},t.useState=function(e){return j.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return j.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return j.H.useTransition()},t.version="19.1.1"},4332:(e,t,n)=>{e.exports=n(5053).uniqBy},4385:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPlainObject=function(e){if(!e||"object"!==typeof e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t))&&"[object Object]"===Object.prototype.toString.call(e)}},4391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(7004)},4630:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Headers:()=>s,Request:()=>o,Response:()=>l,default:()=>i,fetch:()=>a});var r=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("unable to locate global object")}();const a=r.fetch,i=r.fetch.bind(r),s=r.Headers,o=r.Request,l=r.Response},4704:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=/^(?:0|[1-9]\d*)$/;t.isIndex=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_SAFE_INTEGER;switch(typeof e){case"number":return Number.isInteger(e)&&e>=0&&e<t;case"symbol":return!1;case"string":return n.test(e)}}},4737:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.noop=function(){}},4803:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPrimitive=function(e){return null==e||"object"!==typeof e&&"function"!==typeof e}},4830:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.debounce=function(e,t){let n,{signal:r,edges:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=null;const s=null!=a&&a.includes("leading"),o=null==a||a.includes("trailing"),l=()=>{null!==i&&(e.apply(n,i),n=void 0,i=null)};let c=null;const u=()=>{null!=c&&clearTimeout(c),c=setTimeout(()=>{c=null,o&&l(),d()},t)},d=()=>{null!==c&&(clearTimeout(c),c=null),n=void 0,i=null},h=function(){if(r?.aborted)return;n=this;for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];i=t;const o=null==c;u(),s&&o&&l()};return h.schedule=u,h.cancel=d,h.flush=()=>{l()},r?.addEventListener("abort",d,{once:!0}),h}},4879:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6770);t.toFinite=function(e){if(!e)return 0===e?e:0;if((e=r.toNumber(e))===1/0||e===-1/0){return(e<0?-1:1)*Number.MAX_VALUE}return e===e?e:0}},5043:(e,t,n)=>{"use strict";e.exports=n(4288)},5053:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4208),a=n(9599),i=n(2104),s=n(2715);t.uniqBy=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.identity;return i.isArrayLikeObject(e)?r.uniqBy(Array.from(e),s.iteratee(t)):[]}},5082:(e,t)=>{"use strict";var n=60103,r=60106,a=60107,i=60108,s=60114,o=60109,l=60110,c=60112,u=60113,d=60120,h=60115,f=60116,p=60121,m=60122,g=60117,v=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var x=Symbol.for;n=x("react.element"),r=x("react.portal"),a=x("react.fragment"),i=x("react.strict_mode"),s=x("react.profiler"),o=x("react.provider"),l=x("react.context"),c=x("react.forward_ref"),u=x("react.suspense"),d=x("react.suspense_list"),h=x("react.memo"),f=x("react.lazy"),p=x("react.block"),m=x("react.server.block"),g=x("react.fundamental"),v=x("react.debug_trace_mode"),y=x("react.legacy_hidden")}function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case a:case s:case i:case u:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case h:case o:return e;default:return t}}case r:return t}}}t.isFragment=function(e){return b(e)===a}},5261:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6433);t.cloneDeep=function(e){return r.cloneDeepWithImpl(e,void 0,e,new Map,void 0)}},5303:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2489),a=n(4704),i=n(6321),s=n(1444);t.has=function(e,t){let n;if(n=Array.isArray(t)?t:"string"===typeof t&&r.isDeepKey(t)&&null==e?.[t]?s.toPath(t):[t],0===n.length)return!1;let o=e;for(let r=0;r<n.length;r++){const e=n[r];if(null==o||!Object.hasOwn(o,e)){if(!((Array.isArray(o)||i.isArguments(o))&&a.isIndex(e)&&e<o.length))return!1}o=o[e]}return!0}},5316:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9709),a=n(7043),i=n(1444);t.orderBy=function(e,t,n,s){if(null==e)return[];n=s?void 0:n,Array.isArray(e)||(e=Object.values(e)),Array.isArray(t)||(t=null==t?[null]:[t]),0===t.length&&(t=[null]),Array.isArray(n)||(n=null==n?[]:[n]),n=n.map(e=>String(e));const o=(e,t)=>{let n=e;for(let r=0;r<t.length&&null!=n;++r)n=n[t[r]];return n},l=t.map(e=>(Array.isArray(e)&&1===e.length&&(e=e[0]),null==e||"function"===typeof e||Array.isArray(e)||a.isKey(e)?e:{key:e,path:i.toPath(e)}));return e.map(e=>({original:e,criteria:l.map(t=>((e,t)=>null==t||null==e?t:"object"===typeof e&&"key"in e?Object.hasOwn(t,e.key)?t[e.key]:o(t,e.path):"function"===typeof e?e(t):Array.isArray(e)?o(t,e):"object"===typeof t?t[e]:t)(t,e))})).slice().sort((e,t)=>{for(let a=0;a<l.length;a++){const i=r.compareValues(e.criteria[a],t.criteria[a],n[a]);if(0!==i)return i}return 0}).map(e=>e.original)}},5414:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1293);t.throttle=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{leading:a=!0,trailing:i=!0}=n;return r.debounce(e,t,{leading:a,maxWait:t,trailing:i})}},5508:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6433),a=n(7599);t.cloneDeepWith=function(e,t){return r.cloneDeepWith(e,(n,i,s,o)=>{const l=t?.(n,i,s,o);if(null!=l)return l;if("object"===typeof e)switch(Object.prototype.toString.call(e)){case a.numberTag:case a.stringTag:case a.booleanTag:{const t=new e.constructor(e?.valueOf());return r.copyProperties(t,e),t}case a.argumentsTag:{const t={};return r.copyProperties(t,e),t.length=e.length,t[Symbol.iterator]=e[Symbol.iterator],t}default:return}})}},5736:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(7374));class i extends a.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(e=>"string"===typeof e&&new RegExp("[,()]").test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t){let{config:n,type:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a="";"plain"===r?a="pl":"phrase"===r?a="ph":"websearch"===r&&(a="w");const i=void 0===n?"":`(${n})`;return this.url.searchParams.append(e,`${a}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(e=>{let[t,n]=e;this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}}t.default=i},5745:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_HEADERS=void 0;const r=n(400);t.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${r.version}`}},5896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,s=a>>>1;r<s;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>i(l,n))c<a&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<a&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,x="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function j(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,N||(N=!0,k());else{var t=r(u);null!==t&&A(j,t.startTime-e)}}var k,N=!1,_=-1,S=5,C=-1;function O(){return!!v||!(t.unstable_now()-C<S)}function E(){if(v=!1,N){var e=t.unstable_now();C=e;var n=!0;try{e:{m=!1,g&&(g=!1,x(_),_=-1),p=!0;var i=f;try{t:{for(w(e),h=r(c);null!==h&&!(h.expirationTime>e&&O());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var o=s(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,w(e),n=!0;break t}h===r(c)&&a(c),w(e)}else a(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&A(j,l.startTime-e),n=!1}}break e}finally{h=null,f=i,p=!1}n=void 0}}finally{n?k():N=!1}}}if("function"===typeof b)k=function(){b(E)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,T=P.port2;P.port1.onmessage=E,k=function(){T.postMessage(null)}}else k=function(){y(E,0)};function A(e,n){_=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,a,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>s?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(x(_),_=-1):g=!0,A(j,i-s))):(e.sortIndex=o,n(c,e),m||p||(m=!0,N||(N=!0,k()))),e},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},5990:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}},6321:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5990);t.isArguments=function(e){return null!==e&&"object"===typeof e&&"[object Arguments]"===r.getTag(e)}},6392:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.last=function(e){return e[e.length-1]}},6433:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6443),a=n(5990),i=n(7599),s=n(4803),o=n(3757);function l(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const d=u?.(e,t,n,r);if(null!=d)return d;if(s.isPrimitive(e))return e;if(r.has(e))return r.get(e);if(Array.isArray(e)){const t=new Array(e.length);r.set(e,t);for(let a=0;a<e.length;a++)t[a]=l(e[a],a,n,r,u);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){const t=new Map;r.set(e,t);for(const[a,i]of e)t.set(a,l(i,a,n,r,u));return t}if(e instanceof Set){const t=new Set;r.set(e,t);for(const a of e)t.add(l(a,void 0,n,r,u));return t}if("undefined"!==typeof Buffer&&Buffer.isBuffer(e))return e.subarray();if(o.isTypedArray(e)){const t=new(Object.getPrototypeOf(e).constructor)(e.length);r.set(e,t);for(let a=0;a<e.length;a++)t[a]=l(e[a],a,n,r,u);return t}if(e instanceof ArrayBuffer||"undefined"!==typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return r.set(e,t),c(t,e,n,r,u),t}if("undefined"!==typeof File&&e instanceof File){const t=new File([e],e.name,{type:e.type});return r.set(e,t),c(t,e,n,r,u),t}if(e instanceof Blob){const t=new Blob([e],{type:e.type});return r.set(e,t),c(t,e,n,r,u),t}if(e instanceof Error){const t=new e.constructor;return r.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,c(t,e,n,r,u),t}if("object"===typeof e&&function(e){switch(a.getTag(e)){case i.argumentsTag:case i.arrayTag:case i.arrayBufferTag:case i.dataViewTag:case i.booleanTag:case i.dateTag:case i.float32ArrayTag:case i.float64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.mapTag:case i.numberTag:case i.objectTag:case i.regexpTag:case i.setTag:case i.stringTag:case i.symbolTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:return!0;default:return!1}}(e)){const t=Object.create(Object.getPrototypeOf(e));return r.set(e,t),c(t,e,n,r,u),t}return e}function c(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,a=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;const s=[...Object.keys(t),...r.getSymbols(t)];for(let r=0;r<s.length;r++){const o=s[r],c=Object.getOwnPropertyDescriptor(e,o);(null==c||c.writable)&&(e[o]=l(t[o],o,n,a,i))}}t.cloneDeepWith=function(e,t){return l(e,void 0,e,new Map,t)},t.cloneDeepWithImpl=l,t.copyProperties=c},6443:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getSymbols=function(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}},6672:(e,t,n)=>{"use strict";var r=n(5043);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(a(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(a(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),a="string"===typeof t.integrity?t.integrity:void 0,i="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:i}):"script"===n&&s.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:i,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.1"},6770:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2777);t.toNumber=function(e){return r.isSymbol(e)?NaN:Number(e)}},7004:(e,t,n)=>{"use strict";var r=n(8853),a=n(5043),i=n(7950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(s(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),w=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy");Symbol.for("react.scope");var C=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var O=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var E=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=E&&e[E]||e["@@iterator"])?e:null}var T=Symbol.for("react.client.reference");function A(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===T?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case y:return"Profiler";case v:return"StrictMode";case k:return"Suspense";case N:return"SuspenseList";case C:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case w:return(e.displayName||"Context")+".Provider";case b:return(e._context.displayName||"Context")+".Consumer";case j:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case _:return null!==(t=e.displayName||null)?t:A(e.type)||"Memo";case S:t=e._payload,e=e._init;try{return A(e(t))}catch(n){}}return null}var M=Array.isArray,D=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},L=[],R=-1;function $(e){return{current:e}}function F(e){0>R||(e.current=L[R],L[R]=null,R--)}function B(e,t){R++,L[R]=e.current,e.current=t}var V=$(null),U=$(null),H=$(null),q=$(null);function W(e,t){switch(B(H,t),B(U,e),B(V,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ad(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=id(t=ad(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F(V),B(V,e)}function K(){F(V),F(U),F(H)}function G(e){null!==e.memoizedState&&B(q,e);var t=V.current,n=id(t,e.type);t!==n&&(B(U,e),B(V,n))}function Y(e){U.current===e&&(F(V),F(U)),q.current===e&&(F(q),Gd._currentValue=I)}var X=Object.prototype.hasOwnProperty,J=r.unstable_scheduleCallback,Z=r.unstable_cancelCallback,Q=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ae=r.unstable_UserBlockingPriority,ie=r.unstable_NormalPriority,se=r.unstable_LowPriority,oe=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,de=null;function he(e){if("function"===typeof le&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(pe(e)/me|0)|0},pe=Math.log,me=Math.LN2;var ge=256,ve=4194304;function ye(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function xe(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var a=0,i=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~i)?a=ye(r):0!==(s&=o)?a=ye(s):n||0!==(n=o&~e)&&(a=ye(n)):0!==(o=r&~i)?a=ye(o):0!==s?a=ye(s):n||0!==(n=r&~e)&&(a=ye(n)),0===a?0:0!==t&&t!==a&&0===(t&i)&&((i=a&-a)>=(n=t&-t)||32===i&&0!==(4194048&n))?t:a}function be(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function je(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function ke(){var e=ve;return 0===(62914560&(ve<<=1))&&(ve=4194304),e}function Ne(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function _e(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Se(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-fe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Ce(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fe(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}function Oe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ee(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Pe(){var e=z.p;return 0!==e?e:void 0===(e=window.event)?32:ch(e.type)}var Te=Math.random().toString(36).slice(2),Ae="__reactFiber$"+Te,Me="__reactProps$"+Te,De="__reactContainer$"+Te,ze="__reactEvents$"+Te,Ie="__reactListeners$"+Te,Le="__reactHandles$"+Te,Re="__reactResources$"+Te,$e="__reactMarker$"+Te;function Fe(e){delete e[Ae],delete e[Me],delete e[ze],delete e[Ie],delete e[Le]}function Be(e){var t=e[Ae];if(t)return t;for(var n=e.parentNode;n;){if(t=n[De]||n[Ae]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=xd(e);null!==e;){if(n=e[Ae])return n;e=xd(e)}return t}n=(e=n).parentNode}return null}function Ve(e){if(e=e[Ae]||e[De]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Ue(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function He(e){var t=e[Re];return t||(t=e[Re]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function qe(e){e[$e]=!0}var We=new Set,Ke={};function Ge(e,t){Ye(e,t),Ye(e+"Capture",t)}function Ye(e,t){for(Ke[e]=t,e=0;e<t.length;e++)We.add(t[e])}var Xe,Je,Ze=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qe={},et={};function tt(e,t,n){if(a=t,X.call(et,a)||!X.call(Qe,a)&&(Ze.test(a)?et[a]=!0:(Qe[a]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var a}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function at(e){if(void 0===Xe)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Xe=t&&t[1]||"",Je=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Xe+e+Je}var it=!1;function st(e,t){if(!e||it)return"";it=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(a){var r=a}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(s){r=s}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&r&&"string"===typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),s=i[0],o=i[1];if(s&&o){var l=s.split("\n"),c=o.split("\n");for(a=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(r===l.length||a===c.length)for(r=l.length-1,a=c.length-1;1<=r&&0<=a&&l[r]!==c[a];)a--;for(;1<=r&&0<=a;r--,a--)if(l[r]!==c[a]){if(1!==r||1!==a)do{if(r--,0>--a||l[r]!==c[a]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=a);break}}}finally{it=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?at(n):""}function ot(e){switch(e.tag){case 26:case 27:case 5:return at(e.type);case 16:return at("Lazy");case 13:return at("Suspense");case 19:return at("SuspenseList");case 0:case 15:return st(e.type,!1);case 11:return st(e.type.render,!1);case 1:return st(e.type,!0);case 31:return at("Activity");default:return""}}function lt(e){try{var t="";do{t+=ot(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function mt(e){return e.replace(pt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,n,r,a,i,s,o){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?yt(e,s,ct(t)):null!=n?yt(e,s,ct(n)):null!=r&&e.removeAttribute("value"),null==a&&null!=i&&(e.defaultChecked=!!i),null!=a&&(e.checked=a&&"function"!==typeof a&&"symbol"!==typeof a),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ct(o):e.removeAttribute("name")}function vt(e,t,n,r,a,i,s,o){if(null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.type=i),null!=t||null!=n){if(!("submit"!==i&&"reset"!==i||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:a)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s)}function yt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function xt(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function bt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(s(92));if(M(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function jt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var kt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||kt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function _t(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&Nt(e,a,r)}else for(var i in t)t.hasOwnProperty(i)&&Nt(e,i,t[i])}function St(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ot=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Et(e){return Ot.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Pt=null;function Tt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var At=null,Mt=null;function Dt(e){var t=Ve(e);if(t&&(e=t.stateNode)){var n=e[Me]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[Me]||null;if(!a)throw Error(s(90));gt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":bt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&xt(e,!!n.multiple,t,!1)}}}var zt=!1;function It(e,t,n){if(zt)return e(t,n);zt=!0;try{return e(t)}finally{if(zt=!1,(null!==At||null!==Mt)&&(Bc(),At&&(t=At,e=Mt,Mt=At=null,Dt(t),e)))for(t=0;t<e.length;t++)Dt(e[t])}}function Lt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Me]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Rt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),$t=!1;if(Rt)try{var Ft={};Object.defineProperty(Ft,"passive",{get:function(){$t=!0}}),window.addEventListener("test",Ft,Ft),window.removeEventListener("test",Ft,Ft)}catch(Mh){$t=!1}var Bt=null,Vt=null,Ut=null;function Ht(){if(Ut)return Ut;var e,t,n=Vt,r=n.length,a="value"in Bt?Bt.value:Bt.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===a[i-t];t++);return Ut=a.slice(e,1<t?1-t:void 0)}function qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Wt(){return!0}function Kt(){return!1}function Gt(e){function t(t,n,r,a,i){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(a):a[s]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?Wt:Kt,this.isPropagationStopped=Kt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Wt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Wt)},persist:function(){},isPersistent:Wt}),t}var Yt,Xt,Jt,Zt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qt=Gt(Zt),en=h({},Zt,{view:0,detail:0}),tn=Gt(en),nn=h({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jt&&(Jt&&"mousemove"===e.type?(Yt=e.screenX-Jt.screenX,Xt=e.screenY-Jt.screenY):Xt=Yt=0,Jt=e),Yt)},movementY:function(e){return"movementY"in e?e.movementY:Xt}}),rn=Gt(nn),an=Gt(h({},nn,{dataTransfer:0})),sn=Gt(h({},en,{relatedTarget:0})),on=Gt(h({},Zt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Gt(h({},Zt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Gt(h({},Zt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function pn(){return fn}var mn=Gt(h({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Gt(h({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),vn=Gt(h({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),yn=Gt(h({},Zt,{propertyName:0,elapsedTime:0,pseudoElement:0})),xn=Gt(h({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),bn=Gt(h({},Zt,{newState:0,oldState:0})),wn=[9,13,27,32],jn=Rt&&"CompositionEvent"in window,kn=null;Rt&&"documentMode"in document&&(kn=document.documentMode);var Nn=Rt&&"TextEvent"in window&&!kn,_n=Rt&&(!jn||kn&&8<kn&&11>=kn),Sn=String.fromCharCode(32),Cn=!1;function On(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function En(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Pn=!1;var Tn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function An(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Tn[e.type]:"textarea"===t}function Mn(e,t,n,r){At?Mt?Mt.push(r):Mt=[r]:At=r,0<(t=Hu(t,"onChange")).length&&(n=new Qt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Dn=null,zn=null;function In(e){Iu(e,0)}function Ln(e){if(ht(Ue(e)))return e}function Rn(e,t){if("change"===e)return t}var $n=!1;if(Rt){var Fn;if(Rt){var Bn="oninput"in document;if(!Bn){var Vn=document.createElement("div");Vn.setAttribute("oninput","return;"),Bn="function"===typeof Vn.oninput}Fn=Bn}else Fn=!1;$n=Fn&&(!document.documentMode||9<document.documentMode)}function Un(){Dn&&(Dn.detachEvent("onpropertychange",Hn),zn=Dn=null)}function Hn(e){if("value"===e.propertyName&&Ln(zn)){var t=[];Mn(t,zn,e,Tt(e)),It(In,t)}}function qn(e,t,n){"focusin"===e?(Un(),zn=n,(Dn=t).attachEvent("onpropertychange",Hn)):"focusout"===e&&Un()}function Wn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ln(zn)}function Kn(e,t){if("click"===e)return Ln(t)}function Gn(e,t){if("input"===e||"change"===e)return Ln(t)}var Yn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Xn(e,t){if(Yn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!X.call(t,a)||!Yn(e[a],t[a]))return!1}return!0}function Jn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zn(e,t){var n,r=Jn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Jn(r)}}function Qn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Qn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Rt&&"documentMode"in document&&11>=document.documentMode,rr=null,ar=null,ir=null,sr=!1;function or(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;sr||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ir&&Xn(ir,r)||(ir=r,0<(r=Hu(ar,"onSelect")).length&&(t=new Qt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function hr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}Rt&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var fr=hr("animationend"),pr=hr("animationiteration"),mr=hr("animationstart"),gr=hr("transitionrun"),vr=hr("transitionstart"),yr=hr("transitioncancel"),xr=hr("transitionend"),br=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(e,t){br.set(e,t),Ge(t,[e])}wr.push("scrollEnd");var kr=new WeakMap;function Nr(e,t){if("object"===typeof e&&null!==e){var n=kr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},kr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var _r=[],Sr=0,Cr=0;function Or(){for(var e=Sr,t=Cr=Sr=0;t<e;){var n=_r[t];_r[t++]=null;var r=_r[t];_r[t++]=null;var a=_r[t];_r[t++]=null;var i=_r[t];if(_r[t++]=null,null!==r&&null!==a){var s=r.pending;null===s?a.next=a:(a.next=s.next,s.next=a),r.pending=a}0!==i&&Ar(n,a,i)}}function Er(e,t,n,r){_r[Sr++]=e,_r[Sr++]=t,_r[Sr++]=n,_r[Sr++]=r,Cr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Pr(e,t,n,r){return Er(e,t,n,r),Mr(e)}function Tr(e,t){return Er(e,null,null,t),Mr(e)}function Ar(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var a=!1,i=e.return;null!==i;)i.childLanes|=n,null!==(r=i.alternate)&&(r.childLanes|=n),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(a=!0)),e=i,i=i.return;return 3===e.tag?(i=e.stateNode,a&&null!==t&&(a=31-fe(n),null===(r=(e=i.hiddenUpdates)[a])?e[a]=[t]:r.push(t),t.lane=536870912|n),i):null}function Mr(e){if(50<Ac)throw Ac=0,Mc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Dr={};function zr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ir(e,t,n,r){return new zr(e,t,n,r)}function Lr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rr(e,t){var n=e.alternate;return null===n?((n=Ir(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function $r(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Fr(e,t,n,r,a,i){var o=0;if(r=e,"function"===typeof e)Lr(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,V.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case C:return(e=Ir(31,n,t,a)).elementType=C,e.lanes=i,e;case g:return Br(n.children,a,i,t);case v:o=8,a|=24;break;case y:return(e=Ir(12,n,t,2|a)).elementType=y,e.lanes=i,e;case k:return(e=Ir(13,n,t,a)).elementType=k,e.lanes=i,e;case N:return(e=Ir(19,n,t,a)).elementType=N,e.lanes=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:case w:o=10;break e;case b:o=9;break e;case j:o=11;break e;case _:o=14;break e;case S:o=16,r=null;break e}o=29,n=Error(s(130,null===e?"null":typeof e,"")),r=null}return(t=Ir(o,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function Br(e,t,n,r){return(e=Ir(7,e,r,t)).lanes=n,e}function Vr(e,t,n){return(e=Ir(6,e,null,t)).lanes=n,e}function Ur(e,t,n){return(t=Ir(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Hr=[],qr=0,Wr=null,Kr=0,Gr=[],Yr=0,Xr=null,Jr=1,Zr="";function Qr(e,t){Hr[qr++]=Kr,Hr[qr++]=Wr,Wr=e,Kr=t}function ea(e,t,n){Gr[Yr++]=Jr,Gr[Yr++]=Zr,Gr[Yr++]=Xr,Xr=e;var r=Jr;e=Zr;var a=32-fe(r)-1;r&=~(1<<a),n+=1;var i=32-fe(t)+a;if(30<i){var s=a-a%5;i=(r&(1<<s)-1).toString(32),r>>=s,a-=s,Jr=1<<32-fe(t)+a|n<<a|r,Zr=i+e}else Jr=1<<i|n<<a|r,Zr=e}function ta(e){null!==e.return&&(Qr(e,1),ea(e,1,0))}function na(e){for(;e===Wr;)Wr=Hr[--qr],Hr[qr]=null,Kr=Hr[--qr],Hr[qr]=null;for(;e===Xr;)Xr=Gr[--Yr],Gr[Yr]=null,Zr=Gr[--Yr],Gr[Yr]=null,Jr=Gr[--Yr],Gr[Yr]=null}var ra=null,aa=null,ia=!1,sa=null,oa=!1,la=Error(s(519));function ca(e){throw ma(Nr(Error(s(418,"")),e)),la}function ua(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ae]=e,t[Me]=r,n){case"dialog":Lu("cancel",t),Lu("close",t);break;case"iframe":case"object":case"embed":Lu("load",t);break;case"video":case"audio":for(n=0;n<Du.length;n++)Lu(Du[n],t);break;case"source":Lu("error",t);break;case"img":case"image":case"link":Lu("error",t),Lu("load",t);break;case"details":Lu("toggle",t);break;case"input":Lu("invalid",t),vt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Lu("invalid",t);break;case"textarea":Lu("invalid",t),wt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Xu(t.textContent,n)?(null!=r.popover&&(Lu("beforetoggle",t),Lu("toggle",t)),null!=r.onScroll&&Lu("scroll",t),null!=r.onScrollEnd&&Lu("scrollend",t),null!=r.onClick&&(t.onclick=Ju),t=!0):t=!1,t||ca(e)}function da(e){for(ra=e.return;ra;)switch(ra.tag){case 5:case 13:return void(oa=!1);case 27:case 3:return void(oa=!0);default:ra=ra.return}}function ha(e){if(e!==ra)return!1;if(!ia)return da(e),ia=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||sd(e.type,e.memoizedProps)),t=!t),t&&aa&&ca(e),da(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){aa=vd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}aa=null}}else 27===n?(n=aa,fd(e.type)?(e=yd,yd=null,aa=e):aa=n):aa=ra?vd(e.stateNode.nextSibling):null;return!0}function fa(){aa=ra=null,ia=!1}function pa(){var e=sa;return null!==e&&(null===xc?xc=e:xc.push.apply(xc,e),sa=null),e}function ma(e){null===sa?sa=[e]:sa.push(e)}var ga=$(null),va=null,ya=null;function xa(e,t,n){B(ga,t._currentValue),t._currentValue=n}function ba(e){e._currentValue=ga.current,F(ga)}function wa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ja(e,t,n,r){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var i=a.dependencies;if(null!==i){var o=a.child;i=i.firstContext;e:for(;null!==i;){var l=i;i=a;for(var c=0;c<t.length;c++)if(l.context===t[c]){i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),wa(i.return,n,e),r||(o=null);break e}i=l.next}}else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(i=o.alternate)&&(i.lanes|=n),wa(o,n,e),o=null}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===e){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}}function ka(e,t,n,r){e=null;for(var a=t,i=!1;null!==a;){if(!i)if(0!==(524288&a.flags))i=!0;else if(0!==(262144&a.flags))break;if(10===a.tag){var o=a.alternate;if(null===o)throw Error(s(387));if(null!==(o=o.memoizedProps)){var l=a.type;Yn(a.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(a===q.current){if(null===(o=a.alternate))throw Error(s(387));o.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(Gd):e=[Gd])}a=a.return}null!==e&&ja(t,e,n,r),t.flags|=262144}function Na(e){for(e=e.firstContext;null!==e;){if(!Yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _a(e){va=e,ya=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Sa(e){return Oa(va,e)}function Ca(e,t){return null===va&&_a(e),Oa(e,t)}function Oa(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===ya){if(null===e)throw Error(s(308));ya=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ya=ya.next=t;return n}var Ea="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Pa=r.unstable_scheduleCallback,Ta=r.unstable_NormalPriority,Aa={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ma(){return{controller:new Ea,data:new Map,refCount:0}}function Da(e){e.refCount--,0===e.refCount&&Pa(Ta,function(){e.controller.abort()})}var za=null,Ia=0,La=0,Ra=null;function $a(){if(0===--Ia&&null!==za){null!==Ra&&(Ra.status="fulfilled");var e=za;za=null,La=0,Ra=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Fa=D.S;D.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===za){var n=za=[];Ia=0,La=Eu(),Ra={status:"pending",value:void 0,then:function(e){n.push(e)}}}Ia++,t.then($a,$a)}(0,t),null!==Fa&&Fa(e,t)};var Ba=$(null);function Va(){var e=Ba.current;return null!==e?e:rc.pooledCache}function Ua(e,t){B(Ba,null===t?Ba.current:t.pool)}function Ha(){var e=Va();return null===e?null:{parent:Aa._currentValue,pool:e}}var qa=Error(s(460)),Wa=Error(s(474)),Ka=Error(s(542)),Ga={then:function(){}};function Ya(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Xa(){}function Ja(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Xa,Xa),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ei(e=t.reason),e;default:if("string"===typeof t.status)t.then(Xa,Xa);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ei(e=t.reason),e}throw Za=t,qa}}var Za=null;function Qa(){if(null===Za)throw Error(s(459));var e=Za;return Za=null,e}function ei(e){if(e===qa||e===Ka)throw Error(s(483))}var ti=!1;function ni(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ri(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ai(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ii(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nc)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,t=Mr(e),Ar(e,null,n),t}return Er(e,r,t,n),Mr(e)}function si(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ce(e,n)}}function oi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===i?a=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var li=!1;function ci(){if(li){if(null!==Ra)throw Ra}}function ui(e,t,n,r){li=!1;var a=e.updateQueue;ti=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?i=c:s.next=c,s=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=a.baseState;for(s=0,u=c=l=null,o=i;;){var f=-536870913&o.lane,p=f!==o.lane;if(p?(ic&f)===f:(r&f)===f){0!==f&&f===La&&(li=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,g=o;f=t;var v=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(v,d,f);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(f="function"===typeof(m=g.payload)?m.call(v,d,f):m)||void 0===f)break e;d=h({},d,f);break e;case 2:ti=!0}}null!==(f=o.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=a.callbacks)?a.callbacks=[f]:p.push(f))}else p={lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,s|=f;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(p=o).next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null===i&&(a.shared.lanes=0),fc|=s,e.lanes=s,e.memoizedState=d}}function di(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function hi(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)di(n[e],t)}var fi=$(null),pi=$(0);function mi(e,t){B(pi,e=dc),B(fi,t),dc=e|t.baseLanes}function gi(){B(pi,dc),B(fi,fi.current)}function vi(){dc=pi.current,F(fi),F(pi)}var yi=0,xi=null,bi=null,wi=null,ji=!1,ki=!1,Ni=!1,_i=0,Si=0,Ci=null,Oi=0;function Ei(){throw Error(s(321))}function Pi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yn(e[n],t[n]))return!1;return!0}function Ti(e,t,n,r,a,i){return yi=i,xi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=null===e||null===e.memoizedState?qs:Ws,Ni=!1,i=n(r,a),Ni=!1,ki&&(i=Mi(t,n,r,a)),Ai(e),i}function Ai(e){D.H=Hs;var t=null!==bi&&null!==bi.next;if(yi=0,wi=bi=xi=null,ji=!1,Si=0,Ci=null,t)throw Error(s(300));null===e||Co||null!==(e=e.dependencies)&&Na(e)&&(Co=!0)}function Mi(e,t,n,r){xi=e;var a=0;do{if(ki&&(Ci=null),Si=0,ki=!1,25<=a)throw Error(s(301));if(a+=1,wi=bi=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}D.H=Ks,i=t(n,r)}while(ki);return i}function Di(){var e=D.H,t=e.useState()[0];return t="function"===typeof t.then?Fi(t):t,e=e.useState()[0],(null!==bi?bi.memoizedState:null)!==e&&(xi.flags|=1024),t}function zi(){var e=0!==_i;return _i=0,e}function Ii(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Li(e){if(ji){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ji=!1}yi=0,wi=bi=xi=null,ki=!1,Si=_i=0,Ci=null}function Ri(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===wi?xi.memoizedState=wi=e:wi=wi.next=e,wi}function $i(){if(null===bi){var e=xi.alternate;e=null!==e?e.memoizedState:null}else e=bi.next;var t=null===wi?xi.memoizedState:wi.next;if(null!==t)wi=t,bi=e;else{if(null===e){if(null===xi.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(bi=e).memoizedState,baseState:bi.baseState,baseQueue:bi.baseQueue,queue:bi.queue,next:null},null===wi?xi.memoizedState=wi=e:wi=wi.next=e}return wi}function Fi(e){var t=Si;return Si+=1,null===Ci&&(Ci=[]),e=Ja(Ci,e,t),t=xi,null===(null===wi?t.memoizedState:wi.next)&&(t=t.alternate,D.H=null===t||null===t.memoizedState?qs:Ws),e}function Bi(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Fi(e);if(e.$$typeof===w)return Sa(e)}throw Error(s(438,String(e)))}function Vi(e){var t=null,n=xi.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=xi.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},xi.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=O;return t.index++,n}function Ui(e,t){return"function"===typeof t?t(e):t}function Hi(e){return qi($i(),bi,e)}function qi(e,t,n){var r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=n;var a=e.baseQueue,i=r.pending;if(null!==i){if(null!==a){var o=a.next;a.next=i.next,i.next=o}t.baseQueue=a=i,r.pending=null}if(i=e.baseState,null===a)e.memoizedState=i;else{var l=o=null,c=null,u=t=a.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(ic&h)===h:(yi&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===La&&(d=!0);else{if((yi&f)===f){u=u.next,f===La&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=i):c=c.next=h,xi.lanes|=f,fc|=f}h=u.action,Ni&&n(i,h),i=u.hasEagerState?u.eagerState:n(i,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,o=i):c=c.next=f,xi.lanes|=h,fc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?o=i:c.next=l,!Yn(i,e.memoizedState)&&(Co=!0,d&&null!==(n=Ra)))throw n;e.memoizedState=i,e.baseState=o,e.baseQueue=c,r.lastRenderedState=i}return null===a&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Wi(e){var t=$i(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{i=e(i,o.action),o=o.next}while(o!==a);Yn(i,t.memoizedState)||(Co=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Ki(e,t,n){var r=xi,a=$i(),i=ia;if(i){if(void 0===n)throw Error(s(407));n=n()}else n=t();var o=!Yn((bi||a).memoizedState,n);if(o&&(a.memoizedState=n,Co=!0),a=a.queue,gs(2048,8,Xi.bind(null,r,a,e),[e]),a.getSnapshot!==t||o||null!==wi&&1&wi.memoizedState.tag){if(r.flags|=2048,fs(9,{destroy:void 0,resource:void 0},Yi.bind(null,r,a,n,t),null),null===rc)throw Error(s(349));i||0!==(124&yi)||Gi(r,t,n)}return n}function Gi(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=xi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},xi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Yi(e,t,n,r){t.value=n,t.getSnapshot=r,Ji(t)&&Zi(e)}function Xi(e,t,n){return n(function(){Ji(t)&&Zi(e)})}function Ji(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yn(e,n)}catch(r){return!0}}function Zi(e){var t=Tr(e,2);null!==t&&Ic(t,e,2)}function Qi(e){var t=Ri();if("function"===typeof e){var n=e;if(e=n(),Ni){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:e},t}function es(e,t,n,r){return e.baseState=n,qi(e,bi,"function"===typeof r?r:Ui)}function ts(e,t,n,r,a){if(Bs(e))throw Error(s(485));if(null!==(e=t.action)){var i={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==D.T?n(!0):i.isTransition=!1,r(i),null===(n=t.pending)?(i.next=t.pending=i,ns(t,i)):(i.next=n.next,t.pending=n.next=i)}}function ns(e,t){var n=t.action,r=t.payload,a=e.state;if(t.isTransition){var i=D.T,s={};D.T=s;try{var o=n(a,r),l=D.S;null!==l&&l(s,o),rs(e,t,o)}catch(c){is(e,t,c)}finally{D.T=i}}else try{rs(e,t,i=n(a,r))}catch(u){is(e,t,u)}}function rs(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){as(e,t,n)},function(n){return is(e,t,n)}):as(e,t,n)}function as(e,t,n){t.status="fulfilled",t.value=n,ss(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ns(e,n)))}function is(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,ss(t),t=t.next}while(t!==r)}e.action=null}function ss(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function os(e,t){return t}function ls(e,t){if(ia){var n=rc.formState;if(null!==n){e:{var r=xi;if(ia){if(aa){t:{for(var a=aa,i=oa;8!==a.nodeType;){if(!i){a=null;break t}if(null===(a=vd(a.nextSibling))){a=null;break t}}a="F!"===(i=a.data)||"F"===i?a:null}if(a){aa=vd(a.nextSibling),r="F!"===a.data;break e}}ca(r)}r=!1}r&&(t=n[0])}}return(n=Ri()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:t},n.queue=r,n=Rs.bind(null,xi,r),r.dispatch=n,r=Qi(!1),i=Fs.bind(null,xi,!1,r.queue),a={state:t,dispatch:null,action:e,pending:null},(r=Ri()).queue=a,n=ts.bind(null,xi,a,i,n),a.dispatch=n,r.memoizedState=e,[t,n,!1]}function cs(e){return us($i(),bi,e)}function us(e,t,n){if(t=qi(e,t,os)[0],e=Hi(Ui)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=Fi(t)}catch(s){if(s===qa)throw Ka;throw s}else r=t;var a=(t=$i()).queue,i=a.dispatch;return n!==t.memoizedState&&(xi.flags|=2048,fs(9,{destroy:void 0,resource:void 0},ds.bind(null,a,n),null)),[r,i,e]}function ds(e,t){e.action=t}function hs(e){var t=$i(),n=bi;if(null!==n)return us(t,n,e);$i(),t=t.memoizedState;var r=(n=$i()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function fs(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=xi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},xi.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ps(){return $i().memoizedState}function ms(e,t,n,r){var a=Ri();r=void 0===r?null:r,xi.flags|=e,a.memoizedState=fs(1|t,{destroy:void 0,resource:void 0},n,r)}function gs(e,t,n,r){var a=$i();r=void 0===r?null:r;var i=a.memoizedState.inst;null!==bi&&null!==r&&Pi(r,bi.memoizedState.deps)?a.memoizedState=fs(t,i,n,r):(xi.flags|=e,a.memoizedState=fs(1|t,i,n,r))}function vs(e,t){ms(8390656,8,e,t)}function ys(e,t){gs(2048,8,e,t)}function xs(e,t){return gs(4,2,e,t)}function bs(e,t){return gs(4,4,e,t)}function ws(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function js(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,gs(4,4,ws.bind(null,t,e),n)}function ks(){}function Ns(e,t){var n=$i();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Pi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function _s(e,t){var n=$i();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Pi(t,r[1]))return r[0];if(r=e(),Ni){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r}function Ss(e,t,n){return void 0===n||0!==(1073741824&yi)?e.memoizedState=t:(e.memoizedState=n,e=zc(),xi.lanes|=e,fc|=e,n)}function Cs(e,t,n,r){return Yn(n,t)?n:null!==fi.current?(e=Ss(e,n,r),Yn(e,t)||(Co=!0),e):0===(42&yi)?(Co=!0,e.memoizedState=n):(e=zc(),xi.lanes|=e,fc|=e,t)}function Os(e,t,n,r,a){var i=z.p;z.p=0!==i&&8>i?i:8;var s=D.T,o={};D.T=o,Fs(e,!1,t,n);try{var l=a(),c=D.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)$s(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Dc());else $s(e,t,r,Dc())}catch(u){$s(e,t,{then:function(){},status:"rejected",reason:u},Dc())}finally{z.p=i,D.T=s}}function Es(){}function Ps(e,t,n,r){if(5!==e.tag)throw Error(s(476));var a=Ts(e).queue;Os(e,a,t,I,null===n?Es:function(){return As(e),n(r)})}function Ts(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:I},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function As(e){$s(e,Ts(e).next.queue,{},Dc())}function Ms(){return Sa(Gd)}function Ds(){return $i().memoizedState}function zs(){return $i().memoizedState}function Is(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Dc(),r=ii(t,e=ai(n),n);return null!==r&&(Ic(r,t,n),si(r,t,n)),t={cache:Ma()},void(e.payload=t)}t=t.return}}function Ls(e,t,n){var r=Dc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Bs(e)?Vs(t,n):null!==(n=Pr(e,t,n,r))&&(Ic(n,e,r),Us(n,t,r))}function Rs(e,t,n){$s(e,t,n,Dc())}function $s(e,t,n,r){var a={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Bs(e))Vs(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=i(s,n);if(a.hasEagerState=!0,a.eagerState=o,Yn(o,s))return Er(e,t,a,0),null===rc&&Or(),!1}catch(l){}if(null!==(n=Pr(e,t,a,r)))return Ic(n,e,r),Us(n,t,r),!0}return!1}function Fs(e,t,n,r){if(r={lane:2,revertLane:Eu(),action:r,hasEagerState:!1,eagerState:null,next:null},Bs(e)){if(t)throw Error(s(479))}else null!==(t=Pr(e,n,r,2))&&Ic(t,e,2)}function Bs(e){var t=e.alternate;return e===xi||null!==t&&t===xi}function Vs(e,t){ki=ji=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Us(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ce(e,n)}}var Hs={readContext:Sa,use:Bi,useCallback:Ei,useContext:Ei,useEffect:Ei,useImperativeHandle:Ei,useLayoutEffect:Ei,useInsertionEffect:Ei,useMemo:Ei,useReducer:Ei,useRef:Ei,useState:Ei,useDebugValue:Ei,useDeferredValue:Ei,useTransition:Ei,useSyncExternalStore:Ei,useId:Ei,useHostTransitionStatus:Ei,useFormState:Ei,useActionState:Ei,useOptimistic:Ei,useMemoCache:Ei,useCacheRefresh:Ei},qs={readContext:Sa,use:Bi,useCallback:function(e,t){return Ri().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:vs,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ms(4194308,4,ws.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ms(4194308,4,e,t)},useInsertionEffect:function(e,t){ms(4,2,e,t)},useMemo:function(e,t){var n=Ri();t=void 0===t?null:t;var r=e();if(Ni){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Ri();if(void 0!==n){var a=n(t);if(Ni){he(!0);try{n(t)}finally{he(!1)}}}else a=t;return r.memoizedState=r.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},r.queue=e,e=e.dispatch=Ls.bind(null,xi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ri().memoizedState=e},useState:function(e){var t=(e=Qi(e)).queue,n=Rs.bind(null,xi,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ks,useDeferredValue:function(e,t){return Ss(Ri(),e,t)},useTransition:function(){var e=Qi(!1);return e=Os.bind(null,xi,e.queue,!0,!1),Ri().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=xi,a=Ri();if(ia){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===rc)throw Error(s(349));0!==(124&ic)||Gi(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,vs(Xi.bind(null,r,i,e),[e]),r.flags|=2048,fs(9,{destroy:void 0,resource:void 0},Yi.bind(null,r,i,n,t),null),n},useId:function(){var e=Ri(),t=rc.identifierPrefix;if(ia){var n=Zr;t="\xab"+t+"R"+(n=(Jr&~(1<<32-fe(Jr)-1)).toString(32)+n),0<(n=_i++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Oi++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Ms,useFormState:ls,useActionState:ls,useOptimistic:function(e){var t=Ri();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Fs.bind(null,xi,!0,n),n.dispatch=t,[e,t]},useMemoCache:Vi,useCacheRefresh:function(){return Ri().memoizedState=Is.bind(null,xi)}},Ws={readContext:Sa,use:Bi,useCallback:Ns,useContext:Sa,useEffect:ys,useImperativeHandle:js,useInsertionEffect:xs,useLayoutEffect:bs,useMemo:_s,useReducer:Hi,useRef:ps,useState:function(){return Hi(Ui)},useDebugValue:ks,useDeferredValue:function(e,t){return Cs($i(),bi.memoizedState,e,t)},useTransition:function(){var e=Hi(Ui)[0],t=$i().memoizedState;return["boolean"===typeof e?e:Fi(e),t]},useSyncExternalStore:Ki,useId:Ds,useHostTransitionStatus:Ms,useFormState:cs,useActionState:cs,useOptimistic:function(e,t){return es($i(),0,e,t)},useMemoCache:Vi,useCacheRefresh:zs},Ks={readContext:Sa,use:Bi,useCallback:Ns,useContext:Sa,useEffect:ys,useImperativeHandle:js,useInsertionEffect:xs,useLayoutEffect:bs,useMemo:_s,useReducer:Wi,useRef:ps,useState:function(){return Wi(Ui)},useDebugValue:ks,useDeferredValue:function(e,t){var n=$i();return null===bi?Ss(n,e,t):Cs(n,bi.memoizedState,e,t)},useTransition:function(){var e=Wi(Ui)[0],t=$i().memoizedState;return["boolean"===typeof e?e:Fi(e),t]},useSyncExternalStore:Ki,useId:Ds,useHostTransitionStatus:Ms,useFormState:hs,useActionState:hs,useOptimistic:function(e,t){var n=$i();return null!==bi?es(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Vi,useCacheRefresh:zs},Gs=null,Ys=0;function Xs(e){var t=Ys;return Ys+=1,null===Gs&&(Gs=[]),Ja(Gs,e,t)}function Js(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Zs(e,t){if(t.$$typeof===f)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qs(e){return(0,e._init)(e._payload)}function eo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=Rr(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Vr(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===g?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===S&&Qs(i)===t.type)?(Js(t=a(t,n.props),n),t.return=e,t):(Js(t=Fr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ur(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Br(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Vr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return Js(n=Fr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=Ur(t,e.mode,n)).return=e,t;case S:return h(e,t=(0,t._init)(t._payload),n)}if(M(t)||P(t))return(t=Br(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,Xs(t),n);if(t.$$typeof===w)return h(e,Ca(e,t),n);Zs(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===a?c(e,t,n,r):null;case m:return n.key===a?u(e,t,n,r):null;case S:return f(e,t,n=(a=n._init)(n._payload),r)}if(M(n)||P(n))return null!==a?null:d(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,Xs(n),r);if(n.$$typeof===w)return f(e,t,Ca(e,n),r);Zs(e,n)}return null}function v(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case p:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case S:return v(e,t,n,r=(0,r._init)(r._payload),a)}if(M(r)||P(r))return d(t,e=e.get(n)||null,r,a,null);if("function"===typeof r.then)return v(e,t,n,Xs(r),a);if(r.$$typeof===w)return v(e,t,n,Ca(t,r),a);Zs(t,r)}return null}function y(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var x=u.key;null!==c;){if(c.key===x){if((x=u.type)===g){if(7===c.tag){n(l,c.sibling),(d=a(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===x||"object"===typeof x&&null!==x&&x.$$typeof===S&&Qs(x)===c.type){n(l,c.sibling),Js(d=a(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((d=Br(u.props.children,l.mode,d,u.key)).return=l,l=d):(Js(d=Fr(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return o(l);case m:e:{for(x=u.key;null!==c;){if(c.key===x){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=a(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Ur(u,l.mode,d)).return=l,l=d}return o(l);case S:return y(l,c,u=(x=u._init)(u._payload),d)}if(M(u))return function(a,s,o,l){for(var c=null,u=null,d=s,p=s=0,m=null;null!==d&&p<o.length;p++){d.index>p?(m=d,d=null):m=d.sibling;var g=f(a,d,o[p],l);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(a,d),s=i(g,s,p),null===u?c=g:u.sibling=g,u=g,d=m}if(p===o.length)return n(a,d),ia&&Qr(a,p),c;if(null===d){for(;p<o.length;p++)null!==(d=h(a,o[p],l))&&(s=i(d,s,p),null===u?c=d:u.sibling=d,u=d);return ia&&Qr(a,p),c}for(d=r(d);p<o.length;p++)null!==(m=v(d,a,p,o[p],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?p:m.key),s=i(m,s,p),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach(function(e){return t(a,e)}),ia&&Qr(a,p),c}(l,c,u,d);if(P(u)){if("function"!==typeof(x=P(u)))throw Error(s(150));return function(a,o,l,c){if(null==l)throw Error(s(151));for(var u=null,d=null,p=o,m=o=0,g=null,y=l.next();null!==p&&!y.done;m++,y=l.next()){p.index>m?(g=p,p=null):g=p.sibling;var x=f(a,p,y.value,c);if(null===x){null===p&&(p=g);break}e&&p&&null===x.alternate&&t(a,p),o=i(x,o,m),null===d?u=x:d.sibling=x,d=x,p=g}if(y.done)return n(a,p),ia&&Qr(a,m),u;if(null===p){for(;!y.done;m++,y=l.next())null!==(y=h(a,y.value,c))&&(o=i(y,o,m),null===d?u=y:d.sibling=y,d=y);return ia&&Qr(a,m),u}for(p=r(p);!y.done;m++,y=l.next())null!==(y=v(p,a,m,y.value,c))&&(e&&null!==y.alternate&&p.delete(null===y.key?m:y.key),o=i(y,o,m),null===d?u=y:d.sibling=y,d=y);return e&&p.forEach(function(e){return t(a,e)}),ia&&Qr(a,m),u}(l,c,u=x.call(u),d)}if("function"===typeof u.then)return y(l,c,Xs(u),d);if(u.$$typeof===w)return y(l,c,Ca(l,u),d);Zs(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=a(c,u)).return=l,l=d):(n(l,c),(d=Vr(u,l.mode,d)).return=l,l=d),o(l)):n(l,c)}return function(e,t,n,r){try{Ys=0;var a=y(e,t,n,r);return Gs=null,a}catch(s){if(s===qa||s===Ka)throw s;var i=Ir(29,s,null,e.mode);return i.lanes=r,i.return=e,i}}}var to=eo(!0),no=eo(!1),ro=$(null),ao=null;function io(e){var t=e.alternate;B(co,1&co.current),B(ro,e),null===ao&&(null===t||null!==fi.current||null!==t.memoizedState)&&(ao=e)}function so(e){if(22===e.tag){if(B(co,co.current),B(ro,e),null===ao){var t=e.alternate;null!==t&&null!==t.memoizedState&&(ao=e)}}else oo()}function oo(){B(co,co.current),B(ro,ro.current)}function lo(e){F(ro),ao===e&&(ao=null),F(co)}var co=$(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ho(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fo={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Dc(),a=ai(r);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=ii(e,a,r))&&(Ic(t,e,r),si(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Dc(),a=ai(r);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=ii(e,a,r))&&(Ic(t,e,r),si(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Dc(),r=ai(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=ii(e,r,n))&&(Ic(t,e,n),si(t,e,n))}};function po(e,t,n,r,a,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!Xn(n,r)||!Xn(a,i))}function mo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fo.enqueueReplaceState(t,t.state,null)}function go(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var a in n===t&&(n=h({},n)),e)void 0===n[a]&&(n[a]=e[a]);return n}var vo="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function yo(e){vo(e)}function xo(e){console.error(e)}function bo(e){vo(e)}function wo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function jo(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function ko(e,t,n){return(n=ai(n)).tag=3,n.payload={element:null},n.callback=function(){wo(e,t)},n}function No(e){return(e=ai(e)).tag=3,e}function _o(e,t,n,r){var a=n.type.getDerivedStateFromError;if("function"===typeof a){var i=r.value;e.payload=function(){return a(i)},e.callback=function(){jo(t,n,r)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){jo(t,n,r),"function"!==typeof a&&(null===Nc?Nc=new Set([this]):Nc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var So=Error(s(461)),Co=!1;function Oo(e,t,n,r){t.child=null===e?no(t,null,n,r):to(t,e.child,n,r)}function Eo(e,t,n,r,a){n=n.render;var i=t.ref;if("ref"in r){var s={};for(var o in r)"ref"!==o&&(s[o]=r[o])}else s=r;return _a(t),r=Ti(e,t,n,s,i,a),o=zi(),null===e||Co?(ia&&o&&ta(t),t.flags|=1,Oo(e,t,r,a),t.child):(Ii(e,t,a),Yo(e,t,a))}function Po(e,t,n,r,a){if(null===e){var i=n.type;return"function"!==typeof i||Lr(i)||void 0!==i.defaultProps||null!==n.compare?((e=Fr(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,To(e,t,i,r,a))}if(i=e.child,!Xo(e,a)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:Xn)(s,r)&&e.ref===t.ref)return Yo(e,t,a)}return t.flags|=1,(e=Rr(i,r)).ref=t.ref,e.return=t,t.child=e}function To(e,t,n,r,a){if(null!==e){var i=e.memoizedProps;if(Xn(i,r)&&e.ref===t.ref){if(Co=!1,t.pendingProps=r=i,!Xo(e,a))return t.lanes=e.lanes,Yo(e,t,a);0!==(131072&e.flags)&&(Co=!0)}}return zo(e,t,n,r,a)}function Ao(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==i?i.baseLanes|n:n,null!==e){for(a=t.child=e.child,i=0;null!==a;)i=i|a.lanes|a.childLanes,a=a.sibling;t.childLanes=i&~r}else t.childLanes=0,t.child=null;return Mo(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Mo(e,t,null!==i?i.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ua(0,null!==i?i.cachePool:null),null!==i?mi(t,i):gi(),so(t)}else null!==i?(Ua(0,i.cachePool),mi(t,i),oo(),t.memoizedState=null):(null!==e&&Ua(0,null),gi(),oo());return Oo(e,t,a,n),t.child}function Mo(e,t,n,r){var a=Va();return a=null===a?null:{parent:Aa._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},null!==e&&Ua(0,null),gi(),so(t),null!==e&&ka(e,t,r,!0),null}function Do(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function zo(e,t,n,r,a){return _a(t),n=Ti(e,t,n,r,void 0,a),r=zi(),null===e||Co?(ia&&r&&ta(t),t.flags|=1,Oo(e,t,n,a),t.child):(Ii(e,t,a),Yo(e,t,a))}function Io(e,t,n,r,a,i){return _a(t),t.updateQueue=null,n=Mi(t,r,n,a),Ai(e),r=zi(),null===e||Co?(ia&&r&&ta(t),t.flags|=1,Oo(e,t,n,i),t.child):(Ii(e,t,i),Yo(e,t,i))}function Lo(e,t,n,r,a){if(_a(t),null===t.stateNode){var i=Dr,s=n.contextType;"object"===typeof s&&null!==s&&(i=Sa(s)),i=new n(r,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=fo,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=r,i.state=t.memoizedState,i.refs={},ni(t),s=n.contextType,i.context="object"===typeof s&&null!==s?Sa(s):Dr,i.state=t.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(ho(t,n,s,r),i.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(s=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),s!==i.state&&fo.enqueueReplaceState(i,i.state,null),ui(t,r,i,a),ci(),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){i=t.stateNode;var o=t.memoizedProps,l=go(n,o);i.props=l;var c=i.context,u=n.contextType;s=Dr,"object"===typeof u&&null!==u&&(s=Sa(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o||c!==s)&&mo(t,i,r,s),ti=!1;var h=t.memoizedState;i.state=h,ui(t,r,i,a),ci(),c=t.memoizedState,o||h!==c||ti?("function"===typeof d&&(ho(t,n,d,r),c=t.memoizedState),(l=ti||po(t,n,l,r,h,c,s))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=s,r=l):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,ri(e,t),u=go(n,s=t.memoizedProps),i.props=u,d=t.pendingProps,h=i.context,c=n.contextType,l=Dr,"object"===typeof c&&null!==c&&(l=Sa(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==d||h!==l)&&mo(t,i,r,l),ti=!1,h=t.memoizedState,i.state=h,ui(t,r,i,a),ci();var f=t.memoizedState;s!==d||h!==f||ti||null!==e&&null!==e.dependencies&&Na(e.dependencies)?("function"===typeof o&&(ho(t,n,o,r),f=t.memoizedState),(u=ti||po(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&Na(e.dependencies))?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,f,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),i.props=r,i.state=f,i.context=l,r=u):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return i=r,Do(e,t),r=0!==(128&t.flags),i||r?(i=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&r?(t.child=to(t,e.child,null,a),t.child=to(t,null,n,a)):Oo(e,t,n,a),t.memoizedState=i.state,e=t.child):e=Yo(e,t,a),e}function Ro(e,t,n,r){return fa(),t.flags|=256,Oo(e,t,n,r),t.child}var $o={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fo(e){return{baseLanes:e,cachePool:Ha()}}function Bo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function Vo(e,t,n){var r,a=t.pendingProps,i=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&co.current)),r&&(i=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(ia){if(i?io(t):oo(),ia){var l,c=aa;if(l=c){e:{for(l=c,c=oa;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=vd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Xr?{id:Jr,overflow:Zr}:null,retryLane:536870912,hydrationErrors:null},(l=Ir(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ra=t,aa=null,l=!0):l=!1}l||ca(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gd(c)?t.lanes=32:t.lanes=536870912,null;lo(t)}return c=a.children,a=a.fallback,i?(oo(),c=Ho({mode:"hidden",children:c},i=t.mode),a=Br(a,i,n,null),c.return=t,a.return=t,c.sibling=a,t.child=c,(i=t.child).memoizedState=Fo(n),i.childLanes=Bo(e,r,n),t.memoizedState=$o,a):(io(t),Uo(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(io(t),t.flags&=-257,t=qo(e,t,n)):null!==t.memoizedState?(oo(),t.child=e.child,t.flags|=128,t=null):(oo(),i=a.fallback,c=t.mode,a=Ho({mode:"visible",children:a.children},c),(i=Br(i,c,n,null)).flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,to(t,e.child,null,n),(a=t.child).memoizedState=Fo(n),a.childLanes=Bo(e,r,n),t.memoizedState=$o,t=i);else if(io(t),gd(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(a=Error(s(419))).stack="",a.digest=r,ma({value:a,source:null,stack:null}),t=qo(e,t,n)}else if(Co||ka(e,t,n,!1),r=0!==(n&e.childLanes),Co||r){if(null!==(r=rc)&&(0!==(a=0!==((a=0!==(42&(a=n&-n))?1:Oe(a))&(r.suspendedLanes|n))?0:a)&&a!==l.retryLane))throw l.retryLane=a,Tr(e,a),Ic(r,e,a),So;"$?"===c.data||Kc(),t=qo(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,aa=vd(c.nextSibling),ra=t,ia=!0,sa=null,oa=!1,null!==e&&(Gr[Yr++]=Jr,Gr[Yr++]=Zr,Gr[Yr++]=Xr,Jr=e.id,Zr=e.overflow,Xr=t),(t=Uo(t,a.children)).flags|=4096);return t}return i?(oo(),i=a.fallback,c=t.mode,u=(l=e.child).sibling,(a=Rr(l,{mode:"hidden",children:a.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?i=Rr(u,i):(i=Br(i,c,n,null)).flags|=2,i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,null===(c=e.child.memoizedState)?c=Fo(n):(null!==(l=c.cachePool)?(u=Aa._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Ha(),c={baseLanes:c.baseLanes|n,cachePool:l}),i.memoizedState=c,i.childLanes=Bo(e,r,n),t.memoizedState=$o,a):(io(t),e=(n=e.child).sibling,(n=Rr(n,{mode:"visible",children:a.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Uo(e,t){return(t=Ho({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Ho(e,t){return(e=Ir(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function qo(e,t,n){return to(t,e.child,null,n),(e=Uo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Wo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),wa(e.return,t,n)}function Ko(e,t,n,r,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function Go(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(Oo(e,t,r.children,n),0!==(2&(r=co.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wo(e,n,t);else if(19===e.tag)Wo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(B(co,r),a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Ko(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===uo(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Ko(t,!0,n,null,i);break;case"together":Ko(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),fc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(ka(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Rr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Xo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Na(e))}function Jo(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Co=!0;else{if(!Xo(e,n)&&0===(128&t.flags))return Co=!1,function(e,t,n){switch(t.tag){case 3:W(t,t.stateNode.containerInfo),xa(0,Aa,e.memoizedState.cache),fa();break;case 27:case 5:G(t);break;case 4:W(t,t.stateNode.containerInfo);break;case 10:xa(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(io(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Vo(e,t,n):(io(t),null!==(e=Yo(e,t,n))?e.sibling:null);io(t);break;case 19:var a=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(ka(e,t,n,!1),r=0!==(n&t.childLanes)),a){if(r)return Go(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),B(co,co.current),r)break;return null;case 22:case 23:return t.lanes=0,Ao(e,t,n);case 24:xa(0,Aa,e.memoizedState.cache)}return Yo(e,t,n)}(e,t,n);Co=0!==(131072&e.flags)}else Co=!1,ia&&0!==(1048576&t.flags)&&ea(t,Kr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,a=r._init;if(r=a(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((a=r.$$typeof)===j){t.tag=11,t=Eo(null,t,r,e,n);break e}if(a===_){t.tag=14,t=Po(null,t,r,e,n);break e}}throw t=A(r)||r,Error(s(306,t,""))}Lr(r)?(e=go(r,e),t.tag=1,t=Lo(null,t,r,e,n)):(t.tag=0,t=zo(null,t,r,e,n))}return t;case 0:return zo(e,t,t.type,t.pendingProps,n);case 1:return Lo(e,t,r=t.type,a=go(r,t.pendingProps),n);case 3:e:{if(W(t,t.stateNode.containerInfo),null===e)throw Error(s(387));r=t.pendingProps;var i=t.memoizedState;a=i.element,ri(e,t),ui(t,r,null,n);var o=t.memoizedState;if(r=o.cache,xa(0,Aa,r),r!==i.cache&&ja(t,[Aa],n,!0),ci(),r=o.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Ro(e,t,r,n);break e}if(r!==a){ma(a=Nr(Error(s(424)),t)),t=Ro(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(aa=vd(e.firstChild),ra=t,ia=!0,sa=null,oa=!0,n=no(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fa(),r===a){t=Yo(e,t,n);break e}Oo(e,t,r,n)}t=t.child}return t;case 26:return Do(e,t),null===e?(n=Od(t.type,null,t.pendingProps,null))?t.memoizedState=n:ia||(n=t.type,e=t.pendingProps,(r=rd(H.current).createElement(n))[Ae]=t,r[Me]=e,ed(r,n,e),qe(r),t.stateNode=r):t.memoizedState=Od(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return G(t),null===e&&ia&&(r=t.stateNode=bd(t.type,t.pendingProps,H.current),ra=t,oa=!0,a=aa,fd(t.type)?(yd=a,aa=vd(r.firstChild)):aa=a),Oo(e,t,t.pendingProps.children,n),Do(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ia&&((a=r=aa)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[$e])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==a.rel||e.getAttribute("href")!==(null==a.href||""===a.href?null:a.href)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin)||e.getAttribute("title")!==(null==a.title?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==a.src?null:a.src)||e.getAttribute("type")!==(null==a.type?null:a.type)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==a.name?null:""+a.name;if("hidden"===a.type&&e.getAttribute("name")===i)return e}if(null===(e=vd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,oa))?(t.stateNode=r,ra=t,aa=vd(r.firstChild),oa=!1,a=!0):a=!1),a||ca(t)),G(t),a=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,r=i.children,sd(a,i)?r=null:null!==o&&sd(a,o)&&(t.flags|=32),null!==t.memoizedState&&(a=Ti(e,t,Di,null,null,n),Gd._currentValue=a),Do(e,t),Oo(e,t,r,n),t.child;case 6:return null===e&&ia&&((e=n=aa)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=vd(e.nextSibling)))return null}return e}(n,t.pendingProps,oa))?(t.stateNode=n,ra=t,aa=null,e=!0):e=!1),e||ca(t)),null;case 13:return Vo(e,t,n);case 4:return W(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=to(t,null,r,n):Oo(e,t,r,n),t.child;case 11:return Eo(e,t,t.type,t.pendingProps,n);case 7:return Oo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Oo(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,xa(0,t.type,r.value),Oo(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,_a(t),r=r(a=Sa(a)),t.flags|=1,Oo(e,t,r,n),t.child;case 14:return Po(e,t,t.type,t.pendingProps,n);case 15:return To(e,t,t.type,t.pendingProps,n);case 19:return Go(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Ho(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Rr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Ao(e,t,n);case 24:return _a(t),r=Sa(Aa),null===e?(null===(a=Va())&&(a=rc,i=Ma(),a.pooledCache=i,i.refCount++,null!==i&&(a.pooledCacheLanes|=n),a=i),t.memoizedState={parent:r,cache:a},ni(t),xa(0,Aa,a)):(0!==(e.lanes&n)&&(ri(e,t),ui(t,null,null,n),ci()),a=e.memoizedState,i=t.memoizedState,a.parent!==r?(a={parent:r,cache:r},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),xa(0,Aa,r)):(r=i.cache,xa(0,Aa,r),r!==a.cache&&ja(t,[Aa],n,!0))),Oo(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Zo(e){e.flags|=4}function Qo(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Bd(t)){if(null!==(t=ro.current)&&((4194048&ic)===ic?null!==ao:(62914560&ic)!==ic&&0===(536870912&ic)||t!==ao))throw Za=Ga,Wa;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?ke():536870912,e.lanes|=t,vc|=t)}function tl(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=65011712&a.subtreeFlags,r|=65011712&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(na(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ba(Aa),K(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ha(t)?Zo(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,pa())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Zo(t),null!==n?(nl(t),Qo(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Zo(t),nl(t),Qo(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Zo(t),nl(t),t.flags&=-16777217),null;case 27:Y(t),n=H.current;var a=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Zo(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return nl(t),null}e=V.current,ha(t)?ua(t):(e=bd(a,r,n),t.stateNode=e,Zo(t))}return nl(t),null;case 5:if(Y(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Zo(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return nl(t),null}if(e=V.current,ha(t))ua(t);else{switch(a=rd(H.current),e){case 1:e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?a.createElement(n,{is:r.is}):a.createElement(n)}}e[Ae]=t,e[Me]=r;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)e.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;e:switch(ed(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Zo(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Zo(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(e=H.current,ha(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(a=ra))switch(a.tag){case 27:case 5:r=a.memoizedProps}e[Ae]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Xu(e.nodeValue,n)))||ca(t)}else(e=rd(e).createTextNode(r))[Ae]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=ha(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[Ae]=t}else fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),a=!1}else a=pa(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(lo(t),t):(lo(t),null)}if(lo(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){a=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(a=r.alternate.memoizedState.cachePool.pool);var i=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(i=r.memoizedState.cachePool.pool),i!==a&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return K(),null===e&&Fu(t.stateNode.containerInfo),nl(t),null;case 10:return ba(t.type),nl(t),null;case 19:if(F(co),null===(a=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(i=a.rendering))if(r)tl(a,!1);else{if(0!==hc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(i=uo(e))){for(t.flags|=128,tl(a,!1),e=i.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)$r(n,e),n=n.sibling;return B(co,1&co.current|2),t.child}e=e.sibling}null!==a.tail&&te()>jc&&(t.flags|=128,r=!0,tl(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(i))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(a,!0),null===a.tail&&"hidden"===a.tailMode&&!i.alternate&&!ia)return nl(t),null}else 2*te()-a.renderingStartTime>jc&&536870912!==n&&(t.flags|=128,r=!0,tl(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=a.last)?e.sibling=i:t.child=i,a.last=i)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=te(),t.sibling=null,e=co.current,B(co,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return lo(t),vi(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&F(Ba),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ba(Aa),nl(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function al(e,t){switch(na(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ba(Aa),K(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Y(t),null;case 13:if(lo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return F(co),null;case 4:return K(),null;case 10:return ba(t.type),null;case 22:case 23:return lo(t),vi(),null!==e&&F(Ba),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return ba(Aa),null;default:return null}}function il(e,t){switch(na(t),t.tag){case 3:ba(Aa),K();break;case 26:case 27:case 5:Y(t);break;case 4:K();break;case 13:lo(t);break;case 19:F(co);break;case 10:ba(t.type);break;case 22:case 23:lo(t),vi(),null!==e&&F(Ba);break;case 24:ba(Aa)}}function sl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var a=r.next;n=a;do{if((n.tag&e)===e){r=void 0;var i=n.create,s=n.inst;r=i(),s.destroy=r}n=n.next}while(n!==a)}}catch(o){uu(t,t.return,o)}}function ol(e,t,n){try{var r=t.updateQueue,a=null!==r?r.lastEffect:null;if(null!==a){var i=a.next;r=i;do{if((r.tag&e)===e){var s=r.inst,o=s.destroy;if(void 0!==o){s.destroy=void 0,a=t;var l=n,c=o;try{c()}catch(u){uu(a,l,u)}}}r=r.next}while(r!==i)}}catch(u){uu(t,t.return,u)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{hi(t,n)}catch(r){uu(e,e.return,r)}}}function cl(e,t,n){n.props=go(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){uu(e,t,r)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(a){uu(e,t,a)}}function dl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(a){uu(e,t,a)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(i){uu(e,t,i)}else n.current=null}function hl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(a){uu(e,e.return,a)}}function fl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,i=null,o=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||Zu(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":i=p;break;case"name":a=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":o=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:p!==h&&Zu(e,t,f,p,r,h)}}return void gt(e,o,l,c,u,d,i,a);case"select":for(i in p=o=l=f=null,n)if(c=n[i],n.hasOwnProperty(i)&&null!=c)switch(i){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(i)||Zu(e,t,i,null,r,c)}for(a in r)if(i=r[a],c=n[a],r.hasOwnProperty(a)&&(null!=i||null!=c))switch(a){case"value":f=i;break;case"defaultValue":l=i;break;case"multiple":o=i;default:i!==c&&Zu(e,t,a,i,r,c)}return t=l,n=o,r=p,void(null!=f?xt(e,!!n,f,!1):!!r!==!!n&&(null!=t?xt(e,!!n,t,!0):xt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(a=n[l],n.hasOwnProperty(l)&&null!=a&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Zu(e,t,l,null,r,a)}for(o in r)if(a=r[o],i=n[o],r.hasOwnProperty(o)&&(null!=a||null!=i))switch(o){case"value":f=a;break;case"defaultValue":p=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(s(91));break;default:a!==i&&Zu(e,t,o,a,r,i)}return void bt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Zu(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Zu(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&Zu(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:Zu(e,t,u,f,r,p)}return;default:if(St(t)){for(var v in n)f=n[v],n.hasOwnProperty(v)&&void 0!==f&&!r.hasOwnProperty(v)&&Qu(e,t,v,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||Qu(e,t,d,f,r,p);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&null!=f&&!r.hasOwnProperty(y)&&Zu(e,t,y,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||Zu(e,t,h,f,r,p)}(r,e.type,n,t),r[Me]=t}catch(a){uu(e,e.return,a)}}function pl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&fd(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||pl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&fd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ju));else if(4!==r&&(27===r&&fd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function vl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&fd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function yl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);ed(t,r,n),t[Ae]=e,t[Me]=n}catch(i){uu(e,e.return,i)}}var xl=!1,bl=!1,wl=!1,jl="function"===typeof WeakSet?WeakSet:Set,kl=null;function Nl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ll(e,n),4&r&&sl(5,n);break;case 1:if(Ll(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){uu(n,n.return,s)}else{var a=go(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){uu(n,n.return,o)}}64&r&&ll(n),512&r&&ul(n,n.return);break;case 3:if(Ll(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{hi(e,t)}catch(s){uu(n,n.return,s)}}break;case 27:null===t&&4&r&&yl(n);case 26:case 5:Ll(e,n),null===t&&4&r&&hl(n),512&r&&ul(n,n.return);break;case 12:Ll(e,n);break;case 13:Ll(e,n),4&r&&Pl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=pu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||xl)){t=null!==t&&null!==t.memoizedState||bl,a=xl;var i=bl;xl=r,(bl=t)&&!i?$l(e,n,0!==(8772&n.subtreeFlags)):Ll(e,n),xl=a,bl=i}break;case 30:break;default:Ll(e,n)}}function _l(e){var t=e.alternate;null!==t&&(e.alternate=null,_l(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Fe(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Sl=null,Cl=!1;function Ol(e,t,n){for(n=n.child;null!==n;)El(e,t,n),n=n.sibling}function El(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(i){}switch(n.tag){case 26:bl||dl(n,t),Ol(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:bl||dl(n,t);var r=Sl,a=Cl;fd(n.type)&&(Sl=n.stateNode,Cl=!1),Ol(e,t,n),wd(n.stateNode),Sl=r,Cl=a;break;case 5:bl||dl(n,t);case 6:if(r=Sl,a=Cl,Sl=null,Ol(e,t,n),Cl=a,null!==(Sl=r))if(Cl)try{(9===Sl.nodeType?Sl.body:"HTML"===Sl.nodeName?Sl.ownerDocument.body:Sl).removeChild(n.stateNode)}catch(s){uu(n,t,s)}else try{Sl.removeChild(n.stateNode)}catch(s){uu(n,t,s)}break;case 18:null!==Sl&&(Cl?(pd(9===(e=Sl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Ch(e)):pd(Sl,n.stateNode));break;case 4:r=Sl,a=Cl,Sl=n.stateNode.containerInfo,Cl=!0,Ol(e,t,n),Sl=r,Cl=a;break;case 0:case 11:case 14:case 15:bl||ol(2,n,t),bl||ol(4,n,t),Ol(e,t,n);break;case 1:bl||(dl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&cl(n,t,r)),Ol(e,t,n);break;case 21:Ol(e,t,n);break;case 22:bl=(r=bl)||null!==n.memoizedState,Ol(e,t,n),bl=r;break;default:Ol(e,t,n)}}function Pl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Ch(e)}catch(n){uu(t,t.return,n)}}function Tl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new jl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new jl),t;default:throw Error(s(435,e.tag))}}(e);t.forEach(function(t){var r=mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Al(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r],i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(fd(l.type)){Sl=l.stateNode,Cl=!1;break e}break;case 5:Sl=l.stateNode,Cl=!1;break e;case 3:case 4:Sl=l.stateNode.containerInfo,Cl=!0;break e}l=l.return}if(null===Sl)throw Error(s(160));El(i,o,a),Sl=null,Cl=!1,null!==(i=a.alternate)&&(i.return=null),a.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Dl(t,e),t=t.sibling}var Ml=null;function Dl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Al(t,e),zl(e),4&r&&(ol(3,e,e.return),sl(3,e),ol(5,e,e.return));break;case 1:Al(t,e),zl(e),512&r&&(bl||null===n||dl(n,n.return)),64&r&&xl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var a=Ml;if(Al(t,e),zl(e),512&r&&(bl||null===n||dl(n,n.return)),4&r){var i=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(r){case"title":(!(i=a.getElementsByTagName("title")[0])||i[$e]||i[Ae]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=a.createElement(r),a.head.insertBefore(i,a.querySelector("head > title"))),ed(i,r,n),i[Ae]=e,qe(i),r=i;break e;case"link":var o=$d("link","href",a).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((i=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}ed(i=a.createElement(r),r,n),a.head.appendChild(i);break;case"meta":if(o=$d("meta","content",a).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((i=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}ed(i=a.createElement(r),r,n),a.head.appendChild(i);break;default:throw Error(s(468,r))}i[Ae]=e,qe(i),r=i}e.stateNode=r}else Fd(a,e.type,e.stateNode);else e.stateNode=Dd(a,r,e.memoizedProps);else i!==r?(null===i?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):i.count--,null===r?Fd(a,e.type,e.stateNode):Dd(a,r,e.memoizedProps)):null===r&&null!==e.stateNode&&fl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Al(t,e),zl(e),512&r&&(bl||null===n||dl(n,n.return)),null!==n&&4&r&&fl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Al(t,e),zl(e),512&r&&(bl||null===n||dl(n,n.return)),32&e.flags){a=e.stateNode;try{jt(a,"")}catch(p){uu(e,e.return,p)}}4&r&&null!=e.stateNode&&fl(e,a=e.memoizedProps,null!==n?n.memoizedProps:a),1024&r&&(wl=!0);break;case 6:if(Al(t,e),zl(e),4&r){if(null===e.stateNode)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(p){uu(e,e.return,p)}}break;case 3:if(Rd=null,a=Ml,Ml=Nd(t.containerInfo),Al(t,e),Ml=a,zl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ch(t.containerInfo)}catch(p){uu(e,e.return,p)}wl&&(wl=!1,Il(e));break;case 4:r=Ml,Ml=Nd(e.stateNode.containerInfo),Al(t,e),zl(e),Ml=r;break;case 12:default:Al(t,e),zl(e);break;case 13:Al(t,e),zl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(wc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Tl(e,r)));break;case 22:a=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=xl,d=bl;if(xl=u||a,bl=d||c,Al(t,e),bl=d,xl=u,zl(e),8192&r)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===n||c||xl||bl||Rl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(i=c.stateNode,a)"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(p){uu(c,c.return,p)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(p){uu(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Tl(e,n))));break;case 19:Al(t,e),zl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Tl(e,r)));case 30:case 21:}}function zl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(pl(r)){n=r;break}r=r.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var a=n.stateNode;vl(e,ml(e),a);break;case 5:var i=n.stateNode;32&n.flags&&(jt(i,""),n.flags&=-33),vl(e,ml(e),i);break;case 3:case 4:var o=n.stateNode.containerInfo;gl(e,ml(e),o);break;default:throw Error(s(161))}}catch(l){uu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Il(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Il(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ll(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Nl(e,t.alternate,t),t=t.sibling}function Rl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ol(4,t,t.return),Rl(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),Rl(t);break;case 27:wd(t.stateNode);case 26:case 5:dl(t,t.return),Rl(t);break;case 22:null===t.memoizedState&&Rl(t);break;default:Rl(t)}e=e.sibling}}function $l(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,a=e,i=t,s=i.flags;switch(i.tag){case 0:case 11:case 15:$l(a,i,n),sl(4,i);break;case 1:if($l(a,i,n),"function"===typeof(a=(r=i).stateNode).componentDidMount)try{a.componentDidMount()}catch(c){uu(r,r.return,c)}if(null!==(a=(r=i).updateQueue)){var o=r.stateNode;try{var l=a.shared.hiddenCallbacks;if(null!==l)for(a.shared.hiddenCallbacks=null,a=0;a<l.length;a++)di(l[a],o)}catch(c){uu(r,r.return,c)}}n&&64&s&&ll(i),ul(i,i.return);break;case 27:yl(i);case 26:case 5:$l(a,i,n),n&&null===r&&4&s&&hl(i),ul(i,i.return);break;case 12:$l(a,i,n);break;case 13:$l(a,i,n),n&&4&s&&Pl(a,i);break;case 22:null===i.memoizedState&&$l(a,i,n),ul(i,i.return);break;case 30:break;default:$l(a,i,n)}t=t.sibling}}function Fl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Da(n))}function Bl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Da(e))}function Vl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Ul(e,t,n,r),t=t.sibling}function Ul(e,t,n,r){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Vl(e,t,n,r),2048&a&&sl(9,t);break;case 1:case 13:default:Vl(e,t,n,r);break;case 3:Vl(e,t,n,r),2048&a&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Da(e)));break;case 12:if(2048&a){Vl(e,t,n,r),e=t.stateNode;try{var i=t.memoizedProps,s=i.id,o=i.onPostCommit;"function"===typeof o&&o(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){uu(t,t.return,l)}}else Vl(e,t,n,r);break;case 23:break;case 22:i=t.stateNode,s=t.alternate,null!==t.memoizedState?2&i._visibility?Vl(e,t,n,r):ql(e,t):2&i._visibility?Vl(e,t,n,r):(i._visibility|=2,Hl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&a&&Fl(s,t);break;case 24:Vl(e,t,n,r),2048&a&&Bl(t.alternate,t)}}function Hl(e,t,n,r,a){for(a=a&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var i=e,s=t,o=n,l=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:Hl(i,s,o,l,a),sl(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?2&u._visibility?Hl(i,s,o,l,a):ql(i,s):(u._visibility|=2,Hl(i,s,o,l,a)),a&&2048&c&&Fl(s.alternate,s);break;case 24:Hl(i,s,o,l,a),a&&2048&c&&Bl(s.alternate,s);break;default:Hl(i,s,o,l,a)}t=t.sibling}}function ql(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,a=r.flags;switch(r.tag){case 22:ql(n,r),2048&a&&Fl(r.alternate,r);break;case 24:ql(n,r),2048&a&&Bl(r.alternate,r);break;default:ql(n,r)}t=t.sibling}}var Wl=8192;function Kl(e){if(e.subtreeFlags&Wl)for(e=e.child;null!==e;)Gl(e),e=e.sibling}function Gl(e){switch(e.tag){case 26:Kl(e),e.flags&Wl&&null!==e.memoizedState&&function(e,t,n){if(null===Vd)throw Error(s(475));var r=Vd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var a=Ed(n.href),i=e.querySelector(Pd(a));if(i)return null!==(e=i._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Hd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=i,void qe(i);i=e.ownerDocument||e,n=Td(n),(a=jd.get(a))&&Id(n,a),qe(i=i.createElement("link"));var o=i;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),ed(i,"link",n),t.instance=i}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Hd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Ml,e.memoizedState,e.memoizedProps);break;case 5:default:Kl(e);break;case 3:case 4:var t=Ml;Ml=Nd(e.stateNode.containerInfo),Kl(e),Ml=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Wl,Wl=16777216,Kl(e),Wl=t):Kl(e))}}function Yl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Xl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];kl=r,Ql(r,e)}Yl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Jl(e),e=e.sibling}function Jl(e){switch(e.tag){case 0:case 11:case 15:Xl(e),2048&e.flags&&ol(9,e,e.return);break;case 3:case 12:default:Xl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Zl(e)):Xl(e)}}function Zl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];kl=r,Ql(r,e)}Yl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ol(8,t,t.return),Zl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Zl(t));break;default:Zl(t)}e=e.sibling}}function Ql(e,t){for(;null!==kl;){var n=kl;switch(n.tag){case 0:case 11:case 15:ol(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Da(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,kl=r;else e:for(n=e;null!==kl;){var a=(r=kl).sibling,i=r.return;if(_l(r),r===n){kl=null;break e}if(null!==a){a.return=i,kl=a;break e}kl=i}}}var ec={getCacheForType:function(e){var t=Sa(Aa),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,rc=null,ac=null,ic=0,sc=0,oc=null,lc=!1,cc=!1,uc=!1,dc=0,hc=0,fc=0,pc=0,mc=0,gc=0,vc=0,yc=null,xc=null,bc=!1,wc=0,jc=1/0,kc=null,Nc=null,_c=0,Sc=null,Cc=null,Oc=0,Ec=0,Pc=null,Tc=null,Ac=0,Mc=null;function Dc(){if(0!==(2&nc)&&0!==ic)return ic&-ic;if(null!==D.T){return 0!==La?La:Eu()}return Pe()}function zc(){0===gc&&(gc=0===(536870912&ic)||ia?je():536870912);var e=ro.current;return null!==e&&(e.flags|=32),gc}function Ic(e,t,n){(e!==rc||2!==sc&&9!==sc)&&null===e.cancelPendingCommit||(Uc(e,0),Fc(e,ic,gc,!1)),_e(e,n),0!==(2&nc)&&e===rc||(e===rc&&(0===(2&nc)&&(pc|=n),4===hc&&Fc(e,ic,gc,!1)),ju(e))}function Lc(e,t,n){if(0!==(6&nc))throw Error(s(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||be(e,t),a=r?function(e,t){var n=nc;nc|=2;var r=qc(),a=Wc();rc!==e||ic!==t?(kc=null,jc=te()+500,Uc(e,t)):cc=be(e,t);e:for(;;)try{if(0!==sc&&null!==ac){t=ac;var i=oc;t:switch(sc){case 1:sc=0,oc=null,Qc(e,t,i,1);break;case 2:case 9:if(Ya(i)){sc=0,oc=null,Zc(t);break}t=function(){2!==sc&&9!==sc||rc!==e||(sc=7),ju(e)},i.then(t,t);break e;case 3:sc=7;break e;case 4:sc=5;break e;case 7:Ya(i)?(sc=0,oc=null,Zc(t)):(sc=0,oc=null,Qc(e,t,i,7));break;case 5:var o=null;switch(ac.tag){case 26:o=ac.memoizedState;case 5:case 27:var l=ac;if(!o||Bd(o)){sc=0,oc=null;var c=l.sibling;if(null!==c)ac=c;else{var u=l.return;null!==u?(ac=u,eu(u)):ac=null}break t}}sc=0,oc=null,Qc(e,t,i,5);break;case 6:sc=0,oc=null,Qc(e,t,i,6);break;case 8:Vc(),hc=6;break e;default:throw Error(s(462))}}Xc();break}catch(d){Hc(e,d)}return ya=va=null,D.H=r,D.A=a,nc=n,null!==ac?0:(rc=null,ic=0,Or(),hc)}(e,t):Gc(e,t,!0),i=r;;){if(0===a){cc&&!r&&Fc(e,t,0,!1);break}if(n=e.current.alternate,!i||$c(n)){if(2===a){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;a=yc;var c=l.current.memoizedState.isDehydrated;if(c&&(Uc(l,o).flags|=256),2!==(o=Gc(l,o,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=i,pc|=i,a=4;break e}i=xc,xc=a,null!==i&&(null===xc?xc=i:xc.push.apply(xc,i))}a=o}if(i=!1,2!==a)continue}}if(1===a){Uc(e,0),Fc(e,t,0,!0);break}e:{switch(r=e,i=a){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:Fc(r,t,gc,!lc);break e;case 2:xc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(a=wc+300-te())){if(Fc(r,t,gc,!lc),0!==xe(r,0,!0))break e;r.timeoutHandle=ld(Rc.bind(null,r,n,xc,kc,bc,t,gc,pc,vc,lc,i,2,-0,0),a)}else Rc(r,n,xc,kc,bc,t,gc,pc,vc,lc,i,0,-0,0)}break}a=Gc(e,t,!1),i=!1}ju(e)}function Rc(e,t,n,r,a,i,o,l,c,u,d,h,f,p){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(Vd={stylesheets:null,count:0,unsuspend:Ud},Gl(t),null!==(h=function(){if(null===Vd)throw Error(s(475));var e=Vd;return e.stylesheets&&0===e.count&&Wd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Wd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(nu.bind(null,e,t,i,n,r,a,o,l,c,d,1,f,p)),void Fc(e,i,o,!u);nu(e,t,i,n,r,a,o,l,c)}function $c(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!Yn(i(),a))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fc(e,t,n,r){t&=~mc,t&=~pc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var a=t;0<a;){var i=31-fe(a),s=1<<i;r[i]=-1,a&=~s}0!==n&&Se(e,n,t)}function Bc(){return 0!==(6&nc)||(ku(0,!1),!1)}function Vc(){if(null!==ac){if(0===sc)var e=ac.return;else ya=va=null,Li(e=ac),Gs=null,Ys=0,e=ac;for(;null!==e;)il(e.alternate,e),e=e.return;ac=null}}function Uc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Vc(),rc=e,ac=n=Rr(e.current,null),ic=t,sc=0,oc=null,lc=!1,cc=be(e,t),uc=!1,vc=gc=mc=pc=fc=hc=0,xc=yc=null,bc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var a=31-fe(r),i=1<<a;t|=e[a],r&=~i}return dc=t,Or(),n}function Hc(e,t){xi=null,D.H=Hs,t===qa||t===Ka?(t=Qa(),sc=3):t===Wa?(t=Qa(),sc=4):sc=t===So?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,oc=t,null===ac&&(hc=1,wo(e,Nr(t,e.current)))}function qc(){var e=D.H;return D.H=Hs,null===e?Hs:e}function Wc(){var e=D.A;return D.A=ec,e}function Kc(){hc=4,lc||(4194048&ic)!==ic&&null!==ro.current||(cc=!0),0===(134217727&fc)&&0===(134217727&pc)||null===rc||Fc(rc,ic,gc,!1)}function Gc(e,t,n){var r=nc;nc|=2;var a=qc(),i=Wc();rc===e&&ic===t||(kc=null,Uc(e,t)),t=!1;var s=hc;e:for(;;)try{if(0!==sc&&null!==ac){var o=ac,l=oc;switch(sc){case 8:Vc(),s=6;break e;case 3:case 2:case 9:case 6:null===ro.current&&(t=!0);var c=sc;if(sc=0,oc=null,Qc(e,o,l,c),n&&cc){s=0;break e}break;default:c=sc,sc=0,oc=null,Qc(e,o,l,c)}}Yc(),s=hc;break}catch(u){Hc(e,u)}return t&&e.shellSuspendCounter++,ya=va=null,nc=r,D.H=a,D.A=i,null===ac&&(rc=null,ic=0,Or()),s}function Yc(){for(;null!==ac;)Jc(ac)}function Xc(){for(;null!==ac&&!Q();)Jc(ac)}function Jc(e){var t=Jo(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?eu(e):ac=t}function Zc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Io(n,t,t.pendingProps,t.type,void 0,ic);break;case 11:t=Io(n,t,t.pendingProps,t.type.render,t.ref,ic);break;case 5:Li(t);default:il(n,t),t=Jo(n,t=ac=$r(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?eu(e):ac=t}function Qc(e,t,n,r){ya=va=null,Li(t),Gs=null,Ys=0;var a=t.return;try{if(function(e,t,n,r,a){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&ka(t,n,a,!0),null!==(n=ro.current)){switch(n.tag){case 13:return null===ao?Kc():null===n.alternate&&0===hc&&(hc=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===Ga?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),du(e,r,a)),!1;case 22:return n.flags|=65536,r===Ga?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),du(e,r,a)),!1}throw Error(s(435,n.tag))}return du(e,r,a),Kc(),!1}if(ia)return null!==(t=ro.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==la&&ma(Nr(e=Error(s(422),{cause:r}),n))):(r!==la&&ma(Nr(t=Error(s(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,r=Nr(r,n),oi(e,a=ko(e.stateNode,r,a)),4!==hc&&(hc=2)),!1;var i=Error(s(520),{cause:r});if(i=Nr(i,n),null===yc?yc=[i]:yc.push(i),4!==hc&&(hc=2),null===t)return!0;r=Nr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,oi(n,e=ko(n.stateNode,r,e)),!1;case 1:if(t=n.type,i=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==i&&"function"===typeof i.componentDidCatch&&(null===Nc||!Nc.has(i))))return n.flags|=65536,a&=-a,n.lanes|=a,_o(a=No(a),e,n,r),oi(n,a),!1}n=n.return}while(null!==n);return!1}(e,a,t,n,ic))return hc=1,wo(e,Nr(n,e.current)),void(ac=null)}catch(i){if(null!==a)throw ac=a,i;return hc=1,wo(e,Nr(n,e.current)),void(ac=null)}32768&t.flags?(ia||1===r?e=!0:cc||0!==(536870912&ic)?e=!1:(lc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=ro.current)&&13===r.tag&&(r.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,lc);e=t.return;var n=rl(t.alternate,t,dc);if(null!==n)return void(ac=n);if(null!==(t=t.sibling))return void(ac=t);ac=t=e}while(null!==t);0===hc&&(hc=5)}function tu(e,t){do{var n=al(e.alternate,e);if(null!==n)return n.flags&=32767,void(ac=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ac=e);ac=e=n}while(null!==e);hc=6,ac=null}function nu(e,t,n,r,a,i,o,l,c){e.cancelPendingCommit=null;do{ou()}while(0!==_c);if(0!==(6&nc))throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(i=t.lanes|t.childLanes,function(e,t,n,r,a,i){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var u=31-fe(n),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Se(e,r,0),0!==i&&0===a&&0!==e.tag&&(e.suspendedLanes|=i&~(s&~t))}(e,n,i|=Cr,o,l,c),e===rc&&(ac=rc=null,ic=0),Cc=t,Sc=e,Oc=n,Ec=i,Pc=a,Tc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,J(ie,function(){return lu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=D.T,D.T=null,a=z.p,z.p=2,o=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,td=nh,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==a&&3!==h.nodeType||(l=o+a),h!==i||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===a&&(l=o),f===i&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},nh=!1,kl=t;null!==kl;)if(e=(t=kl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,kl=e;else for(;null!==kl;){switch(i=(t=kl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==i){e=void 0,n=t,a=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var m=go(n.type,a,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,i),r.__reactInternalSnapshotBeforeUpdate=e}catch(v){uu(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))md(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,kl=e;break}kl=t.return}}(e,t)}finally{nc=o,z.p=a,D.T=r}}_c=1,ru(),au(),iu()}}function ru(){if(1===_c){_c=0;var e=Sc,t=Cc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=D.T,D.T=null;var r=z.p;z.p=2;var a=nc;nc|=4;try{Dl(t,e);var i=nd,s=er(e.containerInfo),o=i.focusedElem,l=i.selectionRange;if(s!==o&&o&&o.ownerDocument&&Qn(o.ownerDocument.documentElement,o)){if(null!==l&&tr(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=o.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(s=g,g=m,m=s);var v=Zn(o,m),y=Zn(o,g);if(v&&y&&(1!==f.rangeCount||f.anchorNode!==v.node||f.anchorOffset!==v.offset||f.focusNode!==y.node||f.focusOffset!==y.offset)){var x=d.createRange();x.setStart(v.node,v.offset),f.removeAllRanges(),m>g?(f.addRange(x),f.extend(y.node,y.offset)):(x.setEnd(y.node,y.offset),f.addRange(x))}}}}for(d=[],f=o;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<d.length;o++){var b=d[o];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}nh=!!td,nd=td=null}finally{nc=a,z.p=r,D.T=n}}e.current=t,_c=2}}function au(){if(2===_c){_c=0;var e=Sc,t=Cc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=D.T,D.T=null;var r=z.p;z.p=2;var a=nc;nc|=4;try{Nl(e,t.alternate,t)}finally{nc=a,z.p=r,D.T=n}}_c=3}}function iu(){if(4===_c||3===_c){_c=0,ee();var e=Sc,t=Cc,n=Oc,r=Tc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?_c=5:(_c=0,Cc=Sc=null,su(e,e.pendingLanes));var a=e.pendingLanes;if(0===a&&(Nc=null),Ee(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=D.T,a=z.p,z.p=2,D.T=null;try{for(var i=e.onRecoverableError,s=0;s<r.length;s++){var o=r[s];i(o.value,{componentStack:o.stack})}}finally{D.T=t,z.p=a}}0!==(3&Oc)&&ou(),ju(e),a=e.pendingLanes,0!==(4194090&n)&&0!==(42&a)?e===Mc?Ac++:(Ac=0,Mc=e):Ac=0,ku(0,!1)}}function su(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Da(t)))}function ou(e){return ru(),au(),iu(),lu()}function lu(){if(5!==_c)return!1;var e=Sc,t=Ec;Ec=0;var n=Ee(Oc),r=D.T,a=z.p;try{z.p=32>n?32:n,D.T=null,n=Pc,Pc=null;var i=Sc,o=Oc;if(_c=0,Cc=Sc=null,Oc=0,0!==(6&nc))throw Error(s(331));var l=nc;if(nc|=4,Jl(i.current),Ul(i,i.current,o,n),nc=l,ku(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,i)}catch(c){}return!0}finally{z.p=a,D.T=r,su(e,t)}}function cu(e,t,n){t=Nr(n,t),null!==(e=ii(e,t=ko(e.stateNode,t,2),2))&&(_e(e,2),ju(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Nc||!Nc.has(r))){e=Nr(n,e),null!==(r=ii(t,n=No(2),2))&&(_o(n,r,t,e),_e(r,2),ju(r));break}}t=t.return}}function du(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(uc=!0,a.add(n),e=hu.bind(null,e,t,n),t.then(e,e))}function hu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(ic&n)===n&&(4===hc||3===hc&&(62914560&ic)===ic&&300>te()-wc?0===(2&nc)&&Uc(e,0):mc|=n,vc===ic&&(vc=0)),ju(e)}function fu(e,t){0===t&&(t=ke()),null!==(e=Tr(e,t))&&(_e(e,t),ju(e))}function pu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),fu(e,n)}function mu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==r&&r.delete(t),fu(e,n)}var gu=null,vu=null,yu=!1,xu=!1,bu=!1,wu=0;function ju(e){e!==vu&&null===e.next&&(null===vu?gu=vu=e:vu=vu.next=e),xu=!0,yu||(yu=!0,dd(function(){0!==(6&nc)?J(re,Nu):_u()}))}function ku(e,t){if(!bu&&xu){bu=!0;do{for(var n=!1,r=gu;null!==r;){if(!t)if(0!==e){var a=r.pendingLanes;if(0===a)var i=0;else{var s=r.suspendedLanes,o=r.pingedLanes;i=(1<<31-fe(42|e)+1)-1,i=201326741&(i&=a&~(s&~o))?201326741&i|1:i?2|i:0}0!==i&&(n=!0,Ou(r,i))}else i=ic,0===(3&(i=xe(r,r===rc?i:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||be(r,i)||(n=!0,Ou(r,i));r=r.next}}while(n);bu=!1}}function Nu(){_u()}function _u(){xu=yu=!1;var e=0;0!==wu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==od&&(od=e,!0);return od=null,!1}()&&(e=wu),wu=0);for(var t=te(),n=null,r=gu;null!==r;){var a=r.next,i=Su(r,t);0===i?(r.next=null,null===n?gu=a:n.next=a,null===a&&(vu=n)):(n=r,(0!==e||0!==(3&i))&&(xu=!0)),r=a}ku(e,!1)}function Su(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var s=31-fe(i),o=1<<s,l=a[s];-1===l?0!==(o&n)&&0===(o&r)||(a[s]=we(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}if(n=ic,n=xe(e,e===(t=rc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===sc||9===sc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&Z(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||be(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&Z(r),Ee(n)){case 2:case 8:n=ae;break;case 32:default:n=ie;break;case 268435456:n=oe}return r=Cu.bind(null,e),n=J(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&Z(r),e.callbackPriority=2,e.callbackNode=null,2}function Cu(e,t){if(0!==_c&&5!==_c)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ou()&&e.callbackNode!==n)return null;var r=ic;return 0===(r=xe(e,e===rc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Lc(e,r,t),Su(e,te()),null!=e.callbackNode&&e.callbackNode===n?Cu.bind(null,e):null)}function Ou(e,t){if(ou())return null;Lc(e,t,!0)}function Eu(){return 0===wu&&(wu=je()),wu}function Pu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Et(""+e)}function Tu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Au=0;Au<wr.length;Au++){var Mu=wr[Au];jr(Mu.toLowerCase(),"on"+(Mu[0].toUpperCase()+Mu.slice(1)))}jr(fr,"onAnimationEnd"),jr(pr,"onAnimationIteration"),jr(mr,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(gr,"onTransitionRun"),jr(vr,"onTransitionStart"),jr(yr,"onTransitionCancel"),jr(xr,"onTransitionEnd"),Ye("onMouseEnter",["mouseout","mouseover"]),Ye("onMouseLeave",["mouseout","mouseover"]),Ye("onPointerEnter",["pointerout","pointerover"]),Ye("onPointerLeave",["pointerout","pointerover"]),Ge("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ge("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ge("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ge("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Du));function Iu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;i=o,a.currentTarget=c;try{i(a)}catch(u){vo(u)}a.currentTarget=null,i=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,c=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;i=o,a.currentTarget=c;try{i(a)}catch(u){vo(u)}a.currentTarget=null,i=l}}}}function Lu(e,t){var n=t[ze];void 0===n&&(n=t[ze]=new Set);var r=e+"__bubble";n.has(r)||(Bu(t,e,2,!1),n.add(r))}function Ru(e,t,n){var r=0;t&&(r|=4),Bu(n,e,r,t)}var $u="_reactListening"+Math.random().toString(36).slice(2);function Fu(e){if(!e[$u]){e[$u]=!0,We.forEach(function(t){"selectionchange"!==t&&(zu.has(t)||Ru(t,!1,e),Ru(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[$u]||(t[$u]=!0,Ru("selectionchange",!1,t))}}function Bu(e,t,n,r){switch(ch(t)){case 2:var a=rh;break;case 8:a=ah;break;default:a=ih}n=a.bind(null,t,n,e),a=void 0,!$t||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Vu(e,t,n,r,a){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===a)break;if(4===s)for(s=r.return;null!==s;){var c=s.tag;if((3===c||4===c)&&s.stateNode.containerInfo===a)return;s=s.return}for(;null!==o;){if(null===(s=Be(o)))return;if(5===(c=s.tag)||6===c||26===c||27===c){r=i=s;continue e}o=o.parentNode}}r=r.return}It(function(){var r=i,a=Tt(n),s=[];e:{var o=br.get(e);if(void 0!==o){var c=Qt,u=e;switch(e){case"keypress":if(0===qt(n))break e;case"keydown":case"keyup":c=mn;break;case"focusin":u="focus",c=sn;break;case"focusout":u="blur",c=sn;break;case"beforeblur":case"afterblur":c=sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=an;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=vn;break;case fr:case pr:case mr:c=on;break;case xr:c=yn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=xn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=bn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==o?o+"Capture":null:o;d=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Lt(m,f))&&d.push(Uu(m,g,p)),h)break;m=m.return}0<d.length&&(o=new c(o,u,null,n,a),s.push({event:o,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Pt||!(u=n.relatedTarget||n.fromElement)||!Be(u)&&!u[De])&&(c||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Be(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=rn,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=gn,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==c?o:Ue(c),p=null==u?o:Ue(u),(o=new d(g,m+"leave",c,n,a)).target=h,o.relatedTarget=p,g=null,Be(a)===r&&((d=new d(f,m+"enter",u,n,a)).target=p,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(f=u,m=0,p=d=c;p;p=qu(p))m++;for(p=0,g=f;g;g=qu(g))p++;for(;0<m-p;)d=qu(d),m--;for(;0<p-m;)f=qu(f),p--;for(;m--;){if(d===f||null!==f&&d===f.alternate)break e;d=qu(d),f=qu(f)}d=null}else d=null;null!==c&&Wu(s,o,c,d,!1),null!==u&&null!==h&&Wu(s,h,u,d,!0)}if("select"===(c=(o=r?Ue(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var v=Rn;else if(An(o))if($n)v=Gn;else{v=Wn;var y=qn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&St(r.elementType)&&(v=Rn):v=Kn;switch(v&&(v=v(e,r))?Mn(s,v,n,a):(y&&y(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&yt(o,"number",o.value)),y=r?Ue(r):window,e){case"focusin":(An(y)||"true"===y.contentEditable)&&(rr=y,ar=r,ir=null);break;case"focusout":ir=ar=rr=null;break;case"mousedown":sr=!0;break;case"contextmenu":case"mouseup":case"dragend":sr=!1,or(s,n,a);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":or(s,n,a)}var x;if(jn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Pn?On(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(_n&&"ko"!==n.locale&&(Pn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Pn&&(x=Ht()):(Vt="value"in(Bt=a)?Bt.value:Bt.textContent,Pn=!0)),0<(y=Hu(r,b)).length&&(b=new cn(b,e,null,n,a),s.push({event:b,listeners:y}),x?b.data=x:null!==(x=En(n))&&(b.data=x))),(x=Nn?function(e,t){switch(e){case"compositionend":return En(t);case"keypress":return 32!==t.which?null:(Cn=!0,Sn);case"textInput":return(e=t.data)===Sn&&Cn?null:e;default:return null}}(e,n):function(e,t){if(Pn)return"compositionend"===e||!jn&&On(e,t)?(e=Ht(),Ut=Vt=Bt=null,Pn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _n&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(b=Hu(r,"onBeforeInput")).length&&(y=new cn("onBeforeInput","beforeinput",null,n,a),s.push({event:y,listeners:b}),y.data=x)),function(e,t,n,r,a){if("submit"===t&&n&&n.stateNode===a){var i=Pu((a[Me]||null).action),s=r.submitter;s&&null!==(t=(t=s[Me]||null)?Pu(t.formAction):s.getAttribute("formAction"))&&(i=t,s=null);var o=new Qt("action","action",null,r,a);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==wu){var e=s?Tu(a,s):new FormData(a);Ps(n,{pending:!0,data:e,method:a.method,action:i},null,e)}}else"function"===typeof i&&(o.preventDefault(),e=s?Tu(a,s):new FormData(a),Ps(n,{pending:!0,data:e,method:a.method,action:i},i,e))},currentTarget:a}]})}}(s,e,r,n,a)}Iu(s,t)})}function Uu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hu(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;if(5!==(a=a.tag)&&26!==a&&27!==a||null===i||(null!=(a=Lt(e,n))&&r.unshift(Uu(e,a,i)),null!=(a=Lt(e,t))&&r.push(Uu(e,a,i))),3===e.tag)return r;e=e.return}return[]}function qu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Wu(e,t,n,r,a){for(var i=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,a?null!=(c=Lt(n,i))&&s.unshift(Uu(n,c,l)):a||null!=(c=Lt(n,i))&&s.push(Uu(n,c,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Ku=/\r\n?/g,Gu=/\u0000|\uFFFD/g;function Yu(e){return("string"===typeof e?e:""+e).replace(Ku,"\n").replace(Gu,"")}function Xu(e,t){return t=Yu(t),Yu(e)===t}function Ju(){}function Zu(e,t,n,r,a,i){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||jt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&jt(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":_t(e,r,i);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Et(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof i&&("formAction"===n?("input"!==t&&Zu(e,t,"name",a.name,a,null),Zu(e,t,"formEncType",a.formEncType,a,null),Zu(e,t,"formMethod",a.formMethod,a,null),Zu(e,t,"formTarget",a.formTarget,a,null)):(Zu(e,t,"encType",a.encType,a,null),Zu(e,t,"method",a.method,a,null),Zu(e,t,"target",a.target,a,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Et(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Ju);break;case"onScroll":null!=r&&Lu("scroll",e);break;case"onScrollEnd":null!=r&&Lu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Et(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Lu("beforetoggle",e),Lu("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Ct.get(n)||n,r)}}function Qu(e,t,n,r,a,i){switch(n){case"style":_t(e,r,i);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"===typeof r?jt(e,r):("number"===typeof r||"bigint"===typeof r)&&jt(e,""+r);break;case"onScroll":null!=r&&Lu("scroll",e);break;case"onScrollEnd":null!=r&&Lu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Ju);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ke.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),"function"===typeof(i=null!=(i=e[Me]||null)?i[n]:null)&&e.removeEventListener(t,i,a),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof i&&null!==i&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lu("error",e),Lu("load",e);var r,a=!1,i=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Zu(e,t,r,o,n,null)}}return i&&Zu(e,t,"srcSet",n.srcSet,n,null),void(a&&Zu(e,t,"src",n.src,n,null));case"input":Lu("invalid",e);var l=r=o=i=null,c=null,u=null;for(a in n)if(n.hasOwnProperty(a)){var d=n[a];if(null!=d)switch(a){case"name":i=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:Zu(e,t,a,d,n,null)}}return vt(e,r,l,c,u,o,i,!1),void dt(e);case"select":for(i in Lu("invalid",e),a=o=r=null,n)if(n.hasOwnProperty(i)&&null!=(l=n[i]))switch(i){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":a=l;default:Zu(e,t,i,l,n,null)}return t=r,n=o,e.multiple=!!a,void(null!=t?xt(e,!!a,t,!1):null!=n&&xt(e,!!a,n,!0));case"textarea":for(o in Lu("invalid",e),r=i=a=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":a=l;break;case"defaultValue":i=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:Zu(e,t,o,l,n,null)}return wt(e,a,i,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(a=n[c]))if("selected"===c)e.selected=a&&"function"!==typeof a&&"symbol"!==typeof a;else Zu(e,t,c,a,n,null);return;case"dialog":Lu("beforetoggle",e),Lu("toggle",e),Lu("cancel",e),Lu("close",e);break;case"iframe":case"object":Lu("load",e);break;case"video":case"audio":for(a=0;a<Du.length;a++)Lu(Du[a],e);break;case"image":Lu("error",e),Lu("load",e);break;case"details":Lu("toggle",e);break;case"embed":case"source":case"link":Lu("error",e),Lu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(a=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Zu(e,t,u,a,n,null)}return;default:if(St(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(a=n[d])&&Qu(e,t,d,a,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(a=n[l])&&Zu(e,t,l,a,n,null))}var td=null,nd=null;function rd(e){return 9===e.nodeType?e:e.ownerDocument}function ad(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function id(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function sd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var od=null;var ld="function"===typeof setTimeout?setTimeout:void 0,cd="function"===typeof clearTimeout?clearTimeout:void 0,ud="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ud?function(e){return ud.resolve(null).then(e).catch(hd)}:ld;function hd(e){setTimeout(function(){throw e})}function fd(e){return"head"===e}function pd(e,t){var n=t,r=0,a=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0<r&&8>r){n=r;var s=e.ownerDocument;if(1&n&&wd(s.documentElement),2&n&&wd(s.body),4&n)for(wd(n=s.head),s=n.firstChild;s;){var o=s.nextSibling,l=s.nodeName;s[$e]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=o}}if(0===a)return e.removeChild(i),void Ch(t);a--}else"$"===n||"$?"===n||"$!"===n?a++:r=n.charCodeAt(0)-48;else r=0;n=i}while(n);Ch(t)}function md(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":md(n),Fe(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function vd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var yd=null;function xd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function bd(e,t,n){switch(t=rd(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function wd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Fe(e)}var jd=new Map,kd=new Set;function Nd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var _d=z.d;z.d={f:function(){var e=_d.f(),t=Bc();return e||t},r:function(e){var t=Ve(e);null!==t&&5===t.tag&&"form"===t.type?As(t):_d.r(e)},D:function(e){_d.D(e),Cd("dns-prefetch",e,null)},C:function(e,t){_d.C(e,t),Cd("preconnect",e,t)},L:function(e,t,n){_d.L(e,t,n);var r=Sd;if(r&&e&&t){var a='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(a+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(a+='[imagesizes="'+mt(n.imageSizes)+'"]')):a+='[href="'+mt(e)+'"]';var i=a;switch(t){case"style":i=Ed(e);break;case"script":i=Ad(e)}jd.has(i)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),jd.set(i,e),null!==r.querySelector(a)||"style"===t&&r.querySelector(Pd(i))||"script"===t&&r.querySelector(Md(i))||(ed(t=r.createElement("link"),"link",e),qe(t),r.head.appendChild(t)))}},m:function(e,t){_d.m(e,t);var n=Sd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",a='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',i=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Ad(e)}if(!jd.has(i)&&(e=h({rel:"modulepreload",href:e},t),jd.set(i,e),null===n.querySelector(a))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Md(i)))return}ed(r=n.createElement("link"),"link",e),qe(r),n.head.appendChild(r)}}},X:function(e,t){_d.X(e,t);var n=Sd;if(n&&e){var r=He(n).hoistableScripts,a=Ad(e),i=r.get(a);i||((i=n.querySelector(Md(a)))||(e=h({src:e,async:!0},t),(t=jd.get(a))&&Ld(e,t),qe(i=n.createElement("script")),ed(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(a,i))}},S:function(e,t,n){_d.S(e,t,n);var r=Sd;if(r&&e){var a=He(r).hoistableStyles,i=Ed(e);t=t||"default";var s=a.get(i);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(Pd(i)))o.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=jd.get(i))&&Id(e,n);var l=s=r.createElement("link");qe(l),ed(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,zd(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:o},a.set(i,s)}}},M:function(e,t){_d.M(e,t);var n=Sd;if(n&&e){var r=He(n).hoistableScripts,a=Ad(e),i=r.get(a);i||((i=n.querySelector(Md(a)))||(e=h({src:e,async:!0,type:"module"},t),(t=jd.get(a))&&Ld(e,t),qe(i=n.createElement("script")),ed(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(a,i))}}};var Sd="undefined"===typeof document?null:document;function Cd(e,t,n){var r=Sd;if(r&&"string"===typeof t&&t){var a=mt(t);a='link[rel="'+e+'"][href="'+a+'"]',"string"===typeof n&&(a+='[crossorigin="'+n+'"]'),kd.has(a)||(kd.add(a),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(a)&&(ed(t=r.createElement("link"),"link",e),qe(t),r.head.appendChild(t)))}}function Od(e,t,n,r){var a,i,o,l,c=(c=H.current)?Nd(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Ed(n.href),(r=(n=He(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Ed(n.href);var u=He(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Pd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),jd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},jd.set(e,n),u||(a=c,i=e,o=n,l=d.state,a.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=a.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),ed(i,"link",o),qe(i),a.head.appendChild(i))))),t&&null===r)throw Error(s(528,""));return d}if(t&&null!==r)throw Error(s(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Ad(n),(r=(n=He(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ed(e){return'href="'+mt(e)+'"'}function Pd(e){return'link[rel="stylesheet"]['+e+"]"}function Td(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Ad(e){return'[src="'+mt(e)+'"]'}function Md(e){return"script[async]"+e}function Dd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,qe(r),r;var a=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return qe(r=(e.ownerDocument||e).createElement("style")),ed(r,"style",a),zd(r,n.precedence,e),t.instance=r;case"stylesheet":a=Ed(n.href);var i=e.querySelector(Pd(a));if(i)return t.state.loading|=4,t.instance=i,qe(i),i;r=Td(n),(a=jd.get(a))&&Id(r,a),qe(i=(e.ownerDocument||e).createElement("link"));var o=i;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),ed(i,"link",r),t.state.loading|=4,zd(i,n.precedence,e),t.instance=i;case"script":return i=Ad(n.src),(a=e.querySelector(Md(i)))?(t.instance=a,qe(a),a):(r=n,(a=jd.get(i))&&Ld(r=h({},n),a),qe(a=(e=e.ownerDocument||e).createElement("script")),ed(a,"link",r),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,zd(r,n.precedence,e));return t.instance}function zd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,i=a,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===t)i=o;else if(i!==a)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Id(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Ld(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Rd=null;function $d(e,t,n){if(null===Rd){var r=new Map,a=Rd=new Map;a.set(n,r)}else(r=(a=Rd).get(n))||(r=new Map,a.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var i=n[a];if(!(i[$e]||i[Ae]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var s=i.getAttribute(t)||"";s=e+s;var o=r.get(s);o?o.push(i):r.set(s,[i])}}return r}function Fd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Bd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Vd=null;function Ud(){}function Hd(){if(this.count--,0===this.count)if(this.stylesheets)Wd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var qd=null;function Wd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,qd=new Map,t.forEach(Kd,e),qd=null,Hd.call(e))}function Kd(e,t){if(!(4&t.state.loading)){var n=qd.get(e);if(n)var r=n.get(null);else{n=new Map,qd.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<a.length;i++){var s=a[i];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(a=t.instance).getAttribute("data-precedence"),(i=n.get(s)||r)===r&&n.set(null,a),n.set(s,a),this.count++,r=Hd.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),i?i.parentNode.insertBefore(a,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(a,e.firstChild),t.state.loading|=4}}var Gd={$$typeof:w,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function Yd(e,t,n,r,a,i,s,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ne(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ne(0),this.hiddenUpdates=Ne(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=i,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Xd(e,t,n,r,a,i,s,o,l,c,u,d){return e=new Yd(e,t,n,s,o,l,c,d),t=1,!0===i&&(t|=24),i=Ir(3,null,null,t),e.current=i,i.stateNode=e,(t=Ma()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:t},ni(i),e}function Jd(e){return e?e=Dr:Dr}function Zd(e,t,n,r,a,i){a=Jd(a),null===r.context?r.context=a:r.pendingContext=a,(r=ai(t)).payload={element:n},null!==(i=void 0===i?null:i)&&(r.callback=i),null!==(n=ii(e,r,t))&&(Ic(n,0,t),si(n,e,t))}function Qd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eh(e,t){Qd(e,t),(e=e.alternate)&&Qd(e,t)}function th(e){if(13===e.tag){var t=Tr(e,67108864);null!==t&&Ic(t,0,67108864),eh(e,67108864)}}var nh=!0;function rh(e,t,n,r){var a=D.T;D.T=null;var i=z.p;try{z.p=2,ih(e,t,n,r)}finally{z.p=i,D.T=a}}function ah(e,t,n,r){var a=D.T;D.T=null;var i=z.p;try{z.p=8,ih(e,t,n,r)}finally{z.p=i,D.T=a}}function ih(e,t,n,r){if(nh){var a=sh(r);if(null===a)Vu(e,t,r,oh,n),yh(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return dh=xh(dh,e,t,n,r,a),!0;case"dragenter":return hh=xh(hh,e,t,n,r,a),!0;case"mouseover":return fh=xh(fh,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return ph.set(i,xh(ph.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,mh.set(i,xh(mh.get(i)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(yh(e,r),4&t&&-1<vh.indexOf(e)){for(;null!==a;){var i=Ve(a);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var s=ye(i.pendingLanes);if(0!==s){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-fe(s);o.entanglements[1]|=l,s&=~l}ju(i),0===(6&nc)&&(jc=te()+500,ku(0,!1))}}break;case 13:null!==(o=Tr(i,2))&&Ic(o,0,2),Bc(),eh(i,2)}if(null===(i=sh(r))&&Vu(e,t,r,oh,n),i===a)break;a=i}null!==a&&r.stopPropagation()}else Vu(e,t,r,null,n)}}function sh(e){return lh(e=Tt(e))}var oh=null;function lh(e){if(oh=null,null!==(e=Be(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return oh=e,null}function ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ae:return 8;case ie:case se:return 32;case oe:return 268435456;default:return 32}default:return 32}}var uh=!1,dh=null,hh=null,fh=null,ph=new Map,mh=new Map,gh=[],vh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yh(e,t){switch(e){case"focusin":case"focusout":dh=null;break;case"dragenter":case"dragleave":hh=null;break;case"mouseover":case"mouseout":fh=null;break;case"pointerover":case"pointerout":ph.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mh.delete(t.pointerId)}}function xh(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=Ve(t))&&th(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function bh(e){var t=Be(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=z.p;try{return z.p=e,t()}finally{z.p=n}}(e.priority,function(){if(13===n.tag){var e=Dc();e=Oe(e);var t=Tr(n,e);null!==t&&Ic(t,0,e),eh(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function wh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=sh(e.nativeEvent);if(null!==n)return null!==(t=Ve(n))&&th(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Pt=r,n.target.dispatchEvent(r),Pt=null,t.shift()}return!0}function jh(e,t,n){wh(e)&&n.delete(t)}function kh(){uh=!1,null!==dh&&wh(dh)&&(dh=null),null!==hh&&wh(hh)&&(hh=null),null!==fh&&wh(fh)&&(fh=null),ph.forEach(jh),mh.forEach(jh)}function Nh(e,t){e.blockedOn===t&&(e.blockedOn=null,uh||(uh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,kh)))}var _h=null;function Sh(e){_h!==e&&(_h=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){_h===e&&(_h=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],a=e[t+2];if("function"!==typeof r){if(null===lh(r||n))continue;break}var i=Ve(n);null!==i&&(e.splice(t,3),t-=3,Ps(i,{pending:!0,data:a,method:n.method,action:r},r,a))}}))}function Ch(e){function t(t){return Nh(t,e)}null!==dh&&Nh(dh,e),null!==hh&&Nh(hh,e),null!==fh&&Nh(fh,e),ph.forEach(t),mh.forEach(t);for(var n=0;n<gh.length;n++){var r=gh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<gh.length&&null===(n=gh[0]).blockedOn;)bh(n),null===n.blockedOn&&gh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var a=n[r],i=n[r+1],s=a[Me]||null;if("function"===typeof i)s||Sh(n);else if(s){var o=null;if(i&&i.hasAttribute("formAction")){if(a=i,s=i[Me]||null)o=s.formAction;else if(null!==lh(a))continue}else o=s.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),Sh(n)}}}function Oh(e){this._internalRoot=e}function Eh(e){this._internalRoot=e}Eh.prototype.render=Oh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Zd(t.current,Dc(),e,t,null,null)},Eh.prototype.unmount=Oh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Zd(e.current,2,null,e,null,null),Bc(),t[De]=null}},Eh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gh.length&&0!==t&&t<gh[n].priority;n++);gh.splice(n,0,e),0===n&&bh(e)}};var Ph=a.version;if("19.1.1"!==Ph)throw Error(s(527,Ph,"19.1.1"));z.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return u(a),e;if(i===r)return u(a),t;i=i.sibling}throw Error(s(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,c=a.child;c;){if(c===n){o=!0,n=a,r=i;break}if(c===r){o=!0,r=a,n=i;break}c=c.sibling}if(!o){for(c=i.child;c;){if(c===n){o=!0,n=i,r=a;break}if(c===r){o=!0,r=i,n=a;break}c=c.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Th={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.1"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ah.isDisabled&&Ah.supportsFiber)try{ue=Ah.inject(Th),de=Ah}catch(Dh){}}t.createRoot=function(e,t){if(!o(e))throw Error(s(299));var n=!1,r="",a=yo,i=xo,l=bo;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(i=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Xd(e,1,!1,null,0,n,r,a,i,l,0,null),e[De]=t.current,Fu(e),new Oh(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(s(299));var r=!1,a="",i=yo,l=xo,c=bo,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onUncaughtError&&(i=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Xd(e,1,!0,t,0,r,a,i,l,c,0,u)).context=Jd(null),n=t.current,(a=ai(r=Oe(r=Dc()))).callback=null,ii(n,a,r),n=r,t.current.lanes=n,_e(t,n),ju(t),e[De]=t.current,Fu(e),new Eh(t)},t.version="19.1.1"},7043:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2777),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;t.isKey=function(e,t){return!Array.isArray(e)&&(!("number"!==typeof e&&"boolean"!==typeof e&&null!=e&&!r.isSymbol(e))||("string"===typeof e&&(i.test(e)||!a.test(e))||null!=t&&Object.hasOwn(t,e)))}},7231:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3799),a=n(4879);t.range=function(e,t,n){n&&"number"!==typeof n&&r.isIterateeCall(e,t,n)&&(t=n=void 0),e=a.toFinite(e),void 0===t?(t=e,e=0):t=a.toFinite(t),n=void 0===n?e<t?1:-1:a.toFinite(n);const i=Math.max(Math.ceil((t-e)/(n||1)),0),s=new Array(i);for(let r=0;r<i;r++)s[r]=e,e+=n;return s}},7237:(e,t,n)=>{"use strict";n(8365)},7260:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isUnsafeProperty=function(e){return"__proto__"===e}},7312:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.flatten=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=[],r=Math.floor(t),a=(e,t)=>{for(let i=0;i<e.length;i++){const s=e[i];Array.isArray(s)&&t<r?a(s,t+1):n.push(s)}};return a(e,0),n}},7330:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9323);t.property=function(e){return function(t){return r.get(t,e)}}},7374:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(9286));class i extends a.default{select(e){let t=!1;const n=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e){let{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:a=r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=a?`${a}.order`:"order",s=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${s?`${s},`:""}${e}.${t?"asc":"desc"}${void 0===n?"":n?".nullsfirst":".nullslast"}`),this}limit(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r="undefined"===typeof n?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t){let{foreignTable:n,referencedTable:r=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a="undefined"===typeof r?"offset":`${r}.offset`,i="undefined"===typeof r?"limit":`${r}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(i,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain(){let{analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:a=!1,format:i="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var s;const o=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,a?"wal":null].filter(Boolean).join("|"),l=null!==(s=this.headers.Accept)&&void 0!==s?s:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${l}"; options=${o};`,this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}t.default=i},7599:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.argumentsTag="[object Arguments]",t.arrayBufferTag="[object ArrayBuffer]",t.arrayTag="[object Array]",t.bigInt64ArrayTag="[object BigInt64Array]",t.bigUint64ArrayTag="[object BigUint64Array]",t.booleanTag="[object Boolean]",t.dataViewTag="[object DataView]",t.dateTag="[object Date]",t.errorTag="[object Error]",t.float32ArrayTag="[object Float32Array]",t.float64ArrayTag="[object Float64Array]",t.functionTag="[object Function]",t.int16ArrayTag="[object Int16Array]",t.int32ArrayTag="[object Int32Array]",t.int8ArrayTag="[object Int8Array]",t.mapTag="[object Map]",t.numberTag="[object Number]",t.objectTag="[object Object]",t.regexpTag="[object RegExp]",t.setTag="[object Set]",t.stringTag="[object String]",t.symbolTag="[object Symbol]",t.uint16ArrayTag="[object Uint16Array]",t.uint32ArrayTag="[object Uint32Array]",t.uint8ArrayTag="[object Uint8Array]",t.uint8ClampedArrayTag="[object Uint8ClampedArray]"},7770:(e,t,n)=>{e.exports=n(9323).get},7820:(e,t,n)=>{e.exports=n(5414).throttle},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(6672)},7980:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;const a=r(n(1210));t.PostgrestClient=a.default;const i=r(n(8829));t.PostgrestQueryBuilder=i.default;const s=r(n(5736));t.PostgrestFilterBuilder=s.default;const o=r(n(7374));t.PostgrestTransformBuilder=o.default;const l=r(n(9286));t.PostgrestBuilder=l.default;const c=r(n(2611));t.PostgrestError=c.default,t.default={PostgrestClient:a.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:c.default}},8182:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9330),a=n(4737);t.isEqual=function(e,t){return r.isEqualWith(e,t,a.noop)}},8210:function(e,t,n){var r;!function(){"use strict";var a,i=1e9,s={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},o=!0,l="[DecimalError] ",c=l+"Invalid argument: ",u=l+"Exponent out of range: ",d=Math.floor,h=Math.pow,f=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p=1e7,m=9007199254740991,g=d(1286742750677284.5),v={};function y(e,t){var n,r,a,i,s,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),o?O(t,h):t;if(c=e.d,u=t.d,s=e.e,a=t.e,c=c.slice(),i=s-a){for(i<0?(r=c,i=-i,l=u.length):(r=u,a=s,l=c.length),i>(l=(s=Math.ceil(h/7))>l?s+1:l+1)&&(i=l,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for((l=c.length)-(i=u.length)<0&&(i=l,r=u,u=c,c=r),n=0;i;)n=(c[--i]=c[i]+u[i]+n)/p|0,c[i]%=p;for(n&&(c.unshift(n),++a),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=a,o?O(t,h):t}function x(e,t,n){if(e!==~~e||e<t||e>n)throw Error(c+e)}function b(e){var t,n,r,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)(n=7-(r=e[t]+"").length)&&(i+=_(n)),i+=r;(n=7-(r=(s=e[t])+"").length)&&(i+=_(n))}else if(0===s)return"0";for(;s%10===0;)s/=10;return i+s}v.absoluteValue=v.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},v.comparedTo=v.cmp=function(e){var t,n,r,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(t=0,n=(r=i.d.length)<(a=e.d.length)?r:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1},v.decimalPlaces=v.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},v.dividedBy=v.div=function(e){return w(this,new this.constructor(e))},v.dividedToIntegerBy=v.idiv=function(e){var t=this.constructor;return O(w(this,new t(e),0,1),t.precision)},v.equals=v.eq=function(e){return!this.cmp(e)},v.exponent=function(){return k(this)},v.greaterThan=v.gt=function(e){return this.cmp(e)>0},v.greaterThanOrEqualTo=v.gte=function(e){return this.cmp(e)>=0},v.isInteger=v.isint=function(){return this.e>this.d.length-2},v.isNegative=v.isneg=function(){return this.s<0},v.isPositive=v.ispos=function(){return this.s>0},v.isZero=function(){return 0===this.s},v.lessThan=v.lt=function(e){return this.cmp(e)<0},v.lessThanOrEqualTo=v.lte=function(e){return this.cmp(e)<1},v.logarithm=v.log=function(e){var t,n=this,r=n.constructor,i=r.precision,s=i+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(a))throw Error(l+"NaN");if(n.s<1)throw Error(l+(n.s?"NaN":"-Infinity"));return n.eq(a)?new r(0):(o=!1,t=w(S(n,s),S(e,s),s),o=!0,O(t,i))},v.minus=v.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?E(t,e):y(t,(e.s=-e.s,e))},v.modulo=v.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(!(e=new r(e)).s)throw Error(l+"NaN");return n.s?(o=!1,t=w(n,e,0,1).times(e),o=!0,n.minus(t)):O(new r(n),a)},v.naturalExponential=v.exp=function(){return j(this)},v.naturalLogarithm=v.ln=function(){return S(this)},v.negated=v.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},v.plus=v.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?y(t,e):E(t,(e.s=-e.s,e))},v.precision=v.sd=function(e){var t,n,r,a=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=k(a)+1,n=7*(r=a.d.length-1)+1,r=a.d[r]){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},v.squareRoot=v.sqrt=function(){var e,t,n,r,a,i,s,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(l+"NaN")}for(e=k(c),o=!1,0==(a=Math.sqrt(+c))||a==1/0?(((t=b(c.d)).length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),r=new u(t=a==1/0?"5e"+e:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new u(a.toString()),a=s=(n=u.precision)+3;;)if(r=(i=r).plus(w(c,i,s+2)).times(.5),b(i.d).slice(0,s)===(t=b(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&"4999"==t){if(O(i,n+1,0),i.times(i).eq(c)){r=i;break}}else if("9999"!=t)break;s+=4}return o=!0,O(r,n)},v.times=v.mul=function(e){var t,n,r,a,i,s,l,c,u,d=this,h=d.constructor,f=d.d,m=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,n=d.e+e.e,(c=f.length)<(u=m.length)&&(i=f,f=m,m=i,s=c,c=u,u=s),i=[],r=s=c+u;r--;)i.push(0);for(r=u;--r>=0;){for(t=0,a=c+r;a>r;)l=i[a]+m[r]*f[a-r-1]+t,i[a--]=l%p|0,t=l/p|0;i[a]=(i[a]+t)%p|0}for(;!i[--s];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,o?O(e,h.precision):e},v.toDecimalPlaces=v.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(x(e,0,i),void 0===t?t=r.rounding:x(t,0,8),O(n,e+k(n)+1,t))},v.toExponential=function(e,t){var n,r=this,a=r.constructor;return void 0===e?n=P(r,!0):(x(e,0,i),void 0===t?t=a.rounding:x(t,0,8),n=P(r=O(new a(r),e+1,t),!0,e+1)),n},v.toFixed=function(e,t){var n,r,a=this,s=a.constructor;return void 0===e?P(a):(x(e,0,i),void 0===t?t=s.rounding:x(t,0,8),n=P((r=O(new s(a),e+k(a)+1,t)).abs(),!1,e+k(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)},v.toInteger=v.toint=function(){var e=this,t=e.constructor;return O(new t(e),k(e)+1,t.rounding)},v.toNumber=function(){return+this},v.toPower=v.pow=function(e){var t,n,r,i,s,c,u=this,h=u.constructor,f=+(e=new h(e));if(!e.s)return new h(a);if(!(u=new h(u)).s){if(e.s<1)throw Error(l+"Infinity");return u}if(u.eq(a))return u;if(r=h.precision,e.eq(a))return O(u,r);if(c=(t=e.e)>=(n=e.d.length-1),s=u.s,c){if((n=f<0?-f:f)<=m){for(i=new h(a),t=Math.ceil(r/7+4),o=!1;n%2&&T((i=i.times(u)).d,t),0!==(n=d(n/2));)T((u=u.times(u)).d,t);return o=!0,e.s<0?new h(a).div(i):O(i,r)}}else if(s<0)throw Error(l+"NaN");return s=s<0&&1&e.d[Math.max(t,n)]?-1:1,u.s=1,o=!1,i=e.times(S(u,r+12)),o=!0,(i=j(i)).s=s,i},v.toPrecision=function(e,t){var n,r,a=this,s=a.constructor;return void 0===e?r=P(a,(n=k(a))<=s.toExpNeg||n>=s.toExpPos):(x(e,1,i),void 0===t?t=s.rounding:x(t,0,8),r=P(a=O(new s(a),e,t),e<=(n=k(a))||n<=s.toExpNeg,e)),r},v.toSignificantDigits=v.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(x(e,1,i),void 0===t?t=n.rounding:x(t,0,8)),O(new n(this),e,t)},v.toString=v.valueOf=v.val=v.toJSON=function(){var e=this,t=k(e),n=e.constructor;return P(e,t<=n.toExpNeg||t>=n.toExpPos)};var w=function(){function e(e,t){var n,r=0,a=e.length;for(e=e.slice();a--;)n=e[a]*t+r,e[a]=n%p|0,r=n/p|0;return r&&e.unshift(r),e}function t(e,t,n,r){var a,i;if(n!=r)i=n>r?1:-1;else for(a=i=0;a<n;a++)if(e[a]!=t[a]){i=e[a]>t[a]?1:-1;break}return i}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*p+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,a,i,s){var o,c,u,d,h,f,m,g,v,y,x,b,w,j,N,_,S,C,E=r.constructor,P=r.s==a.s?1:-1,T=r.d,A=a.d;if(!r.s)return new E(r);if(!a.s)throw Error(l+"Division by zero");for(c=r.e-a.e,S=A.length,N=T.length,g=(m=new E(P)).d=[],u=0;A[u]==(T[u]||0);)++u;if(A[u]>(T[u]||0)&&--c,(b=null==i?i=E.precision:s?i+(k(r)-k(a))+1:i)<0)return new E(0);if(b=b/7+2|0,u=0,1==S)for(d=0,A=A[0],b++;(u<N||d)&&b--;u++)w=d*p+(T[u]||0),g[u]=w/A|0,d=w%A|0;else{for((d=p/(A[0]+1)|0)>1&&(A=e(A,d),T=e(T,d),S=A.length,N=T.length),j=S,y=(v=T.slice(0,S)).length;y<S;)v[y++]=0;(C=A.slice()).unshift(0),_=A[0],A[1]>=p/2&&++_;do{d=0,(o=t(A,v,S,y))<0?(x=v[0],S!=y&&(x=x*p+(v[1]||0)),(d=x/_|0)>1?(d>=p&&(d=p-1),1==(o=t(h=e(A,d),v,f=h.length,y=v.length))&&(d--,n(h,S<f?C:A,f))):(0==d&&(o=d=1),h=A.slice()),(f=h.length)<y&&h.unshift(0),n(v,h,y),-1==o&&(o=t(A,v,S,y=v.length))<1&&(d++,n(v,S<y?C:A,y)),y=v.length):0===o&&(d++,v=[0]),g[u++]=d,o&&v[0]?v[y++]=T[j]||0:(v=[T[j]],y=1)}while((j++<N||void 0!==v[0])&&b--)}return g[0]||g.shift(),m.e=c,O(m,s?i+k(m)+1:i)}}();function j(e,t){var n,r,i,s,l,c=0,d=0,f=e.constructor,p=f.precision;if(k(e)>16)throw Error(u+k(e));if(!e.s)return new f(a);for(null==t?(o=!1,l=p):l=t,s=new f(.03125);e.abs().gte(.1);)e=e.times(s),d+=5;for(l+=Math.log(h(2,d))/Math.LN10*2+5|0,n=r=i=new f(a),f.precision=l;;){if(r=O(r.times(e),l),n=n.times(++c),b((s=i.plus(w(r,n,l))).d).slice(0,l)===b(i.d).slice(0,l)){for(;d--;)i=O(i.times(i),l);return f.precision=p,null==t?(o=!0,O(i,p)):i}i=s}}function k(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function N(e,t,n){if(t>e.LN10.sd())throw o=!0,n&&(e.precision=n),Error(l+"LN10 precision limit exceeded");return O(new e(e.LN10),t)}function _(e){for(var t="";e--;)t+="0";return t}function S(e,t){var n,r,i,s,c,u,d,h,f,p=1,m=e,g=m.d,v=m.constructor,y=v.precision;if(m.s<1)throw Error(l+(m.s?"NaN":"-Infinity"));if(m.eq(a))return new v(0);if(null==t?(o=!1,h=y):h=t,m.eq(10))return null==t&&(o=!0),N(v,h);if(h+=10,v.precision=h,r=(n=b(g)).charAt(0),s=k(m),!(Math.abs(s)<15e14))return d=N(v,h+2,y).times(s+""),m=S(new v(r+"."+n.slice(1)),h-10).plus(d),v.precision=y,null==t?(o=!0,O(m,y)):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=b((m=m.times(e)).d)).charAt(0),p++;for(s=k(m),r>1?(m=new v("0."+n),s++):m=new v(r+"."+n.slice(1)),u=c=m=w(m.minus(a),m.plus(a),h),f=O(m.times(m),h),i=3;;){if(c=O(c.times(f),h),b((d=u.plus(w(c,new v(i),h))).d).slice(0,h)===b(u.d).slice(0,h))return u=u.times(2),0!==s&&(u=u.plus(N(v,h+2,y).times(s+""))),u=w(u,new v(p),h),v.precision=y,null==t?(o=!0,O(u,y)):u;u=d,i+=2}}function C(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(a=t.length;48===t.charCodeAt(a-1);)--a;if(t=t.slice(r,a)){if(a-=r,n=n-r-1,e.e=d(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=7;r<a;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),o&&(e.e>g||e.e<-g))throw Error(u+n)}else e.s=0,e.e=0,e.d=[0];return e}function O(e,t,n){var r,a,i,s,l,c,f,m,v=e.d;for(s=1,i=v[0];i>=10;i/=10)s++;if((r=t-s)<0)r+=7,a=t,f=v[m=0];else{if((m=Math.ceil((r+1)/7))>=(i=v.length))return e;for(f=i=v[m],s=1;i>=10;i/=10)s++;a=(r%=7)-7+s}if(void 0!==n&&(l=f/(i=h(10,s-a-1))%10|0,c=t<0||void 0!==v[m+1]||f%i,c=n<4?(l||c)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||c||6==n&&(r>0?a>0?f/h(10,s-a):0:v[m-1])%10&1||n==(e.s<0?8:7))),t<1||!v[0])return c?(i=k(e),v.length=1,t=t-i-1,v[0]=h(10,(7-t%7)%7),e.e=d(-t/7)||0):(v.length=1,v[0]=e.e=e.s=0),e;if(0==r?(v.length=m,i=1,m--):(v.length=m+1,i=h(10,7-r),v[m]=a>0?(f/h(10,s-a)%h(10,a)|0)*i:0),c)for(;;){if(0==m){(v[0]+=i)==p&&(v[0]=1,++e.e);break}if(v[m]+=i,v[m]!=p)break;v[m--]=0,i=1}for(r=v.length;0===v[--r];)v.pop();if(o&&(e.e>g||e.e<-g))throw Error(u+k(e));return e}function E(e,t){var n,r,a,i,s,l,c,u,d,h,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),o?O(t,m):t;if(c=e.d,h=t.d,r=t.e,u=e.e,c=c.slice(),s=u-r){for((d=s<0)?(n=c,s=-s,l=h.length):(n=h,r=u,l=c.length),s>(a=Math.max(Math.ceil(m/7),l)+2)&&(s=a,n.length=1),n.reverse(),a=s;a--;)n.push(0);n.reverse()}else{for((d=(a=c.length)<(l=h.length))&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){d=c[a]<h[a];break}s=0}for(d&&(n=c,c=h,h=n,t.s=-t.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>s;){if(c[--a]<h[a]){for(i=a;i&&0===c[--i];)c[i]=p-1;--c[i],c[a]+=p}c[a]-=h[a]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(t.d=c,t.e=r,o?O(t,m):t):new f(0)}function P(e,t,n){var r,a=k(e),i=b(e.d),s=i.length;return t?(n&&(r=n-s)>0?i=i.charAt(0)+"."+i.slice(1)+_(r):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+_(-a-1)+i,n&&(r=n-s)>0&&(i+=_(r))):a>=s?(i+=_(a+1-s),n&&(r=n-a-1)>0&&(i=i+"."+_(r))):((r=a+1)<s&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-s)>0&&(a+1===s&&(i+="."),i+=_(r))),e.s<0?"-"+i:i}function T(e,t){if(e.length>t)return e.length=t,!0}function A(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,n,r,a=["precision",1,i,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if(void 0!==(r=e[n=a[t]])){if(!(d(r)===r&&r>=a[t+1]&&r<=a[t+2]))throw Error(c+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(c+n+": "+r);this[n]=new this(r)}return this}s=function e(t){var n,r,a;function i(e){var t=this;if(!(t instanceof i))return new i(e);if(t.constructor=i,e instanceof i)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):C(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!f.test(e))throw Error(c+e);C(t,e)}if(i.prototype=v,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=e,i.config=i.set=A,void 0===t&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<a.length;)t.hasOwnProperty(r=a[n++])||(t[r]=this[r]);return i.config(t),i}(s),s.default=s.Decimal=s,a=new s(1),void 0===(r=function(){return s}.call(t,n,t,e))||(e.exports=r)}()},8268:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2132);t.isMatch=function(e,t){return r.isMatchWith(e,t,()=>{})}},8346:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toArray=function(e){return Array.isArray(e)?e:Array.from(e)}},8365:(e,t,n)=>{"use strict";var r=n(5043);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=r.useSyncExternalStore,s=r.useRef,o=r.useEffect,l=r.useMemo,c=r.useDebugValue},8396:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5508);t.cloneDeep=function(e){return r.cloneDeepWith(e)}},8420:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isLength=function(e){return Number.isSafeInteger(e)&&e>=0}},8443:(e,t,n)=>{"use strict";e.exports=n(9717)},8499:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,r,i,s){if("function"!==typeof r)throw new TypeError("The listener must be a function");var o=new a(r,i||e,s),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function s(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function o(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),o.prototype.eventNames=function(){var e,r,a=[];if(0===this._eventsCount)return a;for(r in e=this._events)t.call(e,r)&&a.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},o.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var a=0,i=r.length,s=new Array(i);a<i;a++)s[a]=r[a].fn;return s},o.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},o.prototype.emit=function(e,t,r,a,i,s){var o=n?n+e:e;if(!this._events[o])return!1;var l,c,u=this._events[o],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,a),!0;case 5:return u.fn.call(u.context,t,r,a,i),!0;case 6:return u.fn.call(u.context,t,r,a,i,s),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,a);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},o.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},o.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},o.prototype.removeListener=function(e,t,r,a){var i=n?n+e:e;if(!this._events[i])return this;if(!t)return s(this,i),this;var o=this._events[i];if(o.fn)o.fn!==t||a&&!o.once||r&&o.context!==r||s(this,i);else{for(var l=0,c=[],u=o.length;l<u;l++)(o[l].fn!==t||a&&!o[l].once||r&&o[l].context!==r)&&c.push(o[l]);c.length?this._events[i]=1===c.length?c[0]:c:s(this,i)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o},8829:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(5736));t.default=class{constructor(e,t){let{headers:n={},schema:r,fetch:a}=t;this.url=e,this.headers=n,this.schema=r,this.fetch=a}select(e){let{head:t=!1,count:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t?"HEAD":"GET";let i=!1;const s=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!i?"":('"'===e&&(i=!i),e)).join("");return this.url.searchParams.set("select",s),n&&(this.headers.Prefer=`count=${n}`),new a.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e){let{count:t,defaultToNull:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=[];if(this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push(`count=${t}`),n||r.push("missing=default"),this.headers.Prefer=r.join(","),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new a.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e){let{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=[`resolution=${n?"ignore":"merge"}-duplicates`];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),i||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new a.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push(`count=${t}`),this.headers.Prefer=n.join(","),new a.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[];return e&&t.push(`count=${e}`),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new a.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}},8845:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8268),a=n(3272),i=n(8396),s=n(9323),o=n(5303);t.matchesProperty=function(e,t){switch(typeof e){case"object":Object.is(e?.valueOf(),-0)&&(e="-0");break;case"number":e=a.toKey(e)}return t=i.cloneDeep(t),function(n){const a=s.get(n,e);return void 0===a?o.has(n,e):void 0===t?void 0===a:r.isMatch(a,t)}}},8853:(e,t,n)=>{"use strict";e.exports=n(5896)},9286:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(4630)),i=r(n(2611));t.default=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"===typeof fetch?this.fetch=a.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,n,r;let a=null,s=null,o=null,l=e.status,c=e.statusText;if(e.ok){if("HEAD"!==this.method){const t=await e.text();""===t||(s="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}const r=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),i=null===(n=e.headers.get("content-range"))||void 0===n?void 0:n.split("/");r&&i&&i.length>1&&(o=parseInt(i[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(s)&&(s.length>1?(a={code:"PGRST116",details:`Results contain ${s.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,o=null,l=406,c="Not Acceptable"):s=1===s.length?s[0]:null)}else{const t=await e.text();try{a=JSON.parse(t),Array.isArray(a)&&404===e.status&&(s=[],a=null,l=200,c="OK")}catch(u){404===e.status&&""===t?(l=204,c="No Content"):a={message:t}}if(a&&this.isMaybeSingle&&(null===(r=null===a||void 0===a?void 0:a.details)||void 0===r?void 0:r.includes("0 rows"))&&(a=null,l=200,c="OK"),a&&this.shouldThrowOnError)throw new i.default(a)}return{error:a,data:s,count:o,status:l,statusText:c}});return this.shouldThrowOnError||(n=n.catch(e=>{var t,n,r;return{error:{message:`${null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null===e||void 0===e?void 0:e.message}`,details:`${null!==(n=null===e||void 0===e?void 0:e.stack)&&void 0!==n?n:""}`,hint:"",code:`${null!==(r=null===e||void 0===e?void 0:e.code)&&void 0!==r?r:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,t)}returns(){return this}overrideTypes(){return this}}},9323:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(7260),a=n(2489),i=n(3272),s=n(1444);t.get=function e(t,n,o){if(null==t)return o;switch(typeof n){case"string":{if(r.isUnsafeProperty(n))return o;const i=t[n];return void 0===i?a.isDeepKey(n)?e(t,s.toPath(n),o):o:i}case"number":case"symbol":{"number"===typeof n&&(n=i.toKey(n));const e=t[n];return void 0===e?o:e}default:{if(Array.isArray(n))return function(e,t,n){if(0===t.length)return n;let a=e;for(let i=0;i<t.length;i++){if(null==a)return n;if(r.isUnsafeProperty(t[i]))return n;a=a[t[i]]}if(void 0===a)return n;return a}(t,n,o);if(n=Object.is(n?.valueOf(),-0)?"-0":String(n),r.isUnsafeProperty(n))return o;const e=t[n];return void 0===e?o:e}}}},9330:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4385),a=n(6443),i=n(5990),s=n(7599),o=n(9972);function l(e,t,n,r,a,i,s){const o=s(e,t,n,r,a,i);if(void 0!==o)return o;if(typeof e===typeof t)switch(typeof e){case"bigint":case"string":case"boolean":case"symbol":case"undefined":case"function":return e===t;case"number":return e===t||Object.is(e,t);case"object":return c(e,t,i,s)}return c(e,t,i,s)}function c(e,t,n,u){if(Object.is(e,t))return!0;let d=i.getTag(e),h=i.getTag(t);if(d===s.argumentsTag&&(d=s.objectTag),h===s.argumentsTag&&(h=s.objectTag),d!==h)return!1;switch(d){case s.stringTag:return e.toString()===t.toString();case s.numberTag:{const n=e.valueOf(),r=t.valueOf();return o.eq(n,r)}case s.booleanTag:case s.dateTag:case s.symbolTag:return Object.is(e.valueOf(),t.valueOf());case s.regexpTag:return e.source===t.source&&e.flags===t.flags;case s.functionTag:return e===t}const f=(n=n??new Map).get(e),p=n.get(t);if(null!=f&&null!=p)return f===t;n.set(e,t),n.set(t,e);try{switch(d){case s.mapTag:if(e.size!==t.size)return!1;for(const[r,a]of e.entries())if(!t.has(r)||!l(a,t.get(r),r,e,t,n,u))return!1;return!0;case s.setTag:{if(e.size!==t.size)return!1;const r=Array.from(e.values()),a=Array.from(t.values());for(let i=0;i<r.length;i++){const s=r[i],o=a.findIndex(r=>l(s,r,void 0,e,t,n,u));if(-1===o)return!1;a.splice(o,1)}return!0}case s.arrayTag:case s.uint8ArrayTag:case s.uint8ClampedArrayTag:case s.uint16ArrayTag:case s.uint32ArrayTag:case s.bigUint64ArrayTag:case s.int8ArrayTag:case s.int16ArrayTag:case s.int32ArrayTag:case s.bigInt64ArrayTag:case s.float32ArrayTag:case s.float64ArrayTag:if("undefined"!==typeof Buffer&&Buffer.isBuffer(e)!==Buffer.isBuffer(t))return!1;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!l(e[r],t[r],r,e,t,n,u))return!1;return!0;case s.arrayBufferTag:return e.byteLength===t.byteLength&&c(new Uint8Array(e),new Uint8Array(t),n,u);case s.dataViewTag:return e.byteLength===t.byteLength&&e.byteOffset===t.byteOffset&&c(new Uint8Array(e),new Uint8Array(t),n,u);case s.errorTag:return e.name===t.name&&e.message===t.message;case s.objectTag:{if(!(c(e.constructor,t.constructor,n,u)||r.isPlainObject(e)&&r.isPlainObject(t)))return!1;const i=[...Object.keys(e),...a.getSymbols(e)],s=[...Object.keys(t),...a.getSymbols(t)];if(i.length!==s.length)return!1;for(let r=0;r<i.length;r++){const a=i[r],s=e[a];if(!Object.hasOwn(t,a))return!1;if(!l(s,t[a],a,e,t,n,u))return!1}return!0}default:return!1}}finally{n.delete(e),n.delete(t)}}t.isEqualWith=function(e,t,n){return l(e,t,void 0,void 0,void 0,void 0,n)}},9397:(e,t,n)=>{e.exports=n(2682).isPlainObject},9461:(e,t,n)=>{"use strict";e.exports=n(2330)},9599:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.identity=function(e){return e}},9645:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6392),a=n(8346),i=n(1203);t.last=function(e){if(i.isArrayLike(e))return r.last(a.toArray(e))}},9709:(e,t)=>{"use strict";function n(e){return"symbol"===typeof e?1:null===e?2:void 0===e?3:e!==e?4:0}Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.compareValues=(e,t,r)=>{if(e!==t){const a=n(e),i=n(t);if(a===i&&0===a){if(e<t)return"desc"===r?1:-1;if(e>t)return"desc"===r?-1:1}return"desc"===r?i-a:a-i}return 0}},9717:(e,t,n)=>{"use strict";var r=n(5043),a=n(9461);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=a.useSyncExternalStore,o=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var d=o(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=c(function(){function e(e){if(!l){if(l=!0,s=e,e=r(e),void 0!==a&&h.hasValue){var t=h.value;if(a(t,e))return o=t}return o=e}if(t=o,i(s,e))return t;var n=r(e);return void 0!==a&&a(t,n)?(s=e,t):(s=e,o=n)}var s,o,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,r,a]);var f=s(e,d[0],d[1]);return l(function(){h.hasValue=!0,h.value=f},[f]),u(f),f}},9859:(e,t,n)=>{e.exports=n(7231).range},9921:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObjectLike=function(e){return"object"===typeof e&&null!==e}},9972:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.eq=function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var s={};e=e||[null,t({}),t([]),t(t)];for(var o=2&a&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>s[e]=()=>r[e]);return s.default=()=>r,n.d(i,s),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".8a25eb85.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="ses-auth-page:";n.l=(r,a,i,s)=>{if(e[r])e[r].push(a);else{var o,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+i),o.src=r),e[r]=[a];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var a=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach(e=>e(n)),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/ses/",(()=>{var e={792:0};n.f.j=(t,r)=>{var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var i=new Promise((n,r)=>a=e[t]=[n,r]);r.push(a[2]=i);var s=n.p+n.u(t),o=new Error;n.l(s,r=>{if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var i=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",o.name="ChunkLoadError",o.type=i,o.request=s,a[1](o)}},"chunk-"+t,t)}};var t=(t,r)=>{var a,i,s=r[0],o=r[1],l=r[2],c=0;if(s.some(t=>0!==e[t])){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(l)l(n)}for(t&&t(r);c<s.length;c++)i=s[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkses_auth_page=self.webpackChunkses_auth_page||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{scaleBand:()=>jb,scaleDiverging:()=>g_,scaleDivergingLog:()=>v_,scaleDivergingPow:()=>x_,scaleDivergingSqrt:()=>b_,scaleDivergingSymlog:()=>y_,scaleIdentity:()=>uj,scaleImplicit:()=>bb,scaleLinear:()=>cj,scaleLog:()=>xj,scaleOrdinal:()=>wb,scalePoint:()=>Nb,scalePow:()=>Oj,scaleQuantile:()=>Fj,scaleQuantize:()=>Bj,scaleRadial:()=>Tj,scaleSequential:()=>c_,scaleSequentialLog:()=>u_,scaleSequentialPow:()=>h_,scaleSequentialQuantile:()=>p_,scaleSequentialSqrt:()=>f_,scaleSequentialSymlog:()=>d_,scaleSqrt:()=>Ej,scaleSymlog:()=>kj,scaleThreshold:()=>Vj,scaleTime:()=>i_,scaleUtc:()=>s_,tickFormat:()=>oj});var t=n(5043),r=n.t(t,2),a=n(4391),i="popstate";function s(){return f(function(e,t){let{pathname:n="/",search:r="",hash:a=""}=h(e.location.hash.substring(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),u("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:d(t))},function(e,t){l("/"===e.pathname.charAt(0),`relative pathnames are not supported in hash history.push(${JSON.stringify(t)})`)},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function o(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function l(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function c(e,t){return{usr:e.state,key:e.key,idx:t}}function u(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?h(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function d(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function h(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function f(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:a=document.defaultView,v5Compat:s=!1}=r,o=a.history,l="POP",d=null,h=f();function f(){return(o.state||{idx:null}).idx}function m(){l="POP";let e=f(),t=null==e?null:e-h;h=e,d&&d({action:l,location:v.location,delta:t})}function g(e){return p(e)}null==h&&(h=0,o.replaceState({...o.state,idx:h},""));let v={get action(){return l},get location(){return e(a,o)},listen(e){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(i,m),d=e,()=>{a.removeEventListener(i,m),d=null}},createHref:e=>t(a,e),createURL:g,encodeLocation(e){let t=g(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l="PUSH";let r=u(v.location,e,t);n&&n(r,e),h=f()+1;let i=c(r,h),p=v.createHref(r);try{o.pushState(i,"",p)}catch(m){if(m instanceof DOMException&&"DataCloneError"===m.name)throw m;a.location.assign(p)}s&&d&&d({action:l,location:v.location,delta:1})},replace:function(e,t){l="REPLACE";let r=u(v.location,e,t);n&&n(r,e),h=f();let a=c(r,h),i=v.createHref(r);o.replaceState(a,"",i),s&&d&&d({action:l,location:v.location,delta:0})},go:e=>o.go(e)};return v}function p(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),o(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:d(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function m(e,t){return g(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function g(e,t,n,r){let a=T(("string"===typeof t?h(t):t).pathname||"/",n);if(null==a)return null;let i=v(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let s=null;for(let o=0;null==s&&o<i.length;++o){let e=P(a);s=C(i[o],e,r)}return s}function v(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=(e,a,i)=>{let s={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};s.relativePath.startsWith("/")&&(o(s.relativePath.startsWith(r),`Absolute route path "${s.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),s.relativePath=s.relativePath.slice(r.length));let l=I([r,s.relativePath]),c=n.concat(s);e.children&&e.children.length>0&&(o(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),v(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:S(l,e.index),routesMeta:c})};return e.forEach((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of y(e.path))a(e,t,n);else a(e,t)}),t}function y(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return a?[i,""]:[i];let s=y(r.join("/")),o=[];return o.push(...s.map(e=>""===e?i:[i,e].join("/"))),a&&o.push(...s),o.map(t=>e.startsWith("/")&&""===t?"/":t)}var x=/^:[\w-]+$/,b=3,w=2,j=1,k=10,N=-2,_=e=>"*"===e;function S(e,t){let n=e.split("/"),r=n.length;return n.some(_)&&(r+=N),t&&(r+=w),n.filter(e=>!_(e)).reduce((e,t)=>e+(x.test(t)?b:""===t?j:k),r)}function C(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,a={},i="/",s=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===i?t:t.slice(i.length)||"/",u=O({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=O({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(a,u.params),s.push({params:a,pathname:I([i,u.pathname]),pathnameBase:L(I([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=I([i,u.pathnameBase]))}return s}function O(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=E(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1),l=r.reduce((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=o[n]||"";s=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:i,pathnameBase:s,pattern:e}}function E(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];l("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function P(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return l(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function T(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function A(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function M(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function D(e){let t=M(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function z(e,t,n){let r,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=h(e):(r={...e},o(!r.pathname||!r.pathname.includes("?"),A("?","pathname","search",r)),o(!r.pathname||!r.pathname.includes("#"),A("#","pathname","hash",r)),o(!r.search||!r.search.includes("#"),A("#","search","hash",r)));let i,s=""===e||""===r.pathname,l=s?"/":r.pathname;if(null==l)i=n;else{let e=t.length-1;if(!a&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}i=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:a=""}="string"===typeof e?h(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:R(r),hash:$(a)}}(r,i),u=l&&"/"!==l&&l.endsWith("/"),d=(s||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!d||(c.pathname+="/"),c}var I=e=>e.join("/").replace(/\/\/+/g,"/"),L=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),R=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",$=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function F(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var B=["POST","PUT","PATCH","DELETE"],V=(new Set(B),["GET",...B]);new Set(V),Symbol("ResetLoaderData");var U=t.createContext(null);U.displayName="DataRouter";var H=t.createContext(null);H.displayName="DataRouterState";var q=t.createContext(!1);var W=t.createContext({isTransitioning:!1});W.displayName="ViewTransition";var K=t.createContext(new Map);K.displayName="Fetchers";var G=t.createContext(null);G.displayName="Await";var Y=t.createContext(null);Y.displayName="Navigation";var X=t.createContext(null);X.displayName="Location";var J=t.createContext({outlet:null,matches:[],isDataRoute:!1});J.displayName="Route";var Z=t.createContext(null);Z.displayName="RouteError";function Q(){return null!=t.useContext(X)}function ee(){return o(Q(),"useLocation() may be used only in the context of a <Router> component."),t.useContext(X).location}var te="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ne(e){t.useContext(Y).static||t.useLayoutEffect(e)}function re(){let{isDataRoute:e}=t.useContext(J);return e?function(){let{router:e}=fe("useNavigate"),n=me("useNavigate"),r=t.useRef(!1);ne(()=>{r.current=!0});let a=t.useCallback(async function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l(r.current,te),r.current&&("number"===typeof t?e.navigate(t):await e.navigate(t,{fromRouteId:n,...a}))},[e,n]);return a}():function(){o(Q(),"useNavigate() may be used only in the context of a <Router> component.");let e=t.useContext(U),{basename:n,navigator:r}=t.useContext(Y),{matches:a}=t.useContext(J),{pathname:i}=ee(),s=JSON.stringify(D(a)),c=t.useRef(!1);ne(()=>{c.current=!0});let u=t.useCallback(function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(l(c.current,te),!c.current)return;if("number"===typeof t)return void r.go(t);let o=z(t,JSON.parse(s),i,"path"===a.relative);null==e&&"/"!==n&&(o.pathname="/"===o.pathname?n:I([n,o.pathname])),(a.replace?r.replace:r.push)(o,a.state,a)},[n,r,s,i,e]);return u}()}t.createContext(null);function ae(){let{matches:e}=t.useContext(J),n=e[e.length-1];return n?n.params:{}}function ie(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=t.useContext(J),{pathname:a}=ee(),i=JSON.stringify(D(r));return t.useMemo(()=>z(e,JSON.parse(i),a,"path"===n),[e,i,a,n])}function se(e,n,r,a){o(Q(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=t.useContext(Y),{matches:s}=t.useContext(J),c=s[s.length-1],u=c?c.params:{},d=c?c.pathname:"/",f=c?c.pathnameBase:"/",p=c&&c.route;{let e=p&&p.path||"";ye(d,!p||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let g,v=ee();if(n){let e="string"===typeof n?h(n):n;o("/"===f||e.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${e.pathname}" was given in the \`location\` prop.`),g=e}else g=v;let y=g.pathname||"/",x=y;if("/"!==f){let e=f.replace(/^\//,"").split("/");x="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=m(e,{pathname:x});l(p||null!=b,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),l(null==b||void 0!==b[b.length-1].route.element||void 0!==b[b.length-1].route.Component||void 0!==b[b.length-1].route.lazy,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=de(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:I([f,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?f:I([f,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),s,r,a);return n&&w?t.createElement(X.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},w):w}function oe(){let e=ge(),n=F(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},s={padding:"2px 4px",backgroundColor:a},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=t.createElement(t.Fragment,null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",t.createElement("code",{style:s},"ErrorBoundary")," or"," ",t.createElement("code",{style:s},"errorElement")," prop on your route.")),t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:i},r):null,o)}var le=t.createElement(oe,null),ce=class extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(J.Provider,{value:this.props.routeContext},t.createElement(Z.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ue(e){let{routeContext:n,match:r,children:a}=e,i=t.useContext(U);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(J.Provider,{value:n},a)}function de(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!r)return null;if(r.errors)e=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;e=r.matches}}let a=e,i=r?.errors;if(null!=i){let e=a.findIndex(e=>e.route.id&&void 0!==i?.[e.route.id]);o(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),a=a.slice(0,Math.min(a.length,e+1))}let s=!1,l=-1;if(r)for(let t=0;t<a.length;t++){let e=a[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=t),e.route.id){let{loaderData:t,errors:n}=r,i=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){s=!0,a=l>=0?a.slice(0,l+1):[a[0]];break}}}return a.reduceRight((e,o,c)=>{let u,d=!1,h=null,f=null;r&&(u=i&&o.route.id?i[o.route.id]:void 0,h=o.route.errorElement||le,s&&(l<0&&0===c?(ye("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,f=null):l===c&&(d=!0,f=o.route.hydrateFallbackElement||null)));let p=n.concat(a.slice(0,c+1)),m=()=>{let n;return n=u?h:d?f:o.route.Component?t.createElement(o.route.Component,null):o.route.element?o.route.element:e,t.createElement(ue,{match:o,routeContext:{outlet:e,matches:p,isDataRoute:null!=r},children:n})};return r&&(o.route.ErrorBoundary||o.route.errorElement||0===c)?t.createElement(ce,{location:r.location,revalidation:r.revalidation,component:h,error:u,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}function he(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fe(e){let n=t.useContext(U);return o(n,he(e)),n}function pe(e){let n=t.useContext(H);return o(n,he(e)),n}function me(e){let n=function(e){let n=t.useContext(J);return o(n,he(e)),n}(e),r=n.matches[n.matches.length-1];return o(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function ge(){let e=t.useContext(Z),n=pe("useRouteError"),r=me("useRouteError");return void 0!==e?e:n.errors?.[r]}var ve={};function ye(e,t,n){t||ve[e]||(ve[e]=!0,l(!1,n))}var xe={};function be(e,t){e||xe[t]||(xe[t]=!0,console.warn(t))}t.memo(function(e){let{routes:t,future:n,state:r}=e;return se(t,void 0,r,n)});function we(e){o(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function je(e){let{basename:n="/",children:r=null,location:a,navigationType:i="POP",navigator:s,static:c=!1}=e;o(!Q(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),d=t.useMemo(()=>({basename:u,navigator:s,static:c,future:{}}),[u,s,c]);"string"===typeof a&&(a=h(a));let{pathname:f="/",search:p="",hash:m="",state:g=null,key:v="default"}=a,y=t.useMemo(()=>{let e=T(f,u);return null==e?null:{location:{pathname:e,search:p,hash:m,state:g,key:v},navigationType:i}},[u,f,p,m,g,v,i]);return l(null!=y,`<Router basename="${u}"> is not able to match the URL "${f}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),null==y?null:t.createElement(Y.Provider,{value:d},t.createElement(X.Provider,{children:r,value:y}))}function ke(e){let{children:t,location:n}=e;return se(Ne(t),n)}t.Component;function Ne(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return t.Children.forEach(e,(e,a)=>{if(!t.isValidElement(e))return;let i=[...n,a];if(e.type===t.Fragment)return void r.push.apply(r,Ne(e.props.children,i));o(e.type===we,`[${"string"===typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),o(!e.props.index||!e.props.children,"An index route cannot have child routes.");let s={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=Ne(e.props.children,i)),r.push(s)}),r}var _e="get",Se="application/x-www-form-urlencoded";function Ce(e){return null!=e&&"string"===typeof e.tagName}var Oe=null;var Ee=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pe(e){return null==e||Ee.has(e)?e:(l(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Se}"`),null)}function Te(e,t){let n,r,a,i,s;if(function(e){return Ce(e)&&"form"===e.tagName.toLowerCase()}(e)){let s=e.getAttribute("action");r=s?T(s,t):null,n=e.getAttribute("method")||_e,a=Pe(e.getAttribute("enctype"))||Se,i=new FormData(e)}else if(function(e){return Ce(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Ce(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||s.getAttribute("action");if(r=o?T(o,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||_e,a=Pe(e.getAttribute("formenctype"))||Pe(s.getAttribute("enctype"))||Se,i=new FormData(s,e),!function(){if(null===Oe)try{new FormData(document.createElement("form"),0),Oe=!1}catch(e){Oe=!0}return Oe}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";i.append(`${e}x`,"0"),i.append(`${e}y`,"0")}else t&&i.append(t,r)}}else{if(Ce(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=_e,r=null,a=Se,s=e}return i&&"text/plain"===a&&(s=i,i=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:i,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function Ae(e){return{__html:e}}function Me(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function De(e,t,n){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname=`_root.${n}`:t&&"/"===T(r.pathname,t)?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function ze(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ie(e){return null!=e&&"string"===typeof e.page}function Le(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Re(e,t,n,r,a,i){let s=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===i?t.filter((e,t)=>s(e,t)||o(e,t)):"data"===i?t.filter((t,i)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(s(t,i)||o(t,i))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function $e(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1),[...new Set(r)];var r}function Fe(e,t){let n=new Set,r=new Set(t);return e.reduce((e,a)=>{if(t&&!Ie(a)&&"script"===a.as&&a.href&&r.has(a.href))return e;let i=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(a));return n.has(i)||(n.add(i),e.push({key:i,link:a})),e},[])}function Be(e,t){return"lazy"===e.mode&&!0===t}function Ve(){let e=t.useContext(U);return Me(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Ue(){let e=t.useContext(H);return Me(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var He=t.createContext(void 0);function qe(){let e=t.useContext(He);return Me(e,"You must render this element inside a <HydratedRouter> element"),e}function We(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Ke(e,t,n){if(n&&!Je)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}He.displayName="FrameworkContext";function Ge(e){let{page:n,...r}=e,{router:a}=Ve(),i=t.useMemo(()=>m(a.routes,n,a.basename),[a.routes,n,a.basename]);return i?t.createElement(Xe,{page:n,matches:i,...r}):null}function Ye(e){let{manifest:n,routeModules:r}=qe(),[a,i]=t.useState([]);return t.useEffect(()=>{let t=!1;return async function(e,t,n){return Fe((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await ze(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Le).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"}))}(e,n,r).then(e=>{t||i(e)}),()=>{t=!0}},[e,n,r]),a}function Xe(e){let{page:n,matches:r,...a}=e,i=ee(),{manifest:s,routeModules:o}=qe(),{basename:l}=Ve(),{loaderData:c,matches:u}=Ue(),d=t.useMemo(()=>Re(n,r,u,s,i,"data"),[n,r,u,s,i]),h=t.useMemo(()=>Re(n,r,u,s,i,"assets"),[n,r,u,s,i]),f=t.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let e=new Set,t=!1;if(r.forEach(n=>{let r=s.routes[n.route.id];r&&r.hasLoader&&(!d.some(e=>e.route.id===n.route.id)&&n.route.id in c&&o[n.route.id]?.shouldRevalidate||r.hasClientLoader?t=!0:e.add(n.route.id))}),0===e.size)return[];let a=De(n,l,"data");return t&&e.size>0&&a.searchParams.set("_routes",r.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[a.pathname+a.search]},[l,c,i,s,d,r,n,o]),p=t.useMemo(()=>$e(h,s),[h,s]),m=Ye(h);return t.createElement(t.Fragment,null,f.map(e=>t.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...a})),p.map(e=>t.createElement("link",{key:e,rel:"modulepreload",href:e,...a})),m.map(e=>{let{key:n,link:r}=e;return t.createElement("link",{key:n,...r})}))}var Je=!1;function Ze(e){let{manifest:n,serverHandoffString:r,isSpaMode:a,renderMeta:i,routeDiscovery:s,ssr:o}=qe(),{router:l,static:c,staticContext:u}=Ve(),{matches:d}=Ue(),h=t.useContext(q),f=Be(s,o);i&&(i.didRenderScripts=!0);let p=Ke(d,null,a);t.useEffect(()=>{0},[]);let g=t.useMemo(()=>{if(h)return null;let a=u?`window.__reactRouterContext = ${r};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",i=c?`${n.hmr?.runtime?`import ${JSON.stringify(n.hmr.runtime)};`:""}${f?"":`import ${JSON.stringify(n.url)}`};\n${p.map((e,t)=>{let r=`route${t}`,a=n.routes[e.route.id];Me(a,`Route ${e.route.id} not found in manifest`);let{clientActionModule:i,clientLoaderModule:s,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=a,u=[...i?[{module:i,varName:`${r}_clientAction`}]:[],...s?[{module:s,varName:`${r}_clientLoader`}]:[],...o?[{module:o,varName:`${r}_clientMiddleware`}]:[],...l?[{module:l,varName:`${r}_HydrateFallback`}]:[],{module:c,varName:`${r}_main`}];return 1===u.length?`import * as ${r} from ${JSON.stringify(c)};`:[u.map(e=>`import * as ${e.varName} from "${e.module}";`).join("\n"),`const ${r} = {${u.map(e=>`...${e.varName}`).join(",")}};`].join("\n")}).join("\n")}\n  ${f?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let{sri:n,...r}=e,a=new Set(t.state.matches.map(e=>e.route.id)),i=t.state.location.pathname.split("/").filter(Boolean),s=["/"];for(i.pop();i.length>0;)s.push(`/${i.join("/")}`),i.pop();s.forEach(e=>{let n=m(t.routes,e,t.basename);n&&n.forEach(e=>a.add(e.route.id))});let o=[...a].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return{...r,routes:o,sri:!!n||void 0}}(n,l),null,2)};`:""}\n  window.__reactRouterRouteModules = {${p.map((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`).join(",")}};\n\nimport(${JSON.stringify(n.entry.module)});`:" ";return t.createElement(t.Fragment,null,t.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ae(a),type:void 0}),t.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ae(i),type:"module",async:!0}))},[]),v=Je||h?[]:function(e){return[...new Set(e)]}(n.entry.imports.concat($e(p,n,{includeHydrateFallback:!0}))),y="object"===typeof n.sri?n.sri:{};return be(!h,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),Je||h?null:t.createElement(t.Fragment,null,"object"===typeof n.sri?t.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:y})}}):null,f?null:t.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:e.crossOrigin,integrity:y[n.url],suppressHydrationWarning:!0}),t.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:e.crossOrigin,integrity:y[n.entry.module],suppressHydrationWarning:!0}),v.map(n=>t.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:e.crossOrigin,integrity:y[n],suppressHydrationWarning:!0})),g)}function Qe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}t.Component;function et(e){let{error:n,isOutsideRemixApp:r}=e;console.error(n);let a,i=t.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(F(n))return t.createElement(tt,{title:"Unhandled Thrown Response!"},t.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),i);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return t.createElement(tt,{title:"Application Error!",isOutsideRemixApp:r},t.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),t.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},a.stack),i)}function tt(e){let{title:n,renderScripts:r,isOutsideRemixApp:a,children:i}=e,{routeModules:s}=qe();return s.root?.Layout&&!a?i:t.createElement("html",{lang:"en"},t.createElement("head",null,t.createElement("meta",{charSet:"utf-8"}),t.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),t.createElement("title",null,n)),t.createElement("body",null,t.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},i,r?t.createElement(Ze,null):null)))}var nt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{nt&&(window.__reactRouterVersion="7.7.1")}catch(vV){}function rt(e){let{basename:n,children:r,window:a}=e,i=t.useRef();null==i.current&&(i.current=s({window:a,v5Compat:!0}));let o=i.current,[l,c]=t.useState({action:o.action,location:o.location}),u=t.useCallback(e=>{t.startTransition(()=>c(e))},[c]);return t.useLayoutEffect(()=>o.listen(u),[o,u]),t.createElement(je,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:o})}var at=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,it=t.forwardRef(function(e,n){let r,{onClick:a,discover:i="render",prefetch:s="none",relative:c,reloadDocument:u,replace:h,state:f,target:p,to:m,preventScrollReset:g,viewTransition:v,...y}=e,{basename:x}=t.useContext(Y),b="string"===typeof m&&at.test(m),w=!1;if("string"===typeof m&&b&&(r=m,nt))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=T(t.pathname,x);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:w=!0}catch(vV){l(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(Q(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=t.useContext(Y),{hash:i,pathname:s,search:l}=ie(e,{relative:n}),c=s;return"/"!==r&&(c="/"===s?r:I([r,s])),a.createHref({pathname:c,search:l,hash:i})}(m,{relative:c}),[k,N,_]=function(e,n){let r=t.useContext(He),[a,i]=t.useState(!1),[s,o]=t.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=n,f=t.useRef(null);t.useEffect(()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),t.useEffect(()=>{if(a){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[a]);let p=()=>{i(!0)},m=()=>{i(!1),o(!1)};return r?"intent"!==e?[s,f,{}]:[s,f,{onFocus:We(l,p),onBlur:We(c,m),onMouseEnter:We(u,p),onMouseLeave:We(d,m),onTouchStart:We(h,p)}]:[!1,f,{}]}(s,y),S=function(e){let{target:n,replace:r,state:a,preventScrollReset:i,relative:s,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=re(),c=ee(),u=ie(e,{relative:s});return t.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:d(c)===d(u);l(e,{replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:o})}},[c,l,u,r,a,n,e,i,s,o])}(m,{replace:h,state:f,target:p,preventScrollReset:g,relative:c,viewTransition:v});let C=t.createElement("a",{...y,..._,href:r||j,onClick:w||u?a:function(e){a&&a(e),e.defaultPrevented||S(e)},ref:Qe(n,N),target:p,"data-discover":b||"render"!==i?void 0:"true"});return k&&!b?t.createElement(t.Fragment,null,C,t.createElement(Ge,{page:j})):C});it.displayName="Link";var st=t.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:a=!1,className:i="",end:s=!1,style:l,to:c,viewTransition:u,children:d,...h}=e,f=ie(c,{relative:h.relative}),p=ee(),m=t.useContext(H),{navigator:g,basename:v}=t.useContext(Y),y=null!=m&&function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.useContext(W);o(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=ct("useViewTransitionState"),i=ie(e,{relative:n});if(!r.isTransitioning)return!1;let s=T(r.currentLocation.pathname,a)||r.currentLocation.pathname,l=T(r.nextLocation.pathname,a)||r.nextLocation.pathname;return null!=O(i.pathname,l)||null!=O(i.pathname,s)}(f)&&!0===u,x=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,b=p.pathname,w=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;a||(b=b.toLowerCase(),w=w?w.toLowerCase():null,x=x.toLowerCase()),w&&v&&(w=T(w,v)||w);const j="/"!==x&&x.endsWith("/")?x.length-1:x.length;let k,N=b===x||!s&&b.startsWith(x)&&"/"===b.charAt(j),_=null!=w&&(w===x||!s&&w.startsWith(x)&&"/"===w.charAt(x.length)),S={isActive:N,isPending:_,isTransitioning:y},C=N?r:void 0;k="function"===typeof i?i(S):[i,N?"active":null,_?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let E="function"===typeof l?l(S):l;return t.createElement(it,{...h,"aria-current":C,className:k,ref:n,style:E,to:c,viewTransition:u},"function"===typeof d?d(S):d)});st.displayName="NavLink";var ot=t.forwardRef((e,n)=>{let{discover:r="render",fetcherKey:a,navigate:i,reloadDocument:s,replace:l,state:c,method:u=_e,action:h,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:g,...v}=e,y=ht(),x=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=t.useContext(Y),a=t.useContext(J);o(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),s={...ie(e||".",{relative:n})},l=ee();if(null==e){s.search=l.search;let e=new URLSearchParams(s.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();s.search=n?`?${n}`:""}}e&&"."!==e||!i.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(s.pathname="/"===s.pathname?r:I([r,s.pathname]));return d(s)}(h,{relative:p}),b="get"===u.toLowerCase()?"get":"post",w="string"===typeof h&&at.test(h);return t.createElement("form",{ref:n,method:b,action:x,onSubmit:s?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=t?.getAttribute("formmethod")||u;y(t||e.currentTarget,{fetcherKey:a,method:n,navigate:i,replace:l,state:c,relative:p,preventScrollReset:m,viewTransition:g})},...v,"data-discover":w||"render"!==r?void 0:"true"})});function lt(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ct(e){let n=t.useContext(U);return o(n,lt(e)),n}ot.displayName="Form";var ut=0,dt=()=>`__${String(++ut)}__`;function ht(){let{router:e}=ct("useSubmit"),{basename:n}=t.useContext(Y),r=me("useRouteId");return t.useCallback(async function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:i,method:s,encType:o,formData:l,body:c}=Te(t,n);if(!1===a.navigate){let t=a.fetcherKey||dt();await e.fetch(t,r,a.action||i,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||s,formEncType:a.encType||o,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||s,formEncType:a.encType||o,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,n,r])}var ft=n(579);const pt=(0,t.createContext)({});function mt(e){const n=(0,t.useRef)(null);return null===n.current&&(n.current=e()),n.current}const gt="undefined"!==typeof window,vt=gt?t.useLayoutEffect:t.useEffect,yt=(0,t.createContext)(null);function xt(e){return"object"===typeof e&&null!==e}function bt(e){return xt(e)&&"offsetHeight"in e}const wt=(0,t.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class jt extends t.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,n=bt(e)&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=n-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function kt(e){let{children:n,isPresent:r,anchorX:a,root:i}=e;const s=(0,t.useId)(),o=(0,t.useRef)(null),l=(0,t.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=(0,t.useContext)(wt);return(0,t.useInsertionEffect)(()=>{const{width:e,height:t,top:n,left:u,right:d}=l.current;if(r||!o.current||!e||!t)return;const h="left"===a?`left: ${u}`:`right: ${d}`;o.current.dataset.motionPopId=s;const f=document.createElement("style");c&&(f.nonce=c);const p=i??document.head;return p.appendChild(f),f.sheet&&f.sheet.insertRule(`\n          [data-motion-pop-id="${s}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${t}px !important;\n            ${h}px !important;\n            top: ${n}px !important;\n          }\n        `),()=>{p.contains(f)&&p.removeChild(f)}},[r]),(0,ft.jsx)(jt,{isPresent:r,childRef:o,sizeRef:l,children:t.cloneElement(n,{ref:o})})}const Nt=e=>{let{children:n,initial:r,isPresent:a,onExitComplete:i,custom:s,presenceAffectsLayout:o,mode:l,anchorX:c,root:u}=e;const d=mt(_t),h=(0,t.useId)();let f=!0,p=(0,t.useMemo)(()=>(f=!1,{id:h,initial:r,isPresent:a,custom:s,onExitComplete:e=>{d.set(e,!0);for(const t of d.values())if(!t)return;i&&i()},register:e=>(d.set(e,!1),()=>d.delete(e))}),[a,d,i]);return o&&f&&(p={...p}),(0,t.useMemo)(()=>{d.forEach((e,t)=>d.set(t,!1))},[a]),t.useEffect(()=>{!a&&!d.size&&i&&i()},[a]),"popLayout"===l&&(n=(0,ft.jsx)(kt,{isPresent:a,anchorX:c,root:u,children:n})),(0,ft.jsx)(yt.Provider,{value:p,children:n})};function _t(){return new Map}function St(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const n=(0,t.useContext)(yt);if(null===n)return[!0,null];const{isPresent:r,onExitComplete:a,register:i}=n,s=(0,t.useId)();(0,t.useEffect)(()=>{if(e)return i(s)},[e]);const o=(0,t.useCallback)(()=>e&&a&&a(s),[s,a,e]);return!r&&a?[!1,o]:[!0]}const Ct=e=>e.key||"";function Ot(e){const n=[];return t.Children.forEach(e,e=>{(0,t.isValidElement)(e)&&n.push(e)}),n}const Et=e=>{let{children:n,custom:r,initial:a=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync",propagate:l=!1,anchorX:c="left",root:u}=e;const[d,h]=St(l),f=(0,t.useMemo)(()=>Ot(n),[n]),p=l&&!d?[]:f.map(Ct),m=(0,t.useRef)(!0),g=(0,t.useRef)(f),v=mt(()=>new Map),[y,x]=(0,t.useState)(f),[b,w]=(0,t.useState)(f);vt(()=>{m.current=!1,g.current=f;for(let e=0;e<b.length;e++){const t=Ct(b[e]);p.includes(t)?v.delete(t):!0!==v.get(t)&&v.set(t,!1)}},[b,p.length,p.join("-")]);const j=[];if(f!==y){let e=[...f];for(let t=0;t<b.length;t++){const n=b[t],r=Ct(n);p.includes(r)||(e.splice(t,0,n),j.push(n))}return"wait"===o&&j.length&&(e=j),w(Ot(e)),x(f),null}const{forceRender:k}=(0,t.useContext)(pt);return(0,ft.jsx)(ft.Fragment,{children:b.map(e=>{const t=Ct(e),n=!(l&&!d)&&(f===b||p.includes(t));return(0,ft.jsx)(Nt,{isPresent:n,initial:!(m.current&&!a)&&void 0,custom:r,presenceAffectsLayout:s,mode:o,root:u,onExitComplete:n?void 0:()=>{if(!v.has(t))return;v.set(t,!0);let e=!0;v.forEach(t=>{t||(e=!1)}),e&&(k?.(),w(g.current),l&&h?.(),i&&i())},anchorX:c,children:e},t)})})},Pt=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Tt=(()=>new Set(Pt))(),At=e=>180*e/Math.PI,Mt=e=>{const t=At(Math.atan2(e[1],e[0]));return zt(t)},Dt={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Mt,rotateZ:Mt,skewX:e=>At(Math.atan(e[1])),skewY:e=>At(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},zt=e=>((e%=360)<0&&(e+=360),e),It=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Lt=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Rt={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:It,scaleY:Lt,scale:e=>(It(e)+Lt(e))/2,rotateX:e=>zt(At(Math.atan2(e[6],e[5]))),rotateY:e=>zt(At(Math.atan2(-e[2],e[0]))),rotateZ:Mt,rotate:Mt,skewX:e=>At(Math.atan(e[4])),skewY:e=>At(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function $t(e){return e.includes("scale")?1:0}function Ft(e,t){if(!e||"none"===e)return $t(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=Rt,a=n;else{const t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Dt,a=t}if(!a)return $t(t);const i=r[t],s=a[1].split(",").map(Bt);return"function"===typeof i?i(s):s[i]}function Bt(e){return parseFloat(e.trim())}const Vt=e=>t=>"string"===typeof t&&t.startsWith(e),Ut=Vt("--"),Ht=Vt("var(--"),qt=e=>!!Ht(e)&&Wt.test(e.split("/*")[0].trim()),Wt=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Kt(e){let{top:t,left:n,right:r,bottom:a}=e;return{x:{min:n,max:r},y:{min:t,max:a}}}const Gt=(e,t,n)=>e+(t-e)*n;function Yt(e){return void 0===e||1===e}function Xt(e){let{scale:t,scaleX:n,scaleY:r}=e;return!Yt(t)||!Yt(n)||!Yt(r)}function Jt(e){return Xt(e)||Zt(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Zt(e){return Qt(e.x)||Qt(e.y)}function Qt(e){return e&&"0%"!==e}function en(e,t,n){return n+t*(e-n)}function tn(e,t,n,r,a){return void 0!==a&&(e=en(e,a,r)),en(e,n,r)+t}function nn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;e.min=tn(e.min,t,n,r,a),e.max=tn(e.max,t,n,r,a)}function rn(e,t){let{x:n,y:r}=t;nn(e.x,n.translate,n.scale,n.originPoint),nn(e.y,r.translate,r.scale,r.originPoint)}const an=.999999999999,sn=1.0000000000001;function on(e,t){e.min=e.min+t,e.max=e.max+t}function ln(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;nn(e,t,n,Gt(e.min,e.max,a),r)}function cn(e,t){ln(e.x,t.x,t.scaleX,t.scale,t.originX),ln(e.y,t.y,t.scaleY,t.scale,t.originY)}function un(e,t){return Kt(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const dn=new Set(["width","height","top","left","right","bottom",...Pt]),hn=(e,t,n)=>n>t?t:n<e?e:n,fn={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},pn={...fn,transform:e=>hn(0,1,e)},mn={...fn,default:1},gn=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),vn=gn("deg"),yn=gn("%"),xn=gn("px"),bn=gn("vh"),wn=gn("vw"),jn=(()=>({...yn,parse:e=>yn.parse(e)/100,transform:e=>yn.transform(100*e)}))(),kn=e=>t=>t.test(e),Nn=[fn,xn,yn,vn,wn,bn,{test:e=>"auto"===e,parse:e=>e}],_n=e=>Nn.find(kn(e));const Sn=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Cn=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function On(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const[r,a]=function(e){const t=Cn.exec(e);if(!t)return[,];const[,n,r,a]=t;return[`--${n??r}`,a]}(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const e=i.trim();return Sn(e)?parseFloat(e):e}return qt(a)?On(a,t,n+1):a}const En=e=>e===fn||e===xn,Pn=new Set(["x","y","z"]),Tn=Pt.filter(e=>!Pn.has(e));const An={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:a="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(a)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:a="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(a)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:(e,t)=>{let{transform:n}=t;return Ft(n,"x")},y:(e,t)=>{let{transform:n}=t;return Ft(n,"y")}};An.translateX=An.x,An.translateY=An.y;const Mn=e=>e,Dn={},zn=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],In={value:null,addProjectionMetrics:null};function Ln(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,s=zn.reduce((e,n)=>(e[n]=function(e,t){let n=new Set,r=new Set,a=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},l=0;function c(t){s.has(t)&&(u.schedule(t),e()),l++,t(o)}const u={schedule:function(e){const t=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&a?n:r;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&s.add(e),t.has(e)||t.add(e),e},cancel:e=>{r.delete(e),s.delete(e)},process:e=>{o=e,a?i=!0:(a=!0,[n,r]=[r,n],n.forEach(c),t&&In.value&&In.value.frameloop[t].push(l),l=0,n.clear(),a=!1,i&&(i=!1,u.process(e)))}};return u}(i,t?n:void 0),e),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:u,update:d,preRender:h,render:f,postRender:p}=s,m=()=>{const i=Dn.useManualTiming?a.timestamp:performance.now();n=!1,Dn.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(i-a.timestamp,40),1)),a.timestamp=i,a.isProcessing=!0,o.process(a),l.process(a),c.process(a),u.process(a),d.process(a),h.process(a),f.process(a),p.process(a),a.isProcessing=!1,n&&t&&(r=!1,e(m))},g=zn.reduce((t,i)=>{const o=s[i];return t[i]=function(t){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,a.isProcessing||e(m)),o.schedule(t,i,s)},t},{});return{schedule:g,cancel:e=>{for(let t=0;t<zn.length;t++)s[zn[t]].cancel(e)},state:a,steps:s}}const{schedule:Rn,cancel:$n,state:Fn,steps:Bn}=Ln("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:Mn,!0),Vn=new Set;let Un=!1,Hn=!1,qn=!1;function Wn(){if(Hn){const e=Array.from(Vn).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),n=new Map;t.forEach(e=>{const t=function(e){const t=[];return Tn.forEach(n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}(e);t.length&&(n.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();const t=n.get(e);t&&t.forEach(t=>{let[n,r]=t;e.getValue(n)?.set(r)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}Hn=!1,Un=!1,Vn.forEach(e=>e.complete(qn)),Vn.clear()}function Kn(){Vn.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Hn=!0)})}class Gn{constructor(e,t,n,r,a){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=a,this.isAsync=i}scheduleResolve(){this.state="scheduled",this.isAsync?(Vn.add(this),Un||(Un=!0,Rn.read(Kn),Rn.resolveKeyframes(Wn))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;if(null===e[0]){const a=r?.get(),i=e[e.length-1];if(void 0!==a)e[0]=a;else if(n&&t){const r=n.readValue(t,i);void 0!==r&&null!==r&&(e[0]=r)}void 0===e[0]&&(e[0]=i),r&&void 0===a&&r.set(e[0])}!function(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Vn.delete(this)}cancel(){"scheduled"===this.state&&(Vn.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}const Yn=e=>/^0[^.\s]+$/u.test(e);function Xn(e){return"number"===typeof e?0===e:null===e||("none"===e||"0"===e||Yn(e))}const Jn=e=>Math.round(1e5*e)/1e5,Zn=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;const Qn=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,er=(e,t)=>n=>Boolean("string"===typeof n&&Qn.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),tr=(e,t,n)=>r=>{if("string"!==typeof r)return r;const[a,i,s,o]=r.match(Zn);return{[e]:parseFloat(a),[t]:parseFloat(i),[n]:parseFloat(s),alpha:void 0!==o?parseFloat(o):1}},nr={...fn,transform:e=>Math.round((e=>hn(0,255,e))(e))},rr={test:er("rgb","red"),parse:tr("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:a=1}=e;return"rgba("+nr.transform(t)+", "+nr.transform(n)+", "+nr.transform(r)+", "+Jn(pn.transform(a))+")"}};const ar={test:er("#"),parse:function(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}},transform:rr.transform},ir={test:er("hsl","hue"),parse:tr("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:a=1}=e;return"hsla("+Math.round(t)+", "+yn.transform(Jn(n))+", "+yn.transform(Jn(r))+", "+Jn(pn.transform(a))+")"}},sr={test:e=>rr.test(e)||ar.test(e)||ir.test(e),parse:e=>rr.test(e)?rr.parse(e):ir.test(e)?ir.parse(e):ar.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?rr.transform(e):ir.transform(e),getAnimatableNone:e=>{const t=sr.parse(e);return t.alpha=0,sr.transform(t)}},or=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;const lr="number",cr="color",ur=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function dr(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},a=[];let i=0;const s=t.replace(ur,e=>(sr.test(e)?(r.color.push(i),a.push(cr),n.push(sr.parse(e))):e.startsWith("var(")?(r.var.push(i),a.push("var"),n.push(e)):(r.number.push(i),a.push(lr),n.push(parseFloat(e))),++i,"${}")).split("${}");return{values:n,split:s,indexes:r,types:a}}function hr(e){return dr(e).values}function fr(e){const{split:t,types:n}=dr(e),r=t.length;return e=>{let a="";for(let i=0;i<r;i++)if(a+=t[i],void 0!==e[i]){const t=n[i];a+=t===lr?Jn(e[i]):t===cr?sr.transform(e[i]):e[i]}return a}}const pr=e=>"number"===typeof e?0:sr.test(e)?sr.getAnimatableNone(e):e;const mr={test:function(e){return isNaN(e)&&"string"===typeof e&&(e.match(Zn)?.length||0)+(e.match(or)?.length||0)>0},parse:hr,createTransformer:fr,getAnimatableNone:function(e){const t=hr(e);return fr(e)(t.map(pr))}},gr=new Set(["brightness","contrast","saturate","opacity"]);function vr(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(Zn)||[];if(!r)return e;const a=n.replace(r,"");let i=gr.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+a+")"}const yr=/\b([a-z-]*)\(.*?\)/gu,xr={...mr,getAnimatableNone:e=>{const t=e.match(yr);return t?t.map(vr).join(" "):e}},br={...fn,transform:Math.round},wr={borderWidth:xn,borderTopWidth:xn,borderRightWidth:xn,borderBottomWidth:xn,borderLeftWidth:xn,borderRadius:xn,radius:xn,borderTopLeftRadius:xn,borderTopRightRadius:xn,borderBottomRightRadius:xn,borderBottomLeftRadius:xn,width:xn,maxWidth:xn,height:xn,maxHeight:xn,top:xn,right:xn,bottom:xn,left:xn,padding:xn,paddingTop:xn,paddingRight:xn,paddingBottom:xn,paddingLeft:xn,margin:xn,marginTop:xn,marginRight:xn,marginBottom:xn,marginLeft:xn,backgroundPositionX:xn,backgroundPositionY:xn,...{rotate:vn,rotateX:vn,rotateY:vn,rotateZ:vn,scale:mn,scaleX:mn,scaleY:mn,scaleZ:mn,skew:vn,skewX:vn,skewY:vn,distance:xn,translateX:xn,translateY:xn,translateZ:xn,x:xn,y:xn,z:xn,perspective:xn,transformPerspective:xn,opacity:pn,originX:jn,originY:jn,originZ:xn},zIndex:br,fillOpacity:pn,strokeOpacity:pn,numOctaves:br},jr={...wr,color:sr,backgroundColor:sr,outlineColor:sr,fill:sr,stroke:sr,borderColor:sr,borderTopColor:sr,borderRightColor:sr,borderBottomColor:sr,borderLeftColor:sr,filter:xr,WebkitFilter:xr},kr=e=>jr[e];function Nr(e,t){let n=kr(e);return n!==xr&&(n=mr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const _r=new Set(["auto","none","0"]);class Sr extends Gn{constructor(e,t,n,r,a){super(e,t,n,r,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let o=0;o<e.length;o++){let n=e[o];if("string"===typeof n&&(n=n.trim(),qt(n))){const r=On(n,t.current);void 0!==r&&(e[o]=r),o===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!dn.has(n)||2!==e.length)return;const[r,a]=e,i=_n(r),s=_n(a);if(i!==s)if(En(i)&&En(s))for(let o=0;o<e.length;o++){const t=e[o];"string"===typeof t&&(e[o]=parseFloat(t))}else An[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let r=0;r<e.length;r++)(null===e[r]||Xn(e[r]))&&n.push(r);n.length&&function(e,t,n){let r,a=0;for(;a<e.length&&!r;){const t=e[a];"string"===typeof t&&!_r.has(t)&&dr(t).values.length&&(r=e[a]),a++}if(r&&n)for(const i of t)e[i]=Nr(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=An[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);const a=n.length-1,i=n[a];n[a]=An[t](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==i&&void 0===this.finalKeyframe&&(this.finalKeyframe=i),this.removedTransforms?.length&&this.removedTransforms.forEach(t=>{let[n,r]=t;e.getValue(n).set(r)}),this.resolveNoneKeyframes()}}const Cr=e=>Boolean(e&&e.getVelocity);let Or;function Er(){Or=void 0}const Pr={now:()=>(void 0===Or&&Pr.set(Fn.isProcessing||Dn.useManualTiming?Fn.timestamp:performance.now()),Or),set:e=>{Or=e,queueMicrotask(Er)}};function Tr(e,t){-1===e.indexOf(t)&&e.push(t)}function Ar(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Mr{constructor(){this.subscriptions=[]}add(e){return Tr(this.subscriptions,e),()=>Ar(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let a=0;a<r;a++){const r=this.subscriptions[a];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Dr(e,t){return t?e*(1e3/t):0}const zr={current:void 0};class Ir{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{const t=Pr.now();if(this.updatedAt!==t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const n of this.dependents)n.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Pr.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(e=>!isNaN(parseFloat(e)))(this.current))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Mr);const n=this.events[e].add(t);return"change"===e?()=>{n(),Rn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return zr.current&&zr.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Pr.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return Dr(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Lr(e,t){return new Ir(e,t)}const Rr=[...Nn,sr,mr],{schedule:$r,cancel:Fr}=Ln(queueMicrotask,!1),Br={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Vr={};for(const n in Br)Vr[n]={isEnabled:e=>Br[n].some(t=>!!e[t])};const Ur=()=>({x:{min:0,max:0},y:{min:0,max:0}}),Hr={current:null},qr={current:!1};const Wr=new WeakMap;function Kr(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}function Gr(e){return"string"===typeof e||Array.isArray(e)}const Yr=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Xr=["initial",...Yr];function Jr(e){return Kr(e.animate)||Xr.some(t=>Gr(e[t]))}function Zr(e){return Boolean(Jr(e)||e.variants)}function Qr(e){const t=[{},{}];return e?.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function ea(e,t,n,r){if("function"===typeof t){const[a,i]=Qr(r);t=t(void 0!==n?n:e.custom,a,i)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[a,i]=Qr(r);t=t(void 0!==n?n:e.custom,a,i)}return t}const ta=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class na{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:i,visualState:s}=e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Gn,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=Pr.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,Rn.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.blockInitialAnimation=Boolean(i),this.isControllingVariants=Jr(n),this.isVariantNode=Zr(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in d){const e=d[h];void 0!==l[h]&&Cr(e)&&e.set(l[h])}}mount(e){this.current=e,Wr.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),qr.current||function(){if(qr.current=!0,gt)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Hr.current=e.matches;e.addEventListener("change",t),t()}else Hr.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Hr.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),$n(this.notifyUpdate),$n(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Tt.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&Rn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in Vr){const t=Vr[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<ta.length;n++){const t=ta[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const a=t[r],i=n[r];if(Cr(a))e.addValue(r,a);else if(Cr(i))e.addValue(r,Lr(a,{owner:e}));else if(i!==a)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(a):t.hasAnimated||t.set(a)}else{const t=e.getStaticValue(r);e.addValue(r,Lr(void 0!==t?t:a,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=Lr(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){let n=void 0===this.latestValues[e]&&this.current?this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var r;return void 0!==n&&null!==n&&("string"===typeof n&&(Sn(n)||Yn(n))?n=parseFloat(n):(r=n,!Rr.find(kn(r))&&mr.test(t)&&(n=Nr(e,t))),this.setBaseTarget(e,Cr(n)?n.get():n)),Cr(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let n;if("string"===typeof t||"object"===typeof t){const r=ea(this.props,t,this.presenceContext?.custom);r&&(n=r[e])}if(t&&void 0!==n)return n;const r=this.getBaseTargetFromProps(this.props,e);return void 0===r||Cr(r)?void 0!==this.initialValues[e]&&void 0===n?void 0:this.baseTarget[e]:r}on(e,t){return this.events[e]||(this.events[e]=new Mr),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}scheduleRenderMicrotask(){$r.render(this.render)}}class ra extends na{constructor(){super(...arguments),this.KeyframeResolver=Sr}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Cr(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}const aa=(e,t)=>t&&"number"===typeof e?t.transform(e):e,ia={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},sa=Pt.length;function oa(e,t,n){const{style:r,vars:a,transformOrigin:i}=e;let s=!1,o=!1;for(const l in t){const e=t[l];if(Tt.has(l))s=!0;else if(Ut(l))a[l]=e;else{const t=aa(e,wr[l]);l.startsWith("origin")?(o=!0,i[l]=t):r[l]=t}}if(t.transform||(s||n?r.transform=function(e,t,n){let r="",a=!0;for(let i=0;i<sa;i++){const s=Pt[i],o=e[s];if(void 0===o)continue;let l=!0;if(l="number"===typeof o?o===(s.startsWith("scale")?1:0):0===parseFloat(o),!l||n){const e=aa(o,wr[s]);l||(a=!1,r+=`${ia[s]||s}(${e}) `),n&&(t[s]=e)}}return r=r.trim(),n?r=n(t,a?"":r):a&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),o){const{originX:e="50%",originY:t="50%",originZ:n=0}=i;r.transformOrigin=`${e} ${t} ${n}`}}function la(e,t,n,r){let{style:a,vars:i}=t;const s=e.style;let o;for(o in a)s[o]=a[o];for(o in r?.applyProjectionStyles(s,n),i)s.setProperty(o,i[o])}const ca={};function ua(e,t){let{layout:n,layoutId:r}=t;return Tt.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!ca[e]||"opacity"===e)}function da(e,t,n){const{style:r}=e,a={};for(const i in r)(Cr(r[i])||t.style&&Cr(t.style[i])||ua(i,e)||void 0!==n?.getValue(i)?.liveStyle)&&(a[i]=r[i]);return a}class ha extends ra{constructor(){super(...arguments),this.type="html",this.renderInstance=la}readValueFromInstance(e,t){if(Tt.has(t))return this.projection?.isProjecting?$t(t):((e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Ft(n,t)})(e,t);{const r=(n=e,window.getComputedStyle(n)),a=(Ut(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof a?a.trim():a}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return un(e,n)}build(e,t,n){oa(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return da(e,t,n)}}const fa=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),pa={offset:"stroke-dashoffset",array:"stroke-dasharray"},ma={offset:"strokeDashoffset",array:"strokeDasharray"};function ga(e,t,n,r,a){let{attrX:i,attrY:s,attrScale:o,pathLength:l,pathSpacing:c=1,pathOffset:u=0,...d}=t;if(oa(e,d,r),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:h,style:f}=e;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=a?.transformBox??"fill-box",delete h.transformBox),void 0!==i&&(h.x=i),void 0!==s&&(h.y=s),void 0!==o&&(h.scale=o),void 0!==l&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const i=a?pa:ma;e[i.offset]=xn.transform(-r);const s=xn.transform(t),o=xn.transform(n);e[i.array]=`${s} ${o}`}(h,l,c,u,!1)}const va=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),ya=e=>"string"===typeof e&&"svg"===e.toLowerCase();function xa(e,t,n){const r=da(e,t,n);for(const a in e)if(Cr(e[a])||Cr(t[a])){r[-1!==Pt.indexOf(a)?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a]=e[a]}return r}class ba extends ra{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ur}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Tt.has(t)){const e=kr(t);return e&&e.default||0}return t=va.has(t)?t:fa(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return xa(e,t,n)}build(e,t,n){ga(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,r){!function(e,t,n,r){la(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(va.has(a)?a:fa(a),t.attrs[a])}(e,t,0,r)}mount(e){this.isSVGTag=ya(e.tagName),super.mount(e)}}const wa=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ja(e){return"string"===typeof e&&!e.includes("-")&&!!(wa.indexOf(e)>-1||/[A-Z]/u.test(e))}const ka=(e,n)=>ja(e)?new ba(n):new ha(n,{allowProjection:e!==t.Fragment}),Na=(0,t.createContext)({strict:!1}),_a=(0,t.createContext)({});function Sa(e){const{initial:n,animate:r}=function(e,t){if(Jr(e)){const{initial:t,animate:n}=e;return{initial:!1===t||Gr(t)?t:void 0,animate:Gr(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,t.useContext)(_a));return(0,t.useMemo)(()=>({initial:n,animate:r}),[Ca(n),Ca(r)])}function Ca(e){return Array.isArray(e)?e.join(" "):e}const Oa=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Ea(e,t,n){for(const r in t)Cr(t[r])||ua(r,n)||(e[r]=t[r])}function Pa(e,n){const r={};return Ea(r,e.style||{},e),Object.assign(r,function(e,n){let{transformTemplate:r}=e;return(0,t.useMemo)(()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return oa(e,n,r),Object.assign({},e.vars,e.style)},[n])}(e,n)),r}function Ta(e,t){const n={},r=Pa(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const Aa=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}});function Ma(e,n,r,a){const i=(0,t.useMemo)(()=>{const t={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return ga(t,n,ya(a),e.transformTemplate,e.style),{...t.attrs,style:{...t.style}}},[n]);if(e.style){const t={};Ea(t,e.style,e),i.style={...t,...i.style}}return i}const Da=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function za(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Da.has(e)}let Ia=e=>!za(e);try{"function"===typeof(La=require("@emotion/is-prop-valid").default)&&(Ia=e=>e.startsWith("on")?!za(e):La(e))}catch{}var La;function Ra(e,n,r,a,i){let{latestValues:s}=a,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const l=(ja(e)?Ma:Ta)(n,s,i,e),c=function(e,t,n){const r={};for(const a in e)"values"===a&&"object"===typeof e.values||(Ia(a)||!0===n&&za(a)||!t&&!za(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}(n,"string"===typeof e,o),u=e!==t.Fragment?{...c,...l,ref:r}:{},{children:d}=n,h=(0,t.useMemo)(()=>Cr(d)?d.get():d,[d]);return(0,t.createElement)(e,{...u,children:h})}function $a(e){return Cr(e)?e.get():e}function Fa(e,t,n,r){const a={},i=r(e,{});for(const h in i)a[h]=$a(i[h]);let{initial:s,animate:o}=e;const l=Jr(e),c=Zr(e);t&&c&&!l&&!1!==e.inherit&&(void 0===s&&(s=t.initial),void 0===o&&(o=t.animate));let u=!!n&&!1===n.initial;u=u||!1===s;const d=u?o:s;if(d&&"boolean"!==typeof d&&!Kr(d)){const t=Array.isArray(d)?d:[d];for(let n=0;n<t.length;n++){const r=ea(e,t[n]);if(r){const{transitionEnd:e,transition:t,...n}=r;for(const r in n){let e=n[r];if(Array.isArray(e)){e=e[u?e.length-1:0]}null!==e&&(a[r]=e)}for(const r in e)a[r]=e[r]}}}return a}const Ba=e=>(n,r)=>{const a=(0,t.useContext)(_a),i=(0,t.useContext)(yt),s=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:a,createRenderState:i}=e;return{latestValues:Fa(t,n,r,a),renderState:i()}}(e,n,a,i);return r?s():mt(s)},Va=Ba({scrapeMotionValuesFromProps:da,createRenderState:Oa}),Ua=Ba({scrapeMotionValuesFromProps:xa,createRenderState:Aa});const Ha=Symbol.for("motionComponentSymbol");function qa(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function Wa(e,n,r){return(0,t.useCallback)(t=>{t&&e.onMount&&e.onMount(t),n&&(t?n.mount(t):n.unmount()),r&&("function"===typeof r?r(t):qa(r)&&(r.current=t))},[n])}const Ka="data-"+fa("framerAppearId"),Ga=(0,t.createContext)({});function Ya(e,n,r,a,i){const{visualElement:s}=(0,t.useContext)(_a),o=(0,t.useContext)(Na),l=(0,t.useContext)(yt),c=(0,t.useContext)(wt).reducedMotion,u=(0,t.useRef)(null);a=a||o.renderer,!u.current&&a&&(u.current=a(e,{visualState:n,parent:s,props:r,presenceContext:l,blockInitialAnimation:!!l&&!1===l.initial,reducedMotionConfig:c}));const d=u.current,h=(0,t.useContext)(Ga);!d||d.projection||!i||"html"!==d.type&&"svg"!==d.type||function(e,t,n,r){const{layoutId:a,layout:i,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Xa(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:Boolean(s)||o&&qa(o),visualElement:e,animationType:"string"===typeof i?i:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}(u.current,r,i,h);const f=(0,t.useRef)(!1);(0,t.useInsertionEffect)(()=>{d&&f.current&&d.update(r,l)});const p=r[Ka],m=(0,t.useRef)(Boolean(p)&&!window.MotionHandoffIsComplete?.(p)&&window.MotionHasOptimisedAnimation?.(p));return vt(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),m.current&&d.animationState&&d.animationState.animateChanges())}),(0,t.useEffect)(()=>{d&&(!m.current&&d.animationState&&d.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(p)}),m.current=!1),d.enteringChildren=void 0)}),d}function Xa(e){if(e)return!1!==e.options.allowProjection?e.projection:Xa(e.parent)}function Ja(e){let{forwardMotionProps:n=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;r&&function(e){for(const t in e)Vr[t]={...Vr[t],...e[t]}}(r);const i=ja(e)?Ua:Va;function s(r,s){let o;const l={...(0,t.useContext)(wt),...r,layoutId:Za(r)},{isStatic:c}=l,u=Sa(r),d=i(r,c);if(!c&&gt){!function(){(0,t.useContext)(Na).strict;0}();const n=function(e){const{drag:t,layout:n}=Vr;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(l);o=n.MeasureLayout,u.visualElement=Ya(e,d,l,a,n.ProjectionNode)}return(0,ft.jsxs)(_a.Provider,{value:u,children:[o&&u.visualElement?(0,ft.jsx)(o,{visualElement:u.visualElement,...l}):null,Ra(e,r,Wa(d,u.visualElement,s),d,c,n)]})}s.displayName=`motion.${"string"===typeof e?e:`create(${e.displayName??e.name??""})`}`;const o=(0,t.forwardRef)(s);return o[Ha]=e,o}function Za(e){let{layoutId:n}=e;const r=(0,t.useContext)(pt).id;return r&&void 0!==n?r+"-"+n:n}function Qa(e,t){if("undefined"===typeof Proxy)return Ja;const n=new Map,r=(n,r)=>Ja(n,r,e,t);return new Proxy((e,t)=>r(e,t),{get:(a,i)=>"create"===i?r:(n.has(i)||n.set(i,Ja(i,void 0,e,t)),n.get(i))})}function ei(e,t,n){const r=e.getProps();return ea(r,t,void 0!==n?n:r.custom,e)}function ti(e,t){return e?.[t]??e?.default??e}const ni=e=>Array.isArray(e);function ri(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Lr(n))}function ai(e){return ni(e)?e[e.length-1]||0:e}function ii(e,t){const n=e.getValue("willChange");if(function(e){return Boolean(Cr(e)&&e.add)}(n))return n.add(t);if(!n&&Dn.WillChange){const n=new Dn.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function si(e){return e.props[Ka]}function oi(e){e.duration=0,e.type}const li=(e,t)=>n=>t(e(n)),ci=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(li)},ui=e=>1e3*e,di=e=>e/1e3,hi={layout:0,mainThread:0,waapi:0};function fi(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function pi(e,t){return n=>n>0?t:e}const mi=(e,t,n)=>{const r=e*e,a=n*(t*t-r)+r;return a<0?0:Math.sqrt(a)},gi=[ar,rr,ir];function vi(e){const t=(n=e,gi.find(e=>e.test(n)));var n;if(Boolean(t),!Boolean(t))return!1;let r=t.parse(e);return t===ir&&(r=function(e){let{hue:t,saturation:n,lightness:r,alpha:a}=e;t/=360,n/=100,r/=100;let i=0,s=0,o=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,a=2*r-e;i=fi(a,e,t+1/3),s=fi(a,e,t),o=fi(a,e,t-1/3)}else i=s=o=r;return{red:Math.round(255*i),green:Math.round(255*s),blue:Math.round(255*o),alpha:a}}(r)),r}const yi=(e,t)=>{const n=vi(e),r=vi(t);if(!n||!r)return pi(e,t);const a={...n};return e=>(a.red=mi(n.red,r.red,e),a.green=mi(n.green,r.green,e),a.blue=mi(n.blue,r.blue,e),a.alpha=Gt(n.alpha,r.alpha,e),rr.transform(a))},xi=new Set(["none","hidden"]);function bi(e,t){return n=>Gt(e,t,n)}function wi(e){return"number"===typeof e?bi:"string"===typeof e?qt(e)?pi:sr.test(e)?yi:Ni:Array.isArray(e)?ji:"object"===typeof e?sr.test(e)?yi:ki:pi}function ji(e,t){const n=[...e],r=n.length,a=e.map((e,n)=>wi(e)(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=a[t](e);return n}}function ki(e,t){const n={...e,...t},r={};for(const a in n)void 0!==e[a]&&void 0!==t[a]&&(r[a]=wi(e[a])(e[a],t[a]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const Ni=(e,t)=>{const n=mr.createTransformer(t),r=dr(e),a=dr(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?xi.has(e)&&!a.values.length||xi.has(t)&&!r.values.length?function(e,t){return xi.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):ci(ji(function(e,t){const n=[],r={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],s=e.indexes[i][r[i]],o=e.values[s]??0;n[a]=o,r[i]++}return n}(r,a),a.values),n):pi(e,t)};function _i(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return Gt(e,t,n);return wi(e)(e,t)}const Si=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Rn.update(t,e)},stop:()=>$n(t),now:()=>Fn.isProcessing?Fn.timestamp:Pr.now()}},Ci=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r="";const a=Math.max(Math.round(t/n),2);for(let i=0;i<a;i++)r+=Math.round(1e4*e(i/(a-1)))/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Oi=2e4;function Ei(e){let t=0;let n=e.next(t);for(;!n.done&&t<Oi;)t+=50,n=e.next(t);return t>=Oi?1/0:t}function Pi(e,t,n){const r=Math.max(t-5,0);return Dr(n-e(r),t-r)}const Ti={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ai=.001;function Mi(e){let t,n,{duration:r=Ti.duration,bounce:a=Ti.bounce,velocity:i=Ti.velocity,mass:s=Ti.mass}=e;ui(Ti.maxDuration);let o=1-a;o=hn(Ti.minDamping,Ti.maxDamping,o),r=hn(Ti.minDuration,Ti.maxDuration,di(r)),o<1?(t=e=>{const t=e*o,n=t*r,a=t-i,s=zi(e,o),l=Math.exp(-n);return Ai-a/s*l},n=e=>{const n=e*o*r,a=n*i+i,s=Math.pow(o,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=zi(Math.pow(e,2),o);return(-t(e)+Ai>0?-1:1)*((a-s)*l)/c}):(t=e=>Math.exp(-e*r)*((e-i)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(i-e)));const l=function(e,t,n){let r=n;for(let a=1;a<Di;a++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=ui(r),isNaN(l))return{stiffness:Ti.stiffness,damping:Ti.damping,duration:r};{const e=Math.pow(l,2)*s;return{stiffness:e,damping:2*o*Math.sqrt(s*e),duration:r}}}const Di=12;function zi(e,t){return e*Math.sqrt(1-t*t)}const Ii=["duration","bounce"],Li=["stiffness","damping","mass"];function Ri(e,t){return t.some(t=>void 0!==e[t])}function $i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ti.visualDuration,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ti.bounce;const n="object"!==typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:a}=n;const i=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=function(e){let t={velocity:Ti.velocity,stiffness:Ti.stiffness,damping:Ti.damping,mass:Ti.mass,isResolvedFromDuration:!1,...e};if(!Ri(e,Li)&&Ri(e,Ii))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),a=r*r,i=2*hn(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Ti.mass,stiffness:a,damping:i}}else{const n=Mi(e);t={...t,...n,mass:Ti.mass},t.isResolvedFromDuration=!0}return t}({...n,velocity:-di(n.velocity||0)}),p=h||0,m=c/(2*Math.sqrt(l*u)),g=s-i,v=di(Math.sqrt(l/u)),y=Math.abs(g)<5;let x;if(r||(r=y?Ti.restSpeed.granular:Ti.restSpeed.default),a||(a=y?Ti.restDelta.granular:Ti.restDelta.default),m<1){const e=zi(v,m);x=t=>{const n=Math.exp(-m*v*t);return s-n*((p+m*v*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)x=e=>s-Math.exp(-v*e)*(g+(p+v*g)*e);else{const e=v*Math.sqrt(m*m-1);x=t=>{const n=Math.exp(-m*v*t),r=Math.min(e*t,300);return s-n*((p+m*v*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}const b={calculatedDuration:f&&d||null,next:e=>{const t=x(e);if(f)o.done=e>=d;else{let n=0===e?p:0;m<1&&(n=0===e?ui(p):Pi(x,e,t));const i=Math.abs(n)<=r,l=Math.abs(s-t)<=a;o.done=i&&l}return o.value=o.done?s:t,o},toString:()=>{const e=Math.min(Ei(b),Oi),t=Ci(t=>b.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return b}function Fi(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:a=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}=e;const h=t[0],f={done:!1,value:h},p=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=r*n;const g=h+m,v=void 0===o?g:o(g);v!==g&&(m=v-h);const y=e=>-m*Math.exp(-e/a),x=e=>v+y(e),b=e=>{const t=y(e),n=x(e);f.done=Math.abs(t)<=u,f.value=f.done?v:n};let w,j;const k=e=>{var t;(t=f.value,void 0!==l&&t<l||void 0!==c&&t>c)&&(w=e,j=$i({keyframes:[f.value,p(f.value)],velocity:Pi(x,e,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return k(0),{calculatedDuration:null,next:e=>{let t=!1;return j||void 0!==w||(t=!0,b(e),k(e)),void 0!==w&&e>=w?j.next(e-w):(!t&&b(e),f)}}}$i.applyToOptions=e=>{const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const n=(arguments.length>2?arguments[2]:void 0)({...e,keyframes:[0,t]}),r=Math.min(Ei(n),Oi);return{type:"keyframes",ease:e=>n.next(r*e).value/t,duration:di(r)}}(e,100,$i);return e.ease=t.ease,e.duration=ui(t.duration),e.type="keyframes",e};const Bi=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function Vi(e,t,n,r){if(e===t&&n===r)return Mn;const a=t=>function(e,t,n,r,a){let i,s,o=0;do{s=t+(n-t)/2,i=Bi(s,r,a)-e,i>0?n=s:t=s}while(Math.abs(i)>1e-7&&++o<12);return s}(t,0,1,e,n);return e=>0===e||1===e?e:Bi(a(e),t,r)}const Ui=Vi(.42,0,1,1),Hi=Vi(0,0,.58,1),qi=Vi(.42,0,.58,1),Wi=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Ki=e=>t=>1-e(1-t),Gi=Vi(.33,1.53,.69,.99),Yi=Ki(Gi),Xi=Wi(Yi),Ji=e=>(e*=2)<1?.5*Yi(e):.5*(2-Math.pow(2,-10*(e-1))),Zi=e=>1-Math.sin(Math.acos(e)),Qi=Ki(Zi),es=Wi(Zi),ts=e=>Array.isArray(e)&&"number"===typeof e[0],ns={linear:Mn,easeIn:Ui,easeInOut:qi,easeOut:Hi,circIn:Zi,circInOut:es,circOut:Qi,backIn:Yi,backInOut:Xi,backOut:Gi,anticipate:Ji},rs=e=>{if(ts(e)){e.length;const[t,n,r,a]=e;return Vi(t,n,r,a)}return"string"===typeof e?ns[e]:e},as=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r};function is(e,t){let{clamp:n=!0,ease:r,mixer:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=e.length;if(t.length,1===i)return()=>t[0];if(2===i&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=function(e,t,n){const r=[],a=n||Dn.mix||_i,i=e.length-1;for(let s=0;s<i;s++){let n=a(e[s],e[s+1]);if(t){const e=Array.isArray(t)?t[s]||Mn:t;n=ci(e,n)}r.push(n)}return r}(t,r,a),l=o.length,c=n=>{if(s&&n<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const a=as(e[r],e[r+1],n);return o[r](a)};return n?t=>c(hn(e[0],e[i-1],t)):c}function ss(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=as(0,t,r);e.push(Gt(n,1,a))}}(t,e.length-1),t}function os(e){let{duration:t=300,keyframes:n,times:r,ease:a="easeInOut"}=e;const i=(e=>Array.isArray(e)&&"number"!==typeof e[0])(a)?a.map(rs):rs(a),s={done:!1,value:n[0]},o=function(e,t){return e.map(e=>e*t)}(r&&r.length===n.length?r:ss(n),t),l=is(o,n,{ease:Array.isArray(i)?i:(c=n,u=i,c.map(()=>u||qi).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(s.value=l(e),s.done=e>=t,s)}}const ls=e=>null!==e;function cs(e,t,n){let{repeat:r,repeatType:a="loop"}=t,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const s=e.filter(ls),o=i<0||r&&"loop"!==a&&r%2===1?0:s.length-1;return o&&void 0!==n?n:s[o]}const us={decay:Fi,inertia:Fi,tween:os,keyframes:os,spring:$i};function ds(e){"string"===typeof e.type&&(e.type=us[e.type])}class hs{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const fs=e=>e/100;class ps extends hs{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==Pr.now()&&this.tick(Pr.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),this.options.onStop?.())},hi.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){const{options:e}=this;ds(e);const{type:t=os,repeat:n=0,repeatDelay:r=0,repeatType:a,velocity:i=0}=e;let{keyframes:s}=e;const o=t||os;o!==os&&"number"!==typeof s[0]&&(this.mixKeyframes=ci(fs,_i(s[0],s[1])),s=[0,100]);const l=o({...e,keyframes:s});"mirror"===a&&(this.mirroredGenerator=o({...e,keyframes:[...s].reverse(),velocity:-i})),null===l.calculatedDuration&&(l.calculatedDuration=Ei(l));const{calculatedDuration:c}=l;this.calculatedDuration=c,this.resolvedDuration=c+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=l}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{generator:n,totalDuration:r,mixKeyframes:a,mirroredGenerator:i,resolvedDuration:s,calculatedDuration:o}=this;if(null===this.startTime)return n.next(0);const{delay:l=0,keyframes:c,repeat:u,repeatType:d,repeatDelay:h,type:f,onUpdate:p,finalKeyframe:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?g<0:g>r;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=r);let y=this.currentTime,x=n;if(u){const e=Math.min(this.currentTime,r)/s;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,u+1);Boolean(t%2)&&("reverse"===d?(n=1-n,h&&(n-=h/s)):"mirror"===d&&(x=i)),y=hn(0,1,n)*s}const b=v?{done:!1,value:c[0]}:x.next(y);a&&(b.value=a(b.value));let{done:w}=b;v||null===o||(w=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const j=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return j&&f!==Fi&&(b.value=cs(c,this.options,m,this.speed)),p&&p(b.value),j&&this.finish(),b}then(e,t){return this.finished.then(e,t)}get duration(){return di(this.calculatedDuration)}get time(){return di(this.currentTime)}set time(e){e=ui(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Pr.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=di(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Si,startTime:t}=this.options;this.driver||(this.driver=e(e=>this.tick(e))),this.options.onPlay?.();const n=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=n):null!==this.holdTime?this.startTime=n-this.holdTime:this.startTime||(this.startTime=t??n),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Pr.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,hi.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function ms(e){let t;return()=>(void 0===t&&(t=e()),t)}const gs=ms(()=>void 0!==window.ScrollTimeline),vs={};function ys(e,t){const n=ms(e);return()=>vs[t]??n()}const xs=ys(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(vV){return!1}return!0},"linearEasing"),bs=e=>{let[t,n,r,a]=e;return`cubic-bezier(${t}, ${n}, ${r}, ${a})`},ws={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:bs([0,.65,.55,1]),circOut:bs([.55,0,1,.45]),backIn:bs([.31,.01,.66,-.59]),backOut:bs([.33,1.53,.69,.99])};function js(e,t){return e?"function"===typeof e?xs()?Ci(e,t):"ease-out":ts(e)?bs(e):Array.isArray(e)?e.map(e=>js(e,t)||ws.easeOut):ws[e]:void 0}function ks(e,t,n){let{delay:r=0,duration:a=300,repeat:i=0,repeatType:s="loop",ease:o="easeOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const u={[t]:n};l&&(u.offset=l);const d=js(o,a);Array.isArray(d)&&(u.easing=d),In.value&&hi.waapi++;const h={delay:r,duration:a,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:"reverse"===s?"alternate":"normal"};c&&(h.pseudoElement=c);const f=e.animate(u,h);return In.value&&f.finished.finally(()=>{hi.waapi--}),f}function Ns(e){return"function"===typeof e&&"applyToOptions"in e}class _s extends hs{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:r,pseudoElement:a,allowFlatten:i=!1,finalKeyframe:s,onComplete:o}=e;this.isPseudoElement=Boolean(a),this.allowFlatten=i,this.options=e,e.type;const l=function(e){let{type:t,...n}=e;return Ns(t)&&xs()?t.applyToOptions(n):(n.duration??(n.duration=300),n.ease??(n.ease="easeOut"),n)}(e);this.animation=ks(t,n,r,l,a),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const e=cs(r,this.options,s,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,n){(e=>e.startsWith("--"))(t)?e.style.setProperty(t,n):e.style[t]=n}(t,n,e),this.animation.cancel()}o?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch(vV){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return di(Number(e))}get time(){return di(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ui(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline(e){let{timeline:t,observe:n}=e;return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&gs()?(this.animation.timeline=t,Mn):n(this)}}const Ss={anticipate:Ji,backInOut:Xi,circInOut:es};function Cs(e){"string"===typeof e.ease&&e.ease in Ss&&(e.ease=Ss[e.ease])}class Os extends _s{constructor(e){Cs(e),ds(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:n,onComplete:r,element:a,...i}=this.options;if(!t)return;if(void 0!==e)return void t.set(e);const s=new ps({...i,autoplay:!1}),o=ui(this.finishedTime??this.time);t.setWithVelocity(s.sample(o-10).value,s.sample(o).value,10),s.stop()}}const Es=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!mr.test(e)&&"0"!==e||e.startsWith("url(")));const Ps=new Set(["opacity","clipPath","filter","transform"]),Ts=ms(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));class As extends hs{constructor(e){let{autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:s="loop",keyframes:o,name:l,motionValue:c,element:u,...d}=e;super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Pr.now();const h={autoplay:t,delay:n,type:r,repeat:a,repeatDelay:i,repeatType:s,name:l,motionValue:c,element:u,...d},f=u?.KeyframeResolver||Gn;this.keyframeResolver=new f(o,(e,t,n)=>this.onKeyframesResolved(e,t,h,!n),l,c,u),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,n,r){this.keyframeResolver=void 0;const{name:a,type:i,velocity:s,delay:o,isHandoff:l,onUpdate:c}=n;this.resolvedAt=Pr.now(),function(e,t,n,r){const a=e[0];if(null===a)return!1;if("display"===t||"visibility"===t)return!0;const i=e[e.length-1],s=Es(a,t),o=Es(i,t);return!(!s||!o)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||Ns(n))&&r)}(e,a,i,s)||(!Dn.instantAnimations&&o||c?.(cs(e,n,t)),e[0]=e[e.length-1],oi(n),n.repeat=0);const u={startTime:r?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t,...n,keyframes:e},d=!l&&function(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:a,damping:i,type:s}=e,o=t?.owner?.current;if(!(o instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return Ts()&&n&&Ps.has(n)&&("transform"!==n||!c)&&!l&&!r&&"mirror"!==a&&0!==i&&"inertia"!==s}(u)?new Os({...u,element:u.motionValue.owner.current}):new ps(u);d.finished.then(()=>this.notifyFinished()).catch(Mn),this.pendingTimeline&&(this.stopTimeline=d.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=d}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),qn=!0,Kn(),Wn(),qn=!1),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Ms=e=>null!==e;const Ds={type:"spring",stiffness:500,damping:25,restSpeed:10},zs={type:"keyframes",duration:.8},Is={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ls=(e,t)=>{let{keyframes:n}=t;return n.length>2?zs:Tt.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:Ds:Is};const Rs=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;return s=>{const o=ti(r,e)||{},l=o.delay||r.delay||0;let{elapsed:c=0}=r;c-=ui(l);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:a};(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:a,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}=e;return!!Object.keys(d).length})(o)||Object.assign(u,Ls(e,u)),u.duration&&(u.duration=ui(u.duration)),u.repeatDelay&&(u.repeatDelay=ui(u.repeatDelay)),void 0!==u.from&&(u.keyframes[0]=u.from);let d=!1;if((!1===u.type||0===u.duration&&!u.repeatDelay)&&(oi(u),0===u.delay&&(d=!0)),(Dn.instantAnimations||Dn.skipAnimations)&&(d=!0,oi(u),u.delay=0),u.allowFlatten=!o.type&&!o.ease,d&&!i&&void 0!==t.get()){const e=function(e,t,n){let{repeat:r,repeatType:a="loop"}=t;const i=e.filter(Ms),s=r&&"loop"!==a&&r%2===1?0:i.length-1;return s&&void 0!==n?n:i[s]}(u.keyframes,o);if(void 0!==e)return void Rn.update(()=>{u.onUpdate(e),u.onComplete()})}return o.isSync?new ps(u):new As(u)}};function $s(e,t){let{protectedKeys:n,needsAnimating:r}=e;const a=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,a}function Fs(e,t){let{delay:n=0,transitionOverride:r,type:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:i=e.getDefaultTransition(),transitionEnd:s,...o}=t;r&&(i=r);const l=[],c=a&&e.animationState&&e.animationState.getState()[a];for(const u in o){const t=e.getValue(u,e.latestValues[u]??null),r=o[u];if(void 0===r||c&&$s(c,u))continue;const a={delay:n,...ti(i||{},u)},s=t.get();if(void 0!==s&&!t.isAnimating&&!Array.isArray(r)&&r===s&&!a.velocity)continue;let d=!1;if(window.MotionHandoffAnimation){const t=si(e);if(t){const e=window.MotionHandoffAnimation(t,u,Rn);null!==e&&(a.startTime=e,d=!0)}}ii(e,u),t.start(Rs(u,t,r,e.shouldReduceMotion&&dn.has(u)?{type:!1}:a,e,d));const h=t.animation;h&&l.push(h)}return s&&Promise.all(l).then(()=>{Rn.update(()=>{s&&function(e,t){const n=ei(e,t);let{transitionEnd:r={},transition:a={},...i}=n||{};i={...i,...r};for(const s in i)ri(e,s,ai(i[s]))}(e,s)})}),l}function Bs(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;const i=Array.from(e).sort((e,t)=>e.sortNodePosition(t)).indexOf(t),s=e.size,o=(s-1)*r;return"function"===typeof n?n(i,s):1===a?i*r:o-i*r}function Vs(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=ei(e,t,"exit"===n.type?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const i=r?()=>Promise.all(Fs(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:i=0,staggerChildren:s,staggerDirection:o}=a;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,s=arguments.length>6?arguments[6]:void 0;const o=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),o.push(Vs(l,t,{...s,delay:n+("function"===typeof r?0:r)+Bs(e.variantChildren,l,r,a,i)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(o)}(e,t,r,i,s,o,n)}:()=>Promise.resolve(),{when:o}=a;if(o){const[e,t]="beforeChildren"===o?[i,s]:[s,i];return e().then(()=>t())}return Promise.all([i(),s(n.delay)])}function Us(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const Hs=Xr.length;function qs(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&qs(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<Hs;n++){const r=Xr[n],a=e.props[r];(Gr(a)||!1===a)&&(t[r]=a)}return t}const Ws=[...Yr].reverse(),Ks=Yr.length;function Gs(e){return t=>Promise.all(t.map(t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const a=t.map(t=>Vs(e,t,r));n=Promise.all(a)}else if("string"===typeof t)n=Vs(e,t,r);else{const a="function"===typeof t?ei(e,t,r.custom):t;n=Promise.all(Fs(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}(e,n,r)}))}function Ys(e){let t=Gs(e),n=Zs(),r=!0;const a=t=>(n,r)=>{const a=ei(e,r,"exit"===t?e.presenceContext?.custom:void 0);if(a){const{transition:e,transitionEnd:t,...r}=a;n={...n,...r,...t}}return n};function i(i){const{props:s}=e,o=qs(e.parent)||{},l=[],c=new Set;let u={},d=1/0;for(let t=0;t<Ks;t++){const h=Ws[t],f=n[h],p=void 0!==s[h]?s[h]:o[h],m=Gr(p),g=h===i?f.isActive:null;!1===g&&(d=t);let v=p===o[h]&&p!==s[h]&&m;if(v&&r&&e.manuallyAnimateOnMount&&(v=!1),f.protectedKeys={...u},!f.isActive&&null===g||!p&&!f.prevProp||Kr(p)||"boolean"===typeof p)continue;const y=Xs(f.prevProp,p);let x=y||h===i&&f.isActive&&!v&&m||t>d&&m,b=!1;const w=Array.isArray(p)?p:[p];let j=w.reduce(a(h),{});!1===g&&(j={});const{prevResolvedValues:k={}}=f,N={...k,...j},_=t=>{x=!0,c.has(t)&&(b=!0,c.delete(t)),f.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in N){const t=j[e],n=k[e];if(u.hasOwnProperty(e))continue;let r=!1;r=ni(t)&&ni(n)?!Us(t,n):t!==n,r?void 0!==t&&null!==t?_(e):c.add(e):void 0!==t&&c.has(e)?_(e):f.protectedKeys[e]=!0}f.prevProp=p,f.prevResolvedValues=j,f.isActive&&(u={...u,...j}),r&&e.blockInitialAnimation&&(x=!1);const S=v&&y;x&&(!S||b)&&l.push(...w.map(t=>{const n={type:h};if("string"===typeof t&&r&&!S&&e.manuallyAnimateOnMount&&e.parent){const{parent:r}=e,a=ei(r,t);if(r.enteringChildren&&a){const{delayChildren:t}=a.transition||{};n.delay=Bs(r.enteringChildren,e,t)}}return{animation:t,options:n}}))}if(c.size){const t={};if("boolean"!==typeof s.initial){const n=ei(e,Array.isArray(s.initial)?s.initial[0]:s.initial);n&&n.transition&&(t.transition=n.transition)}c.forEach(n=>{const r=e.getBaseTarget(n),a=e.getValue(n);a&&(a.liveStyle=!0),t[n]=r??null}),l.push({animation:t})}let h=Boolean(l.length);return!r||!1!==s.initial&&s.initial!==s.animate||e.manuallyAnimateOnMount||(h=!1),r=!1,h?t(l):Promise.resolve()}return{animateChanges:i,setActive:function(t,r){if(n[t].isActive===r)return Promise.resolve();e.variantChildren?.forEach(e=>e.animationState?.setActive(t,r)),n[t].isActive=r;const a=i(t);for(const e in n)n[e].protectedKeys={};return a},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=Zs(),r=!0}}}function Xs(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!Us(t,e)}function Js(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Zs(){return{animate:Js(!0),whileInView:Js(),whileHover:Js(),whileTap:Js(),whileDrag:Js(),whileFocus:Js(),exit:Js()}}class Qs{constructor(e){this.isMounted=!1,this.node=e}update(){}}let eo=0;const to={animation:{Feature:class extends Qs{constructor(e){super(e),e.animationState||(e.animationState=Ys(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Kr(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}},exit:{Feature:class extends Qs{constructor(){super(...arguments),this.id=eo++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}},no={x:!1,y:!1};function ro(){return no.x||no.y}function ao(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const io=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function so(e){return{point:{x:e.pageX,y:e.pageY}}}function oo(e,t,n,r){return ao(e,t,(e=>t=>io(t)&&e(t,so(t)))(n),r)}function lo(e){return e.max-e.min}function co(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=Gt(t.min,t.max,e.origin),e.scale=lo(n)/lo(t),e.translate=Gt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function uo(e,t,n,r){co(e.x,t.x,n.x,r?r.originX:void 0),co(e.y,t.y,n.y,r?r.originY:void 0)}function ho(e,t,n){e.min=n.min+t.min,e.max=e.min+lo(t)}function fo(e,t,n){e.min=t.min-n.min,e.max=e.min+lo(t)}function po(e,t,n){fo(e.x,t.x,n.x),fo(e.y,t.y,n.y)}function mo(e){return[e("x"),e("y")]}const go=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},vo=(e,t)=>Math.abs(e-t);class yo{constructor(e,t){let{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:a=!1,distanceThreshold:i=3}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=wo(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=vo(e.x,t.x),r=vo(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=this.distanceThreshold;if(!t&&!n)return;const{point:r}=e,{timestamp:a}=Fn;this.history.push({...r,timestamp:a});const{onStart:i,onMove:s}=this.handlers;t||(i&&i(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),s&&s(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=xo(t,this.transformPagePoint),Rn.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:a}=this.handlers;if(this.dragSnapToOrigin&&a&&a(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const i=wo("pointercancel"===e.type?this.lastMoveEventInfo:xo(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,i),r&&r(e,i)},!io(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=i,this.contextWindow=r||window;const s=xo(so(e),this.transformPagePoint),{point:o}=s,{timestamp:l}=Fn;this.history=[{...o,timestamp:l}];const{onSessionStart:c}=t;c&&c(e,wo(s,this.history)),this.removeListeners=ci(oo(this.contextWindow,"pointermove",this.handlePointerMove),oo(this.contextWindow,"pointerup",this.handlePointerUp),oo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),$n(this.updatePoint)}}function xo(e,t){return t?{point:t(e.point)}:e}function bo(e,t){return{x:e.x-t.x,y:e.y-t.y}}function wo(e,t){let{point:n}=e;return{point:n,delta:bo(n,ko(t)),offset:bo(n,jo(t)),velocity:No(t,.1)}}function jo(e){return e[0]}function ko(e){return e[e.length-1]}function No(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=ko(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>ui(t)));)n--;if(!r)return{x:0,y:0};const i=di(a.timestamp-r.timestamp);if(0===i)return{x:0,y:0};const s={x:(a.x-r.x)/i,y:(a.y-r.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function _o(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function So(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const Co=.35;function Oo(e,t,n){return{min:Eo(e,t),max:Eo(e,n)}}function Eo(e,t){return"number"===typeof e?e:e[t]||0}const Po=new WeakMap;class To{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e){let{snapToCursor:t=!1,distanceThreshold:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;const{dragSnapToOrigin:a}=this.getProps();this.panSession=new yo(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(so(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:a}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(i=n)||"y"===i?no[i]?null:(no[i]=!0,()=>{no[i]=!1}):no.x||no.y?null:(no.x=no.y=!0,()=>{no.x=no.y=!1}),!this.openDragLock))return;var i;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),mo(e=>{let t=this.getAxisMotionValue(e).get()||0;if(yn.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=lo(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),a&&Rn.postRender(()=>a(e,t)),ii(this.visualElement,"transform");const{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},onMove:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:a,onDrag:i}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:s}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(s),void(null!==this.currentDirection&&a&&a(this.currentDirection));this.updateAxis("x",t.point,s),this.updateAxis("y",t.point,s),this.visualElement.render(),i&&i(e,t)},onSessionEnd:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},resumeAnimation:()=>mo(e=>"paused"===this.getAnimationState(e)&&this.getAxisMotionValue(e).animation?.play())},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:a,distanceThreshold:n,contextWindow:go(this.visualElement)})}stop(e,t){const n=e||this.latestPointerEvent,r=t||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!r||!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Rn.postRender(()=>s(n,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!Ao(e,r,this.currentDirection))return;const a=this.getAxisMotionValue(e);let i=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(i=function(e,t,n){let{min:r,max:a}=t;return void 0!==r&&e<r?e=n?Gt(r,e,n.min):Math.max(e,r):void 0!==a&&e>a&&(e=n?Gt(a,e,n.max):Math.min(e,a)),e}(i,this.constraints[e],this.elastic[e])),a.set(i)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&qa(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!e||!n)&&function(e,t){let{top:n,left:r,bottom:a,right:i}=t;return{x:_o(e.x,r,i),y:_o(e.y,n,a)}}(n.layoutBox,e),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Co;return!1===e?e=0:!0===e&&(e=Co),{x:Oo(e,"left","right"),y:Oo(e,"top","bottom")}}(t),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&mo(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(n.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!qa(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=function(e,t,n){const r=un(e,n),{scroll:a}=t;return a&&(on(r.x,a.offset.x),on(r.y,a.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let i=function(e,t){return{x:So(e.x,t.x),y:So(e.y,t.y)}}(r.layout.layoutBox,a);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(i));this.hasMutatedConstraints=!!e,e&&(i=Kt(e))}return i}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:a,dragSnapToOrigin:i,onDragTransitionEnd:s}=this.getProps(),o=this.constraints||{},l=mo(s=>{if(!Ao(s,t,this.currentDirection))return;let l=o&&o[s]||{};i&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,d={type:"inertia",velocity:n?e[s]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...a,...l};return this.startAxisValueAnimation(s,d)});return Promise.all(l).then(s)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return ii(this.visualElement,e),n.start(Rs(e,n,0,t,this.visualElement,!1))}stopAnimation(){mo(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){mo(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){mo(t=>{const{drag:n}=this.getProps();if(!Ao(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:i}=r.layout.layoutBox[t];a.set(e[t]-Gt(n,i,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!qa(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};mo(e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=lo(e),a=lo(t);return a>r?n=as(t.min,t.max-r,e.min):r>a&&(n=as(e.min,e.max-a,t.min)),hn(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),mo(t=>{if(!Ao(t,e,null))return;const n=this.getAxisMotionValue(t),{min:a,max:i}=this.constraints[t];n.set(Gt(a,i,r[t]))})}addListeners(){if(!this.visualElement.current)return;Po.set(this.visualElement,this);const e=oo(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();qa(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),Rn.read(t);const a=ao(window,"resize",()=>this.scalePositionWithinConstraints()),i=n.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(mo(e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))}),this.visualElement.render())});return()=>{a(),e(),r(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:i=Co,dragMomentum:s=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:a,dragElastic:i,dragMomentum:s}}}function Ao(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const Mo=e=>(t,n)=>{e&&Rn.postRender(()=>e(t,n))};const Do={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function zo(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Io={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!xn.test(e))return e;e=parseFloat(e)}return`${zo(e,t.target.x)}% ${zo(e,t.target.y)}%`}},Lo={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const a=e,i=mr.parse(e);if(i.length>5)return a;const s=mr.createTransformer(e),o="number"!==typeof i[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;i[0+o]/=l,i[1+o]/=c;const u=Gt(l,c,.5);return"number"===typeof i[2+o]&&(i[2+o]/=u),"number"===typeof i[3+o]&&(i[3+o]/=u),s(i)}};let Ro=!1;class $o extends t.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:a}=e;!function(e){for(const t in e)ca[t]=e[t],Ut(t)&&(ca[t].isCSSVariable=!0)}(Bo),a&&(t.group&&t.group.add(a),n&&n.register&&r&&n.register(a),Ro&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Do.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:a}=this.props,{projection:i}=n;return i?(i.isPresent=a,Ro=!0,r||e.layoutDependency!==t||void 0===t||e.isPresent!==a?i.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?i.promote():i.relegate()||Rn.postRender(()=>{const e=i.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),$r.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;Ro=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Fo(e){const[n,r]=St(),a=(0,t.useContext)(pt);return(0,ft.jsx)($o,{...e,layoutGroup:a,switchLayoutGroup:(0,t.useContext)(Ga),isPresent:n,safeToRemove:r})}const Bo={borderRadius:{...Io,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Io,borderTopRightRadius:Io,borderBottomLeftRadius:Io,borderBottomRightRadius:Io,boxShadow:Lo};function Vo(e){return xt(e)&&"ownerSVGElement"in e}const Uo=(e,t)=>e.depth-t.depth;class Ho{constructor(){this.children=[],this.isDirty=!1}add(e){Tr(this.children,e),this.isDirty=!0}remove(e){Ar(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Uo),this.isDirty=!1,this.children.forEach(e)}}function qo(e,t){const n=Pr.now(),r=a=>{let{timestamp:i}=a;const s=i-n;s>=t&&($n(r),e(s-t))};return Rn.setup(r,!0),()=>$n(r)}const Wo=["TopLeft","TopRight","BottomLeft","BottomRight"],Ko=Wo.length,Go=e=>"string"===typeof e?parseFloat(e):e,Yo=e=>"number"===typeof e||xn.test(e);function Xo(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const Jo=Qo(0,.5,Qi),Zo=Qo(.5,.95,Mn);function Qo(e,t,n){return r=>r<e?0:r>t?1:n(as(e,t,r))}function el(e,t){e.min=t.min,e.max=t.max}function tl(e,t){el(e.x,t.x),el(e.y,t.y)}function nl(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function rl(e,t,n,r,a){return e=en(e-=t,1/n,r),void 0!==a&&(e=en(e,1/a,r)),e}function al(e,t,n,r,a){let[i,s,o]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;yn.test(t)&&(t=parseFloat(t),t=Gt(s.min,s.max,t/100)-s.min);if("number"!==typeof t)return;let o=Gt(i.min,i.max,r);e===i&&(o-=t),e.min=rl(e.min,t,n,o,a),e.max=rl(e.max,t,n,o,a)}(e,t[i],t[s],t[o],t.scale,r,a)}const il=["x","scaleX","originX"],sl=["y","scaleY","originY"];function ol(e,t,n,r){al(e.x,t,il,n?n.x:void 0,r?r.x:void 0),al(e.y,t,sl,n?n.y:void 0,r?r.y:void 0)}function ll(e){return 0===e.translate&&1===e.scale}function cl(e){return ll(e.x)&&ll(e.y)}function ul(e,t){return e.min===t.min&&e.max===t.max}function dl(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function hl(e,t){return dl(e.x,t.x)&&dl(e.y,t.y)}function fl(e){return lo(e.x)/lo(e.y)}function pl(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class ml{constructor(){this.members=[]}add(e){Tr(this.members,e),e.scheduleRender()}remove(e){if(Ar(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const gl={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},vl=["","X","Y","Z"];let yl=0;function xl(e,t,n,r){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),r&&(r[e]=0))}function bl(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=si(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Rn,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&bl(r)}function wl(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:a,resetTransform:i}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n?.();this.id=yl++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,In.value&&(gl.nodes=gl.calculatedTargetDeltas=gl.calculatedProjections=0),this.nodes.forEach(Nl),this.nodes.forEach(Tl),this.nodes.forEach(Al),this.nodes.forEach(_l),In.addProjectionMetrics&&In.addProjectionMetrics(gl)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ho)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Mr),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){if(this.instance)return;var n;this.isSVG=Vo(e)&&!(Vo(n=e)&&"svg"===n.tagName),this.instance=e;const{layoutId:r,layout:a,visualElement:i}=this.options;if(i&&!i.current&&i.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(a||r)&&(this.isLayoutDirty=!0),t){let n,r=0;const a=()=>this.root.updateBlockedByResize=!1;Rn.read(()=>{r=window.innerWidth}),t(e,()=>{const e=window.innerWidth;e!==r&&(r=e,this.root.updateBlockedByResize=!0,n&&n(),n=qo(a,250),Do.hasAnimatedSinceResize&&(Do.hasAnimatedSinceResize=!1,this.nodes.forEach(Pl)))})}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&i&&(r||a)&&this.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n,hasRelativeLayoutChanged:r,layout:a}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const s=this.options.transition||i.getDefaultTransition()||Rl,{onLayoutAnimationStart:o,onLayoutAnimationComplete:l}=i.getProps(),c=!this.targetLayout||!hl(this.targetLayout,a),u=!n&&r;if(this.options.layoutRoot||this.resumeFrom||u||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const e={...ti(s,"layout"),onPlay:o,onComplete:l};(i.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e),this.setAnimationOrigin(t,u)}else n||Pl(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=a})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),$n(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Ml),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&bl(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let a=0;a<this.path.length;a++){const e=this.path[a];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Cl);if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(Ol);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(El),this.nodes.forEach(jl),this.nodes.forEach(kl)):this.nodes.forEach(Ol),this.clearAllSnapshots();const e=Pr.now();Fn.delta=hn(0,1e3/60,e-Fn.timestamp),Fn.timestamp=e,Fn.isProcessing=!0,Bn.update.process(Fn),Bn.preRender.process(Fn),Bn.render.process(Fn),Fn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,$r.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Sl),this.sharedNodes.forEach(Dl)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Rn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Rn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||lo(this.snapshot.measuredBox.x)||lo(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){const t=a(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!i)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!cl(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,a=r!==this.prevTransformTemplateValue;e&&this.instance&&(t||Jt(this.latestValues)||a)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),Bl((r=n).x),Bl(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const t=e.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Ul))){const{scroll:e}=this.root;e&&(on(t.x,e.offset.x),on(t.y,e.offset.y))}return t}removeElementScroll(e){const t={x:{min:0,max:0},y:{min:0,max:0}};if(tl(t,e),this.scroll?.wasRoot)return t;for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:a,options:i}=r;r!==this.root&&a&&i.layoutScroll&&(a.wasRoot&&tl(t,e),on(t.x,a.offset.x),on(t.y,a.offset.y))}return t}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};tl(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&cn(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),Jt(e.latestValues)&&cn(n,e.latestValues)}return Jt(this.latestValues)&&cn(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};tl(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!Jt(e.latestValues))continue;Xt(e.latestValues)&&e.updateSnapshot();const r=Ur();tl(r,e.measurePageBox()),ol(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return Jt(this.latestValues)&&ol(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Fn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=t.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=t.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=t.isSharedProjectionDirty);const n=Boolean(this.resumingFrom)||this!==t;if(!(e||n&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:r,layoutId:a}=this.options;if(this.layout&&(r||a)){if(this.resolvedRelativeTargetAt=Fn.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},po(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),tl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var i,s,o;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),i=this.target,s=this.relativeTarget,o=this.relativeParent.target,ho(i.x,s.x,o.x),ho(i.y,s.y,o.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):tl(this.target,this.layout.layoutBox),rn(this.target,this.targetDelta)):tl(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},po(this.relativeTargetOrigin,this.target,e.target),tl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}In.value&&gl.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!Xt(this.parent.latestValues)&&!Zt(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const e=this.getLead(),t=Boolean(this.resumingFrom)||this!==e;let n=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(n=!1),t&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(n=!1),this.resolvedRelativeTargetAt===Fn.timestamp&&(n=!1),n)return;const{layout:r,layoutId:a}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!r&&!a)return;tl(this.layoutCorrected,this.layout.layoutBox);const i=this.treeScale.x,s=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=n.length;if(!a)return;let i,s;t.x=t.y=1;for(let o=0;o<a;o++){i=n[o],s=i.projectionDelta;const{visualElement:a}=i.options;a&&a.props.style&&"contents"===a.props.style.display||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&cn(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,rn(e,s)),r&&Jt(i.latestValues)&&cn(e,i.latestValues))}t.x<sn&&t.x>an&&(t.x=1),t.y<sn&&t.y>an&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,t),!e.layout||e.target||1===this.treeScale.x&&1===this.treeScale.y||(e.target=e.layout.layoutBox,e.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:o}=e;o?(this.projectionDelta&&this.prevProjectionDelta?(nl(this.prevProjectionDelta.x,this.projectionDelta.x),nl(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),uo(this.projectionDelta,this.layoutCorrected,o,this.latestValues),this.treeScale.x===i&&this.treeScale.y===s&&pl(this.projectionDelta.x,this.prevProjectionDelta.x)&&pl(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",o)),In.value&&gl.calculatedProjections++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.visualElement?.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},a={...this.latestValues},i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const s={x:{min:0,max:0},y:{min:0,max:0}},o=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(o&&!c&&!0===this.options.crossfade&&!this.path.some(Ll));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;zl(i.x,e.x,n),zl(i.y,e.y,n),this.setTargetDelta(i),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(po(s,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){Il(e.x,t.x,n.x,r),Il(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,s,n),d&&function(e,t){return ul(e.x,t.x)&&ul(e.y,t.y)}(this.relativeTarget,d)&&(this.isProjectionDirty=!1),d||(d={x:{min:0,max:0},y:{min:0,max:0}}),tl(d,this.relativeTarget)),o&&(this.animationValues=a,function(e,t,n,r,a,i){a?(e.opacity=Gt(0,n.opacity??1,Jo(r)),e.opacityExit=Gt(t.opacity??1,0,Zo(r))):i&&(e.opacity=Gt(t.opacity??1,n.opacity??1,r));for(let s=0;s<Ko;s++){const a=`border${Wo[s]}Radius`;let i=Xo(t,a),o=Xo(n,a);void 0===i&&void 0===o||(i||(i=0),o||(o=0),0===i||0===o||Yo(i)===Yo(o)?(e[a]=Math.max(Gt(Go(i),Go(o),r),0),(yn.test(o)||yn.test(i))&&(e[a]+="%")):e[a]=o)}(t.rotate||n.rotate)&&(e.rotate=Gt(t.rotate||0,n.rotate||0,r))}(a,r,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&($n(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Rn.update(()=>{Do.hasAnimatedSinceResize=!0,hi.layout++,this.motionValue||(this.motionValue=Lr(0)),this.currentAnimation=function(e,t,n){const r=Cr(e)?e:Lr(e);return r.start(Rs("",r,t,n)),r.animation}(this.motionValue,[0,1e3],{...e,velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{hi.layout--},onComplete:()=>{hi.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:a}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&Vl(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=lo(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=lo(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}tl(t,n),cn(t,a),uo(this.projectionDeltaWithTransform,this.layoutCorrected,t,a)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new ml);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){const{layoutId:e}=this.options;return e&&this.getStack()?.lead||this}getPrevLead(){const{layoutId:e}=this.options;return e?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&xl("z",e,r,this.animationValues);for(let a=0;a<vl.length;a++)xl(`rotate${vl[a]}`,e,r,this.animationValues),xl(`skew${vl[a]}`,e,r,this.animationValues);e.render();for(const a in r)e.setStaticValue(a,r[a]),this.animationValues&&(this.animationValues[a]=r[a]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible)return void(e.visibility="hidden");const n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=$a(t?.pointerEvents)||"",void(e.transform=n?n(this.latestValues,""):"none");const r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target)return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=$a(t?.pointerEvents)||""),void(this.hasProjected&&!Jt(this.latestValues)&&(e.transform=n?n({},""):"none",this.hasProjected=!1));e.visibility="";const a=r.animationValues||r.latestValues;this.applyTransformsToTarget();let i=function(e,t,n){let r="";const a=e.x.translate/t.x,i=e.y.translate/t.y,s=n?.z||0;if((a||i||s)&&(r=`translate3d(${a}px, ${i}px, ${s}px) `),1===t.x&&1===t.y||(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:e,rotate:t,rotateX:a,rotateY:i,skewX:s,skewY:o}=n;e&&(r=`perspective(${e}px) ${r}`),t&&(r+=`rotate(${t}deg) `),a&&(r+=`rotateX(${a}deg) `),i&&(r+=`rotateY(${i}deg) `),s&&(r+=`skewX(${s}deg) `),o&&(r+=`skewY(${o}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return 1===o&&1===l||(r+=`scale(${o}, ${l})`),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,a);n&&(i=n(a,i)),e.transform=i;const{x:s,y:o}=this.projectionDelta;e.transformOrigin=`${100*s.origin}% ${100*o.origin}% 0`,r.animationValues?e.opacity=r===this?a.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:e.opacity=r===this?void 0!==a.opacity?a.opacity:"":void 0!==a.opacityExit?a.opacityExit:0;for(const l in ca){if(void 0===a[l])continue;const{correct:t,applyTo:n,isCSSVariable:s}=ca[l],o="none"===i?a[l]:t(a[l],r);if(n){const t=n.length;for(let r=0;r<t;r++)e[n[r]]=o}else s?this.options.visualElement.renderState.vars[l]=o:e[l]=o}this.options.layoutId&&(e.pointerEvents=r===this?$a(t?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>e.currentAnimation?.stop()),this.root.nodes.forEach(Cl),this.root.sharedNodes.clear()}}}function jl(e){e.updateLayout()}function kl(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:a}=e.options,i=t.source!==e.layout.source;"size"===a?mo(e=>{const r=i?t.measuredBox[e]:t.layoutBox[e],a=lo(r);r.min=n[e].min,r.max=r.min+a}):Vl(a,t.layoutBox,n)&&mo(r=>{const a=i?t.measuredBox[r]:t.layoutBox[r],s=lo(n[r]);a.max=a.min+s,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+s)});const s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};uo(s,n,t.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};i?uo(o,e.applyTransform(r,!0),t.measuredBox):uo(o,n,t.layoutBox);const l=!cl(s);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:a,layout:i}=r;if(a&&i){const s={x:{min:0,max:0},y:{min:0,max:0}};po(s,t.layoutBox,a.layoutBox);const o={x:{min:0,max:0},y:{min:0,max:0}};po(o,n,i.layoutBox),hl(s,o)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=s,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:o,layoutDelta:s,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function Nl(e){In.value&&gl.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function _l(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Sl(e){e.clearSnapshot()}function Cl(e){e.clearMeasurements()}function Ol(e){e.isLayoutDirty=!1}function El(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Pl(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Tl(e){e.resolveTargetDelta()}function Al(e){e.calcProjection()}function Ml(e){e.resetSkewAndRotation()}function Dl(e){e.removeLeadSnapshot()}function zl(e,t,n){e.translate=Gt(t.translate,0,n),e.scale=Gt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Il(e,t,n,r){e.min=Gt(t.min,n.min,r),e.max=Gt(t.max,n.max,r)}function Ll(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const Rl={duration:.45,ease:[.4,0,.1,1]},$l=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Fl=$l("applewebkit/")&&!$l("chrome/")?Math.round:Mn;function Bl(e){e.min=Fl(e.min),e.max=Fl(e.max)}function Vl(e,t,n){return"position"===e||"preserve-aspect"===e&&!function(e,t,n){return Math.abs(e-t)<=n}(fl(t),fl(n),.2)}function Ul(e){return e!==e.root&&e.scroll?.wasRoot}const Hl=wl({attachResizeListener:(e,t)=>ao(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ql={current:void 0},Wl=wl({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ql.current){const e=new Hl({});e.mount(window),e.setOptions({layoutScroll:!0}),ql.current=e}return ql.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),Kl={pan:{Feature:class extends Qs{constructor(){super(...arguments),this.removePointerDownListener=Mn}onPointerDown(e){this.session=new yo(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:go(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Mo(e),onStart:Mo(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&Rn.postRender(()=>r(e,t))}}}mount(){this.removePointerDownListener=oo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends Qs{constructor(e){super(e),this.removeGroupControls=Mn,this.removeListeners=Mn,this.controls=new To(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Mn}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:Wl,MeasureLayout:Fo}};function Gl(e,t){const n=function(e,t,n){if(e instanceof EventTarget)return[e];if("string"===typeof e){let r=document;t&&(r=t.current);const a=n?.[e]??r.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}(e),r=new AbortController;return[n,{passive:!0,...t,signal:r.signal},()=>r.abort()]}function Yl(e){return!("touch"===e.pointerType||ro())}function Xl(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const a=r["onHover"+n];a&&Rn.postRender(()=>a(t,so(t)))}const Jl=(e,t)=>!!t&&(e===t||Jl(e,t.parentElement)),Zl=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const Ql=new WeakSet;function ec(e){return t=>{"Enter"===t.key&&e(t)}}function tc(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function nc(e){return io(e)&&!ro()}function rc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,a,i]=Gl(e,n),s=e=>{const r=e.currentTarget;if(!nc(e))return;Ql.add(r);const i=t(r,e),s=(e,t)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",l),Ql.has(r)&&Ql.delete(r),nc(e)&&"function"===typeof i&&i(e,{success:t})},o=e=>{s(e,r===window||r===document||n.useGlobalTarget||Jl(r,e.target))},l=e=>{s(e,!1)};window.addEventListener("pointerup",o,a),window.addEventListener("pointercancel",l,a)};return r.forEach(e=>{var t;(n.useGlobalTarget?window:e).addEventListener("pointerdown",s,a),bt(e)&&(e.addEventListener("focus",e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=ec(()=>{if(Ql.has(n))return;tc(n,"down");const e=ec(()=>{tc(n,"up")});n.addEventListener("keyup",e,t),n.addEventListener("blur",()=>tc(n,"cancel"),t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)})(e,a)),t=e,Zl.has(t.tagName)||-1!==t.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))}),i}function ac(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const a=r["onTap"+("End"===n?"":n)];a&&Rn.postRender(()=>a(t,so(t)))}const ic=new WeakMap,sc=new WeakMap,oc=e=>{const t=ic.get(e.target);t&&t(e)},lc=e=>{e.forEach(oc)};function cc(e,t,n){const r=function(e){let{root:t,...n}=e;const r=t||document;sc.has(r)||sc.set(r,{});const a=sc.get(r),i=JSON.stringify(n);return a[i]||(a[i]=new IntersectionObserver(lc,{root:t,...n})),a[i]}(t);return ic.set(e,n),r.observe(e),()=>{ic.delete(e),r.unobserve(e)}}const uc={some:0,all:1};const dc={inView:{Feature:class extends Qs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:a}=e,i={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:uc[r]};return cc(this.node.current,i,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,a&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),i=t?n:r;i&&i(e)})}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends Qs{mount(){const{current:e}=this.node;e&&(this.unmount=rc(e,(e,t)=>(ac(this.node,t,"Start"),(e,t)=>{let{success:n}=t;return ac(this.node,e,n?"End":"Cancel")}),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends Qs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(vV){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ci(ao(this.node.current,"focus",()=>this.onFocus()),ao(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends Qs{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,a,i]=Gl(e,n),s=e=>{if(!Yl(e))return;const{target:n}=e,r=t(n,e);if("function"!==typeof r||!n)return;const i=e=>{Yl(e)&&(r(e),n.removeEventListener("pointerleave",i))};n.addEventListener("pointerleave",i,a)};return r.forEach(e=>{e.addEventListener("pointerenter",s,a)}),i}(e,(e,t)=>(Xl(this.node,t,"Start"),e=>Xl(this.node,e,"End"))))}unmount(){}}}},hc=Qa({...to,...dc,...Kl,...{layout:{ProjectionNode:Wl,MeasureLayout:Fo}}},ka);var fc={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},pc=t.createContext&&t.createContext(fc),mc=["attr","size","title"];function gc(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function vc(){return vc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vc.apply(this,arguments)}function yc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function xc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yc(Object(n),!0).forEach(function(t){bc(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function bc(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wc(e){return e&&e.map((e,n)=>t.createElement(e.tag,xc({key:n},e.attr),wc(e.child)))}function jc(e){return n=>t.createElement(kc,vc({attr:xc({},e.attr)},n),wc(e.child))}function kc(e){var n=n=>{var r,{attr:a,size:i,title:s}=e,o=gc(e,mc),l=i||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",vc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,o,{className:r,style:xc(xc({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&t.createElement("title",null,s),e.children)};return void 0!==pc?t.createElement(pc.Consumer,null,e=>n(e)):n(fc)}function Nc(e){return jc({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(e)}function _c(e){return jc({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(e)}function Sc(e){return jc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M377.941 169.941V216H134.059v-46.059c0-21.382-25.851-32.09-40.971-16.971L7.029 239.029c-9.373 9.373-9.373 24.568 0 33.941l86.059 86.059c15.119 15.119 40.971 4.411 40.971-16.971V296h243.882v46.059c0 21.382 25.851 32.09 40.971 16.971l86.059-86.059c9.373-9.373 9.373-24.568 0-33.941l-86.059-86.059c-15.119-15.12-40.971-4.412-40.971 16.97z"},child:[]}]})(e)}function Cc(e){return jc({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(e)}function Oc(e){return jc({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M544 160v64h32v64h-32v64H64V160h480m16-64H48c-26.51 0-48 21.49-48 48v224c0 26.51 21.49 48 48 48h512c26.51 0 48-21.49 48-48v-16h8c13.255 0 24-10.745 24-24V184c0-13.255-10.745-24-24-24h-8v-16c0-26.51-21.49-48-48-48zm-240 96H96v128h224V192z"},child:[]}]})(e)}function Ec(e){return jc({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M176 256c44.11 0 80-35.89 80-80s-35.89-80-80-80-80 35.89-80 80 35.89 80 80 80zm352-128H304c-8.84 0-16 7.16-16 16v144H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v352c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16v-48h512v48c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16V240c0-61.86-50.14-112-112-112z"},child:[]}]})(e)}function Pc(e){return jc({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 384c-28.02 0-31.26-32-74.5-32-43.43 0-46.825 32-74.75 32-27.695 0-31.454-32-74.75-32-42.842 0-47.218 32-74.5 32-28.148 0-31.202-32-74.75-32-43.547 0-46.653 32-74.75 32v-80c0-26.5 21.5-48 48-48h16V112h64v144h64V112h64v144h64V112h64v144h16c26.5 0 48 21.5 48 48v80zm0 128H0v-96c43.356 0 46.767-32 74.75-32 27.951 0 31.253 32 74.75 32 42.843 0 47.217-32 74.5-32 28.148 0 31.201 32 74.75 32 43.357 0 46.767-32 74.75-32 27.488 0 31.252 32 74.5 32v96zM96 96c-17.75 0-32-14.25-32-32 0-31 32-23 32-64 12 0 32 29.5 32 56s-14.25 40-32 40zm128 0c-17.75 0-32-14.25-32-32 0-31 32-23 32-64 12 0 32 29.5 32 56s-14.25 40-32 40zm128 0c-17.75 0-32-14.25-32-32 0-31 32-23 32-64 12 0 32 29.5 32 56s-14.25 40-32 40z"},child:[]}]})(e)}function Tc(e){return jc({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M296 160H180.6l42.6-129.8C227.2 15 215.7 0 200 0H56C44 0 33.8 8.9 32.2 20.8l-32 240C-1.7 275.2 9.5 288 24 288h118.7L96.6 482.5c-3.6 15.2 8 29.5 23.3 29.5 8.4 0 16.4-4.4 20.8-12l176-304c9.3-15.9-2.2-36-20.7-36z"},child:[]}]})(e)}function Ac(e){return jc({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M425.7 256c-16.9 0-32.8-9-41.4-23.4L320 126l-64.2 106.6c-8.7 14.5-24.6 23.5-41.5 23.5-4.5 0-9-.6-13.3-1.9L64 215v178c0 14.7 10 27.5 24.2 31l216.2 54.1c10.2 2.5 20.9 2.5 31 0L551.8 424c14.2-3.6 24.2-16.4 24.2-31V215l-137 39.1c-4.3 1.3-8.8 1.9-13.3 1.9zm212.6-112.2L586.8 41c-3.1-6.2-9.8-9.8-16.7-8.9L320 64l91.7 152.1c3.8 6.3 11.4 9.3 18.5 7.3l197.9-56.5c9.9-2.9 14.7-13.9 10.2-23.1zM53.2 41L1.7 143.8c-4.6 9.2.3 20.2 10.1 23l197.9 56.5c7.1 2 14.7-1 18.5-7.3L320 64 69.8 32.1c-6.9-.8-13.5 2.7-16.6 8.9z"},child:[]}]})(e)}function Mc(e){return jc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M320 336c0 8.84-7.16 16-16 16h-96c-8.84 0-16-7.16-16-16v-48H0v144c0 25.6 22.4 48 48 48h416c25.6 0 48-22.4 48-48V288H320v48zm144-208h-80V80c0-25.6-22.4-48-48-48H176c-25.6 0-48 22.4-48 48v48H48c-25.6 0-48 22.4-48 48v80h512v-80c0-25.6-22.4-48-48-48zm-144 0H192V96h128v32z"},child:[]}]})(e)}function Dc(e){return jc({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(e)}function zc(e){return jc({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 0H48C22.4 0 0 22.4 0 48v416c0 25.6 22.4 48 48 48h352c25.6 0 48-22.4 48-48V48c0-25.6-22.4-48-48-48zM128 435.2c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm0-128c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm128 128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm0-128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm128 128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8V268.8c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v166.4zm0-256c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8V76.8C64 70.4 70.4 64 76.8 64h294.4c6.4 0 12.8 6.4 12.8 12.8v102.4z"},child:[]}]})(e)}function Ic(e){return jc({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function Lc(e){return jc({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 160H12c-6.627 0-12-5.373-12-12v-36c0-26.51 21.49-48 48-48h48V12c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v52h128V12c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v52h48c26.51 0 48 21.49 48 48v36c0 6.627-5.373 12-12 12zM12 192h424c6.627 0 12 5.373 12 12v260c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V204c0-6.627 5.373-12 12-12zm333.296 95.947l-28.169-28.398c-4.667-4.705-12.265-4.736-16.97-.068L194.12 364.665l-45.98-46.352c-4.667-4.705-12.266-4.736-16.971-.068l-28.397 28.17c-4.705 4.667-4.736 12.265-.068 16.97l82.601 83.269c4.667 4.705 12.265 4.736 16.97.068l142.953-141.805c4.705-4.667 4.736-12.265.068-16.97z"},child:[]}]})(e)}function Rc(e){return jc({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm64-192c0-8.8 7.2-16 16-16h96c8.8 0 16 7.2 16 16v96c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16v-96zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function $c(e){return jc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(e)}function Fc(e){return jc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function Bc(e){return jc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function Vc(e){return jc({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(e)}function Uc(e){return jc({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(e)}function Hc(e){return jc({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(e)}function qc(e){return jc({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(e)}function Wc(e){return jc({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M616 192H480V24c0-13.26-10.74-24-24-24H312c-13.26 0-24 10.74-24 24v72h-64V16c0-8.84-7.16-16-16-16h-16c-8.84 0-16 7.16-16 16v80h-64V16c0-8.84-7.16-16-16-16H80c-8.84 0-16 7.16-16 16v80H24c-13.26 0-24 10.74-24 24v360c0 17.67 14.33 32 32 32h576c17.67 0 32-14.33 32-32V216c0-13.26-10.75-24-24-24zM128 404c0 6.63-5.37 12-12 12H76c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12H76c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12H76c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm128 192c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm160 96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12V76c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm160 288c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40z"},child:[]}]})(e)}function Kc(e){return jc({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(e)}function Gc(e){return jc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function Yc(e){return jc({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z"},child:[]}]})(e)}function Xc(e){return jc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(e)}function Jc(e){return jc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32zM128 272c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(e)}function Zc(e){return jc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z"},child:[]}]})(e)}function Qc(e){return jc({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V256H0v176zm192-68c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-40zm-128 0c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM576 80v48H0V80c0-26.5 21.5-48 48-48h480c26.5 0 48 21.5 48 48z"},child:[]}]})(e)}function eu(e){return jc({tag:"svg",attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M209.2 233.4l-108-31.6C88.7 198.2 80 186.5 80 173.5c0-16.3 13.2-29.5 29.5-29.5h66.3c12.2 0 24.2 3.7 34.2 10.5 6.1 4.1 14.3 3.1 19.5-2l34.8-34c7.1-6.9 6.1-18.4-1.8-24.5C238 74.8 207.4 64.1 176 64V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48h-2.5C45.8 64-5.4 118.7.5 183.6c4.2 46.1 39.4 83.6 83.8 96.6l102.5 30c12.5 3.7 21.2 15.3 21.2 28.3 0 16.3-13.2 29.5-29.5 29.5h-66.3C100 368 88 364.3 78 357.5c-6.1-4.1-14.3-3.1-19.5 2l-34.8 34c-7.1 6.9-6.1 18.4 1.8 24.5 24.5 19.2 55.1 29.9 86.5 30v48c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-48.2c46.6-.9 90.3-28.6 105.7-72.7 21.5-61.6-14.6-124.8-72.5-141.7z"},child:[]}]})(e)}function tu(e){return jc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function nu(e){return jc({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function ru(e){return jc({tag:"svg",attr:{viewBox:"0 0 192 512"},child:[{tag:"path",attr:{d:"M96 184c39.8 0 72 32.2 72 72s-32.2 72-72 72-72-32.2-72-72 32.2-72 72-72zM24 80c0 39.8 32.2 72 72 72s72-32.2 72-72S135.8 8 96 8 24 40.2 24 80zm0 352c0 39.8 32.2 72 72 72s72-32.2 72-72-32.2-72-72-72-72 32.2-72 72z"},child:[]}]})(e)}function au(e){return jc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function iu(e){return jc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function su(e){return jc({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function ou(e){return jc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(e)}function lu(e){return jc({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(e)}function cu(e){return jc({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function uu(e){return jc({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function du(e){return jc({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 64c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8v-16zm192.81 248H304c8.84 0 16 7.16 16 16s-7.16 16-16 16h-47.19c-16.45 0-31.27-9.14-38.64-23.86-2.95-5.92-8.09-6.52-10.17-6.52s-7.22.59-10.02 6.19l-7.67 15.34a15.986 15.986 0 0 1-14.31 8.84c-.38 0-.75-.02-1.14-.05-6.45-.45-12-4.75-14.03-10.89L144 354.59l-10.61 31.88c-5.89 17.66-22.38 29.53-41 29.53H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h12.39c4.83 0 9.11-3.08 10.64-7.66l18.19-54.64c3.3-9.81 12.44-16.41 22.78-16.41s19.48 6.59 22.77 16.41l13.88 41.64c19.77-16.19 54.05-9.7 66 14.16 2.02 4.06 5.96 6.5 10.16 6.5zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(e)}function hu(e){return jc({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M384 121.941V128H256V0h6.059a24 24 0 0 1 16.97 7.029l97.941 97.941a24.002 24.002 0 0 1 7.03 16.971zM248 160c-13.2 0-24-10.8-24-24V0H24C10.745 0 0 10.745 0 24v464c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V160H248zm-135.455 16c26.51 0 48 21.49 48 48s-21.49 48-48 48-48-21.49-48-48 21.491-48 48-48zm208 240h-256l.485-48.485L104.545 328c4.686-4.686 11.799-4.201 16.485.485L160.545 368 264.06 264.485c4.686-4.686 12.284-4.686 16.971 0L320.545 304v112z"},child:[]}]})(e)}function fu(e){return jc({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-153 31V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 80v-16c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8zm144 263.88V440c0 4.42-3.58 8-8 8h-16c-4.42 0-8-3.58-8-8v-24.29c-11.29-.58-22.27-4.52-31.37-11.35-3.9-2.93-4.1-8.77-.57-12.14l11.75-11.21c2.77-2.64 6.89-2.76 10.13-.73 3.87 2.42 8.26 3.72 12.82 3.72h28.11c6.5 0 11.8-5.92 11.8-13.19 0-5.95-3.61-11.19-8.77-12.73l-45-13.5c-18.59-5.58-31.58-23.42-31.58-43.39 0-24.52 19.05-44.44 42.67-45.07V232c0-4.42 3.58-8 8-8h16c4.42 0 8 3.58 8 8v24.29c11.29.58 22.27 4.51 31.37 11.35 3.9 2.93 4.1 8.77.57 12.14l-11.75 11.21c-2.77 2.64-6.89 2.76-10.13.73-3.87-2.43-8.26-3.72-12.82-3.72h-28.11c-6.5 0-11.8 5.92-11.8 13.19 0 5.95 3.61 11.19 8.77 12.73l45 13.5c18.59 5.58 31.58 23.42 31.58 43.39 0 24.53-19.05 44.44-42.67 45.07z"},child:[]}]})(e)}function pu(e){return jc({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(e)}function mu(e){return jc({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M218.17 424.14c-2.95-5.92-8.09-6.52-10.17-6.52s-7.22.59-10.02 6.19l-7.67 15.34c-6.37 12.78-25.03 11.37-29.48-2.09L144 386.59l-10.61 31.88c-5.89 17.66-22.38 29.53-41 29.53H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h12.39c4.83 0 9.11-3.08 10.64-7.66l18.19-54.64c3.3-9.81 12.44-16.41 22.78-16.41s19.48 6.59 22.77 16.41l13.88 41.64c19.75-16.19 54.06-9.7 66 14.16 1.89 3.78 5.49 5.95 9.36 6.26v-82.12l128-127.09V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24v-40l-128-.11c-16.12-.31-30.58-9.28-37.83-23.75zM384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1zm-96 225.06V416h68.99l161.68-162.78-67.88-67.88L288 346.96zm280.54-179.63l-31.87-31.87c-9.94-9.94-26.07-9.94-36.01 0l-27.25 27.25 67.88 67.88 27.25-27.25c9.95-9.94 9.95-26.07 0-36.01z"},child:[]}]})(e)}function gu(e){return jc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(e)}function vu(e){return jc({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M216 23.86c0-23.8-30.65-32.77-44.15-13.04C48 191.85 224 200 224 288c0 35.63-29.11 64.46-64.85 63.99-35.17-.45-63.15-29.77-63.15-64.94v-85.51c0-21.7-26.47-32.23-41.43-16.5C27.8 213.16 0 261.33 0 320c0 105.87 86.13 192 192 192s192-86.13 192-192c0-170.29-168-193-168-296.14z"},child:[]}]})(e)}function yu(e){return jc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M243.2 189.9V258c26.1 5.9 49.3 15.6 73.6 22.3v-68.2c-26-5.8-49.4-15.5-73.6-22.2zm223.3-123c-34.3 15.9-76.5 31.9-117 31.9C296 98.8 251.7 64 184.3 64c-25 0-47.3 4.4-68 12 2.8-7.3 4.1-15.2 3.6-23.6C118.1 24 94.8 1.2 66.3 0 34.3-1.3 8 24.3 8 56c0 19 9.5 35.8 24 45.9V488c0 13.3 10.7 24 24 24h16c13.3 0 24-10.7 24-24v-94.4c28.3-12.1 63.6-22.1 114.4-22.1 53.6 0 97.8 34.8 165.2 34.8 48.2 0 86.7-16.3 122.5-40.9 8.7-6 13.8-15.8 13.8-26.4V95.9c.1-23.3-24.2-38.8-45.4-29zM169.6 325.5c-25.8 2.7-50 8.2-73.6 16.6v-70.5c26.2-9.3 47.5-15 73.6-17.4zM464 191c-23.6 9.8-46.3 19.5-73.6 23.9V286c24.8-3.4 51.4-11.8 73.6-26v70.5c-25.1 16.1-48.5 24.7-73.6 27.1V286c-27 3.7-47.9 1.5-73.6-5.6v67.4c-23.9-7.4-47.3-16.7-73.6-21.3V258c-19.7-4.4-40.8-6.8-73.6-3.8v-70c-22.4 3.1-44.6 10.2-73.6 20.9v-70.5c33.2-12.2 50.1-19.8 73.6-22v71.6c27-3.7 48.4-1.3 73.6 5.7v-67.4c23.7 7.4 47.2 16.7 73.6 21.3v68.4c23.7 5.3 47.6 6.9 73.6 2.7V143c27-4.8 52.3-13.6 73.6-22.5z"},child:[]}]})(e)}function xu(e){return jc({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z"},child:[]}]})(e)}function bu(e){return jc({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(e)}function wu(e){return jc({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M434.7 64h-85.9c-8 0-15.7 3-21.6 8.4l-98.3 90c-.1.1-.2.3-.3.4-16.6 15.6-16.3 40.5-2.1 56 12.7 13.9 39.4 17.6 56.1 2.7.1-.1.3-.1.4-.2l79.9-73.2c6.5-5.9 16.7-5.5 22.6 1 6 6.5 5.5 16.6-1 22.6l-26.1 23.9L504 313.8c2.9 2.4 5.5 5 7.9 7.7V128l-54.6-54.6c-5.9-6-14.1-9.4-22.6-9.4zM544 128.2v223.9c0 17.7 14.3 32 32 32h64V128.2h-96zm48 223.9c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zM0 384h64c17.7 0 32-14.3 32-32V128.2H0V384zm48-63.9c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16c0-8.9 7.2-16 16-16zm435.9 18.6L334.6 217.5l-30 27.5c-29.7 27.1-75.2 24.5-101.7-4.4-26.9-29.4-24.8-74.9 4.4-101.7L289.1 64h-83.8c-8.5 0-16.6 3.4-22.6 9.4L128 128v223.9h18.3l90.5 81.9c27.4 22.3 67.7 18.1 90-9.3l.2-.2 17.9 15.5c15.9 13 39.4 10.5 52.3-5.4l31.4-38.6 5.4 4.4c13.7 11.1 33.9 9.1 45-4.7l9.5-11.7c11.2-13.8 9.1-33.9-4.6-45.1z"},child:[]}]})(e)}function ju(e){return jc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M480 288c0-80.25-49.28-148.92-119.19-177.62L320 192V80a16 16 0 0 0-16-16h-96a16 16 0 0 0-16 16v112l-40.81-81.62C81.28 139.08 32 207.75 32 288v64h448zm16 96H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h480a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(e)}function ku(e){return jc({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z"},child:[]}]})(e)}function Nu(e){return jc({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(e)}function _u(e){return jc({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M360 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24 0 90.965 51.016 167.734 120.842 192C75.016 280.266 24 357.035 24 448c-13.255 0-24 10.745-24 24v16c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24 0-90.965-51.016-167.734-120.842-192C308.984 231.734 360 154.965 360 64c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24zm-75.078 384H99.08c17.059-46.797 52.096-80 92.92-80 40.821 0 75.862 33.196 92.922 80zm.019-256H99.078C91.988 108.548 88 86.748 88 64h208c0 22.805-3.987 44.587-11.059 64z"},child:[]}]})(e)}function Su(e){return jc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M475.115 163.781L336 252.309v-68.28c0-18.916-20.931-30.399-36.885-20.248L160 252.309V56c0-13.255-10.745-24-24-24H24C10.745 32 0 42.745 0 56v400c0 13.255 10.745 24 24 24h464c13.255 0 24-10.745 24-24V184.029c0-18.917-20.931-30.399-36.885-20.248z"},child:[]}]})(e)}function Cu(e){return jc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(e)}function Ou(e){return jc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"},child:[]}]})(e)}function Eu(e){return jc({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h480c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM128 180v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm288 0v-40c0-6.627-5.373-12-12-12H172c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h232c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12z"},child:[]}]})(e)}function Pu(e){return jc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},child:[]}]})(e)}function Tu(e){return jc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 48a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm448 16H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(e)}function Au(e){return jc({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(e)}function Mu(e){return jc({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(e)}function Du(e){return jc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 48v416c0 26.51-21.49 48-48 48H144c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h224c26.51 0 48 21.49 48 48zm96 58v12a6 6 0 0 1-6 6h-18v6a6 6 0 0 1-6 6h-42V88h42a6 6 0 0 1 6 6v6h18a6 6 0 0 1 6 6zm0 96v12a6 6 0 0 1-6 6h-18v6a6 6 0 0 1-6 6h-42v-48h42a6 6 0 0 1 6 6v6h18a6 6 0 0 1 6 6zm0 96v12a6 6 0 0 1-6 6h-18v6a6 6 0 0 1-6 6h-42v-48h42a6 6 0 0 1 6 6v6h18a6 6 0 0 1 6 6zm0 96v12a6 6 0 0 1-6 6h-18v6a6 6 0 0 1-6 6h-42v-48h42a6 6 0 0 1 6 6v6h18a6 6 0 0 1 6 6zM30 376h42v48H30a6 6 0 0 1-6-6v-6H6a6 6 0 0 1-6-6v-12a6 6 0 0 1 6-6h18v-6a6 6 0 0 1 6-6zm0-96h42v48H30a6 6 0 0 1-6-6v-6H6a6 6 0 0 1-6-6v-12a6 6 0 0 1 6-6h18v-6a6 6 0 0 1 6-6zm0-96h42v48H30a6 6 0 0 1-6-6v-6H6a6 6 0 0 1-6-6v-12a6 6 0 0 1 6-6h18v-6a6 6 0 0 1 6-6zm0-96h42v48H30a6 6 0 0 1-6-6v-6H6a6 6 0 0 1-6-6v-12a6 6 0 0 1 6-6h18v-6a6 6 0 0 1 6-6z"},child:[]}]})(e)}function zu(e){return jc({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(e)}function Iu(e){return jc({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm96 304c0 4.4-3.6 8-8 8h-56v56c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8v-56h-56c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h56v-56c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v56h56c4.4 0 8 3.6 8 8v48zm0-192c0 4.4-3.6 8-8 8H104c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h176c4.4 0 8 3.6 8 8v16z"},child:[]}]})(e)}function Lu(e){return jc({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"},child:[]}]})(e)}function Ru(e){return jc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"},child:[]}]})(e)}function $u(e){return jc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"},child:[]}]})(e)}function Fu(e){return jc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(e)}function Bu(e){return jc({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M480 192H365.71L260.61 8.06A16.014 16.014 0 0 0 246.71 0h-65.5c-10.63 0-18.3 10.17-15.38 20.39L214.86 192H112l-43.2-57.6c-3.02-4.03-7.77-6.4-12.8-6.4H16.01C5.6 128-2.04 137.78.49 147.88L32 256 .49 364.12C-2.04 374.22 5.6 384 16.01 384H56c5.04 0 9.78-2.37 12.8-6.4L112 320h102.86l-49.03 171.6c-2.92 10.22 4.75 20.4 15.38 20.4h65.5c5.74 0 11.04-3.08 13.89-8.06L365.71 320H480c35.35 0 96-28.65 96-64s-60.65-64-96-64z"},child:[]}]})(e)}function Vu(e){return jc({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(e)}function Uu(e){return jc({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M320,32a32,32,0,0,0-64,0v96h64Zm48,128H16A16,16,0,0,0,0,176v32a16,16,0,0,0,16,16H32v32A160.07,160.07,0,0,0,160,412.8V512h64V412.8A160.07,160.07,0,0,0,352,256V224h16a16,16,0,0,0,16-16V176A16,16,0,0,0,368,160ZM128,32a32,32,0,0,0-64,0v96h64Z"},child:[]}]})(e)}function Hu(e){return jc({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function qu(e){return jc({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M384 320H256c-17.67 0-32 14.33-32 32v128c0 17.67 14.33 32 32 32h128c17.67 0 32-14.33 32-32V352c0-17.67-14.33-32-32-32zM192 32c0-17.67-14.33-32-32-32H32C14.33 0 0 14.33 0 32v128c0 17.67 14.33 32 32 32h95.72l73.16 128.04C211.98 300.98 232.4 288 256 288h.28L192 175.51V128h224V64H192V32zM608 0H480c-17.67 0-32 14.33-32 32v128c0 17.67 14.33 32 32 32h128c17.67 0 32-14.33 32-32V32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function Wu(e){return jc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"},child:[]}]})(e)}function Ku(e){return jc({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M358.4 3.2L320 48 265.6 3.2a15.9 15.9 0 0 0-19.2 0L192 48 137.6 3.2a15.9 15.9 0 0 0-19.2 0L64 48 25.6 3.2C15-4.7 0 2.8 0 16v480c0 13.2 15 20.7 25.6 12.8L64 464l54.4 44.8a15.9 15.9 0 0 0 19.2 0L192 464l54.4 44.8a15.9 15.9 0 0 0 19.2 0L320 464l38.4 44.8c10.5 7.9 25.6.4 25.6-12.8V16c0-13.2-15-20.7-25.6-12.8zM320 360c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16z"},child:[]}]})(e)}function Gu(e){return jc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M160 288h-56c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h56v-64h-56c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h56V96h-56c-4.42 0-8-3.58-8-8V72c0-4.42 3.58-8 8-8h56V32c0-17.67-14.33-32-32-32H32C14.33 0 0 14.33 0 32v448c0 2.77.91 5.24 1.57 7.8L160 329.38V288zm320 64h-32v56c0 4.42-3.58 8-8 8h-16c-4.42 0-8-3.58-8-8v-56h-64v56c0 4.42-3.58 8-8 8h-16c-4.42 0-8-3.58-8-8v-56h-64v56c0 4.42-3.58 8-8 8h-16c-4.42 0-8-3.58-8-8v-56h-41.37L24.2 510.43c2.56.66 5.04 1.57 7.8 1.57h448c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function Yu(e){return jc({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(e)}function Xu(e){return jc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function Ju(e){return jc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M480 160H32c-17.673 0-32-14.327-32-32V64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24z"},child:[]}]})(e)}function Zu(e){return jc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(e)}function Qu(e){return jc({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(e)}function ed(e){return jc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"},child:[]}]})(e)}function td(e){return jc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function nd(e){return jc({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M431.98 448.01l-47.97.05V416h-128v32.21l-47.98.05c-8.82.01-15.97 7.16-15.98 15.99l-.05 31.73c-.01 8.85 7.17 16.03 16.02 16.02l223.96-.26c8.82-.01 15.97-7.16 15.98-15.98l.04-31.73c.01-8.85-7.17-16.03-16.02-16.02zM585.2 26.74C582.58 11.31 568.99 0 553.06 0H86.93C71 0 57.41 11.31 54.79 26.74-3.32 369.16.04 348.08.03 352c-.03 17.32 14.29 32 32.6 32h574.74c18.23 0 32.51-14.56 32.59-31.79.02-4.08 3.35 16.95-54.76-325.47zM259.83 64h120.33l9.77 96H250.06l9.77-96zm-75.17 256H71.09L90.1 208h105.97l-11.41 112zm16.29-160H98.24l16.29-96h96.19l-9.77 96zm32.82 160l11.4-112h149.65l11.4 112H233.77zm195.5-256h96.19l16.29 96H439.04l-9.77-96zm26.06 256l-11.4-112H549.9l19.01 112H455.33z"},child:[]}]})(e)}function rd(e){return jc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 416h-64a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm-128-64h-48V48a16 16 0 0 0-16-16H80a16 16 0 0 0-16 16v304H16c-14.19 0-21.37 17.24-11.29 27.31l80 96a16 16 0 0 0 22.62 0l80-96C197.35 369.26 190.22 352 176 352zm256-192H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h192a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm-64 128H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM496 32H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h256a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(e)}function ad(e){return jc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 416h-64a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h48v304a16 16 0 0 0 16 16h32a16 16 0 0 0 16-16V160h48c14.21 0 21.38-17.24 11.31-27.31l-80-96a16 16 0 0 0-22.62 0l-80 96C-5.35 142.74 1.77 160 16 160zm416 0H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h192a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm-64 128H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM496 32H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h256a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(e)}function id(e){return jc({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41zm255-105L177 64c-9.4-9.4-24.6-9.4-33.9 0L24 183c-15.1 15.1-4.4 41 17 41h238c21.4 0 32.1-25.9 17-41z"},child:[]}]})(e)}function sd(e){return jc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(e)}function od(e){return jc({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M312 320h136V56c0-13.3-10.7-24-24-24H24C10.7 32 0 42.7 0 56v400c0 13.3 10.7 24 24 24h264V344c0-13.2 10.8-24 24-24zm129 55l-98 98c-4.5 4.5-10.6 7-17 7h-6V352h128v6.1c0 6.3-2.5 12.4-7 16.9z"},child:[]}]})(e)}function ld(e){return jc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"},child:[]}]})(e)}function cd(e){return jc({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"},child:[]}]})(e)}function ud(e){return jc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M139.61 35.5a12 12 0 0 0-17 0L58.93 98.81l-22.7-22.12a12 12 0 0 0-17 0L3.53 92.41a12 12 0 0 0 0 17l47.59 47.4a12.78 12.78 0 0 0 17.61 0l15.59-15.62L156.52 69a12.09 12.09 0 0 0 .09-17zm0 159.19a12 12 0 0 0-17 0l-63.68 63.72-22.7-22.1a12 12 0 0 0-17 0L3.53 252a12 12 0 0 0 0 17L51 316.5a12.77 12.77 0 0 0 17.6 0l15.7-15.69 72.2-72.22a12 12 0 0 0 .09-16.9zM64 368c-26.49 0-48.59 21.5-48.59 48S37.53 464 64 464a48 48 0 0 0 0-96zm432 16H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(e)}function dd(e){return jc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(e)}function hd(e){return jc({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function fd(e){return jc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M501.1 395.7L384 278.6c-23.1-23.1-57.6-27.6-85.4-13.9L192 158.1V96L64 0 0 64l96 128h62.1l106.6 106.6c-13.6 27.8-9.2 62.3 13.9 85.4l117.1 117.1c14.6 14.6 38.2 14.6 52.7 0l52.7-52.7c14.5-14.6 14.5-38.2 0-52.7zM331.7 225c28.3 0 54.9 11 74.9 31l19.4 19.4c15.8-6.9 30.8-16.5 43.8-29.5 37.1-37.1 49.7-89.3 37.9-136.7-2.2-9-13.5-12.1-20.1-5.5l-74.4 74.4-67.9-11.3L334 98.9l74.4-74.4c6.6-6.6 3.4-17.9-5.7-20.2-47.4-11.7-99.6.9-136.6 37.9-28.5 28.5-41.9 66.1-41.2 103.6l82.1 82.1c8.1-1.9 16.5-2.9 24.7-2.9zm-103.9 82l-56.7-56.7L18.7 402.8c-25 25-25 65.5 0 90.5s65.5 25 90.5 0l123.6-123.6c-7.6-19.9-9.9-41.6-5-62.7zM64 472c-13.2 0-24-10.8-24-24 0-13.3 10.7-24 24-24s24 10.7 24 24c0 13.2-10.7 24-24 24z"},child:[]}]})(e)}function pd(e){return jc({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function md(e){return jc({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h16c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm320 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"},child:[]}]})(e)}function gd(e){return jc({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M115.38 136.9l102.11 37.18c35.19-81.54 86.21-144.29 139-173.7-95.88-4.89-188.78 36.96-248.53 111.8-6.69 8.4-2.66 21.05 7.42 24.72zm132.25 48.16l238.48 86.83c35.76-121.38 18.7-231.66-42.63-253.98-7.4-2.7-15.13-4-23.09-4-58.02.01-128.27 69.17-172.76 171.15zM521.48 60.5c6.22 16.3 10.83 34.6 13.2 55.19 5.74 49.89-1.42 108.23-18.95 166.98l102.62 37.36c10.09 3.67 21.31-3.43 21.57-14.17 2.32-95.69-41.91-187.44-118.44-245.36zM560 447.98H321.06L386 269.5l-60.14-21.9-72.9 200.37H16c-8.84 0-16 7.16-16 16.01v32.01C0 504.83 7.16 512 16 512h544c8.84 0 16-7.17 16-16.01v-32.01c0-8.84-7.16-16-16-16z"},child:[]}]})(e)}function vd(e){return jc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 128v16a8 8 0 0 1-8 8h-24v12c0 6.627-5.373 12-12 12H60c-6.627 0-12-5.373-12-12v-12H24a8 8 0 0 1-8-8v-16a8 8 0 0 1 4.941-7.392l232-88a7.996 7.996 0 0 1 6.118 0l232 88A8 8 0 0 1 496 128zm-24 304H40c-13.255 0-24 10.745-24 24v16a8 8 0 0 0 8 8h464a8 8 0 0 0 8-8v-16c0-13.255-10.745-24-24-24zM96 192v192H60c-6.627 0-12 5.373-12 12v20h416v-20c0-6.627-5.373-12-12-12h-36V192h-64v192h-64V192h-64v192h-64V192H96z"},child:[]}]})(e)}function yd(e){return jc({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(e)}function xd(e){return jc({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M496 224c-79.6 0-144 64.4-144 144s64.4 144 144 144 144-64.4 144-144-64.4-144-144-144zm64 150.3c0 5.3-4.4 9.7-9.7 9.7h-60.6c-5.3 0-9.7-4.4-9.7-9.7v-76.6c0-5.3 4.4-9.7 9.7-9.7h12.6c5.3 0 9.7 4.4 9.7 9.7V352h38.3c5.3 0 9.7 4.4 9.7 9.7v12.6zM320 368c0-27.8 6.7-54.1 18.2-77.5-8-1.5-16.2-2.5-24.6-2.5h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h347.1c-45.3-31.9-75.1-84.5-75.1-144zm-96-112c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128z"},child:[]}]})(e)}function bd(e){return jc({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h274.9c-2.4-6.8-3.4-14-2.6-21.3l6.8-60.9 1.2-11.1 7.9-7.9 77.3-77.3c-24.5-27.7-60-45.5-99.9-45.5zm45.3 145.3l-6.8 61c-1.1 10.2 7.5 18.8 17.6 17.6l60.9-6.8 137.9-137.9-71.7-71.7-137.9 137.8zM633 268.9L595.1 231c-9.3-9.3-24.5-9.3-33.8 0l-37.8 37.8-4.1 4.1 71.8 71.7 41.8-41.8c9.3-9.4 9.3-24.5 0-33.9z"},child:[]}]})(e)}function wd(e){return jc({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z"},child:[]}]})(e)}function jd(e){return jc({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function kd(e){return jc({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm95.8 32.6L272 480l-32-136 32-56h-96l32 56-32 136-47.8-191.4C56.9 292 0 350.3 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-72.1-56.9-130.4-128.2-133.8z"},child:[]}]})(e)}function Nd(e){return jc({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function _d(e){return jc({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}function Sd(e){return jc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M461.2 128H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h384c8.84 0 16-7.16 16-16 0-26.51-21.49-48-48-48H64C28.65 32 0 60.65 0 96v320c0 35.35 28.65 64 64 64h397.2c28.02 0 50.8-21.53 50.8-48V176c0-26.47-22.78-48-50.8-48zM416 336c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(e)}function Cd(e){return jc({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M148 288h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm108-12v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 96v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm192 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96-260v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h48c26.5 0 48 21.5 48 48zm-48 346V160H48v298c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z"},child:[]}]})(e)}function Od(e){return jc({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 144a110.94 110.94 0 0 0-31.24 5 55.4 55.4 0 0 1 7.24 27 56 56 0 0 1-56 56 55.4 55.4 0 0 1-27-7.24A111.71 111.71 0 1 0 288 144zm284.52 97.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400c-98.65 0-189.09-55-237.93-144C98.91 167 189.34 112 288 112s189.09 55 237.93 144C477.1 345 386.66 400 288 400z"},child:[]}]})(e)}function Ed(e){return jc({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48z"},child:[]}]})(e)}class Pd extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",n=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=n}}class Td extends Pd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ad extends Pd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Md extends Pd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Dd;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(Dd||(Dd={}));var zd=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function s(e){try{l(r.next(e))}catch(vV){i(vV)}}function o(e){try{l(r.throw(e))}catch(vV){i(vV)}}function l(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(s,o)}l((r=r.apply(e,t||[])).next())})};class Id{constructor(e){let{headers:t={},customFetch:r,region:a=Dd.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=a,this.fetch=(e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,4630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}})(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;return zd(this,void 0,void 0,function*(){try{const{headers:r,method:a,body:i}=t;let s={},{region:o}=t;o||(o=this.region);const l=new URL(`${this.url}/${e}`);let c;o&&"any"!==o&&(s["x-region"]=o,l.searchParams.set("forceFunctionRegion",o)),i&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&("undefined"!==typeof Blob&&i instanceof Blob||i instanceof ArrayBuffer?(s["Content-Type"]="application/octet-stream",c=i):"string"===typeof i?(s["Content-Type"]="text/plain",c=i):"undefined"!==typeof FormData&&i instanceof FormData?c=i:(s["Content-Type"]="application/json",c=JSON.stringify(i)));const u=yield this.fetch(l.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},s),this.headers),r),body:c}).catch(e=>{throw new Td(e)}),d=u.headers.get("x-relay-error");if(d&&"true"===d)throw new Ad(u);if(!u.ok)throw new Md(u);let h,f=(null!==(n=u.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return h="application/json"===f?yield u.json():"application/octet-stream"===f?yield u.blob():"text/event-stream"===f?u:"multipart/form-data"===f?yield u.formData():yield u.text(),{data:h,error:null,response:u}}catch(r){return{data:null,error:r,response:r instanceof Md||r instanceof Ad?r.context:void 0}}})}}var Ld=n(7980);const{PostgrestClient:Rd,PostgrestQueryBuilder:$d,PostgrestFilterBuilder:Fd,PostgrestTransformBuilder:Bd,PostgrestBuilder:Vd,PostgrestError:Ud}=Ld;const Hd=class{static detectEnvironment(){var e;if("undefined"!==typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!==typeof n.g&&"undefined"!==typeof n.g.WebSocket)return{type:"native",constructor:n.g.WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocketPair&&"undefined"===typeof globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!==typeof globalThis&&globalThis.EdgeRuntime||"undefined"!==typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if("undefined"!==typeof process&&process.versions&&process.versions.node){const e=parseInt(process.versions.node.split(".")[0]);return e>=22?"undefined"!==typeof globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${e} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${e} detected without native WebSocket support.`,workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`\n\nSuggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}},qd=1e4;var Wd,Kd,Gd,Yd,Xd,Jd;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(Wd||(Wd={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(Kd||(Kd={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(Gd||(Gd={})),function(e){e.websocket="websocket"}(Yd||(Yd={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(Xd||(Xd={}));class Zd{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"===typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const r=t.getUint8(1),a=t.getUint8(2);let i=this.HEADER_LENGTH+2;const s=n.decode(e.slice(i,i+r));i+=r;const o=n.decode(e.slice(i,i+a));i+=a;return{ref:null,topic:s,event:o,payload:JSON.parse(n.decode(e.slice(i,e.byteLength)))}}}class Qd{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(Jd||(Jd={}));const eh=function(e,t){var n;const r=null!==(n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==n?n:[];return Object.keys(t).reduce((n,a)=>(n[a]=th(a,e,t,r),n),{})},th=(e,t,n,r)=>{const a=t.find(t=>t.name===e),i=null===a||void 0===a?void 0:a.type,s=n[e];return i&&!r.includes(i)?nh(i,s):rh(s)},nh=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return oh(t,n)}switch(e){case Jd.bool:return ah(t);case Jd.float4:case Jd.float8:case Jd.int2:case Jd.int4:case Jd.int8:case Jd.numeric:case Jd.oid:return ih(t);case Jd.json:case Jd.jsonb:return sh(t);case Jd.timestamp:return lh(t);case Jd.abstime:case Jd.date:case Jd.daterange:case Jd.int4range:case Jd.int8range:case Jd.money:case Jd.reltime:case Jd.text:case Jd.time:case Jd.timestamptz:case Jd.timetz:case Jd.tsrange:case Jd.tstzrange:default:return rh(t)}},rh=e=>e,ah=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},ih=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},sh=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},oh=(e,t)=>{if("string"!==typeof e)return e;const n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;const i=e.slice(1,n);try{r=JSON.parse("["+i+"]")}catch(a){r=i?i.split(","):[]}return r.map(e=>nh(t,e))}return e},lh=e=>"string"===typeof e?e.replace(" ","T"):e,ch=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class uh{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:qd;this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:n}=e;this.recHooks.filter(e=>e.status===t).forEach(e=>e.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var dh,hh,fh,ph;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(dh||(dh={}));class mh{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=mh.syncState(this.state,e,t,n),this.pendingDiffs.forEach(e=>{this.state=mh.syncDiff(this.state,e,t,n)}),this.pendingDiffs=[],r()}),this.channel._on(n.diff,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=mh.syncDiff(this.state,e,t,n),r())}),this.onJoin((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})}),this.onLeave((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,r){const a=this.cloneDeep(e),i=this.transformState(t),s={},o={};return this.map(a,(e,t)=>{i[e]||(o[e]=t)}),this.map(i,(e,t)=>{const n=a[e];if(n){const r=t.map(e=>e.presence_ref),a=n.map(e=>e.presence_ref),i=t.filter(e=>a.indexOf(e.presence_ref)<0),l=n.filter(e=>r.indexOf(e.presence_ref)<0);i.length>0&&(s[e]=i),l.length>0&&(o[e]=l)}else s[e]=t}),this.syncDiff(a,{joins:s,leaves:o},n,r)}static syncDiff(e,t,n,r){const{joins:a,leaves:i}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(a,(t,r)=>{var a;const i=null!==(a=e[t])&&void 0!==a?a:[];if(e[t]=this.cloneDeep(r),i.length>0){const n=e[t].map(e=>e.presence_ref),r=i.filter(e=>n.indexOf(e.presence_ref)<0);e[t].unshift(...r)}n(t,i,r)}),this.map(i,(t,n)=>{let a=e[t];if(!a)return;const i=n.map(e=>e.presence_ref);a=a.filter(e=>i.indexOf(e.presence_ref)<0),e[t]=a,r(t,a,n),0===a.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const r=e[n];return t[n]="metas"in r?r.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(hh||(hh={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(fh||(fh={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(ph||(ph={}));class gh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},n=arguments.length>2?arguments[2]:void 0;this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=Kd.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new uh(this,Gd.join,this.params,this.timeout),this.rejoinTimer=new Qd(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Kd.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Kd.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=Kd.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Kd.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=Kd.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Gd.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new mh(this),this.broadcastEndpointURL=ch(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var n,r;if(this.socket.isConnected()||this.socket.connect(),this.state==Kd.closed){const{config:{broadcast:a,presence:i,private:s}}=this.params,o=null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map(e=>e.filter))&&void 0!==r?r:[],l=!!this.bindings[fh.PRESENCE]&&this.bindings[fh.PRESENCE].length>0,c={},u={broadcast:a,presence:Object.assign(Object.assign({},i),{enabled:l}),postgres_changes:o,private:s};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this._onError(t=>null===e||void 0===e?void 0:e(ph.CHANNEL_ERROR,t)),this._onClose(()=>null===e||void 0===e?void 0:e(ph.CLOSED)),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async t=>{let{postgres_changes:n}=t;var r;if(this.socket.setAuth(),void 0!==n){const t=this.bindings.postgres_changes,a=null!==(r=null===t||void 0===t?void 0:t.length)&&void 0!==r?r:0,i=[];for(let r=0;r<a;r++){const a=t[r],{filter:{event:s,schema:o,table:l,filter:c}}=a,u=n&&n[r];if(!u||u.event!==s||u.schema!==o||u.table!==l||u.filter!==c)return this.unsubscribe(),this.state=Kd.errored,void(null===e||void 0===e||e(ph.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));i.push(Object.assign(Object.assign({},a),{id:u.id}))}return this.bindings.postgres_changes=i,void(e&&e(ph.SUBSCRIBED))}null===e||void 0===e||e(ph.SUBSCRIBED)}).receive("error",t=>{this.state=Kd.errored,null===e||void 0===e||e(ph.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null===e||void 0===e||e(ph.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this.state===Kd.joined&&e===fh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,n)}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r;if(this._canPush()||"broadcast"!==e.type)return new Promise(n=>{var r,a,i;const s=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(i=null===(a=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===a?void 0:a.broadcast)||void 0===i?void 0:i.ack)||n("ok"),s.receive("ok",()=>n("ok")),s.receive("error",()=>n("error")),s.receive("timeout",()=>n("timed out"))});{const{event:i,payload:s}=e,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,o,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(a){return"AbortError"===a.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=Kd.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Gd.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(r=>{n=new uh(this,Gd.leave,{},e),n.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{null===n||void 0===n||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Kd.closed,this.bindings={}}async _fetchWithTimeout(e,t,n){const r=new AbortController,a=setTimeout(()=>r.abort(),n),i=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(a),i}_push(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new uh(this,e,t,n);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,a;const i=e.toLocaleLowerCase(),{close:s,error:o,leave:l,join:c}=Gd;if(n&&[s,o,l,c].indexOf(i)>=0&&n!==this._joinRef())return;let u=this._onMessage(i,t,n);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter(e=>{var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===i}).map(e=>e.callback(u,n)):null===(a=this.bindings[i])||void 0===a||a.filter(e=>{var n,r,a,s,o,l;if(["broadcast","presence","postgres_changes"].includes(i)){if("id"in e){const i=e.id,s=null===(n=e.filter)||void 0===n?void 0:n.event;return i&&(null===(r=t.ids)||void 0===r?void 0:r.includes(i))&&("*"===s||(null===s||void 0===s?void 0:s.toLocaleLowerCase())===(null===(a=t.data)||void 0===a?void 0:a.type.toLocaleLowerCase()))}{const n=null===(o=null===(s=null===e||void 0===e?void 0:e.filter)||void 0===s?void 0:s.event)||void 0===o?void 0:o.toLocaleLowerCase();return"*"===n||n===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===i}).map(e=>{if("object"===typeof u&&"ids"in u){const e=u.data,{schema:t,table:n,commit_timestamp:r,type:a,errors:i}=e,s={schema:t,table:n,commit_timestamp:r,eventType:a,new:{},old:{},errors:i};u=Object.assign(Object.assign({},s),this._getPayloadRecords(e))}e.callback(u,n)})}_isClosed(){return this.state===Kd.closed}_isJoined(){return this.state===Kd.joined}_isJoining(){return this.state===Kd.joining}_isLeaving(){return this.state===Kd.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const r=e.toLocaleLowerCase(),a={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(a):this.bindings[r]=[a],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&gh.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Gd.close,{},e)}_onError(e){this._on(Gd.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Kd.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=eh(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=eh(e.columns,e.old_record)),t}}const vh=()=>{},yh=25e3,xh=10,bh=100,wh=[1e3,2e3,5e3,1e4];class jh{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=qd,this.transport=null,this.heartbeatIntervalMs=yh,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=vh,this.ref=0,this.reconnectTimer=null,this.logger=vh,this.conn=null,this.sendBuffer=[],this.serializer=new Zd,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,4630)).then(e=>{let{default:n}=e;return n(...t)}).catch(e=>{throw new Error(`Failed to load @supabase/node-fetch: ${e.message}. This is required for HTTP requests in Node.js environments without native fetch.`)})}:fetch),function(){return t(...arguments)}},!(null===(r=null===t||void 0===t?void 0:t.params)||void 0===r?void 0:r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${Yd.websocket}`,this.httpEndpoint=ch(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Hd.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;if(t.includes("Node.js"))throw new Error(`${t}\n\nTo use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })`);throw new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Wd.connecting:return Xd.Connecting;case Wd.open:return Xd.Open;case Wd.closing:return Xd.Closing;default:return Xd.Closed}}isConnected(){return this.connectionState()===Xd.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};const n=`realtime:${e}`,r=this.getChannels().find(e=>e.topic===n);if(r)return r;{const n=new gh(`realtime:${e}`,t,this);return this.channels.push(n),n}}push(e){const{topic:t,event:n,payload:r,ref:a}=e,i=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push",`${t} ${n} (${a})`,r),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},bh);this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}else this.heartbeatCallback("disconnected")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{"phoenix"===e.topic&&"phx_reply"===e.event&&this.heartbeatCallback("ok"===e.payload.status?"ok":"error"),e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:t,event:n,payload:r,ref:a}=e,i=a?`(${a})`:"",s=r.status||"";this.log("receive",`${s} ${t} ${n} ${i}`.trim(),r),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(n,r,a)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Gd.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?";return`${e}${n}${new URLSearchParams(t)}`}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e=t||(this.accessToken?await this.accessToken():this.accessTokenValue),this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(t=>{const n={access_token:e,version:"realtime-js/2.15.1"};e&&t.updateJoinPayload(n),t.joinedOnce&&t._isJoined()&&t._push(Gd.access_token,{access_token:e})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"general";this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(t)}catch(vV){this.log("error",`error in ${e} callback`,vV)}})}catch(vV){this.log("error",`error triggering ${e} callbacks`,vV)}}_setupReconnectionTimer(){this.reconnectTimer=new Qd(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},xh)},this.reconnectAfterMs)}_initializeOptions(e){var t,n,r,a,i,s,o,l;if(this.transport=null!==(t=null===e||void 0===e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(n=null===e||void 0===e?void 0:e.timeout)&&void 0!==n?n:qd,this.heartbeatIntervalMs=null!==(r=null===e||void 0===e?void 0:e.heartbeatIntervalMs)&&void 0!==r?r:yh,this.worker=null!==(a=null===e||void 0===e?void 0:e.worker)&&void 0!==a&&a,this.accessToken=null!==(i=null===e||void 0===e?void 0:e.accessToken)&&void 0!==i?i:null,(null===e||void 0===e?void 0:e.params)&&(this.params=e.params),(null===e||void 0===e?void 0:e.logger)&&(this.logger=e.logger),((null===e||void 0===e?void 0:e.logLevel)||(null===e||void 0===e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(s=null===e||void 0===e?void 0:e.reconnectAfterMs)&&void 0!==s?s:e=>wh[e-1]||1e4,this.encode=null!==(o=null===e||void 0===e?void 0:e.encode)&&void 0!==o?o:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(l=null===e||void 0===e?void 0:e.decode)&&void 0!==l?l:this.serializer.decode.bind(this.serializer),this.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null===e||void 0===e?void 0:e.workerUrl}}}class kh extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Nh(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}class _h extends kh{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Sh extends kh{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var Ch=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function s(e){try{l(r.next(e))}catch(vV){i(vV)}}function o(e){try{l(r.throw(e))}catch(vV){i(vV)}}function l(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(s,o)}l((r=r.apply(e,t||[])).next())})};const Oh=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,4630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},Eh=e=>{if(Array.isArray(e))return e.map(e=>Eh(e));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(e=>{let[n,r]=e;const a=n.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[a]=Eh(r)}),t};var Ph=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function s(e){try{l(r.next(e))}catch(vV){i(vV)}}function o(e){try{l(r.throw(e))}catch(vV){i(vV)}}function l(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(s,o)}l((r=r.apply(e,t||[])).next())})};const Th=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ah=(e,t,r)=>Ph(void 0,void 0,void 0,function*(){const a=yield Ch(void 0,void 0,void 0,function*(){return"undefined"===typeof Response?(yield Promise.resolve().then(n.bind(n,4630))).Response:Response});e instanceof a&&!(null===r||void 0===r?void 0:r.noResolveJson)?e.json().then(n=>{const r=e.status||500,a=(null===n||void 0===n?void 0:n.statusCode)||r+"";t(new _h(Th(n),r,a))}).catch(e=>{t(new Sh(Th(e),e))}):t(new Sh(Th(e),e))}),Mh=(e,t,n,r)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"!==e&&r?((e=>{if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)})(r)?(a.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(r)):a.body=r,Object.assign(Object.assign({},a),n)):a};function Dh(e,t,n,r,a,i){return Ph(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(n,Mh(t,r,a,i)).then(e=>{if(!e.ok)throw e;return(null===r||void 0===r?void 0:r.noResolveJson)?e:e.json()}).then(e=>s(e)).catch(e=>Ah(e,o,r))})})}function zh(e,t,n,r){return Ph(this,void 0,void 0,function*(){return Dh(e,"GET",t,n,r)})}function Ih(e,t,n,r,a){return Ph(this,void 0,void 0,function*(){return Dh(e,"POST",t,r,a,n)})}function Lh(e,t,n,r,a){return Ph(this,void 0,void 0,function*(){return Dh(e,"PUT",t,r,a,n)})}function Rh(e,t,n,r,a){return Ph(this,void 0,void 0,function*(){return Dh(e,"DELETE",t,r,a,n)})}var $h=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function s(e){try{l(r.next(e))}catch(vV){i(vV)}}function o(e){try{l(r.throw(e))}catch(vV){i(vV)}}function l(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(s,o)}l((r=r.apply(e,t||[])).next())})};const Fh={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Bh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Vh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.url=e,this.headers=t,this.bucketId=n,this.fetch=Oh(r)}uploadOrUpdate(e,t,n,r){return $h(this,void 0,void 0,function*(){try{let a;const i=Object.assign(Object.assign({},Bh),r);let s=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(i.upsert)});const o=i.metadata;"undefined"!==typeof Blob&&n instanceof Blob?(a=new FormData,a.append("cacheControl",i.cacheControl),o&&a.append("metadata",this.encodeMetadata(o)),a.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(a=n,a.append("cacheControl",i.cacheControl),o&&a.append("metadata",this.encodeMetadata(o))):(a=n,s["cache-control"]=`max-age=${i.cacheControl}`,s["content-type"]=i.contentType,o&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),(null===r||void 0===r?void 0:r.headers)&&(s=Object.assign(Object.assign({},s),r.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield("PUT"==e?Lh:Ih)(this.fetch,`${this.url}/object/${c}`,a,Object.assign({headers:s},(null===i||void 0===i?void 0:i.duplex)?{duplex:i.duplex}:{}));return{data:{path:l,id:u.Id,fullPath:u.Key},error:null}}catch(a){if(Nh(a))return{data:null,error:a};throw a}})}upload(e,t,n){return $h(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,r){return $h(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),i=this._getFinalPath(a),s=new URL(this.url+`/object/upload/sign/${i}`);s.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:Bh.upsert},r),i=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!==typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,i["cache-control"]=`max-age=${t.cacheControl}`,i["content-type"]=t.contentType);return{data:{path:a,fullPath:(yield Lh(this.fetch,s.toString(),e,{headers:i})).Key},error:null}}catch(o){if(Nh(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(e,t){return $h(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);(null===t||void 0===t?void 0:t.upsert)&&(r["x-upsert"]="true");const a=yield Ih(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:r}),i=new URL(this.url+a.url),s=i.searchParams.get("token");if(!s)throw new kh("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:s},error:null}}catch(n){if(Nh(n))return{data:null,error:n};throw n}})}update(e,t,n){return $h(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return $h(this,void 0,void 0,function*(){try{return{data:yield Ih(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(Nh(r))return{data:null,error:r};throw r}})}copy(e,t,n){return $h(this,void 0,void 0,function*(){try{return{data:{path:(yield Ih(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(Nh(r))return{data:null,error:r};throw r}})}createSignedUrl(e,t,n){return $h(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),a=yield Ih(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},(null===n||void 0===n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers});const i=(null===n||void 0===n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${i}`)},{data:a,error:null}}catch(r){if(Nh(r))return{data:null,error:r};throw r}})}createSignedUrls(e,t,n){return $h(this,void 0,void 0,function*(){try{const r=yield Ih(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),a=(null===n||void 0===n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return{data:r.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${a}`):null})),error:null}}catch(r){if(Nh(r))return{data:null,error:r};throw r}})}download(e,t){return $h(this,void 0,void 0,function*(){const n="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),a=r?`?${r}`:"";try{const t=this._getFinalPath(e),r=yield zh(this.fetch,`${this.url}/${n}/${t}${a}`,{headers:this.headers,noResolveJson:!0});return{data:yield r.blob(),error:null}}catch(i){if(Nh(i))return{data:null,error:i};throw i}})}info(e){return $h(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const e=yield zh(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Eh(e),error:null}}catch(n){if(Nh(n))return{data:null,error:n};throw n}})}exists(e){return $h(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield function(e,t,n,r){return Ph(this,void 0,void 0,function*(){return Dh(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Nh(n)&&n instanceof Sh){const e=n.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],a=(null===t||void 0===t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==a&&r.push(a);const i="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",s=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==s&&r.push(s);let o=r.join("&");return""!==o&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${o}`)}}}remove(e){return $h(this,void 0,void 0,function*(){try{return{data:yield Rh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Nh(t))return{data:null,error:t};throw t}})}list(e,t,n){return $h(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},Fh),t),{prefix:e||""});return{data:yield Ih(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(Nh(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Uh={"X-Client-Info":"storage-js/2.10.4"};var Hh=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function s(e){try{l(r.next(e))}catch(vV){i(vV)}}function o(e){try{l(r.throw(e))}catch(vV){i(vV)}}function l(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(s,o)}l((r=r.apply(e,t||[])).next())})};class qh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;const a=new URL(e);if(null===r||void 0===r?void 0:r.useNewHostname){/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."))}this.url=a.href,this.headers=Object.assign(Object.assign({},Uh),t),this.fetch=Oh(n)}listBuckets(){return Hh(this,void 0,void 0,function*(){try{return{data:yield zh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Nh(e))return{data:null,error:e};throw e}})}getBucket(e){return Hh(this,void 0,void 0,function*(){try{return{data:yield zh(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(Nh(t))return{data:null,error:t};throw t}})}createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return Hh(this,void 0,void 0,function*(){try{return{data:yield Ih(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Nh(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return Hh(this,void 0,void 0,function*(){try{return{data:yield Lh(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Nh(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Hh(this,void 0,void 0,function*(){try{return{data:yield Ih(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(Nh(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Hh(this,void 0,void 0,function*(){try{return{data:yield Rh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(Nh(t))return{data:null,error:t};throw t}})}}class Wh extends qh{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0)}from(e){return new Vh(this.url,this.headers,e,this.fetch)}}let Kh="";Kh="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const Gh={headers:{"X-Client-Info":`supabase-js-${Kh}/2.55.0`}},Yh={schema:"public"},Xh={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Jh={};var Zh=n(4630),Qh=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function s(e){try{l(r.next(e))}catch(vV){i(vV)}}function o(e){try{l(r.throw(e))}catch(vV){i(vV)}}function l(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(s,o)}l((r=r.apply(e,t||[])).next())})};const ef=e=>{let t;return t=e||("undefined"===typeof fetch?Zh.default:fetch),function(){return t(...arguments)}},tf=(e,t,n)=>{const r=ef(n),a="undefined"===typeof Headers?Zh.Headers:Headers;return(n,i)=>Qh(void 0,void 0,void 0,function*(){var s;const o=null!==(s=yield t())&&void 0!==s?s:e;let l=new a(null===i||void 0===i?void 0:i.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${o}`),r(n,Object.assign(Object.assign({},i),{headers:l}))})};var nf=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function s(e){try{l(r.next(e))}catch(vV){i(vV)}}function o(e){try{l(r.throw(e))}catch(vV){i(vV)}}function l(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(s,o)}l((r=r.apply(e,t||[])).next())})};const rf="2.71.1",af=3e4,sf=9e4,of={"X-Client-Info":`gotrue-js/${rf}`},lf="X-Supabase-Api-Version",cf={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},uf=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class df extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function hf(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class ff extends df{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}class pf extends df{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class mf extends df{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}}class gf extends mf{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class vf extends mf{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class yf extends mf{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class xf extends mf{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class bf extends mf{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class wf extends mf{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function jf(e){return hf(e)&&"AuthRetryableFetchError"===e.name}class kf extends mf{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class Nf extends mf{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const _f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Sf=" \t\n\r=".split(""),Cf=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Sf.length;t+=1)e[Sf[t].charCodeAt(0)]=-2;for(let t=0;t<_f.length;t+=1)e[_f[t].charCodeAt(0)]=t;return e})();function Of(e,t,n){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(_f[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(_f[e]),t.queuedBits-=6}}function Ef(e,t,n){const r=Cf[e];if(!(r>-1)){if(-2===r)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function Pf(e){const t=[],n=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=e=>{!function(e,t,n){if(0===t.utf8seq){if(e<=127)return void n(e);for(let n=1;n<6;n+=1)if(0===(e>>7-n&1)){t.utf8seq=n;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&n(t.codepoint)}}(e,r,n)};for(let s=0;s<e.length;s+=1)Ef(e.charCodeAt(s),a,i);return t.join("")}function Tf(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}t(e)}function Af(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const t=1024*(r-55296)&65535;r=65536+(e.charCodeAt(n+1)-56320&65535|t),n+=1}Tf(r,t)}}function Mf(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let a=0;a<e.length;a+=1)Ef(e.charCodeAt(a),n,r);return new Uint8Array(t)}function Df(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};return e.forEach(e=>Of(e,n,r)),Of(null,n,r),t.join("")}const zf=()=>"undefined"!==typeof window&&"undefined"!==typeof document,If={tested:!1,writable:!1},Lf=()=>{if(!zf())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(vV){return!1}if(If.tested)return If.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),If.tested=!0,If.writable=!0}catch(vV){If.tested=!0,If.writable=!1}return If.writable};const Rf=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,4630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},$f=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ff=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}},Bf=async(e,t)=>{await e.removeItem(t)};class Vf{constructor(){this.promise=new Vf.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function Uf(e){const t=e.split(".");if(3!==t.length)throw new Nf("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!uf.test(t[n]))throw new Nf("JWT not in base64url format");return{header:JSON.parse(Pf(t[0])),payload:JSON.parse(Pf(t[1])),signature:Mf(t[2]),raw:{header:t[0],payload:t[1]}}}function Hf(e){return("0"+e.toString(16)).substr(-2)}async function qf(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Wf(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,Hf).join("")}();let a=r;n&&(a+="/PASSWORD_RECOVERY"),await $f(e,`${t}-code-verifier`,a);const i=await qf(r);return[i,r===i?"plain":"s256"]}Vf.promiseConstructor=Promise;const Kf=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const Gf=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Yf(e){if(!Gf.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Xf(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"===typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Jf(e){return JSON.parse(JSON.stringify(e))}var Zf=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const Qf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ep=[502,503,504];async function tp(e){var t,n;if(!("object"===typeof(n=e)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"===typeof n.json))throw new wf(Qf(e),0);if(ep.includes(e.status))throw new wf(Qf(e),e.status);let r,a;try{r=await e.json()}catch(vV){throw new pf(Qf(vV),vV)}const i=function(e){const t=e.headers.get(lf);if(!t)return null;if(!t.match(Kf))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(vV){return null}}(e);if(i&&i.getTime()>=cf.timestamp&&"object"===typeof r&&r&&"string"===typeof r.code?a=r.code:"object"===typeof r&&r&&"string"===typeof r.error_code&&(a=r.error_code),a){if("weak_password"===a)throw new kf(Qf(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===a)throw new gf}else if("object"===typeof r&&r&&"object"===typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0))throw new kf(Qf(r),e.status,r.weak_password.reasons);throw new ff(Qf(r),e.status||500,a)}async function np(e,t,n,r){var a;const i=Object.assign({},null===r||void 0===r?void 0:r.headers);i[lf]||(i[lf]=cf.name),(null===r||void 0===r?void 0:r.jwt)&&(i.Authorization=`Bearer ${r.jwt}`);const s=null!==(a=null===r||void 0===r?void 0:r.query)&&void 0!==a?a:{};(null===r||void 0===r?void 0:r.redirectTo)&&(s.redirect_to=r.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await async function(e,t,n,r,a,i){const s=((e,t,n,r)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))})(t,r,a,i);let o;try{o=await e(n,Object.assign({},s))}catch(vV){throw console.error(vV),new wf(Qf(vV),0)}o.ok||await tp(o);if(null===r||void 0===r?void 0:r.noResolveJson)return o;try{return await o.json()}catch(vV){await tp(vV)}}(e,t,n+o,{headers:i,noResolveJson:null===r||void 0===r?void 0:r.noResolveJson},{},null===r||void 0===r?void 0:r.body);return(null===r||void 0===r?void 0:r.xform)?null===r||void 0===r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function rp(e){var t;let n=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function ap(e){const t=rp(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function ip(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function sp(e){return{data:e,error:null}}function op(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i}=e,s=Zf(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i},user:Object.assign({},s)},error:null}}function lp(e){return e}const cp=["global","local","others"];var up=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};class dp{constructor(e){let{url:t="",headers:n={},fetch:r}=e;this.url=t,this.headers=n,this.fetch=Rf(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cp[0];if(cp.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${cp.join(", ")}`);try{return await np(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(hf(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await np(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:ip})}catch(n){if(hf(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=up(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=null===n||void 0===n?void 0:n.newEmail,delete r.newEmail),await np(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:op,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(hf(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await np(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ip})}catch(t){if(hf(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,r,a,i,s,o;try{const l={nextPage:null,lastPage:0,total:0},c=await np(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(a=null===(r=null===e||void 0===e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==a?a:""},xform:lp});if(c.error)throw c.error;const u=await c.json(),d=null!==(i=c.headers.get("x-total-count"))&&void 0!==i?i:0,h=null!==(o=null===(s=c.headers.get("link"))||void 0===s?void 0:s.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l[`${n}Page`]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(hf(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){Yf(e);try{return await np(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ip})}catch(t){if(hf(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Yf(e);try{return await np(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:ip})}catch(n){if(hf(n))return{data:{user:null},error:n};throw n}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Yf(e);try{return await np(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:ip})}catch(n){if(hf(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Yf(e.userId);try{const{data:t,error:n}=await np(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(t){if(hf(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Yf(e.userId),Yf(e.id);try{return{data:await np(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(hf(t))return{data:null,error:t};throw t}}}function hp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const fp=!!(globalThis&&Lf()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class pp extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class mp extends pp{}async function gp(e,t,n){fp&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),fp&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async r=>{if(!r){if(0===t)throw fp&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new mp(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(fp)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(vV){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",vV)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}fp&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{fp&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}))}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(vV){"undefined"!==typeof self&&(self.globalThis=self)}}();const vp={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:of,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function yp(e,t,n){return await n()}const xp={};class bp{constructor(e){var t,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=bp.nextInstanceID,bp.nextInstanceID+=1,this.instanceID>0&&zf()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},vp),e);if(this.logDebugMessages=!!r.debug,"function"===typeof r.debug&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new dp({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Rf(r.fetch),this.lock=r.lock||yp,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:zf()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=gp:this.lock=yp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(r.storage?this.storage=r.storage:Lf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=hp(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=hp(this.memoryStorage)),zf()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(vV){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",vV)}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}get jwks(){var e,t;return null!==(t=null===(e=xp[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){xp[this.storageKey]=Object.assign(Object.assign({},xp[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=xp[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){xp[this.storageKey]=Object.assign(Object.assign({},xp[this.storageKey]),{cachedAt:e})}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger(`GoTrueClient@${this.instanceID} (${rf}) ${(new Date).toISOString()}`,...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach((e,n)=>{t[n]=e})}catch(vV){}return n.searchParams.forEach((e,n)=>{t[n]=e}),t}(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),zf()&&this.detectSessionInUrl&&"none"!==n){const{data:r,error:a}=await this._getSessionFromURL(t,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),function(e){return hf(e)&&"AuthImplicitGrantRedirectError"===e.name}(a)){const t=null===(e=a.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:a}}return await this._removeSession(),{error:a}}const{session:i,redirectType:s}=r;return this._debug("#_initialize()","detected session in URL",i,"redirect type",s),await this._saveSession(i),setTimeout(async()=>{"recovery"===s?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return hf(t)?{error:t}:{error:new pf("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,r;try{const a=await np(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(n=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:rp}),{data:i,error:s}=a;if(s||!i)return{data:{user:null,session:null},error:s};const o=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(a){if(hf(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var t,n,r;try{let a;if("email"in e){const{email:n,password:r,options:i}=e;let s=null,o=null;"pkce"===this.flowType&&([s,o]=await Wf(this.storage,this.storageKey)),a=await np(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null===i||void 0===i?void 0:i.emailRedirectTo,body:{email:n,password:r,data:null!==(t=null===i||void 0===i?void 0:i.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken},code_challenge:s,code_challenge_method:o},xform:rp})}else{if(!("phone"in e))throw new yf("You must provide either an email or phone number and a password");{const{phone:t,password:i,options:s}=e;a=await np(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:i,data:null!==(n=null===s||void 0===s?void 0:s.data)&&void 0!==n?n:{},channel:null!==(r=null===s||void 0===s?void 0:s.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},xform:rp})}}const{data:i,error:s}=a;if(s||!i)return{data:{user:null,session:null},error:s};const o=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(a){if(hf(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:r,options:a}=e;t=await np(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:ap})}else{if(!("phone"in e))throw new yf("You must provide either an email or phone number and a password");{const{phone:n,password:r,options:a}=e;t=await np(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:ap})}}const{data:n,error:r}=t;return r?{data:{user:null,session:null},error:r}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r}):{data:{user:null,session:null},error:new vf}}catch(t){if(hf(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,r,a;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(a=e.options)||void 0===a?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if("solana"===t)return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,n,r,a,i,s,o,l,c,u,d,h;let f,p;if("message"in e)f=e.message,p=e.signature;else{const{chain:d,wallet:h,statement:m,options:g}=e;let v;if(zf())if("object"===typeof h)v=h;else{const e=window;if(!("solana"in e)||"object"!==typeof e.solana||!("signIn"in e.solana&&"function"===typeof e.solana.signIn||"signMessage"in e.solana&&"function"===typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");v=e.solana}else{if("object"!==typeof h||!(null===g||void 0===g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=h}const y=new URL(null!==(t=null===g||void 0===g?void 0:g.url)&&void 0!==t?t:window.location.href);if("signIn"in v&&v.signIn){const e=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null===g||void 0===g?void 0:g.signInWithSolana),{version:"1",domain:y.host,uri:y.href}),m?{statement:m}:null));let t;if(Array.isArray(e)&&e[0]&&"object"===typeof e[0])t=e[0];else{if(!(e&&"object"===typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"===typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");f="string"===typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),p=t.signature}else{if(!("signMessage"in v)||"function"!==typeof v.signMessage||!("publicKey"in v)||"object"!==typeof v||!v.publicKey||!("toBase58"in v.publicKey)||"function"!==typeof v.publicKey.toBase58)throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");f=[`${y.host} wants you to sign in with your Solana account:`,v.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${y.href}`,`Issued At: ${null!==(r=null===(n=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===n?void 0:n.issuedAt)&&void 0!==r?r:(new Date).toISOString()}`,...(null===(a=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===a?void 0:a.notBefore)?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...(null===(i=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===i?void 0:i.expirationTime)?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...(null===(s=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===s?void 0:s.chainId)?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...(null===(o=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===o?void 0:o.nonce)?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...(null===(l=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===l?void 0:l.requestId)?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...(null===(u=null===(c=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===u?void 0:u.length)?["Resources",...g.signInWithSolana.resources.map(e=>`- ${e}`)]:[]].join("\n");const e=await v.signMessage((new TextEncoder).encode(f),"utf8");if(!e||!(e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=e}}try{const{data:t,error:n}=await np(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:f,signature:Df(p)},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:rp});if(n)throw n;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:n}):{data:{user:null,session:null},error:new vf}}catch(m){if(hf(m))return{data:{user:null,session:null},error:m};throw m}}async _exchangeCodeForSession(e){const t=await Ff(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(null!==t&&void 0!==t?t:"").split("/");try{const{data:t,error:a}=await np(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:rp});if(await Bf(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!==r&&void 0!==r?r:null}),error:a}):{data:{user:null,session:null,redirectType:null},error:new vf}}catch(a){if(hf(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:t,provider:n,token:r,access_token:a,nonce:i}=e,s=await np(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:a,nonce:i,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:rp}),{data:o,error:l}=s;return l?{data:{user:null,session:null},error:l}:o&&o.session&&o.user?(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:l}):{data:{user:null,session:null},error:new vf}}catch(t){if(hf(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,r,a,i;try{if("email"in e){const{email:r,options:a}=e;let i=null,s=null;"pkce"===this.flowType&&([i,s]=await Wf(this.storage,this.storageKey));const{error:o}=await np(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:r,data:null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:{},create_user:null===(n=null===a||void 0===a?void 0:a.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken},code_challenge:i,code_challenge_method:s},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}if("phone"in e){const{phone:t,options:n}=e,{data:s,error:o}=await np(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(r=null===n||void 0===n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(a=null===n||void 0===n?void 0:n.shouldCreateUser)||void 0===a||a,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken},channel:null!==(i=null===n||void 0===n?void 0:n.channel)&&void 0!==i?i:"sms"}});return{data:{user:null,session:null,messageId:null===s||void 0===s?void 0:s.message_id},error:o}}throw new yf("You must provide either an email or phone number.")}catch(s){if(hf(s))return{data:{user:null,session:null},error:s};throw s}}async verifyOtp(e){var t,n;try{let r,a;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,a=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:i,error:s}=await np(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:r,xform:rp});if(s)throw s;if(!i)throw new Error("An error occurred on token verification.");const o=i.session,l=i.user;return(null===o||void 0===o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(r){if(hf(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var t,n,r;try{let a=null,i=null;return"pkce"===this.flowType&&([a,i]=await Wf(this.storage,this.storageKey)),await np(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:i}),headers:this.headers,xform:sp})}catch(a){if(hf(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new gf;const{error:r}=await np(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(hf(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:r,options:a}=e,{error:i}=await np(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:i}}if("phone"in e){const{phone:n,type:r,options:a}=e,{data:i,error:s}=await np(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:null===i||void 0===i?void 0:i.message_id},error:s}}throw new yf("You must provide either an email or phone number and a type")}catch(t){if(hf(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(vV){}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(vV){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await Ff(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&1e3*e.expires_at-Date.now()<sf;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const t=await Ff(this.userStorage,this.storageKey+"-user");(null===t||void 0===t?void 0:t.user)?e.user=t.user:e.user=Xf()}if(this.storage.isServer&&e.user){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,n,r)=>(t||"user"!==n||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,n,r))})}return{data:{session:e},error:null}}const{session:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,async()=>await this._getUser())}async _getUser(e){try{return e?await np(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ip}):await this._useSession(async e=>{var t,n,r;const{data:a,error:i}=e;if(i)throw i;return(null===(t=a.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await np(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(r=null===(n=a.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0,xform:ip}):{data:{user:null},error:new gf}})}catch(t){if(hf(t))return function(e){return hf(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await Bf(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession(async n=>{const{data:r,error:a}=n;if(a)throw a;if(!r.session)throw new gf;const i=r.session;let s=null,o=null;"pkce"===this.flowType&&null!=e.email&&([s,o]=await Wf(this.storage,this.storageKey));const{data:l,error:c}=await np(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:o}),jwt:i.access_token,xform:ip});if(c)throw c;return i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(hf(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new gf;const t=Date.now()/1e3;let n=t,r=!0,a=null;const{payload:i}=Uf(e.access_token);if(i.exp&&(n=i.exp,r=n<=t),r){const{session:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return{data:{user:null,session:null},error:n};if(!t)return{data:{user:null,session:null},error:null};a=t}else{const{data:r,error:i}=await this._getUser(e.access_token);if(i)throw i;a={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(t){if(hf(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:r,error:a}=t;if(a)throw a;e=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new gf;const{session:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(hf(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!zf())throw new xf("No browser detected.");if(e.error||e.error_description||e.error_code)throw new xf(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new bf("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new xf("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new bf("No code detected.");const{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:a,refresh_token:i,expires_in:s,expires_at:o,token_type:l}=e;if(!a||!s||!i||!l)throw new xf("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(s);let d=c+u;o&&(d=parseInt(o));const h=d-c;1e3*h<=af&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${u}s`);const f=d-u;c-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,d,c):c-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,d,c);const{data:p,error:m}=await this._getUser(a);if(m)throw m;const g={provider_token:n,provider_refresh_token:r,access_token:a,expires_in:u,expires_at:d,refresh_token:i,token_type:l,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(n){if(hf(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Ff(this.storage,`${this.storageKey}-code-verifier`);return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession(async t=>{var n;const{data:r,error:a}=t;if(a)return{error:a};const i=null===(n=r.session)||void 0===n?void 0:n.access_token;if(i){const{error:t}=await this.admin.signOut(i,e);if(t&&(!function(e){return hf(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await Bf(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,r;try{const{data:{session:r},error:a}=t;if(a)throw a;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(a){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=null;"pkce"===this.flowType&&([n,r]=await Wf(this.storage,this.storageKey,!0));try{return await np(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(hf(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(hf(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:r}=await this._useSession(async t=>{var n,r,a,i,s;const{data:o,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(a=e.options)||void 0===a?void 0:a.queryParams,skipBrowserRedirect:!0});return await np(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(s=null===(i=o.session)||void 0===i?void 0:i.access_token)&&void 0!==s?s:void 0})});if(r)throw r;return zf()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===n||void 0===n?void 0:n.url),{data:{provider:e.provider,url:null===n||void 0===n?void 0:n.url},error:null}}catch(n){if(hf(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,r;const{data:a,error:i}=t;if(i)throw i;return await np(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(r=null===(n=a.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0})})}catch(t){if(hf(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const a=Date.now();return await(n=async n=>(n>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await np(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:rp})),r=(e,t)=>{const n=200*Math.pow(2,e);return t&&jf(t)&&Date.now()+n-a<af},new Promise((e,t)=>{(async()=>{for(let a=0;a<1/0;a++)try{const t=await n(a);if(!r(a,null,t))return void e(t)}catch(vV){if(!r(a,vV))return void t(vV)}})()}))}catch(a){if(this._debug(t,"error",a),hf(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(t,"end")}var n,r}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),zf()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Ff(this.storage,this.storageKey);if(a&&this.userStorage){let t=await Ff(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:a.user},await $f(this.userStorage,this.storageKey+"-user",t)),a.user=null!==(e=null===t||void 0===t?void 0:t.user)&&void 0!==e?e:Xf()}else if(a&&!a.user&&!a.user){const e=await Ff(this.storage,this.storageKey+"-user");e&&(null===e||void 0===e?void 0:e.user)?(a.user=e.user,await Bf(this.storage,this.storageKey+"-user"),await $f(this.storage,this.storageKey,a)):a.user=Xf()}if(this._debug(n,"session from storage",a),!this._isValidSession(a))return this._debug(n,"session is not valid"),void(null!==a&&await this._removeSession());const i=1e3*(null!==(t=a.expires_at)&&void 0!==t?t:1/0)-Date.now()<sf;if(this._debug(n,`session has${i?"":" not"} expired with margin of 90000s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:e}=await this._callRefreshToken(a.refresh_token);e&&(console.error(e),jf(e)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(a.user&&!0===a.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(a.access_token);!t&&(null===e||void 0===e?void 0:e.user)?(a.user=e.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(r){console.error("Error getting user data:",r),this._debug(n,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){return this._debug(n,"error",a),void console.error(a)}finally{this._debug(n,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new gf;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Vf;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new gf;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={session:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(a){if(this._debug(r,"error",a),hf(a)){const e={session:null,error:a};return jf(a)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],a=Array.from(this.stateChangeEmitters.values()).map(async n=>{try{await n.callback(e,t)}catch(vV){r.push(vV)}});if(await Promise.all(a),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),n=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!n&&t.user&&await $f(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const r=Jf(e);await $f(this.storage,this.storageKey,r)}else{const e=Jf(t);await $f(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),await Bf(this.storage,this.storageKey),await Bf(this.storage,this.storageKey+"-code-verifier"),await Bf(this.storage,this.storageKey+"-user"),this.userStorage&&await Bf(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&zf()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(vV){console.error("removing visibilitychange callback failed",vV)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),af);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*n.expires_at-e)/af);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),r<=3&&await this._callRefreshToken(n.refresh_token)})}catch(vV){console.error("Auto refresh tick failed with error. This is likely a transient error.",vV)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(vV){if(!(vV.isAcquireTimeout||vV instanceof pp))throw vV;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!zf()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const r=[`provider=${encodeURIComponent(t)}`];if((null===n||void 0===n?void 0:n.redirectTo)&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),(null===n||void 0===n?void 0:n.scopes)&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),"pkce"===this.flowType){const[e,t]=await Wf(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});r.push(n.toString())}if(null===n||void 0===n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);r.push(e.toString())}return(null===n||void 0===n?void 0:n.skipBrowserRedirect)&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;return a?{data:null,error:a}:await np(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(hf(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,r;const{data:a,error:i}=t;if(i)return{data:null,error:i};const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:o,error:l}=await np(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:null===(n=null===a||void 0===a?void 0:a.session)||void 0===n?void 0:n.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(r=null===o||void 0===o?void 0:o.totp)||void 0===r?void 0:r.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})})}catch(t){if(hf(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;if(a)return{data:null,error:a};const{data:i,error:s}=await np(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token});return s?{data:null,error:s}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:s})})}catch(t){if(hf(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;return a?{data:null,error:a}:await np(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(hf(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(null===e||void 0===e?void 0:e.factors)||[],r=n.filter(e=>"totp"===e.factor_type&&"verified"===e.status),a=n.filter(e=>"phone"===e.factor_type&&"verified"===e.status);return{data:{all:n,totp:r,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:r},error:a}=e;if(a)return{data:null,error:a};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Uf(r.access_token);let s=null;i.aal&&(s=i.aal);let o=s;(null!==(n=null===(t=r.user.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==n?n:[]).length>0&&(o="aal2");return{data:{currentLevel:s,nextLevel:o,currentAuthenticationMethods:i.amr||[]},error:null}}))}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find(t=>t.kid===e);if(t)return t;const n=Date.now();if(t=this.jwks.keys.find(t=>t.kid===e),t&&this.jwks_cached_at+6e5>n)return t;const{data:r,error:a}=await np(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return r.keys&&0!==r.keys.length?(this.jwks=r,this.jwks_cached_at=n,t=r.keys.find(t=>t.kid===e),t||null):null}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let n=e;if(!n){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};n=e.session.access_token}const{header:r,payload:a,signature:i,raw:{header:s,payload:o}}=Uf(n);(null===t||void 0===t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(a.exp);const l=r.alg&&!r.alg.startsWith("HS")&&r.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(r.kid,(null===t||void 0===t?void 0:t.keys)?{keys:t.keys}:null===t||void 0===t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:a,header:r,signature:i},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(r.alg),u=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!await crypto.subtle.verify(c,u,i,function(e){const t=[];return Af(e,e=>t.push(e)),new Uint8Array(t)}(`${s}.${o}`)))throw new Nf("Invalid JWT signature");return{data:{claims:a,header:r,signature:i},error:null}}catch(n){if(hf(n))return{data:null,error:n};throw n}}}bp.nextInstanceID=0;const wp=bp;class jp extends wp{constructor(e){super(e)}}var kp=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function s(e){try{l(r.next(e))}catch(vV){i(vV)}}function o(e){try{l(r.throw(e))}catch(vV){i(vV)}}function l(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(s,o)}l((r=r.apply(e,t||[])).next())})};class Np{constructor(e,t,n){var r,a,i;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const s=(o=e).endsWith("/")?o:o+"/";var o;const l=new URL(s);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u=function(e,t){var n,r;const{db:a,auth:i,realtime:s,global:o}=e,{db:l,auth:c,realtime:u,global:d}=t,h={db:Object.assign(Object.assign({},l),a),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},u),s),storage:{},global:Object.assign(Object.assign(Object.assign({},d),o),{headers:Object.assign(Object.assign({},null!==(n=null===d||void 0===d?void 0:d.headers)&&void 0!==n?n:{}),null!==(r=null===o||void 0===o?void 0:o.headers)&&void 0!==r?r:{})}),accessToken:()=>nf(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!==n&&void 0!==n?n:{},{db:Yh,realtime:Jh,auth:Object.assign(Object.assign({},Xh),{storageKey:c}),global:Gh});this.storageKey=null!==(r=u.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(a=u.global.headers)&&void 0!==a?a:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(i=u.auth)&&void 0!==i?i:{},this.headers,u.global.fetch),this.fetch=tf(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Rd(new URL("rest/v1",l).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new Wh(this.storageUrl.href,this.headers,this.fetch,null===n||void 0===n?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new Id(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.rest.rpc(e,t,n)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return kp(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return null!==(t=null===(e=n.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey})}_initSupabaseAuthClient(e,t,n){let{autoRefreshToken:r,persistSession:a,detectSessionInUrl:i,storage:s,storageKey:o,flowType:l,lock:c,debug:u}=e;const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new jp({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),t),storageKey:o,autoRefreshToken:r,persistSession:a,detectSessionInUrl:i,storage:s,flowType:l,lock:c,debug:u,fetch:n,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new jh(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)})}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=n}}const _p=(e,t,n)=>new Np(e,t,n);(function(){if("undefined"!==typeof window)return!1;if("undefined"===typeof process)return!1;const e=process.version;if(void 0===e||null===e)return!1;const t=e.match(/^v(\d+)\./);return!!t&&parseInt(t[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Sp=n.p+"static/media/logo.1bdafa95d65c08ccff96.png",Cp=_p("https://logxutaepqzmvgsvscle.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxvZ3h1dGFlcHF6bXZnc3ZzY2xlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM5ODU4MDEsImV4cCI6MjA2OTU2MTgwMX0.NhbaKL5X48jHyPPxZ-6EadLcBfM-NMxMA8qbksT9VhE"),Op=e=>{let{name:t,type:n,placeholder:r,value:a,onChange:i,icon:s,disabled:o,required:l=!0,minLength:c}=e;return(0,ft.jsxs)("div",{className:"relative group",children:[(0,ft.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-blue-600 transition-colors duration-300",children:s}),(0,ft.jsx)("input",{type:n,name:t,value:a,onChange:i,placeholder:r,required:l,disabled:o,minLength:c,className:"w-full pl-12 pr-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300 shadow-sm text-slate-800 placeholder-slate-400"})]})},Ep=e=>{let{password:t}=e;const n={length:t.length>=8,number:/\d/.test(t),specialChar:/[!@#$%^&*(),.?":{}|<>]/.test(t)},r=e=>{let{text:t,met:n}=e;return(0,ft.jsxs)("div",{className:"flex items-center text-xs transition-colors duration-300 "+(n?"text-emerald-600":"text-slate-500"),children:[n?(0,ft.jsx)(Fc,{className:"mr-2"}):(0,ft.jsx)(su,{className:"mr-2"}),(0,ft.jsx)("span",{children:t})]})};return(0,ft.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-4 gap-y-2 mt-3 p-3 bg-slate-50 rounded-lg border border-slate-200",children:[(0,ft.jsx)(r,{text:"\u041c\u0456\u043d\u0456\u043c\u0443\u043c 8 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432",met:n.length}),(0,ft.jsx)(r,{text:"\u041c\u0456\u0441\u0442\u0438\u0442\u044c \u0445\u043e\u0447\u0430 \u0431 \u043e\u0434\u043d\u0443 \u0446\u0438\u0444\u0440\u0443",met:n.number}),(0,ft.jsx)(r,{text:"\u041c\u0456\u0441\u0442\u0438\u0442\u044c \u0441\u043f\u0435\u0446\u0441\u0438\u043c\u0432\u043e\u043b (!@#...)",met:n.specialChar})]})};function Pp(){const[e,n]=(0,t.useState)(!0),[r,a]=(0,t.useState)(!1),[i,s]=(0,t.useState)(!1),[o,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(""),[d,h]=(0,t.useState)(!0),[f,p]=(0,t.useState)({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),m=re();(0,t.useEffect)(()=>{(async()=>{const{data:{session:e}}=await Cp.auth.getSession();e?m("/home"):h(!1)})();const{data:e}=Cp.auth.onAuthStateChange((e,t)=>{"SIGNED_IN"===e&&t&&m("/home")});return()=>{null===e||void 0===e||e.subscription.unsubscribe()}},[m]);const g=e=>{const{name:t,value:n}=e.target;p({...f,[t]:n}),o&&l(""),c&&u("")},v=()=>{n(!e),p({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),l(""),u(""),a(!1),s(!1)};return d&&!o?(0,ft.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:(0,ft.jsx)("img",{src:Sp,alt:"Loading...",className:"w-16 h-16 object-contain animate-pulse drop-shadow-lg"})}):(0,ft.jsx)("div",{className:"min-h-screen bg-slate-100 font-sans flex items-center justify-center p-4",children:(0,ft.jsxs)("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-xl border border-slate-200 relative overflow-visible",children:[(0,ft.jsxs)("div",{className:"h-40 bg-gradient-to-br from-slate-800 to-blue-900 flex items-center justify-center relative rounded-t-2xl",children:[(0,ft.jsx)("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden rounded-t-2xl",children:(0,ft.jsx)("div",{className:"absolute top-0 left-0 w-full h-full opacity-10 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-white via-transparent to-transparent"})}),(0,ft.jsx)("div",{className:"w-24 h-24 bg-white rounded-2xl flex items-center justify-center shadow-2xl absolute -bottom-12 border-4 border-white z-10 transform rotate-3 transition-transform hover:rotate-0",children:(0,ft.jsx)("img",{src:Sp,alt:"K-Core Logo",className:"w-16 h-16 object-contain filter drop-shadow-md"})})]}),(0,ft.jsxs)("div",{className:"p-8 pt-16",children:[(0,ft.jsx)(Et,{mode:"wait",children:(0,ft.jsxs)(hc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5,ease:"easeInOut"},className:"w-full",children:[(0,ft.jsx)("h2",{className:"text-3xl font-bold text-slate-800 mb-2 text-center tracking-tight",children:e?"Kairos-Core System":"\u0420\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u044f"}),(0,ft.jsx)("p",{className:"text-sm text-slate-500 mb-8 text-center",children:e?"\u0423\u0432\u0456\u0439\u0434\u0456\u0442\u044c, \u0449\u043e\u0431 \u043a\u0435\u0440\u0443\u0432\u0430\u0442\u0438 \u0435\u043d\u0435\u0440\u0433\u0456\u0454\u044e":"\u041f\u0440\u0438\u0454\u0434\u043d\u0443\u0439\u0442\u0435\u0441\u044c \u0434\u043e \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0438 \u043c\u0430\u0439\u0431\u0443\u0442\u043d\u044c\u043e\u0433\u043e"}),o&&(0,ft.jsx)(hc.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border-l-4 border-red-500 text-red-700 px-4 py-3 rounded-r-lg mb-6 text-sm font-medium shadow-sm",children:o}),c&&(0,ft.jsx)(hc.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-emerald-50 border-l-4 border-emerald-500 text-emerald-700 px-4 py-3 rounded-r-lg mb-6 text-sm font-medium shadow-sm",children:c}),(0,ft.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),l(""),u(""),!e){if(f.password!==f.confirmPassword)return void l("\u041f\u0430\u0440\u043e\u043b\u0456 \u043d\u0435 \u0441\u043f\u0456\u0432\u043f\u0430\u0434\u0430\u044e\u0442\u044c.");if(!(f.password.length>=8&&/\d/.test(f.password)&&/[!@#$%^&*(),.?":{}|<>]/.test(f.password)))return void l("\u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0430\u0454 \u0432\u0438\u043c\u043e\u0433\u0430\u043c \u0431\u0435\u0437\u043f\u0435\u043a\u0438.")}h(!0);try{if(e){const{error:e}=await Cp.auth.signInWithPassword({email:f.email,password:f.password});if(e)throw e}else{const{data:e,error:t}=await Cp.auth.signUp({email:f.email,password:f.password});if(t)throw t;if(!e.user)throw new Error("\u041d\u0435 \u0432\u0434\u0430\u043b\u043e\u0441\u044f \u0441\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430.");const{error:n}=await Cp.from("user_site").insert({user_id:e.user.id,first_name:f.firstName,last_name:f.lastName,email:f.email});if(n)throw n;u("\u0420\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u044f \u0443\u0441\u043f\u0456\u0448\u043d\u0430! \u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0456\u0442\u044c \u0441\u0432\u043e\u044e \u043f\u043e\u0448\u0442\u0443 \u0442\u0430 \u0443\u0432\u0456\u0439\u0434\u0456\u0442\u044c \u0432 \u0430\u043a\u0430\u0443\u043d\u0442."),v()}}catch(n){const e=n.message||"\u0421\u0442\u0430\u043b\u0430\u0441\u044f \u043d\u0435\u0432\u0456\u0434\u043e\u043c\u0430 \u043f\u043e\u043c\u0438\u043b\u043a\u0430.";e.includes("User already registered")?l("\u041a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447 \u0437 \u0442\u0430\u043a\u043e\u044e \u043f\u043e\u0448\u0442\u043e\u044e \u0432\u0436\u0435 \u0456\u0441\u043d\u0443\u0454."):e.includes("Invalid login credentials")?l("\u041d\u0435\u0432\u0456\u0440\u043d\u0430 \u043f\u043e\u0448\u0442\u0430 \u0430\u0431\u043e \u043f\u0430\u0440\u043e\u043b\u044c."):l(e)}finally{h(!1)}},className:"space-y-5",children:[!e&&(0,ft.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,ft.jsx)(Op,{name:"firstName",type:"text",placeholder:"\u0406\u043c'\u044f",value:f.firstName,onChange:g,icon:(0,ft.jsx)(Nd,{}),disabled:d}),(0,ft.jsx)(Op,{name:"lastName",type:"text",placeholder:"\u041f\u0440\u0456\u0437\u0432\u0438\u0449\u0435",value:f.lastName,onChange:g,icon:(0,ft.jsx)(Nd,{}),disabled:d})]}),(0,ft.jsx)(Op,{name:"email",type:"email",placeholder:"\u0415\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430 \u043f\u043e\u0448\u0442\u0430",value:f.email,onChange:g,icon:(0,ft.jsx)(au,{}),disabled:d}),(0,ft.jsxs)("div",{className:"relative",children:[(0,ft.jsx)(Op,{name:"password",type:r?"text":"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",value:f.password,onChange:g,icon:(0,ft.jsx)(Au,{}),disabled:d,minLength:8}),(0,ft.jsx)("button",{type:"button",onClick:()=>a(!r),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-blue-600 transition-colors focus:outline-none",children:r?(0,ft.jsx)(lu,{}):(0,ft.jsx)(cu,{})})]}),!e&&(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsxs)("div",{className:"relative",children:[(0,ft.jsx)(Op,{name:"confirmPassword",type:i?"text":"password",placeholder:"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438 \u043f\u0430\u0440\u043e\u043b\u044c",value:f.confirmPassword,onChange:g,icon:(0,ft.jsx)(Au,{}),disabled:d,minLength:8}),(0,ft.jsx)("button",{type:"button",onClick:()=>s(!i),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-blue-600 transition-colors focus:outline-none",children:i?(0,ft.jsx)(lu,{}):(0,ft.jsx)(cu,{})})]}),(0,ft.jsx)(Ep,{password:f.password})]}),e&&(0,ft.jsx)("div",{className:"flex items-center justify-between",children:(0,ft.jsxs)("label",{className:"flex items-center text-sm text-slate-600 cursor-pointer hover:text-slate-800 transition-colors",children:[(0,ft.jsx)("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),(0,ft.jsx)("span",{className:"ml-2",children:"\u0417\u0430\u043f\u0430\u043c'\u044f\u0442\u0430\u0442\u0438 \u043c\u0435\u043d\u0435"})]})}),(0,ft.jsx)(hc.button,{whileHover:{scale:1.02,y:-2},whileTap:{scale:.98,y:0},type:"submit",disabled:d,className:"w-full px-6 py-3.5 bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 disabled:from-slate-400 disabled:to-slate-500 text-white rounded-lg font-bold transition-all duration-300 shadow-lg hover:shadow-blue-500/30 text-base tracking-wider flex items-center justify-center space-x-3 mt-6",children:d?(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsxs)("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,ft.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,ft.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,ft.jsx)("span",{children:"\u041e\u0411\u0420\u041e\u0411\u041a\u0410..."})]}):e?(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)(ed,{}),(0,ft.jsx)("span",{children:"\u0423\u0412\u0406\u0419\u0422\u0418"})]}):(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)(jd,{}),(0,ft.jsx)("span",{children:"\u0421\u0422\u0412\u041e\u0420\u0418\u0422\u0418 \u0410\u041a\u0410\u0423\u041d\u0422"})]})})]})]},e?"signIn":"signUp")}),(0,ft.jsxs)("div",{className:"mt-8 text-center",children:[(0,ft.jsx)("span",{className:"text-sm text-slate-500",children:e?"\u0412\u043f\u0435\u0440\u0448\u0435 \u0442\u0443\u0442?":"\u0412\u0436\u0435 \u043c\u0430\u0454\u0442\u0435 \u0430\u043a\u0430\u0443\u043d\u0442?"}),(0,ft.jsx)(hc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:v,disabled:d,className:"ml-2 text-sm font-semibold text-blue-600 hover:text-blue-800 transition-colors focus:outline-none",children:e?"\u0417\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0432\u0430\u0442\u0438\u0441\u044c":"\u0423\u0432\u0456\u0439\u0442\u0438 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443"})]})]})]})})}const Tp=_p("https://logxutaepqzmvgsvscle.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxvZ3h1dGFlcHF6bXZnc3ZzY2xlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM5ODU4MDEsImV4cCI6MjA2OTU2MTgwMX0.NhbaKL5X48jHyPPxZ-6EadLcBfM-NMxMA8qbksT9VhE"),Ap=n.p+"static/media/logoCore1.5a6ec39e808a56b81dff.png",Mp=e=>{let{children:n}=e;const[r,a]=(0,t.useState)(!1),i=re(),s=ee(),o=async()=>{await Tp.auth.signOut(),i("/")},l=[{path:"/home",label:"\u0413\u043e\u043b\u043e\u0432\u043d\u0430",icon:Nu},{path:"/clients",label:"\u041a\u043b\u0456\u0454\u043d\u0442\u0438",icon:_d},{path:"/installations",label:"\u041e\u0431'\u0454\u043a\u0442\u0438",icon:ju},{path:"/employees",label:"\u041f\u0440\u0430\u0446\u0456\u0432\u043d\u0438\u043a\u0438",icon:kd},{path:"/tasks",label:"\u0417\u0430\u0434\u0430\u0447\u0456",icon:ud},{path:"/equipment",label:"\u041e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f",icon:Xc},{path:"/payments",label:"\u041f\u043b\u0430\u0442\u0435\u0436\u0456",icon:zu},{path:"/documents",label:"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0438",icon:xu}];return(0,ft.jsxs)("div",{className:"flex h-[100dvh] w-full bg-slate-50 overflow-hidden",children:[(0,ft.jsxs)("aside",{className:"hidden lg:flex flex-col w-64 bg-white border-r border-slate-200 h-full flex-shrink-0 z-20",children:[(0,ft.jsx)("div",{className:"p-6 flex items-center justify-start border-b border-slate-100 min-h-[80px]",children:(0,ft.jsx)("img",{src:Ap,alt:"K-Core",className:"h-12 w-auto object-contain transition-all hover:scale-105"})}),(0,ft.jsx)("nav",{className:"flex-1 overflow-y-auto p-4 space-y-1 custom-scrollbar",children:l.map(e=>{const t=s.pathname.startsWith(e.path);return(0,ft.jsxs)("button",{onClick:()=>i(e.path),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all font-medium text-sm\n                   ${t?"bg-indigo-600 text-white shadow-md shadow-indigo-200":"text-slate-500 hover:bg-slate-50 hover:text-indigo-600"}\n                 `,children:[(0,ft.jsx)(e.icon,{className:t?"text-white":"text-slate-400",size:18}),e.label]},e.path)})}),(0,ft.jsx)("div",{className:"p-4 border-t border-slate-100",children:(0,ft.jsxs)("button",{onClick:o,className:"flex items-center gap-3 px-4 py-3 text-slate-500 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all w-full text-sm font-medium",children:[(0,ft.jsx)(td,{})," \u0412\u0438\u0445\u0456\u0434"]})})]}),(0,ft.jsx)(Et,{children:r&&(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)(hc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>a(!1),className:"fixed inset-0 bg-black/50 z-40 lg:hidden"}),(0,ft.jsxs)(hc.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"tween",ease:"easeOut",duration:.3},className:"fixed inset-y-0 right-0 z-50 w-72 bg-white shadow-2xl flex flex-col lg:hidden will-change-transform",children:[(0,ft.jsxs)("div",{className:"p-5 flex justify-between items-center border-b border-slate-100 min-h-[80px]",children:[(0,ft.jsx)("img",{src:Ap,alt:"K-Core",className:"h-9 w-auto object-contain"}),(0,ft.jsx)("button",{onClick:()=>a(!1),className:"p-2 bg-slate-50 rounded-full text-slate-400 hover:text-slate-600",children:(0,ft.jsx)(hd,{size:20})})]}),(0,ft.jsx)("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:l.map(e=>{const t=s.pathname.startsWith(e.path);return(0,ft.jsxs)("button",{onClick:()=>{i(e.path),a(!1)},className:`w-full flex items-center gap-4 px-4 py-3.5 rounded-xl font-medium text-sm transition-colors\n                         ${t?"bg-indigo-600 text-white shadow-lg shadow-indigo-200":"text-slate-600 hover:bg-slate-50"}\n                       `,children:[(0,ft.jsx)(e.icon,{size:18,className:t?"text-white":"text-slate-400"}),e.label]},e.path)})}),(0,ft.jsx)("div",{className:"p-4 border-t border-slate-100 bg-slate-50 pb-safe",children:(0,ft.jsxs)("button",{onClick:()=>{o(),a(!1)},className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-white border border-slate-200 text-red-500 rounded-xl font-bold shadow-sm active:scale-95 transition-all",children:[(0,ft.jsx)(td,{})," \u0412\u0438\u0439\u0442\u0438"]})})]})]})}),(0,ft.jsxs)("div",{className:"flex-1 flex flex-col min-w-0 relative h-full",children:[(0,ft.jsxs)("header",{className:"lg:hidden flex items-center justify-between px-5 py-3 bg-white border-b border-slate-200 flex-shrink-0 z-30 min-h-[64px]",children:[(0,ft.jsx)("img",{src:Ap,alt:"K-Core",className:"h-8 w-auto object-contain"}),(0,ft.jsx)("button",{onClick:()=>a(!0),className:"p-2.5 -mr-2 text-slate-600 bg-slate-50 hover:bg-slate-100 rounded-xl transition-colors border border-slate-100",children:(0,ft.jsx)(Cc,{size:22})})]}),(0,ft.jsx)("main",{className:"flex-1 overflow-y-auto bg-slate-100 w-full relative scroll-smooth",children:n})]})]})},Dp=n.p+"static/media/rbplogo.5b0d296404d124215ae8.png",zp=[{value:"survey",label:"\u0422\u0435\u0445. \u043e\u0433\u043b\u044f\u0434"},{value:"waiting_project",label:"\u041e\u0447\u0456\u043a\u0443\u0454\u043c\u043e \u043f\u0440\u043e\u0435\u043a\u0442"},{value:"project_done",label:"\u041f\u0440\u043e\u0435\u043a\u0442 \u0433\u043e\u0442\u043e\u0432\u0438\u0439"},{value:"project_approved",label:"\u041f\u0440\u043e\u0435\u043a\u0442 \u043f\u043e\u0433\u043e\u0434\u0436\u0435\u043d\u043e"},{value:"kp_done",label:"\u041a\u041f \u0433\u043e\u0442\u043e\u0432\u0435"},{value:"kp_approved",label:"\u041a\u041f \u043f\u043e\u0433\u043e\u0434\u0436\u0435\u043d\u043e"},{value:"advance_payment",label:"\u0410\u0432\u0430\u043d\u0441"},{value:"equipment_order",label:"\u0417\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f"},{value:"waiting_equipment",label:"\u041e\u0447\u0456\u043a\u0443\u0454\u043c\u043e \u043e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f"},{value:"materials_packing",label:"\u041a\u043e\u043c\u043f\u043b\u0435\u043a\u0442\u0430\u0446\u0456\u044f"},{value:"protection_packing",label:"\u0417\u0430\u0445\u0438\u0441\u0442"},{value:"installation_start",label:"\u0421\u0442\u0430\u0440\u0442 \u043c\u043e\u043d\u0442\u0430\u0436\u0443"},{value:"res_connection",label:"\u041f\u0456\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u044f \u0420\u0415\u0421"},{value:"final_settlement",label:"\u0420\u043e\u0437\u0440\u0430\u0445\u0443\u043d\u043e\u043a"},{value:"final_report",label:"\u0417\u0432\u0456\u0442"},{value:"installation_finish",label:"\u0424\u0456\u043d\u0456\u0448"}],Ip=e=>{const t=zp.find(t=>t.value===e);return t?t.label:e},Lp=e=>(e||0).toLocaleString("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}),Rp=e=>{let{title:t,value:n,subValue:r,icon:a,color:i,isNegative:s}=e;return(0,ft.jsxs)("div",{className:"bg-white rounded-2xl p-4 sm:p-5 shadow-sm border border-slate-100 flex flex-col justify-between h-full relative overflow-hidden group hover:shadow-md transition-all",children:[(0,ft.jsx)("div",{className:`absolute top-0 right-0 p-4 opacity-10 ${i} text-5xl group-hover:scale-110 transition-transform`,children:(0,ft.jsx)(a,{})}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("p",{className:"text-slate-500 text-xs font-bold uppercase tracking-wider mb-1",children:t}),(0,ft.jsx)("h3",{className:"text-xl sm:text-2xl font-extrabold text-slate-800",children:n})]}),r&&(0,ft.jsxs)("div",{className:"mt-2 sm:mt-3 flex items-center gap-1 text-xs font-bold "+(s?"text-amber-500":"text-slate-400"),children:[s&&(0,ft.jsx)(iu,{}),r]})]})},$p=e=>{var t;let{item:n}=e;const r=re();if(!n.installation)return(0,ft.jsxs)("div",{className:"flex items-center gap-3 py-3 border-b border-slate-50 last:border-0 p-2 rounded-lg bg-slate-50/50",children:[(0,ft.jsx)("div",{className:"flex flex-col items-center justify-center min-w-[3.5rem] h-10 rounded-lg bg-slate-200 border border-slate-300 text-slate-500 shrink-0",children:(0,ft.jsx)(fd,{className:"text-lg"})}),(0,ft.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ft.jsx)("h4",{className:"font-bold text-slate-700 text-sm truncate",children:n.notes||"\u0420\u043e\u0431\u043e\u0442\u0430 \u0431\u0435\u0437 \u043e\u043f\u0438\u0441\u0443"}),(0,ft.jsx)("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"\u0406\u043d\u0434\u0438\u0432\u0456\u0434\u0443\u0430\u043b\u044c\u043d\u0435 \u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f"})]})]});const a=n.installation,i=(e=>{if(!e)return 0;const t=zp.findIndex(t=>t.value===e);return-1===t?0:Math.round((t+1)/zp.length*100)})(a.workflow_stage),s=Ip(a.workflow_stage),o=null===(t=a.client)||void 0===t?void 0:t.populated_place;return(0,ft.jsxs)("div",{onClick:()=>r(`/project/${a.custom_id}`),className:"group flex items-center gap-3 py-3 border-b border-slate-50 last:border-0 hover:bg-indigo-50/30 transition-all p-2 rounded-lg cursor-pointer active:bg-indigo-50",children:[(0,ft.jsxs)("div",{className:"flex flex-col items-center justify-center min-w-[3.5rem] h-10 rounded-lg bg-indigo-50 border border-indigo-100 text-indigo-700 shrink-0 shadow-sm",children:[(0,ft.jsx)("span",{className:"font-extrabold text-sm leading-none",children:Math.round(a.capacity_kw||0)}),(0,ft.jsx)("span",{className:"text-[9px] font-bold opacity-70 leading-none mt-0.5",children:"\u043a\u0412\u0442"})]}),(0,ft.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ft.jsxs)("div",{className:"flex justify-between items-center mb-1 gap-2",children:[(0,ft.jsx)("h4",{className:"font-bold text-slate-700 text-sm truncate group-hover:text-indigo-700 transition-colors",children:a.name||"\u0411\u0435\u0437 \u043d\u0430\u0437\u0432\u0438"}),(0,ft.jsxs)("span",{className:"shrink-0 text-[10px] font-mono font-bold text-slate-400 bg-slate-100 px-1.5 py-0.5 rounded border border-slate-200",children:["#",a.custom_id]})]}),(0,ft.jsxs)("div",{className:"flex items-center gap-2 mb-1.5",children:[(0,ft.jsx)("div",{className:"w-full bg-slate-100 rounded-full h-1.5 overflow-hidden",children:(0,ft.jsx)("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-500 h-1.5 rounded-full",style:{width:`${i}%`}})}),(0,ft.jsxs)("span",{className:"text-[10px] font-bold text-indigo-600 w-6 text-right",children:[i,"%"]})]}),(0,ft.jsxs)("div",{className:"flex justify-between items-center text-[11px] text-slate-500 font-medium",children:[(0,ft.jsxs)("button",{onClick:e=>{e.stopPropagation();let t=a.gps_link;!t&&a.latitude&&a.longitude&&(t=`https://www.google.com/maps?q=${a.latitude},${a.longitude}`),!t&&o&&(t=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(o)}`),t?window.open(t,"_blank"):alert("\u0413\u0435\u043e\u043b\u043e\u043a\u0430\u0446\u0456\u044f \u043d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u0430")},className:"flex items-center gap-1 hover:text-blue-600 hover:underline decoration-blue-300 truncate max-w-[55%]",children:[(0,ft.jsx)(Mu,{className:"text-red-400 shrink-0"}),(0,ft.jsx)("span",{className:"truncate",children:o||"\u041b\u043e\u043a\u0430\u0446\u0456\u044f \u043d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u0430"}),(0,ft.jsx)(ou,{size:8,className:"opacity-0 group-hover:opacity-50 ml-0.5"})]}),(0,ft.jsx)("span",{className:"px-2 py-0.5 rounded bg-blue-50 text-blue-600 border border-blue-100 text-[9px] uppercase tracking-wide",children:s})]})]})]})},Fp=e=>{let{item:t}=e;const n=re();if("task"===t.type){const e=new Date(t.due_date)<new Date((new Date).setHours(0,0,0,0));return(0,ft.jsxs)("div",{onClick:()=>t.installation_id&&n(`/project/${t.installation_custom_id}`),className:`p-3 rounded-xl border-l-4 flex gap-3 mb-2 transition-colors cursor-pointer\n                    ${e?"border-red-500 bg-red-50 hover:bg-red-100":"border-orange-400 bg-orange-50 hover:bg-orange-100"}\n                `,children:[(0,ft.jsx)("div",{className:"mt-1 shrink-0 "+(e?"text-red-500":"text-orange-500"),children:(0,ft.jsx)(ud,{})}),(0,ft.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,ft.jsx)("div",{className:"flex justify-between items-start mb-1",children:(0,ft.jsx)("p",{className:"text-sm font-bold text-slate-800 line-clamp-2 leading-snug",children:t.task_text})}),(0,ft.jsxs)("div",{className:"flex justify-between items-end mt-1",children:[t.installation_name?(0,ft.jsx)("span",{className:"text-[10px] bg-white/60 px-1.5 py-0.5 rounded text-slate-600 truncate max-w-[60%] border border-black/5",children:t.installation_name}):(0,ft.jsx)("span",{}),(0,ft.jsxs)("span",{className:"text-[10px] font-bold flex items-center gap-1 "+(e?"text-red-600":"text-orange-600"),children:[(0,ft.jsx)(Rc,{size:10}),e?"\u0422\u0435\u0440\u043c\u0456\u043d \u0441\u043f\u043b\u0438\u0432":"\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456"]})]})]})]})}return(0,ft.jsxs)("div",{onClick:()=>n(`/project/${t.custom_id}`),className:"p-3 rounded-xl border-l-4 border-amber-500 bg-amber-50/50 flex gap-3 mb-2 hover:bg-amber-50 transition-colors cursor-pointer",children:[(0,ft.jsx)("div",{className:"mt-1 text-amber-500 shrink-0",children:(0,ft.jsx)(iu,{})}),(0,ft.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,ft.jsx)("div",{className:"flex justify-between items-center mb-1",children:(0,ft.jsxs)("p",{className:"text-sm font-bold text-slate-800 truncate",children:[t.name," ",(0,ft.jsxs)("span",{className:"text-slate-400 font-normal text-xs",children:["#",t.custom_id]})]})}),(0,ft.jsx)("p",{className:"text-xs text-amber-700 font-bold mb-1",children:t.attentionReason}),t.attentionComment&&(0,ft.jsxs)("div",{className:"text-xs text-slate-600 italic bg-white p-2 rounded border border-amber-100 flex gap-2 items-start",children:[(0,ft.jsx)(Jc,{className:"mt-0.5 text-amber-300 shrink-0"}),(0,ft.jsx)("span",{className:"line-clamp-2",children:t.attentionComment})]})]})]})};function Bp(){const[e,n]=(0,t.useState)(!0),[r,a]=(0,t.useState)({incomeMonth:0,totalDebt:0,totalCapacity:0,workersToday:0,workersOff:0}),[i,s]=(0,t.useState)([]),[o,l]=(0,t.useState)([]),c=re(),u=(0,t.useCallback)(async()=>{n(!0);const e=new Date,t=e.toISOString().split("T")[0],r=new Date(e.getFullYear(),e.getMonth(),1).toISOString();try{const e=Tp.from("payment_history").select("amount").gte("paid_at",r),n=Tp.from("installations").select("id, custom_id, name, status, total_cost, paid_amount, capacity_kw, workflow_stage, workflow_data").neq("status","cancelled"),i=Tp.from("installation_workers").select("\n                    id, notes, work_date, installation_custom_id,\n                    installation:installations (\n                        id, custom_id, name, status, capacity_kw, workflow_stage, \n                        gps_link, latitude, longitude,\n                        client:clients(populated_place)\n                    )\n                ").eq("work_date",t),o=Tp.from("attendance").select("id").eq("work_date",t).in("status",["OFF","VACATION","SICK_LEAVE"]),c=Tp.from("microtasks").select("\n                    custom_id, task_text, due_date, status, installation_id, \n                    installation:installations(name, custom_id)\n                ").lte("due_date",t).neq("status","\u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043e").neq("status","\u0441\u043a\u0430\u0441\u043e\u0432\u0430\u043d\u043e"),[u,d,h,f,p]=await Promise.all([e,n,i,o,c]),m=u.data?u.data.reduce((e,t)=>e+(parseFloat(t.amount)||0),0):0,g=f.data?f.count||f.data.length:0;let v=0,y=0;const x=[];(d.data||[]).forEach(e=>{const t=parseFloat(e.total_cost)||0,n=parseFloat(e.paid_amount)||0;t>n&&(v+=t-n),y+=parseFloat(e.capacity_kw)||0;let r=null,a=null;if("on_hold"===e.status?r="\u0421\u0442\u0430\u0442\u0443\u0441: \u041f\u0420\u0418\u0417\u0423\u041f\u0418\u041d\u0415\u041d\u041e":e.workflow_stage&&e.workflow_stage.includes("waiting")&&(r=`\u0417\u0430\u0441\u0442\u0440\u044f\u0433 \u043d\u0430 \u0435\u0442\u0430\u043f\u0456: ${Ip(e.workflow_stage)}`),r){if(e.workflow_data)try{var i;const t="string"===typeof e.workflow_data?JSON.parse(e.workflow_data):e.workflow_data;null!==(i=t[e.workflow_stage])&&void 0!==i&&i.comment&&(a=t[e.workflow_stage].comment)}catch(vV){}x.push({type:"project",...e,attentionReason:r,attentionComment:a})}});(p.data||[]).forEach(e=>{var t,n;x.push({type:"task",id:e.custom_id,task_text:e.task_text,due_date:e.due_date,installation_name:null===(t=e.installation)||void 0===t?void 0:t.name,installation_id:e.installation_id,installation_custom_id:null===(n=e.installation)||void 0===n?void 0:n.custom_id})}),x.sort((e,t)=>"task"===e.type&&"task"!==t.type?-1:"task"!==e.type&&"task"===t.type?1:0);const b=h.data||[],w=[],j=new Set;b.forEach(e=>{e.installation&&e.installation.custom_id?j.has(e.installation.custom_id)||(j.add(e.installation.custom_id),w.push({type:"project",installation:e.installation,notes:e.notes})):e.notes&&w.push({type:"manual",installation:null,notes:e.notes})}),a({incomeMonth:m,totalDebt:v,totalCapacity:y,workersToday:b.length,workersOff:g}),s(w),l(x)}catch(i){console.error("Dashboard Error:",i)}finally{n(!1)}},[]);return(0,t.useEffect)(()=>{u()},[u]),(0,ft.jsx)(Mp,{children:(0,ft.jsxs)("div",{className:"p-4 sm:p-8 space-y-4 sm:space-y-6 max-w-[1600px] mx-auto pb-safe h-[100dvh] flex flex-col box-border",children:[(0,ft.jsxs)("div",{className:"flex-none flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-2",children:[(0,ft.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ft.jsx)("img",{src:Dp,alt:"K-Core Logo",className:"h-12 sm:h-12 w-auto"}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("h1",{className:"text-xl sm:text-2xl font-bold text-slate-800",children:"\u041e\u0433\u043b\u044f\u0434 \u043a\u043e\u043c\u043f\u0430\u043d\u0456\u0457"}),(0,ft.jsxs)("p",{className:"text-slate-500 text-xs sm:text-sm",children:["\u041e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u0438\u0439 \u0441\u0442\u0430\u043d \u043d\u0430 ",(new Date).toLocaleDateString("uk-UA")]})]})]}),(0,ft.jsxs)("div",{className:"flex gap-2 w-full sm:w-auto",children:[(0,ft.jsxs)("button",{onClick:()=>c("/installations"),className:"flex-1 sm:flex-none justify-center bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-xl text-sm font-bold shadow-lg shadow-indigo-200 transition-all active:scale-95 flex items-center gap-2",children:[(0,ft.jsx)(ju,{})," ",(0,ft.jsx)("span",{children:"\u041f\u0440\u043e\u0435\u043a\u0442\u0438"})]}),(0,ft.jsxs)("button",{onClick:()=>c("/payments"),className:"flex-1 sm:flex-none justify-center bg-white border border-slate-200 hover:bg-slate-50 text-slate-700 px-4 py-2 rounded-xl text-sm font-bold transition-all flex items-center gap-2",children:[(0,ft.jsx)(zu,{})," ",(0,ft.jsx)("span",{children:"\u041f\u043b\u0430\u0442\u0435\u0436\u0456"})]})]})]}),(0,ft.jsxs)("div",{className:"flex-none grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[(0,ft.jsx)(Rp,{title:"\u041d\u0430\u0434\u0445\u043e\u0434\u0436\u0435\u043d\u043d\u044f",value:Lp(r.incomeMonth),icon:zu,color:"text-emerald-500"}),(0,ft.jsx)(Rp,{title:"\u0414\u0435\u0431\u0456\u0442\u043e\u0440\u043a\u0430",value:Lp(r.totalDebt),icon:iu,color:"text-amber-500",isNegative:r.totalDebt>0,subValue:r.totalDebt>0?"\u0421\u0443\u043c\u0430 \u0431\u043e\u0440\u0433\u0443":"\u0427\u0438\u0441\u0442\u043e"}),(0,ft.jsx)(Rp,{title:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u043b",value:r.workersToday,icon:xd,color:"text-indigo-500",subValue:`${r.workersOff} \u0432\u0438\u0445\u0456\u0434\u043d\u0456`}),(0,ft.jsx)(Rp,{title:"\u041f\u043e\u0442\u0443\u0436\u043d\u0456\u0441\u0442\u044c",value:`${(r.totalCapacity/1e3).toFixed(1)} \u041c\u0412\u0442`,icon:Tc,color:"text-blue-500",subValue:`${r.totalCapacity.toFixed(0)} \u043a\u0412\u0442`})]}),(0,ft.jsxs)("div",{className:"flex-1 grid grid-cols-1 lg:grid-cols-3 gap-6 min-h-0 pb-4",children:[(0,ft.jsx)("div",{className:"lg:col-span-2 flex flex-col h-full min-h-[300px]",children:(0,ft.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 flex flex-col h-full overflow-hidden",children:[(0,ft.jsxs)("div",{className:"p-4 sm:p-5 border-b border-slate-50 flex justify-between items-center bg-emerald-50/30 flex-none",children:[(0,ft.jsxs)("h3",{className:"font-bold text-slate-800 flex items-center gap-2 text-sm sm:text-base",children:[(0,ft.jsx)(Kc,{className:"text-emerald-600"})," \u0412\u0438\u043a\u043e\u043d\u0443\u0454\u0442\u044c\u0441\u044f \u0441\u044c\u043e\u0433\u043e\u0434\u043d\u0456",(0,ft.jsx)("span",{className:"bg-emerald-100 text-emerald-700 text-xs px-2 py-0.5 rounded-full",children:i.length})]}),(0,ft.jsxs)("button",{onClick:()=>c("/installations"),className:"text-xs font-bold text-emerald-600 hover:underline flex items-center gap-1",children:["\u0412\u0441\u0456 \u043e\u0431'\u0454\u043a\u0442\u0438 ",(0,ft.jsx)(_c,{size:10})]})]}),(0,ft.jsx)("div",{className:"p-4 flex-1 overflow-y-auto custom-scrollbar",children:e?(0,ft.jsx)("div",{className:"space-y-4 animate-pulse",children:[1,2,3].map(e=>(0,ft.jsx)("div",{className:"h-16 bg-slate-100 rounded-xl"},e))}):i.length>0?(0,ft.jsx)("div",{className:"flex flex-col gap-3",children:i.map((e,t)=>(0,ft.jsx)($p,{item:e},t))}):(0,ft.jsxs)("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 border-2 border-dashed border-slate-100 rounded-xl",children:[(0,ft.jsx)(Fc,{className:"mb-2 text-3xl opacity-20 text-emerald-500"}),(0,ft.jsx)("p",{children:"\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456 \u0440\u043e\u0431\u043e\u0442\u0438 \u043d\u0435 \u0437\u0430\u043f\u043b\u0430\u043d\u043e\u0432\u0430\u043d\u043e"})]})})]})}),(0,ft.jsx)("div",{className:"flex flex-col h-full min-h-[300px]",children:(0,ft.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 flex flex-col h-full overflow-hidden",children:[(0,ft.jsx)("div",{className:"p-4 sm:p-5 border-b border-slate-50 bg-red-50/30 flex-none",children:(0,ft.jsxs)("h3",{className:"font-bold text-slate-800 flex items-center gap-2 text-sm sm:text-base",children:[(0,ft.jsx)(iu,{className:"text-amber-500"})," \u041e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u0430 \u0443\u0432\u0430\u0433\u0430",o.length>0&&(0,ft.jsx)("span",{className:"bg-amber-100 text-amber-700 text-xs px-2 py-0.5 rounded-full animate-pulse",children:o.length})]})}),(0,ft.jsx)("div",{className:"p-4 flex-1 overflow-y-auto custom-scrollbar",children:o.length>0?(0,ft.jsx)("div",{className:"flex flex-col gap-2",children:o.map((e,t)=>(0,ft.jsx)(Fp,{item:e},t))}):(0,ft.jsxs)("div",{className:"h-full flex flex-col items-center justify-center text-slate-400",children:[(0,ft.jsx)(Fc,{className:"text-4xl mb-3 text-emerald-100"}),(0,ft.jsx)("p",{className:"text-sm font-medium text-emerald-600",children:"\u0412\u0441\u0435 \u0447\u0438\u0441\u0442\u043e!"})]})})]})})]})]})})}function Vp(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=Vp(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Up(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=Vp(e))&&(r&&(r+=" "),r+=t);return r}var Hp=n(7820),qp=n.n(Hp),Wp=n(7770),Kp=n.n(Wp),Gp=e=>0===e?0:e>0?1:-1,Yp=e=>"number"==typeof e&&e!=+e,Xp=e=>"string"===typeof e&&e.indexOf("%")===e.length-1,Jp=e=>("number"===typeof e||e instanceof Number)&&!Yp(e),Zp=e=>Jp(e)||"string"===typeof e,Qp=0,em=e=>{var t=++Qp;return"".concat(e||"").concat(t)},tm=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!Jp(e)&&"string"!==typeof e)return r;if(Xp(e)){if(null==t)return r;var i=e.indexOf("%");n=t*parseFloat(e.slice(0,i))/100}else n=+e;return Yp(n)&&(n=r),a&&null!=t&&n>t&&(n=t),n},nm=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1},rm=(e,t)=>Jp(e)&&Jp(t)?n=>e+n*(t-e):()=>t;function am(e,t,n){return Jp(e)&&Jp(t)?e+n*(t-e):t}var im=e=>null===e||"undefined"===typeof e,sm=e=>im(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),om=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a]};function lm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function cm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lm(Object(n),!0).forEach(function(t){um(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lm(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function um(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dm=(0,t.forwardRef)((e,n)=>{var{aspect:r,initialDimension:a={width:-1,height:-1},width:i="100%",height:s="100%",minWidth:o=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:h,className:f,onResize:p,style:m={}}=e,g=(0,t.useRef)(null),v=(0,t.useRef)();v.current=p,(0,t.useImperativeHandle)(n,()=>g.current);var[y,x]=(0,t.useState)({containerWidth:a.width,containerHeight:a.height}),b=(0,t.useCallback)((e,t)=>{x(n=>{var r=Math.round(e),a=Math.round(t);return n.containerWidth===r&&n.containerHeight===a?n:{containerWidth:r,containerHeight:a}})},[]);(0,t.useEffect)(()=>{var e=e=>{var t,{width:n,height:r}=e[0].contentRect;b(n,r),null===(t=v.current)||void 0===t||t.call(v,n,r)};d>0&&(e=qp()(e,d,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),{width:n,height:r}=g.current.getBoundingClientRect();return b(n,r),t.observe(g.current),()=>{t.disconnect()}},[b,d]);var w=(0,t.useMemo)(()=>{var{containerWidth:e,containerHeight:n}=y;if(e<0||n<0)return null;om(Xp(i)||Xp(s),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",i,s),om(!r||r>0,"The aspect(%s) must be greater than zero.",r);var a=Xp(i)?e:i,d=Xp(s)?n:s;return r&&r>0&&(a?d=a/r:d&&(a=d*r),c&&d>c&&(d=c)),om(a>0||d>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",a,d,i,s,o,l,r),t.Children.map(u,e=>(0,t.cloneElement)(e,{width:a,height:d,style:cm({width:a,height:d},e.props.style)}))},[r,u,s,c,l,o,y,i]);return t.createElement("div",{id:h?"".concat(h):void 0,className:Up("recharts-responsive-container",f),style:cm(cm({},m),{},{width:i,height:s,minWidth:o,minHeight:l,maxHeight:c}),ref:g},t.createElement("div",{style:{width:0,height:0,overflow:"visible"}},w))});function hm(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var fm=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),pm=()=>Math.random().toString(36).substring(7).split("").join("."),mm={INIT:`@@redux/INIT${pm()}`,REPLACE:`@@redux/REPLACE${pm()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${pm()}`};function gm(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function vm(e,t,n){if("function"!==typeof e)throw new Error(hm(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(hm(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(hm(1));return n(vm)(e,t)}let r=e,a=t,i=new Map,s=i,o=0,l=!1;function c(){s===i&&(s=new Map,i.forEach((e,t)=>{s.set(t,e)}))}function u(){if(l)throw new Error(hm(3));return a}function d(e){if("function"!==typeof e)throw new Error(hm(4));if(l)throw new Error(hm(5));let t=!0;c();const n=o++;return s.set(n,e),function(){if(t){if(l)throw new Error(hm(6));t=!1,c(),s.delete(n),i=null}}}function h(e){if(!gm(e))throw new Error(hm(7));if("undefined"===typeof e.type)throw new Error(hm(8));if("string"!==typeof e.type)throw new Error(hm(17));if(l)throw new Error(hm(9));try{l=!0,a=r(a,e)}finally{l=!1}return(i=s).forEach(e=>{e()}),e}h({type:mm.INIT});return{dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(hm(10));r=e,h({type:mm.REPLACE})},[fm]:function(){const e=d;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(hm(11));function n(){const e=t;e.next&&e.next(u())}n();return{unsubscribe:e(n)}},[fm](){return this}}}}}function ym(e){const t=Object.keys(e),n={};for(let i=0;i<t.length;i++){const r=t[i];0,"function"===typeof e[r]&&(n[r]=e[r])}const r=Object.keys(n);let a;try{!function(e){Object.keys(e).forEach(t=>{const n=e[t];if("undefined"===typeof n(void 0,{type:mm.INIT}))throw new Error(hm(12));if("undefined"===typeof n(void 0,{type:mm.PROBE_UNKNOWN_ACTION()}))throw new Error(hm(13))})}(n)}catch(vV){a=vV}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(a)throw a;let i=!1;const s={};for(let a=0;a<r.length;a++){const o=r[a],l=n[o],c=e[o],u=l(c,t);if("undefined"===typeof u){t&&t.type;throw new Error(hm(14))}s[o]=u,i=i||u!==c}return i=i||r.length!==Object.keys(e).length,i?s:e}}function xm(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce((e,t)=>function(){return e(t(...arguments))})}function bm(e){return gm(e)&&"type"in e&&"string"===typeof e.type}function wm(e){return t=>{let{dispatch:n,getState:r}=t;return t=>a=>"function"===typeof a?a(n,r,e):t(a)}}var jm=wm(),km=wm,Nm=Symbol.for("immer-nothing"),_m=Symbol.for("immer-draftable"),Sm=Symbol.for("immer-state");function Cm(e){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Om=Object.getPrototypeOf;function Em(e){return!!e&&!!e[Sm]}function Pm(e){return!!e&&(Am(e)||Array.isArray(e)||!!e[_m]||!!e.constructor?.[_m]||Lm(e)||Rm(e))}var Tm=Object.prototype.constructor.toString();function Am(e){if(!e||"object"!==typeof e)return!1;const t=Om(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Tm}function Mm(e,t){0===Dm(e)?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function Dm(e){const t=e[Sm];return t?t.type_:Array.isArray(e)?1:Lm(e)?2:Rm(e)?3:0}function zm(e,t){return 2===Dm(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Im(e,t,n){const r=Dm(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function Lm(e){return e instanceof Map}function Rm(e){return e instanceof Set}function $m(e){return e.copy_||e.base_}function Fm(e,t){if(Lm(e))return new Map(e);if(Rm(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Am(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[Sm];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const a=n[r],i=t[a];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[a]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[a]})}return Object.create(Om(e),t)}{const t=Om(e);if(null!==t&&n)return{...e};const r=Object.create(t);return Object.assign(r,e)}}function Bm(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Um(e)||Em(e)||!Pm(e)||(Dm(e)>1&&(e.set=e.add=e.clear=e.delete=Vm),Object.freeze(e),t&&Object.entries(e).forEach(e=>{let[t,n]=e;return Bm(n,!0)})),e}function Vm(){Cm(2)}function Um(e){return Object.isFrozen(e)}var Hm,qm={};function Wm(e){const t=qm[e];return t||Cm(0),t}function Km(){return Hm}function Gm(e,t){t&&(Wm("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ym(e){Xm(e),e.drafts_.forEach(Zm),e.drafts_=null}function Xm(e){e===Hm&&(Hm=e.parent_)}function Jm(e){return Hm={drafts_:[],parent_:Hm,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Zm(e){const t=e[Sm];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function Qm(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[Sm].modified_&&(Ym(t),Cm(4)),Pm(e)&&(e=eg(t,e),t.parent_||ng(t,e)),t.patches_&&Wm("Patches").generateReplacementPatches_(n[Sm].base_,e,t.patches_,t.inversePatches_)):e=eg(t,n,[]),Ym(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Nm?e:void 0}function eg(e,t,n){if(Um(t))return t;const r=t[Sm];if(!r)return Mm(t,(a,i)=>tg(e,r,t,a,i,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return ng(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let a=t,i=!1;3===r.type_&&(a=new Set(t),t.clear(),i=!0),Mm(a,(a,s)=>tg(e,r,t,a,s,n,i)),ng(e,t,!1),n&&e.patches_&&Wm("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function tg(e,t,n,r,a,i,s){if(Em(a)){const s=eg(e,a,i&&t&&3!==t.type_&&!zm(t.assigned_,r)?i.concat(r):void 0);if(Im(n,r,s),!Em(s))return;e.canAutoFreeze_=!1}else s&&n.add(a);if(Pm(a)&&!Um(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;eg(e,a),t&&t.scope_.parent_||"symbol"===typeof r||!Object.prototype.propertyIsEnumerable.call(n,r)||ng(e,a)}}function ng(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Bm(t,n)}var rg={get(e,t){if(t===Sm)return e;const n=$m(e);if(!zm(n,t))return function(e,t,n){const r=sg(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!Pm(r)?r:r===ig(e.base_,t)?(lg(e),e.copy_[t]=cg(r,e)):r},has:(e,t)=>t in $m(e),ownKeys:e=>Reflect.ownKeys($m(e)),set(e,t,n){const r=sg($m(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=ig($m(e),t),s=r?.[Sm];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(((a=n)===(i=r)?0!==a||1/a===1/i:a!==a&&i!==i)&&(void 0!==n||zm(e.base_,t)))return!0;lg(e),og(e)}var a,i;return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==ig(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,lg(e),og(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=$m(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){Cm(11)},getPrototypeOf:e=>Om(e.base_),setPrototypeOf(){Cm(12)}},ag={};function ig(e,t){const n=e[Sm];return(n?$m(n):e)[t]}function sg(e,t){if(!(t in e))return;let n=Om(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=Om(n)}}function og(e){e.modified_||(e.modified_=!0,e.parent_&&og(e.parent_))}function lg(e){e.copy_||(e.copy_=Fm(e.base_,e.scope_.immer_.useStrictShallowCopy_))}Mm(rg,(e,t)=>{ag[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),ag.deleteProperty=function(e,t){return ag.set.call(this,e,t,void 0)},ag.set=function(e,t,n){return rg.set.call(this,e[0],t,n,e[0])};function cg(e,t){const n=Lm(e)?Wm("MapSet").proxyMap_(e,t):Rm(e)?Wm("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Km(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,i=rg;n&&(a=[r],i=ag);const{revoke:s,proxy:o}=Proxy.revocable(a,i);return r.draft_=o,r.revoke_=s,o}(e,t);return(t?t.scope_:Km()).drafts_.push(n),n}function ug(e){return Em(e)||Cm(10),dg(e)}function dg(e){if(!Pm(e)||Um(e))return e;const t=e[Sm];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Fm(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Fm(e,!0);return Mm(n,(e,t)=>{Im(n,e,dg(t))}),t&&(t.finalized_=!1),n}var hg=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var a=arguments.length,i=new Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];return r.produce(e,e=>t.call(this,e,...i))}}let r;if("function"!==typeof t&&Cm(6),void 0!==n&&"function"!==typeof n&&Cm(7),Pm(e)){const a=Jm(this),i=cg(e,void 0);let s=!0;try{r=t(i),s=!1}finally{s?Ym(a):Xm(a)}return Gm(a,n),Qm(r,a)}if(!e||"object"!==typeof e){if(r=t(e),void 0===r&&(r=e),r===Nm&&(r=void 0),this.autoFreeze_&&Bm(r,!0),n){const t=[],a=[];Wm("Patches").generateReplacementPatches_(e,r,t,a),n(t,a)}return r}Cm(1)},this.produceWithPatches=(e,n)=>{if("function"===typeof e)return function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return t.produceWithPatches(n,t=>e(t,...a))};let r,a;return[this.produce(e,n,(e,t)=>{r=e,a=t}),r,a]},"boolean"===typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Pm(e)||Cm(8),Em(e)&&(e=ug(e));const t=Jm(this),n=cg(e,void 0);return n[Sm].isManual_=!0,Xm(t),n}finishDraft(e,t){const n=e&&e[Sm];n&&n.isManual_||Cm(9);const{scope_:r}=n;return Gm(r,t),Qm(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=Wm("Patches").applyPatches_;return Em(e)?r(e,t):this.produce(e,e=>r(e,t))}},fg=hg.produce;hg.produceWithPatches.bind(hg),hg.setAutoFreeze.bind(hg),hg.setUseStrictShallowCopy.bind(hg),hg.applyPatches.bind(hg),hg.createDraft.bind(hg),hg.finishDraft.bind(hg);var pg="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?xm:xm.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function mg(e,t){function n(){if(t){let n=t(...arguments);if(!n)throw new Error(cv(0));return{type:e,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=t=>bm(t)&&t.type===e,n}var gg=class e extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 1===n.length&&Array.isArray(n[0])?new e(...n[0].concat(this)):new e(...n.concat(this))}};function vg(e){return Pm(e)?fg(e,()=>{}):e}function yg(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}var xg="RTK_autoBatch",bg=e=>t=>{setTimeout(t,e)},wg=e=>function(t){const{autoBatch:n=!0}=t??{};let r=new gg(e);return n&&r.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){const n=t(...arguments);let r=!0,a=!1,i=!1;const s=new Set,o="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:bg(10):"callback"===e.type?e.queueNotification:bg(e.timeout),l=()=>{i=!1,a&&(a=!1,s.forEach(e=>e()))};return Object.assign({},n,{subscribe(e){const t=n.subscribe(()=>r&&e());return s.add(e),()=>{t(),s.delete(e)}},dispatch(e){try{return r=!e?.meta?.[xg],a=!r,a&&(i||(i=!0,o(l))),n.dispatch(e)}finally{r=!0}}})}}("object"===typeof n?n:void 0)),r};function jg(e){const t=function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:a=!0}=e??{};let i=new gg;return t&&("boolean"===typeof t?i.push(jm):i.push(km(t.extraArgument))),i},{reducer:n,middleware:r,devTools:a=!0,duplicateMiddlewareCheck:i=!0,preloadedState:s,enhancers:o}=e||{};let l,c;if("function"===typeof n)l=n;else{if(!gm(n))throw new Error(cv(1));l=ym(n)}c="function"===typeof r?r(t):t();let u=xm;a&&(u=pg({trace:!1,..."object"===typeof a&&a}));const d=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(n,r)=>{const a=e(n,r);let i=()=>{throw new Error(hm(15))};const s={getState:a.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return i(e,...n)}},o=t.map(e=>e(s));return i=xm(...o)(a.dispatch),{...a,dispatch:i}}}(...c),h=wg(d);return vm(l,s,u(..."function"===typeof o?o(h):h()))}function kg(e){const t={},n=[];let r;const a={addCase(e,n){const r="string"===typeof e?e:e.type;if(!r)throw new Error(cv(28));if(r in t)throw new Error(cv(29));return t[r]=n,a},addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),a),addDefaultCase:e=>(r=e,a)};return e(a),[t,n,r]}var Ng=function(){let e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;for(;t--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e};var _g=Symbol.for("rtk-slice-createasyncthunk");function Sg(e,t){return`${e}/${t}`}function Cg(){let{creators:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e?.asyncThunk?.[_g];return function(e){const{name:n,reducerPath:r=n}=e;if(!n)throw new Error(cv(11));const a=("function"===typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name](){return e(...arguments)}}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},i=Object.keys(a),s={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},o={addCase(e,t){const n="string"===typeof e?e:e.type;if(!n)throw new Error(cv(12));if(n in s.sliceCaseReducersByType)throw new Error(cv(13));return s.sliceCaseReducersByType[n]=t,o},addMatcher:(e,t)=>(s.sliceMatchers.push({matcher:e,reducer:t}),o),exposeAction:(e,t)=>(s.actionCreators[e]=t,o),exposeCaseReducer:(e,t)=>(s.sliceCaseReducersByName[e]=t,o)};function l(){const[t={},n=[],r]="function"===typeof e.extraReducers?kg(e.extraReducers):[e.extraReducers],a={...t,...s.sliceCaseReducersByType};return function(e,t){let n,[r,a,i]=kg(t);if("function"===typeof e)n=()=>vg(e());else{const t=vg(e);n=()=>t}function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n(),t=arguments.length>1?arguments[1]:void 0,s=[r[t.type],...a.filter(e=>{let{matcher:n}=e;return n(t)}).map(e=>{let{reducer:t}=e;return t})];return 0===s.filter(e=>!!e).length&&(s=[i]),s.reduce((e,n)=>{if(n){if(Em(e)){const r=n(e,t);return void 0===r?e:r}if(Pm(e))return fg(e,e=>n(e,t));{const r=n(e,t);if(void 0===r){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}}return e},e)}return s.getInitialState=n,s}(e.initialState,e=>{for(let t in a)e.addCase(t,a[t]);for(let t of s.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)})}i.forEach(r=>{const i=a[r],s={reducerName:r,type:Sg(n,r),createNotation:"function"===typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(i)?function(e,t,n){let r,a,{type:i,reducerName:s,createNotation:o}=e;if("reducer"in t){if(o&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error(cv(17));r=t.reducer,a=t.prepare}else r=t;n.addCase(i,r).exposeCaseReducer(s,r).exposeAction(s,a?mg(i,a):mg(i))}(s,i,o):function(e,t,n,r){let{type:a,reducerName:i}=e;if(!r)throw new Error(cv(18));const{payloadCreator:s,fulfilled:o,pending:l,rejected:c,settled:u,options:d}=t,h=r(a,s,d);n.exposeAction(i,h),o&&n.addCase(h.fulfilled,o);l&&n.addCase(h.pending,l);c&&n.addCase(h.rejected,c);u&&n.addMatcher(h.settled,u);n.exposeCaseReducer(i,{fulfilled:o||Pg,pending:l||Pg,rejected:c||Pg,settled:u||Pg})}(s,i,o,t)});const c=e=>e,u=new Map,d=new WeakMap;let h;function f(e,t){return h||(h=l()),h(e,t)}function p(){return h||(h=l()),h.getInitialState()}function m(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function r(e){let a=e[t];return"undefined"===typeof a&&n&&(a=yg(d,r,p)),a}function a(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;const r=yg(u,n,()=>new WeakMap);return yg(r,t,()=>{const r={};for(const[a,i]of Object.entries(e.selectors??{}))r[a]=Og(i,t,()=>yg(d,t,p),n);return r})}return{reducerPath:t,getSelectors:a,get selectors(){return a(r)},selectSlice:r}}const g={name:n,reducer:f,actions:s.actionCreators,caseReducers:s.sliceCaseReducersByName,getInitialState:p,...m(r),injectInto(e){let{reducerPath:t,...n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=t??r;return e.inject({reducerPath:a,reducer:f},n),{...g,...m(a,!0)}}};return g}}function Og(e,t,n,r){function a(a){let i=t(a);"undefined"===typeof i&&r&&(i=n());for(var s=arguments.length,o=new Array(s>1?s-1:0),l=1;l<s;l++)o[l-1]=arguments[l];return e(i,...o)}return a.unwrapped=e,a}var Eg=Cg();function Pg(){}var Tg="listener",Ag="completed",Mg="cancelled",Dg=`task-${Mg}`,zg=`task-${Ag}`,Ig=`${Tg}-${Mg}`,Lg=`${Tg}-${Ag}`,Rg=class{constructor(e){this.code=e,this.message=`task ${Mg} (reason: ${e})`}name="TaskAbortError";message},$g=(e,t)=>{if("function"!==typeof e)throw new TypeError(cv(32))},Fg=()=>{},Bg=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fg;return e.catch(t),e},Vg=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Ug=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Hg=e=>{if(e.aborted){const{reason:t}=e;throw new Rg(t)}};function qg(e,t){let n=Fg;return new Promise((r,a)=>{const i=()=>a(new Rg(e.reason));e.aborted?i():(n=Vg(e,i),t.finally(()=>n()).then(r,a))}).finally(()=>{n=Fg})}var Wg=e=>t=>Bg(qg(e,t).then(t=>(Hg(e),t))),Kg=e=>{const t=Wg(e);return e=>t(new Promise(t=>setTimeout(t,e)))},{assign:Gg}=Object,Yg={},Xg="listenerMiddleware",Jg=(e,t)=>(n,r)=>{$g(n);const a=new AbortController;var i;i=a,Vg(e,()=>Ug(i,e.reason));const s=(async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Rg?"cancelled":"rejected",error:n}}finally{t?.()}})(async()=>{Hg(e),Hg(a.signal);const t=await n({pause:Wg(a.signal),delay:Kg(a.signal),signal:a.signal});return Hg(a.signal),t},()=>Ug(a,zg));return r?.autoJoin&&t.push(s.catch(Fg)),{result:Wg(e)(s),cancel(){Ug(a,Dg)}}},Zg=(e,t)=>(n,r)=>Bg((async(n,r)=>{Hg(t);let a=()=>{};const i=[new Promise((t,r)=>{let i=e({predicate:n,effect:(e,n)=>{n.unsubscribe(),t([e,n.getState(),n.getOriginalState()])}});a=()=>{i(),r()}})];null!=r&&i.push(new Promise(e=>setTimeout(e,r,null)));try{const e=await qg(t,Promise.race(i));return Hg(t),e}finally{a()}})(n,r)),Qg=e=>{let{type:t,actionCreator:n,matcher:r,predicate:a,effect:i}=e;if(t)a=mg(t).match;else if(n)t=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(cv(21));return $g(i),{predicate:a,type:t,effect:i}},ev=Gg(e=>{const{type:t,predicate:n,effect:r}=Qg(e);return{id:Ng(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(cv(22))}}},{withTypes:()=>ev}),tv=(e,t)=>{const{type:n,effect:r,predicate:a}=Qg(t);return Array.from(e.values()).find(e=>("string"===typeof n?e.type===n:e.predicate===a)&&e.effect===r)},nv=e=>{e.pending.forEach(e=>{Ug(e,Ig)})},rv=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},av=Gg(mg(`${Xg}/add`),{withTypes:()=>av}),iv=mg(`${Xg}/removeAll`),sv=Gg(mg(`${Xg}/remove`),{withTypes:()=>sv}),ov=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.error(`${Xg}/error`,...t)},lv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new Map,{extra:n,onError:r=ov}=e;$g(r);const a=e=>(e=>(e.unsubscribe=()=>t.delete(e.id),t.set(e.id,e),t=>{e.unsubscribe(),t?.cancelActive&&nv(e)}))(tv(t,e)??ev(e));Gg(a,{withTypes:()=>a});const i=e=>{const n=tv(t,e);return n&&(n.unsubscribe(),e.cancelActive&&nv(n)),!!n};Gg(i,{withTypes:()=>i});const s=async(e,i,s,o)=>{const l=new AbortController,c=Zg(a,l.signal),u=[];try{e.pending.add(l),await Promise.resolve(e.effect(i,Gg({},s,{getOriginalState:o,condition:(e,t)=>c(e,t).then(Boolean),take:c,delay:Kg(l.signal),pause:Wg(l.signal),extra:n,signal:l.signal,fork:Jg(l.signal,u),unsubscribe:e.unsubscribe,subscribe:()=>{t.set(e.id,e)},cancelActiveListeners:()=>{e.pending.forEach((e,t,n)=>{e!==l&&(Ug(e,Ig),n.delete(e))})},cancel:()=>{Ug(l,Ig),e.pending.delete(l)},throwIfCancelled:()=>{Hg(l.signal)}})))}catch(d){d instanceof Rg||rv(r,d,{raisedBy:"effect"})}finally{await Promise.all(u),Ug(l,Lg),e.pending.delete(l)}},o=(e=>()=>{e.forEach(nv),e.clear()})(t);return{middleware:e=>n=>l=>{if(!bm(l))return n(l);if(av.match(l))return a(l.payload);if(iv.match(l))return void o();if(sv.match(l))return i(l.payload);let c=e.getState();const u=()=>{if(c===Yg)throw new Error(cv(23));return c};let d;try{if(d=n(l),t.size>0){const n=e.getState(),a=Array.from(t.values());for(const t of a){let a=!1;try{a=t.predicate(l,n,c)}catch(h){a=!1,rv(r,h,{raisedBy:"predicate"})}a&&s(t,l,e,u)}}}finally{c=Yg}return d},startListening:a,stopListening:i,clearListeners:o}};Symbol.for("rtk-state-proxy-original");function cv(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}function uv(e,t){if(t){var n=Number.parseInt(t,10);if(!Yp(n))return null===e||void 0===e?void 0:e[n]}}var dv=Eg({name:"options",initialState:{chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},reducers:{createEventEmitter:e=>{null==e.eventEmitter&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),hv=dv.reducer,{createEventEmitter:fv}=dv.actions;n(7237);function pv(e){e()}var mv={notify(){},get:()=>[]};function gv(e,t){let n,r=mv,a=0,i=!1;function s(){c.onStateChange&&c.onStateChange()}function o(){a++,n||(n=t?t.addNestedSub(s):e.subscribe(s),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){pv(()=>{let t=e;for(;t;)t.callback(),t=t.next})},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const a=t={callback:n,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){r&&null!==e&&(r=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}())}function l(){a--,n&&0===a&&(n(),n=void 0,r.clear(),r=mv)}const c={addNestedSub:function(e){o();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:s,isSubscribed:function(){return i},trySubscribe:function(){i||(i=!0,o())},tryUnsubscribe:function(){i&&(i=!1,l())},getListeners:()=>r};return c}var vv=(()=>!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement))(),yv=(()=>"undefined"!==typeof navigator&&"ReactNative"===navigator.product)(),xv=(()=>vv||yv?t.useLayoutEffect:t.useEffect)();Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var bv=Symbol.for("react-redux-context"),wv="undefined"!==typeof globalThis?globalThis:{};function jv(){if(!t.createContext)return{};const e=wv[bv]??=new Map;let n=e.get(t.createContext);return n||(n=t.createContext(null),e.set(t.createContext,n)),n}var kv=jv();var Nv=function(e){const{children:n,context:r,serverState:a,store:i}=e,s=t.useMemo(()=>{const e=gv(i);return{store:i,subscription:e,getServerState:a?()=>a:void 0}},[i,a]),o=t.useMemo(()=>i.getState(),[i]);xv(()=>{const{subscription:e}=s;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),o!==i.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[s,o]);const l=r||kv;return t.createElement(l.Provider,{value:s},n)};var _v=Symbol.for("immer-nothing"),Sv=Symbol.for("immer-draftable"),Cv=Symbol.for("immer-state");function Ov(e){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ev=Object.getPrototypeOf;function Pv(e){return!!e&&!!e[Cv]}function Tv(e){return!!e&&(Mv(e)||Array.isArray(e)||!!e[Sv]||!!e.constructor?.[Sv]||Rv(e)||$v(e))}var Av=Object.prototype.constructor.toString();function Mv(e){if(!e||"object"!==typeof e)return!1;const t=Ev(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Av}function Dv(e,t){0===zv(e)?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function zv(e){const t=e[Cv];return t?t.type_:Array.isArray(e)?1:Rv(e)?2:$v(e)?3:0}function Iv(e,t){return 2===zv(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Lv(e,t,n){const r=zv(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function Rv(e){return e instanceof Map}function $v(e){return e instanceof Set}function Fv(e){return e.copy_||e.base_}function Bv(e,t){if(Rv(e))return new Map(e);if($v(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Mv(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[Cv];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const a=n[r],i=t[a];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[a]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[a]})}return Object.create(Ev(e),t)}{const t=Ev(e);if(null!==t&&n)return{...e};const r=Object.create(t);return Object.assign(r,e)}}function Vv(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Hv(e)||Pv(e)||!Tv(e)||(zv(e)>1&&(e.set=e.add=e.clear=e.delete=Uv),Object.freeze(e),t&&Object.entries(e).forEach(e=>{let[t,n]=e;return Vv(n,!0)})),e}function Uv(){Ov(2)}function Hv(e){return Object.isFrozen(e)}var qv,Wv={};function Kv(e){const t=Wv[e];return t||Ov(0),t}function Gv(){return qv}function Yv(e,t){t&&(Kv("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Xv(e){Jv(e),e.drafts_.forEach(Qv),e.drafts_=null}function Jv(e){e===qv&&(qv=e.parent_)}function Zv(e){return qv={drafts_:[],parent_:qv,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Qv(e){const t=e[Cv];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function ey(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[Cv].modified_&&(Xv(t),Ov(4)),Tv(e)&&(e=ty(t,e),t.parent_||ry(t,e)),t.patches_&&Kv("Patches").generateReplacementPatches_(n[Cv].base_,e,t.patches_,t.inversePatches_)):e=ty(t,n,[]),Xv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==_v?e:void 0}function ty(e,t,n){if(Hv(t))return t;const r=t[Cv];if(!r)return Dv(t,(a,i)=>ny(e,r,t,a,i,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return ry(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let a=t,i=!1;3===r.type_&&(a=new Set(t),t.clear(),i=!0),Dv(a,(a,s)=>ny(e,r,t,a,s,n,i)),ry(e,t,!1),n&&e.patches_&&Kv("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function ny(e,t,n,r,a,i,s){if(Pv(a)){const s=ty(e,a,i&&t&&3!==t.type_&&!Iv(t.assigned_,r)?i.concat(r):void 0);if(Lv(n,r,s),!Pv(s))return;e.canAutoFreeze_=!1}else s&&n.add(a);if(Tv(a)&&!Hv(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;ty(e,a),t&&t.scope_.parent_||"symbol"===typeof r||!Object.prototype.propertyIsEnumerable.call(n,r)||ry(e,a)}}function ry(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Vv(t,n)}var ay={get(e,t){if(t===Cv)return e;const n=Fv(e);if(!Iv(n,t))return function(e,t,n){const r=oy(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!Tv(r)?r:r===sy(e.base_,t)?(cy(e),e.copy_[t]=uy(r,e)):r},has:(e,t)=>t in Fv(e),ownKeys:e=>Reflect.ownKeys(Fv(e)),set(e,t,n){const r=oy(Fv(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=sy(Fv(e),t),s=r?.[Cv];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(((a=n)===(i=r)?0!==a||1/a===1/i:a!==a&&i!==i)&&(void 0!==n||Iv(e.base_,t)))return!0;cy(e),ly(e)}var a,i;return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==sy(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,cy(e),ly(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=Fv(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){Ov(11)},getPrototypeOf:e=>Ev(e.base_),setPrototypeOf(){Ov(12)}},iy={};function sy(e,t){const n=e[Cv];return(n?Fv(n):e)[t]}function oy(e,t){if(!(t in e))return;let n=Ev(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=Ev(n)}}function ly(e){e.modified_||(e.modified_=!0,e.parent_&&ly(e.parent_))}function cy(e){e.copy_||(e.copy_=Bv(e.base_,e.scope_.immer_.useStrictShallowCopy_))}Dv(ay,(e,t)=>{iy[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),iy.deleteProperty=function(e,t){return iy.set.call(this,e,t,void 0)},iy.set=function(e,t,n){return ay.set.call(this,e[0],t,n,e[0])};function uy(e,t){const n=Rv(e)?Kv("MapSet").proxyMap_(e,t):$v(e)?Kv("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Gv(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,i=ay;n&&(a=[r],i=iy);const{revoke:s,proxy:o}=Proxy.revocable(a,i);return r.draft_=o,r.revoke_=s,o}(e,t);return(t?t.scope_:Gv()).drafts_.push(n),n}function dy(e){if(!Tv(e)||Hv(e))return e;const t=e[Cv];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Bv(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Bv(e,!0);return Dv(n,(e,t)=>{Lv(n,e,dy(t))}),t&&(t.finalized_=!1),n}var hy=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var a=arguments.length,i=new Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];return r.produce(e,e=>t.call(this,e,...i))}}let r;if("function"!==typeof t&&Ov(6),void 0!==n&&"function"!==typeof n&&Ov(7),Tv(e)){const a=Zv(this),i=uy(e,void 0);let s=!0;try{r=t(i),s=!1}finally{s?Xv(a):Jv(a)}return Yv(a,n),ey(r,a)}if(!e||"object"!==typeof e){if(r=t(e),void 0===r&&(r=e),r===_v&&(r=void 0),this.autoFreeze_&&Vv(r,!0),n){const t=[],a=[];Kv("Patches").generateReplacementPatches_(e,r,t,a),n(t,a)}return r}Ov(1)},this.produceWithPatches=(e,n)=>{if("function"===typeof e)return function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return t.produceWithPatches(n,t=>e(t,...a))};let r,a;return[this.produce(e,n,(e,t)=>{r=e,a=t}),r,a]},"boolean"===typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Tv(e)||Ov(8),Pv(e)&&(e=function(e){Pv(e)||Ov(10);return dy(e)}(e));const t=Zv(this),n=uy(e,void 0);return n[Cv].isManual_=!0,Jv(t),n}finishDraft(e,t){const n=e&&e[Cv];n&&n.isManual_||Ov(9);const{scope_:r}=n;return Yv(r,t),ey(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=Kv("Patches").applyPatches_;return Pv(e)?r(e,t):this.produce(e,e=>r(e,t))}};hy.produce,hy.produceWithPatches.bind(hy),hy.setAutoFreeze.bind(hy),hy.setUseStrictShallowCopy.bind(hy),hy.applyPatches.bind(hy),hy.createDraft.bind(hy),hy.finishDraft.bind(hy);var fy={active:!1,index:null,dataKey:void 0,coordinate:void 0},py=Eg({name:"tooltip",initialState:{itemInteraction:{click:fy,hover:fy},axisInteraction:{click:fy,hover:fy},keyboardInteraction:fy,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=ug(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:my,removeTooltipEntrySettings:gy,setTooltipSettingsState:vy,setActiveMouseOverItemIndex:yy,mouseLeaveItem:xy,mouseLeaveChart:by,setActiveClickItemIndex:wy,setMouseOverAxisIndex:jy,setMouseClickAxisIndex:ky,setSyncInteraction:Ny,setKeyboardInteraction:_y}=py.actions,Sy=py.reducer,Cy=Eg({name:"chartData",initialState:{chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},reducers:{setChartData(e,t){if(e.chartData=t.payload,null==t.payload)return e.dataStartIndex=0,void(e.dataEndIndex=0);t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;null!=n&&(e.dataStartIndex=n),null!=r&&(e.dataEndIndex=r)}}}),{setChartData:Oy,setDataStartEndIndexes:Ey,setComputedData:Py}=Cy.actions,Ty=Cy.reducer,Ay=Eg({name:"chartLayout",initialState:{layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:My,setLayout:Dy,setChartSize:zy,setScale:Iy}=Ay.actions,Ly=Ay.reducer;function Ry(e){if("function"!==typeof e)throw new TypeError(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received "+typeof e)}var $y=e=>Array.isArray(e)?e:[e];function Fy(e){const t=Array.isArray(e[0])?e[0]:e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every(e=>"function"===typeof e)){const n=e.map(e=>"function"===typeof e?`function ${e.name||"unnamed"}()`:typeof e).join(", ");throw new TypeError(`${t}[${n}]`)}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var By="undefined"!==typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function Vy(){return{s:0,v:void 0,o:null,p:null}}function Uy(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:r}=t;let a,i=0;function s(){let t=n;const{length:s}=arguments;for(let e=0,n=s;e<n;e++){const n=arguments[e];if("function"===typeof n||"object"===typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const r=e.get(n);void 0===r?(t=Vy(),e.set(n,t)):t=r}else{let e=t.p;null===e&&(t.p=e=new Map);const r=e.get(n);void 0===r?(t=Vy(),e.set(n,t)):t=r}}const o=t;let l;if(1===t.s)l=t.v;else if(l=e.apply(null,arguments),i++,r){const e=a?.deref?.()??a;null!=e&&r(e,l)&&(l=e,0!==i&&i--);a="object"===typeof l&&null!==l||"function"===typeof l?new By(l):l}return o.s=1,o.v=l,l}return s.clearCache=()=>{n={s:0,v:void 0,o:null,p:null},s.resetResultsCount()},s.resultsCount=()=>i,s.resetResultsCount=()=>{i=0},s}function Hy(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a="function"===typeof e?{memoize:e,memoizeOptions:n}:e,i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r,i=0,s=0,o={},l=t.pop();"object"===typeof l&&(o=l,l=t.pop()),Ry(l,`createSelector expects an output function after the inputs, but received: [${typeof l}]`);const c={...a,...o},{memoize:u,memoizeOptions:d=[],argsMemoize:h=Uy,argsMemoizeOptions:f=[],devModeChecks:p={}}=c,m=$y(d),g=$y(f),v=Fy(t),y=u(function(){return i++,l.apply(null,arguments)},...m);const x=h(function(){s++;const e=function(e,t){const n=[],{length:r}=e;for(let a=0;a<r;a++)n.push(e[a].apply(null,t));return n}(v,arguments);return r=y.apply(null,e),r},...g);return Object.assign(x,{resultFunc:l,memoizedResultFunc:y,dependencies:v,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>r,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:u,argsMemoize:h})};return Object.assign(i,{withTypes:()=>i}),i}var qy=Hy(Uy),Wy=Object.assign(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qy;!function(e){if("object"!==typeof e)throw new TypeError(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received "+typeof e)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);const n=Object.keys(e),r=t(n.map(t=>e[t]),function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((e,t,r)=>(e[n[r]]=t,e),{})});return r},{withTypes:()=>Wy}),Ky=n(8443),Gy=(0,t.createContext)(null),Yy=e=>e,Xy=()=>{var e=(0,t.useContext)(Gy);return e?e.store.dispatch:Yy},Jy=()=>{},Zy=()=>Jy,Qy=(e,t)=>e===t;function ex(e){var n=(0,t.useContext)(Gy);return(0,Ky.useSyncExternalStoreWithSelector)(n?n.subscription.addNestedSub:Zy,n?n.store.getState:Jy,n?n.store.getState:Jy,n?e:Jy,Qy)}var tx=n(3821),nx=n.n(tx),rx=e=>e.legend.settings,ax=qy([e=>e.legend.payload,rx],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?nx()(r,n):r});function ix(e,t){if((a=e.length)>1)for(var n,r,a,i=1,s=e[t[0]],o=s.length;i<a;++i)for(r=s,s=e[t[i]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}Array.prototype.slice;function sx(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function ox(e){return function(){return e}}function lx(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function cx(e,t){return e[t]}function ux(e){const t=[];return t.key=e,t}function dx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function hx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dx(Object(n),!0).forEach(function(t){fx(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dx(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function fx(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var px=Math.PI/180,mx=e=>180*e/Math.PI,gx=(e,t,n,r)=>({x:e+Math.cos(-px*r)*n,y:t+Math.sin(-px*r)*n}),vx=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},yx=(e,t)=>{var{x:n,y:r}=e,{cx:a,cy:i}=t,s=((e,t)=>{var{x:n,y:r}=e,{x:a,y:i}=t;return Math.sqrt((n-a)**2+(r-i)**2)})({x:n,y:r},{x:a,y:i});if(s<=0)return{radius:s,angle:0};var o=(n-a)/s,l=Math.acos(o);return r>i&&(l=2*Math.PI-l),{radius:s,angle:mx(l),angleInRadian:l}},xx=(e,t)=>{var{startAngle:n,endAngle:r}=t,a=Math.floor(n/360),i=Math.floor(r/360);return e+360*Math.min(a,i)},bx=(e,t)=>{var{x:n,y:r}=e,{radius:a,angle:i}=yx({x:n,y:r},t),{innerRadius:s,outerRadius:o}=t;if(a<s||a>o)return null;if(0===a)return null;var l,{startAngle:c,endAngle:u}=(e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),a=Math.floor(n/360),i=Math.min(r,a);return{startAngle:t-360*i,endAngle:n-360*i}})(t),d=i;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;l=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;l=d>=u&&d<=c}return l?hx(hx({},t),{},{radius:a,angle:xx(d,t)}):null};function wx(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function jx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function kx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jx(Object(n),!0).forEach(function(t){Nx(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jx(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Nx(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _x(e,t,n){return im(e)||im(t)?n:Zp(t)?Kp()(e,t,n):"function"===typeof t?t(e):n}var Sx=(e,t)=>"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t,Cx=(e,t,n,r)=>{if(r)return e.map(e=>e.coordinate);var a,i,s=e.map(e=>(e.coordinate===t&&(a=!0),e.coordinate===n&&(i=!0),e.coordinate));return a||s.push(t),i||s.push(n),s},Ox=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:a,range:i,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:d,niceTicks:h,axisType:f}=e;if(!s)return null;var p="scaleBand"===o&&s.bandwidth?s.bandwidth()/2:2,m=(t||n)&&"category"===a&&s.bandwidth?s.bandwidth()/p:0;return m="angleAxis"===f&&i&&i.length>=2?2*Gp(i[0]-i[1])*m:m,t&&(d||h)?(d||h||[]).map((e,t)=>{var n=r?r.indexOf(e):e;return{coordinate:s(n)+m,value:e,offset:m,index:t}}).filter(e=>!Yp(e.coordinate)):l&&c?c.map((e,t)=>({coordinate:s(e)+m,value:e,index:t,offset:m})):s.ticks&&!n&&null!=u?s.ticks(u).map((e,t)=>({coordinate:s(e)+m,value:e,offset:m,index:t})):s.domain().map((e,t)=>({coordinate:s(e)+m,value:r?r[e]:e,index:t,offset:m}))},Ex=1e-4,Px={sign:e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,i=0,s=0;s<t;++s){var o=Yp(e[s][n][1])?e[s][n][0]:e[s][n][1];o>=0?(e[s][n][0]=a,e[s][n][1]=a+o,a=e[s][n][1]):(e[s][n][0]=i,e[s][n][1]=i+o,i=e[s][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,a,i=0,s=e[0].length;i<s;++i){for(a=n=0;n<r;++n)a+=e[n][i][1]||0;if(a)for(n=0;n<r;++n)e[n][i][1]/=a}ix(e,t)}},none:ix,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,a=e[t[0]],i=a.length;r<i;++r){for(var s=0,o=0;s<n;++s)o+=e[s][r][1]||0;a[r][1]+=a[r][0]=-o/2}ix(e,t)}},wiggle:function(e,t){if((a=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,a,i=0,s=1;s<r;++s){for(var o=0,l=0,c=0;o<a;++o){for(var u=e[t[o]],d=u[s][1]||0,h=(d-(u[s-1][1]||0))/2,f=0;f<o;++f){var p=e[t[f]];h+=(p[s][1]||0)-(p[s-1][1]||0)}l+=d,c+=h*d}n[s-1][1]+=n[s-1][0]=i,l&&(i-=c/l)}n[s-1][1]+=n[s-1][0]=i,ix(e,t)}},positive:e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,i=0;i<t;++i){var s=Yp(e[i][n][1])?e[i][n][0]:e[i][n][1];s>=0?(e[i][n][0]=a,e[i][n][1]=a+s,a=e[i][n][1]):(e[i][n][0]=0,e[i][n][1]=0)}}},Tx=(e,t,n)=>{var r=Px[n],a=function(){var e=ox([]),t=lx,n=ix,r=cx;function a(a){var i,s,o=Array.from(e.apply(this,arguments),ux),l=o.length,c=-1;for(const e of a)for(i=0,++c;i<l;++i)(o[i][c]=[0,+r(e,o[i].key,c,a)]).data=e;for(i=0,s=sx(t(o));i<l;++i)o[s[i]].index=i;return n(o,s),o}return a.keys=function(t){return arguments.length?(e="function"===typeof t?t:ox(Array.from(t)),a):e},a.value=function(e){return arguments.length?(r="function"===typeof e?e:ox(+e),a):r},a.order=function(e){return arguments.length?(t=null==e?lx:"function"===typeof e?e:ox(Array.from(e)),a):t},a.offset=function(e){return arguments.length?(n=null==e?ix:e,a):n},a}().keys(t).value((e,t)=>+_x(e,t,0)).order(lx).offset(r);return a(e)};var Ax=e=>{var{axis:t,ticks:n,offset:r,bandSize:a,entry:i,index:s}=e;if("category"===t.type)return n[s]?n[s].coordinate+r:null;var o=_x(i,t.dataKey,t.scale.domain()[s]);return im(o)?null:t.scale(o)-a/2+r},Mx=(e,t,n)=>{var r;if(null!=e)return r=Object.keys(e).reduce((r,a)=>{var i=e[a],{stackedData:s}=i,o=s.reduce((e,r)=>{var a=(e=>{var t=e.flat(2).filter(Jp);return[Math.min(...t),Math.max(...t)]})(wx(r,t,n));return[Math.min(e[0],a[0]),Math.max(e[1],a[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]),[r[0]===1/0?0:r[0],r[1]===-1/0?0:r[1]]},Dx=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zx=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ix=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var a=nx()(t,e=>e.coordinate),i=1/0,s=1,o=a.length;s<o;s++){var l=a[s],c=a[s-1];i=Math.min((l.coordinate||0)-(c.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0};function Lx(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:a,name:i}=e;return kx(kx({},t),{},{dataKey:n,payload:r,value:a,name:i})}function Rx(e,t){return e?String(e):"string"===typeof t?t:void 0}var $x=e=>e.layout.width,Fx=e=>e.layout.height,Bx=e=>e.layout.scale,Vx=e=>e.layout.margin,Ux=qy(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Hx=qy(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),qx="data-recharts-item-index",Wx="data-recharts-item-data-key";function Kx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Gx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kx(Object(n),!0).forEach(function(t){Yx(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kx(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Yx(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xx=qy([$x,Fx,Vx,e=>e.brush.height,Ux,Hx,rx,e=>e.legend.size],(e,t,n,r,a,i,s,o)=>{var l=i.reduce((e,t)=>{var{orientation:n}=t;if(!t.mirror&&!t.hide){var r="number"===typeof t.width?t.width:60;return Gx(Gx({},e),{},{[n]:e[n]+r})}return e},{left:n.left||0,right:n.right||0}),c=a.reduce((e,t)=>{var{orientation:n}=t;return t.mirror||t.hide?e:Gx(Gx({},e),{},{[n]:Kp()(e,"".concat(n))+t.height})},{top:n.top||0,bottom:n.bottom||0}),u=Gx(Gx({},c),l),d=u.bottom;u.bottom+=r,u=((e,t,n)=>{if(t&&n){var{width:r,height:a}=n,{align:i,verticalAlign:s,layout:o}=t;if(("vertical"===o||"horizontal"===o&&"middle"===s)&&"center"!==i&&Jp(e[i]))return kx(kx({},e),{},{[i]:e[i]+(r||0)});if(("horizontal"===o||"vertical"===o&&"center"===i)&&"middle"!==s&&Jp(e[s]))return kx(kx({},e),{},{[s]:e[s]+(a||0)})}return e})(u,s,o);var h=e-u.left-u.right,f=t-u.top-u.bottom;return Gx(Gx({brushBottom:d},u),{},{width:Math.max(h,0),height:Math.max(f,0)})}),Jx=qy(Xx,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Zx=qy($x,Fx,(e,t)=>({x:0,y:0,width:e,height:t})),Qx=(0,t.createContext)(null),eb=()=>null!=(0,t.useContext)(Qx),tb=e=>e.brush,nb=qy([tb,Xx,Vx],(e,t,n)=>({height:e.height,x:Jp(e.x)?e.x:t.left,y:Jp(e.y)?e.y:t.top+t.height+t.brushBottom-((null===n||void 0===n?void 0:n.bottom)||0),width:Jp(e.width)?e.width:t.width})),rb=()=>{var e,t=eb(),n=ex(Jx),r=ex(nb),a=null===(e=ex(tb))||void 0===e?void 0:e.padding;return t&&r&&a?{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}:n},ab={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},ib=()=>{var e;return null!==(e=ex(Xx))&&void 0!==e?e:ab},sb=()=>ex($x),ob=()=>ex(Fx),lb={top:0,right:0,bottom:0,left:0},cb=e=>e.layout.layoutType,ub=()=>ex(cb),db=n(9859),hb=n.n(db);function fb(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function pb(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class mb extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xb;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(gb(this,e))}has(e){return super.has(gb(this,e))}set(e,t){return super.set(vb(this,e),t)}delete(e){return super.delete(yb(this,e))}}Set;function gb(e,t){let{_intern:n,_key:r}=e;const a=r(t);return n.has(a)?n.get(a):t}function vb(e,t){let{_intern:n,_key:r}=e;const a=r(t);return n.has(a)?n.get(a):(n.set(a,t),t)}function yb(e,t){let{_intern:n,_key:r}=e;const a=r(t);return n.has(a)&&(t=n.get(a),n.delete(a)),t}function xb(e){return null!==e&&"object"===typeof e?e.valueOf():e}const bb=Symbol("implicit");function wb(){var e=new mb,t=[],n=[],r=bb;function a(a){let i=e.get(a);if(void 0===i){if(r!==bb)return r;e.set(a,i=t.push(a)-1)}return n[i%n.length]}return a.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new mb;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return a},a.range=function(e){return arguments.length?(n=Array.from(e),a):n.slice()},a.unknown=function(e){return arguments.length?(r=e,a):r},a.copy=function(){return wb(t,n).unknown(r)},fb.apply(a,arguments),a}function jb(){var e,t,n=wb().unknown(void 0),r=n.domain,a=n.range,i=0,s=1,o=!1,l=0,c=0,u=.5;function d(){var n=r().length,d=s<i,h=d?s:i,f=d?i:s;e=(f-h)/Math.max(1,n-l+2*c),o&&(e=Math.floor(e)),h+=(f-h-e*(n-l))*u,t=e*(1-l),o&&(h=Math.round(h),t=Math.round(t));var p=function(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=0|Math.max(0,Math.ceil((t-e)/n)),i=new Array(a);++r<a;)i[r]=e+r*n;return i}(n).map(function(t){return h+e*t});return a(d?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([i,s]=e,i=+i,s=+s,d()):[i,s]},n.rangeRound=function(e){return[i,s]=e,i=+i,s=+s,o=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(o=!!e,d()):o},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return jb(r(),[i,s]).round(o).paddingInner(l).paddingOuter(c).align(u)},fb.apply(d(),arguments)}function kb(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return kb(t())},e}function Nb(){return kb(jb.apply(null,arguments).paddingInner(1))}const _b=Math.sqrt(50),Sb=Math.sqrt(10),Cb=Math.sqrt(2);function Ob(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),s=i>=_b?10:i>=Sb?5:i>=Cb?2:1;let o,l,c;return a<0?(c=Math.pow(10,-a)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=n&&n<2?Ob(e,t,2*n):[o,l,c]}function Eb(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[a,i,s]=r?Ob(t,e,n):Ob(e,t,n);if(!(i>=a))return[];const o=i-a+1,l=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)l[c]=(i-c)/-s;else for(let c=0;c<o;++c)l[c]=(i-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(a+c)/-s;else for(let c=0;c<o;++c)l[c]=(a+c)*s;return l}function Pb(e,t,n){return Ob(e=+e,t=+t,n=+n)[2]}function Tb(e,t,n){n=+n;const r=(t=+t)<(e=+e),a=r?Pb(t,e,n):Pb(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function Ab(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Mb(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Db(e){let t,n,r;function a(e,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<i){if(0!==t(r,r))return i;do{const t=a+i>>>1;n(e[t],r)<0?a=t+1:i=t}while(a<i)}return a}return 2!==e.length?(t=Ab,n=(t,n)=>Ab(e(t),n),r=(t,n)=>e(t)-n):(t=e===Ab||e===Mb?e:zb,n=e,r=e),{left:a,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=a(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return i>n&&r(e[i-1],t)>-r(e[i],t)?i-1:i},right:function(e,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<i){if(0!==t(r,r))return i;do{const t=a+i>>>1;n(e[t],r)<=0?a=t+1:i=t}while(a<i)}return a}}}function zb(){return 0}function Ib(e){return null===e?NaN:+e}const Lb=Db(Ab),Rb=Lb.right,$b=(Lb.left,Db(Ib).center,Rb);function Fb(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Bb(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Vb(){}var Ub=.7,Hb=1/Ub,qb="\\s*([+-]?\\d+)\\s*",Wb="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Kb="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Gb=/^#([0-9a-f]{3,8})$/,Yb=new RegExp(`^rgb\\(${qb},${qb},${qb}\\)$`),Xb=new RegExp(`^rgb\\(${Kb},${Kb},${Kb}\\)$`),Jb=new RegExp(`^rgba\\(${qb},${qb},${qb},${Wb}\\)$`),Zb=new RegExp(`^rgba\\(${Kb},${Kb},${Kb},${Wb}\\)$`),Qb=new RegExp(`^hsl\\(${Wb},${Kb},${Kb}\\)$`),ew=new RegExp(`^hsla\\(${Wb},${Kb},${Kb},${Wb}\\)$`),tw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function nw(){return this.rgb().formatHex()}function rw(){return this.rgb().formatRgb()}function aw(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Gb.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?iw(t):3===n?new lw(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?sw(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?sw(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Yb.exec(e))?new lw(t[1],t[2],t[3],1):(t=Xb.exec(e))?new lw(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Jb.exec(e))?sw(t[1],t[2],t[3],t[4]):(t=Zb.exec(e))?sw(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Qb.exec(e))?pw(t[1],t[2]/100,t[3]/100,1):(t=ew.exec(e))?pw(t[1],t[2]/100,t[3]/100,t[4]):tw.hasOwnProperty(e)?iw(tw[e]):"transparent"===e?new lw(NaN,NaN,NaN,0):null}function iw(e){return new lw(e>>16&255,e>>8&255,255&e,1)}function sw(e,t,n,r){return r<=0&&(e=t=n=NaN),new lw(e,t,n,r)}function ow(e,t,n,r){return 1===arguments.length?((a=e)instanceof Vb||(a=aw(a)),a?new lw((a=a.rgb()).r,a.g,a.b,a.opacity):new lw):new lw(e,t,n,null==r?1:r);var a}function lw(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function cw(){return`#${fw(this.r)}${fw(this.g)}${fw(this.b)}`}function uw(){const e=dw(this.opacity);return`${1===e?"rgb(":"rgba("}${hw(this.r)}, ${hw(this.g)}, ${hw(this.b)}${1===e?")":`, ${e})`}`}function dw(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function hw(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function fw(e){return((e=hw(e))<16?"0":"")+e.toString(16)}function pw(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new gw(e,t,n,r)}function mw(e){if(e instanceof gw)return new gw(e.h,e.s,e.l,e.opacity);if(e instanceof Vb||(e=aw(e)),!e)return new gw;if(e instanceof gw)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),s=NaN,o=i-a,l=(i+a)/2;return o?(s=t===i?(n-r)/o+6*(n<r):n===i?(r-t)/o+2:(t-n)/o+4,o/=l<.5?i+a:2-i-a,s*=60):o=l>0&&l<1?0:s,new gw(s,o,l,e.opacity)}function gw(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function vw(e){return(e=(e||0)%360)<0?e+360:e}function yw(e){return Math.max(0,Math.min(1,e||0))}function xw(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function bw(e,t,n,r,a){var i=e*e,s=i*e;return((1-3*e+3*i-s)*t+(4-6*i+3*s)*n+(1+3*e+3*i-3*s)*r+s*a)/6}Fb(Vb,aw,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:nw,formatHex:nw,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return mw(this).formatHsl()},formatRgb:rw,toString:rw}),Fb(lw,ow,Bb(Vb,{brighter(e){return e=null==e?Hb:Math.pow(Hb,e),new lw(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Ub:Math.pow(Ub,e),new lw(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new lw(hw(this.r),hw(this.g),hw(this.b),dw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:cw,formatHex:cw,formatHex8:function(){return`#${fw(this.r)}${fw(this.g)}${fw(this.b)}${fw(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:uw,toString:uw})),Fb(gw,function(e,t,n,r){return 1===arguments.length?mw(e):new gw(e,t,n,null==r?1:r)},Bb(Vb,{brighter(e){return e=null==e?Hb:Math.pow(Hb,e),new gw(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Ub:Math.pow(Ub,e),new gw(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new lw(xw(e>=240?e-240:e+120,a,r),xw(e,a,r),xw(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new gw(vw(this.h),yw(this.s),yw(this.l),dw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=dw(this.opacity);return`${1===e?"hsl(":"hsla("}${vw(this.h)}, ${100*yw(this.s)}%, ${100*yw(this.l)}%${1===e?")":`, ${e})`}`}}));const ww=e=>()=>e;function jw(e,t){return function(n){return e+n*t}}function kw(e){return 1===(e=+e)?Nw:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):ww(isNaN(t)?n:t)}}function Nw(e,t){var n=t-e;return n?jw(e,n):ww(isNaN(e)?t:e)}const _w=function e(t){var n=kw(t);function r(e,t){var r=n((e=ow(e)).r,(t=ow(t)).r),a=n(e.g,t.g),i=n(e.b,t.b),s=Nw(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=a(t),e.b=i(t),e.opacity=s(t),e+""}}return r.gamma=e,r}(1);function Sw(e){return function(t){var n,r,a=t.length,i=new Array(a),s=new Array(a),o=new Array(a);for(n=0;n<a;++n)r=ow(t[n]),i[n]=r.r||0,s[n]=r.g||0,o[n]=r.b||0;return i=e(i),s=e(s),o=e(o),r.opacity=1,function(e){return r.r=i(e),r.g=s(e),r.b=o(e),r+""}}}Sw(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[r],i=e[r+1],s=r>0?e[r-1]:2*a-i,o=r<t-1?e[r+2]:2*i-a;return bw((n-r/t)*t,s,a,i,o)}}),Sw(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),a=e[(r+t-1)%t],i=e[r%t],s=e[(r+1)%t],o=e[(r+2)%t];return bw((n-r/t)*t,a,i,s,o)}});function Cw(e,t){var n,r=t?t.length:0,a=e?Math.min(r,e.length):0,i=new Array(a),s=new Array(r);for(n=0;n<a;++n)i[n]=zw(e[n],t[n]);for(;n<r;++n)s[n]=t[n];return function(e){for(n=0;n<a;++n)s[n]=i[n](e);return s}}function Ow(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Ew(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Pw(e,t){var n,r={},a={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=zw(e[n],t[n]):a[n]=t[n];return function(e){for(n in r)a[n]=r[n](e);return a}}var Tw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Aw=new RegExp(Tw.source,"g");function Mw(e,t){var n,r,a,i=Tw.lastIndex=Aw.lastIndex=0,s=-1,o=[],l=[];for(e+="",t+="";(n=Tw.exec(e))&&(r=Aw.exec(t));)(a=r.index)>i&&(a=t.slice(i,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(r=r[0])?o[s]?o[s]+=r:o[++s]=r:(o[++s]=null,l.push({i:s,x:Ew(n,r)})),i=Aw.lastIndex;return i<t.length&&(a=t.slice(i),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)o[(n=l[r]).i]=n.x(e);return o.join("")})}function Dw(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,a=t.slice();return function(i){for(n=0;n<r;++n)a[n]=e[n]*(1-i)+t[n]*i;return a}}function zw(e,t){var n,r,a=typeof t;return null==t||"boolean"===a?ww(t):("number"===a?Ew:"string"===a?(n=aw(t))?(t=n,_w):Mw:t instanceof aw?_w:t instanceof Date?Ow:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?Cw:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?Pw:Ew:Dw))(e,t)}function Iw(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Lw(e){return+e}var Rw=[0,1];function $w(e){return e}function Fw(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function Bw(e,t,n){var r=e[0],a=e[1],i=t[0],s=t[1];return a<r?(r=Fw(a,r),i=n(s,i)):(r=Fw(r,a),i=n(i,s)),function(e){return i(r(e))}}function Vw(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)a[s]=Fw(e[s],e[s+1]),i[s]=n(t[s],t[s+1]);return function(t){var n=$b(e,t,1,r)-1;return i[n](a[n](t))}}function Uw(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Hw(){var e,t,n,r,a,i,s=Rw,o=Rw,l=zw,c=$w;function u(){var e=Math.min(s.length,o.length);return c!==$w&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(s[0],s[e-1])),r=e>2?Vw:Bw,a=i=null,d}function d(t){return null==t||isNaN(t=+t)?n:(a||(a=r(s.map(e),o,l)))(e(c(t)))}return d.invert=function(n){return c(t((i||(i=r(o,s.map(e),Ew)))(n)))},d.domain=function(e){return arguments.length?(s=Array.from(e,Lw),u()):s.slice()},d.range=function(e){return arguments.length?(o=Array.from(e),u()):o.slice()},d.rangeRound=function(e){return o=Array.from(e),l=Iw,u()},d.clamp=function(e){return arguments.length?(c=!!e||$w,u()):c!==$w},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function qw(){return Hw()($w,$w)}var Ww,Kw=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Gw(e){if(!(t=Kw.exec(e)))throw new Error("invalid format: "+e);var t;return new Yw({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Yw(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Xw(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Jw(e){return(e=Xw(Math.abs(e)))?e[1]:NaN}function Zw(e,t){var n=Xw(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}Gw.prototype=Yw.prototype,Yw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Qw={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Zw(100*e,t),r:Zw,s:function(e,t){var n=Xw(e,t);if(!n)return e+"";var r=n[0],a=n[1],i=a-(Ww=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,s=r.length;return i===s?r:i>s?r+new Array(i-s+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Xw(e,Math.max(0,t+i-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ej(e){return e}var tj,nj,rj,aj=Array.prototype.map,ij=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function sj(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?ej:(t=aj.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var a=e.length,i=[],s=0,o=t[0],l=0;a>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),i.push(e.substring(a-=o,a+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return i.reverse().join(n)}),a=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",s=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?ej:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(aj.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=Gw(e)).fill,n=e.align,d=e.sign,h=e.symbol,f=e.zero,p=e.width,m=e.comma,g=e.precision,v=e.trim,y=e.type;"n"===y?(m=!0,y="g"):Qw[y]||(void 0===g&&(g=12),v=!0,y="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var x="$"===h?a:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===h?i:/[%p]/.test(y)?l:"",w=Qw[y],j=/[defgprs%]/.test(y);function k(e){var a,i,l,h=x,k=b;if("c"===y)k=w(e)+k,e="";else{var N=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),g),v&&(e=function(e){e:for(var t,n=e.length,r=1,a=-1;r<n;++r)switch(e[r]){case".":a=t=r;break;case"0":0===a&&(a=r),t=r;break;default:if(!+e[r])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),N&&0===+e&&"+"!==d&&(N=!1),h=(N?"("===d?d:c:"-"===d||"("===d?"":d)+h,k=("s"===y?ij[8+Ww/3]:"")+k+(N&&"("===d?")":""),j)for(a=-1,i=e.length;++a<i;)if(48>(l=e.charCodeAt(a))||l>57){k=(46===l?s+e.slice(a+1):e.slice(a))+k,e=e.slice(0,a);break}}m&&!f&&(e=r(e,1/0));var _=h.length+e.length+k.length,S=_<p?new Array(p-_+1).join(t):"";switch(m&&f&&(e=r(S+e,S.length?p-k.length:1/0),S=""),n){case"<":e=h+e+k+S;break;case"=":e=h+S+e+k;break;case"^":e=S.slice(0,_=S.length>>1)+h+e+k+S.slice(_);break;default:e=S+h+e+k}return o(e)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),k.toString=function(){return e+""},k}return{format:d,formatPrefix:function(e,t){var n=d(((e=Gw(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(Jw(t)/3))),a=Math.pow(10,-r),i=ij[8+r/3];return function(e){return n(a*e)+i}}}}function oj(e,t,n,r){var a,i=Tb(e,t,n);switch((r=Gw(null==r?",f":r)).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Jw(t)/3)))-Jw(Math.abs(e)))}(i,s))||(r.precision=a),rj(r,s);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Jw(t)-Jw(e))+1}(i,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=a-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(a=function(e){return Math.max(0,-Jw(Math.abs(e)))}(i))||(r.precision=a-2*("%"===r.type))}return nj(r)}function lj(e){var t=e.domain;return e.ticks=function(e){var n=t();return Eb(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return oj(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,a,i=t(),s=0,o=i.length-1,l=i[s],c=i[o],u=10;for(c<l&&(a=l,l=c,c=a,a=s,s=o,o=a);u-- >0;){if((a=Pb(l,c,n))===r)return i[s]=l,i[o]=c,t(i);if(a>0)l=Math.floor(l/a)*a,c=Math.ceil(c/a)*a;else{if(!(a<0))break;l=Math.ceil(l*a)/a,c=Math.floor(c*a)/a}r=a}return e},e}function cj(){var e=qw();return e.copy=function(){return Uw(e,cj())},fb.apply(e,arguments),lj(e)}function uj(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,Lw),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return uj(e).unknown(t)},e=arguments.length?Array.from(e,Lw):[0,1],lj(n)}function dj(e,t){var n,r=0,a=(e=e.slice()).length-1,i=e[r],s=e[a];return s<i&&(n=r,r=a,a=n,n=i,i=s,s=n),e[r]=t.floor(i),e[a]=t.ceil(s),e}function hj(e){return Math.log(e)}function fj(e){return Math.exp(e)}function pj(e){return-Math.log(-e)}function mj(e){return-Math.exp(-e)}function gj(e){return isFinite(e)?+("1e"+e):e<0?0:e}function vj(e){return(t,n)=>-e(-t,n)}function yj(e){const t=e(hj,fj),n=t.domain;let r,a,i=10;function s(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(i),a=function(e){return 10===e?gj:e===Math.E?Math.exp:t=>Math.pow(e,t)}(i),n()[0]<0?(r=vj(r),a=vj(a),e(pj,mj)):e(hj,fj),t}return t.base=function(e){return arguments.length?(i=+e,s()):i},t.domain=function(e){return arguments.length?(n(e),s()):n()},t.ticks=e=>{const t=n();let s=t[0],o=t[t.length-1];const l=o<s;l&&([s,o]=[o,s]);let c,u,d=r(s),h=r(o);const f=null==e?10:+e;let p=[];if(!(i%1)&&h-d<f){if(d=Math.floor(d),h=Math.ceil(h),s>0){for(;d<=h;++d)for(c=1;c<i;++c)if(u=d<0?c/a(-d):c*a(d),!(u<s)){if(u>o)break;p.push(u)}}else for(;d<=h;++d)for(c=i-1;c>=1;--c)if(u=d>0?c/a(-d):c*a(d),!(u<s)){if(u>o)break;p.push(u)}2*p.length<f&&(p=Eb(s,o,f))}else p=Eb(d,h,Math.min(h-d,f)).map(a);return l?p.reverse():p},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===i?"s":","),"function"!==typeof n&&(i%1||null!=(n=Gw(n)).precision||(n.trim=!0),n=nj(n)),e===1/0)return n;const s=Math.max(1,i*e/t.ticks().length);return e=>{let t=e/a(Math.round(r(e)));return t*i<i-.5&&(t*=i),t<=s?n(e):""}},t.nice=()=>n(dj(n(),{floor:e=>a(Math.floor(r(e))),ceil:e=>a(Math.ceil(r(e)))})),t}function xj(){const e=yj(Hw()).domain([1,10]);return e.copy=()=>Uw(e,xj()).base(e.base()),fb.apply(e,arguments),e}function bj(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function wj(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function jj(e){var t=1,n=e(bj(t),wj(t));return n.constant=function(n){return arguments.length?e(bj(t=+n),wj(t)):t},lj(n)}function kj(){var e=jj(Hw());return e.copy=function(){return Uw(e,kj()).constant(e.constant())},fb.apply(e,arguments)}function Nj(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function _j(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Sj(e){return e<0?-e*e:e*e}function Cj(e){var t=e($w,$w),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e($w,$w):.5===n?e(_j,Sj):e(Nj(n),Nj(1/n)):n},lj(t)}function Oj(){var e=Cj(Hw());return e.copy=function(){return Uw(e,Oj()).exponent(e.exponent())},fb.apply(e,arguments),e}function Ej(){return Oj.apply(null,arguments).exponent(.5)}function Pj(e){return Math.sign(e)*e*e}function Tj(){var e,t=qw(),n=[0,1],r=!1;function a(n){var a=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(a)?e:r?Math.round(a):a}return a.invert=function(e){return t.invert(Pj(e))},a.domain=function(e){return arguments.length?(t.domain(e),a):t.domain()},a.range=function(e){return arguments.length?(t.range((n=Array.from(e,Lw)).map(Pj)),a):n.slice()},a.rangeRound=function(e){return a.range(e).round(!0)},a.round=function(e){return arguments.length?(r=!!e,a):r},a.clamp=function(e){return arguments.length?(t.clamp(e),a):t.clamp()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return Tj(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},fb.apply(a,arguments),lj(a)}function Aj(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let a of e)null!=(a=t(a,++r,e))&&(n<a||void 0===n&&a>=a)&&(n=a)}return n}function Mj(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let a of e)null!=(a=t(a,++r,e))&&(n>a||void 0===n&&a>=a)&&(n=a)}return n}function Dj(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ab;if(e===Ab)return zj;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function zj(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function Ij(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,a=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=void 0===a?zj:Dj(a);r>n;){if(r-n>600){const i=r-n+1,s=t-n+1,o=Math.log(i),l=.5*Math.exp(2*o/3),c=.5*Math.sqrt(o*l*(i-l)/i)*(s-i/2<0?-1:1);Ij(e,t,Math.max(n,Math.floor(t-s*l/i+c)),Math.min(r,Math.floor(t+(i-s)*l/i+c)),a)}const i=e[t];let s=n,o=r;for(Lj(e,n,t),a(e[r],i)>0&&Lj(e,n,r);s<o;){for(Lj(e,s,o),++s,--o;a(e[s],i)<0;)++s;for(;a(e[o],i)>0;)--o}0===a(e[n],i)?Lj(e,n,o):(++o,Lj(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function Lj(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Rj(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return Mj(e);if(t>=1)return Aj(e);var r,a=(r-1)*t,i=Math.floor(a),s=Aj(Ij(e,i).subarray(0,i+1));return s+(Mj(e.subarray(i+1))-s)*(a-i)}}function $j(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ib;if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,i=Math.floor(a),s=+n(e[i],i,e);return s+(+n(e[i+1],i+1,e)-s)*(a-i)}}function Fj(){var e,t=[],n=[],r=[];function a(){var e=0,a=Math.max(1,n.length);for(r=new Array(a-1);++e<a;)r[e-1]=$j(t,e/a);return i}function i(t){return null==t||isNaN(t=+t)?e:n[$b(r,t)]}return i.invertExtent=function(e){var a=n.indexOf(e);return a<0?[NaN,NaN]:[a>0?r[a-1]:t[0],a<r.length?r[a]:t[t.length-1]]},i.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(Ab),a()},i.range=function(e){return arguments.length?(n=Array.from(e),a()):n.slice()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.quantiles=function(){return r.slice()},i.copy=function(){return Fj().domain(t).range(n).unknown(e)},fb.apply(i,arguments)}function Bj(){var e,t=0,n=1,r=1,a=[.5],i=[0,1];function s(t){return null!=t&&t<=t?i[$b(a,t,0,r)]:e}function o(){var e=-1;for(a=new Array(r);++e<r;)a[e]=((e+1)*n-(e-r)*t)/(r+1);return s}return s.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,o()):[t,n]},s.range=function(e){return arguments.length?(r=(i=Array.from(e)).length-1,o()):i.slice()},s.invertExtent=function(e){var s=i.indexOf(e);return s<0?[NaN,NaN]:s<1?[t,a[0]]:s>=r?[a[r-1],n]:[a[s-1],a[s]]},s.unknown=function(t){return arguments.length?(e=t,s):s},s.thresholds=function(){return a.slice()},s.copy=function(){return Bj().domain([t,n]).range(i).unknown(e)},fb.apply(lj(s),arguments)}function Vj(){var e,t=[.5],n=[0,1],r=1;function a(a){return null!=a&&a<=a?n[$b(t,a,0,r)]:e}return a.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),a):t.slice()},a.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),a):n.slice()},a.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return Vj().domain(t).range(n).unknown(e)},fb.apply(a,arguments)}tj=sj({thousands:",",grouping:[3],currency:["$",""]}),nj=tj.format,rj=tj.formatPrefix;const Uj=1e3,Hj=6e4,qj=36e5,Wj=864e5,Kj=6048e5,Gj=2592e6,Yj=31536e6,Xj=new Date,Jj=new Date;function Zj(e,t,n,r){function a(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return a.floor=t=>(e(t=new Date(+t)),t),a.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),a.round=e=>{const t=a(e),n=a.ceil(e);return e-t<n-e?t:n},a.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),a.range=(n,r,i)=>{const s=[];if(n=a.ceil(n),i=null==i?1:Math.floor(i),!(n<r)||!(i>0))return s;let o;do{s.push(o=new Date(+n)),t(n,i),e(n)}while(o<n&&n<r);return s},a.filter=n=>Zj(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(a.count=(t,r)=>(Xj.setTime(+t),Jj.setTime(+r),e(Xj),e(Jj),Math.floor(n(Xj,Jj))),a.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(r?t=>r(t)%e===0:t=>a.count(0,t)%e===0):a:null)),a}const Qj=Zj(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Qj.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?Zj(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Qj:null);Qj.range;const ek=Zj(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Uj)},(e,t)=>(t-e)/Uj,e=>e.getUTCSeconds()),tk=(ek.range,Zj(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Uj)},(e,t)=>{e.setTime(+e+t*Hj)},(e,t)=>(t-e)/Hj,e=>e.getMinutes())),nk=(tk.range,Zj(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Hj)},(e,t)=>(t-e)/Hj,e=>e.getUTCMinutes())),rk=(nk.range,Zj(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Uj-e.getMinutes()*Hj)},(e,t)=>{e.setTime(+e+t*qj)},(e,t)=>(t-e)/qj,e=>e.getHours())),ak=(rk.range,Zj(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*qj)},(e,t)=>(t-e)/qj,e=>e.getUTCHours())),ik=(ak.range,Zj(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Hj)/Wj,e=>e.getDate()-1)),sk=(ik.range,Zj(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Wj,e=>e.getUTCDate()-1)),ok=(sk.range,Zj(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Wj,e=>Math.floor(e/Wj)));ok.range;function lk(e){return Zj(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Hj)/Kj)}const ck=lk(0),uk=lk(1),dk=lk(2),hk=lk(3),fk=lk(4),pk=lk(5),mk=lk(6);ck.range,uk.range,dk.range,hk.range,fk.range,pk.range,mk.range;function gk(e){return Zj(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/Kj)}const vk=gk(0),yk=gk(1),xk=gk(2),bk=gk(3),wk=gk(4),jk=gk(5),kk=gk(6),Nk=(vk.range,yk.range,xk.range,bk.range,wk.range,jk.range,kk.range,Zj(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),_k=(Nk.range,Zj(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),Sk=(_k.range,Zj(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));Sk.every=e=>isFinite(e=Math.floor(e))&&e>0?Zj(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null;Sk.range;const Ck=Zj(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ck.every=e=>isFinite(e=Math.floor(e))&&e>0?Zj(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null;Ck.range;function Ok(e,t,n,r,a,i){const s=[[ek,1,Uj],[ek,5,5e3],[ek,15,15e3],[ek,30,3e4],[i,1,Hj],[i,5,3e5],[i,15,9e5],[i,30,18e5],[a,1,qj],[a,3,108e5],[a,6,216e5],[a,12,432e5],[r,1,Wj],[r,2,1728e5],[n,1,Kj],[t,1,Gj],[t,3,7776e6],[e,1,Yj]];function o(t,n,r){const a=Math.abs(n-t)/r,i=Db(e=>{let[,,t]=e;return t}).right(s,a);if(i===s.length)return e.every(Tb(t/Yj,n/Yj,r));if(0===i)return Qj.every(Math.max(Tb(t,n,r),1));const[o,l]=s[a/s[i-1][2]<s[i][2]/a?i-1:i];return o.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const a=n&&"function"===typeof n.range?n:o(e,t,n),i=a?a.range(e,+t+1):[];return r?i.reverse():i},o]}const[Ek,Pk]=Ok(Ck,_k,vk,ok,ak,nk),[Tk,Ak]=Ok(Sk,Nk,ck,ik,rk,tk);function Mk(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Dk(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function zk(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var Ik,Lk,Rk,$k={"-":"",_:" ",0:"0"},Fk=/^\s*\d+/,Bk=/^%/,Vk=/[\\^$*+?|[\]().{}]/g;function Uk(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function Hk(e){return e.replace(Vk,"\\$&")}function qk(e){return new RegExp("^(?:"+e.map(Hk).join("|")+")","i")}function Wk(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function Kk(e,t,n){var r=Fk.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Gk(e,t,n){var r=Fk.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Yk(e,t,n){var r=Fk.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Xk(e,t,n){var r=Fk.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Jk(e,t,n){var r=Fk.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Zk(e,t,n){var r=Fk.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Qk(e,t,n){var r=Fk.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function eN(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function tN(e,t,n){var r=Fk.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function nN(e,t,n){var r=Fk.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function rN(e,t,n){var r=Fk.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function aN(e,t,n){var r=Fk.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function iN(e,t,n){var r=Fk.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function sN(e,t,n){var r=Fk.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function oN(e,t,n){var r=Fk.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function lN(e,t,n){var r=Fk.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function cN(e,t,n){var r=Fk.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function uN(e,t,n){var r=Bk.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function dN(e,t,n){var r=Fk.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function hN(e,t,n){var r=Fk.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function fN(e,t){return Uk(e.getDate(),t,2)}function pN(e,t){return Uk(e.getHours(),t,2)}function mN(e,t){return Uk(e.getHours()%12||12,t,2)}function gN(e,t){return Uk(1+ik.count(Sk(e),e),t,3)}function vN(e,t){return Uk(e.getMilliseconds(),t,3)}function yN(e,t){return vN(e,t)+"000"}function xN(e,t){return Uk(e.getMonth()+1,t,2)}function bN(e,t){return Uk(e.getMinutes(),t,2)}function wN(e,t){return Uk(e.getSeconds(),t,2)}function jN(e){var t=e.getDay();return 0===t?7:t}function kN(e,t){return Uk(ck.count(Sk(e)-1,e),t,2)}function NN(e){var t=e.getDay();return t>=4||0===t?fk(e):fk.ceil(e)}function _N(e,t){return e=NN(e),Uk(fk.count(Sk(e),e)+(4===Sk(e).getDay()),t,2)}function SN(e){return e.getDay()}function CN(e,t){return Uk(uk.count(Sk(e)-1,e),t,2)}function ON(e,t){return Uk(e.getFullYear()%100,t,2)}function EN(e,t){return Uk((e=NN(e)).getFullYear()%100,t,2)}function PN(e,t){return Uk(e.getFullYear()%1e4,t,4)}function TN(e,t){var n=e.getDay();return Uk((e=n>=4||0===n?fk(e):fk.ceil(e)).getFullYear()%1e4,t,4)}function AN(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Uk(t/60|0,"0",2)+Uk(t%60,"0",2)}function MN(e,t){return Uk(e.getUTCDate(),t,2)}function DN(e,t){return Uk(e.getUTCHours(),t,2)}function zN(e,t){return Uk(e.getUTCHours()%12||12,t,2)}function IN(e,t){return Uk(1+sk.count(Ck(e),e),t,3)}function LN(e,t){return Uk(e.getUTCMilliseconds(),t,3)}function RN(e,t){return LN(e,t)+"000"}function $N(e,t){return Uk(e.getUTCMonth()+1,t,2)}function FN(e,t){return Uk(e.getUTCMinutes(),t,2)}function BN(e,t){return Uk(e.getUTCSeconds(),t,2)}function VN(e){var t=e.getUTCDay();return 0===t?7:t}function UN(e,t){return Uk(vk.count(Ck(e)-1,e),t,2)}function HN(e){var t=e.getUTCDay();return t>=4||0===t?wk(e):wk.ceil(e)}function qN(e,t){return e=HN(e),Uk(wk.count(Ck(e),e)+(4===Ck(e).getUTCDay()),t,2)}function WN(e){return e.getUTCDay()}function KN(e,t){return Uk(yk.count(Ck(e)-1,e),t,2)}function GN(e,t){return Uk(e.getUTCFullYear()%100,t,2)}function YN(e,t){return Uk((e=HN(e)).getUTCFullYear()%100,t,2)}function XN(e,t){return Uk(e.getUTCFullYear()%1e4,t,4)}function JN(e,t){var n=e.getUTCDay();return Uk((e=n>=4||0===n?wk(e):wk.ceil(e)).getUTCFullYear()%1e4,t,4)}function ZN(){return"+0000"}function QN(){return"%"}function e_(e){return+e}function t_(e){return Math.floor(+e/1e3)}function n_(e){return new Date(e)}function r_(e){return e instanceof Date?+e:+new Date(+e)}function a_(e,t,n,r,a,i,s,o,l,c){var u=qw(),d=u.invert,h=u.domain,f=c(".%L"),p=c(":%S"),m=c("%I:%M"),g=c("%I %p"),v=c("%a %d"),y=c("%b %d"),x=c("%B"),b=c("%Y");function w(e){return(l(e)<e?f:o(e)<e?p:s(e)<e?m:i(e)<e?g:r(e)<e?a(e)<e?v:y:n(e)<e?x:b)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,r_)):h().map(n_)},u.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?w:c(t)},u.nice=function(e){var n=h();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(dj(n,e)):u},u.copy=function(){return Uw(u,a_(e,t,n,r,a,i,s,o,l,c))},u}function i_(){return fb.apply(a_(Tk,Ak,Sk,Nk,ck,ik,rk,tk,ek,Lk).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function s_(){return fb.apply(a_(Ek,Pk,Ck,_k,vk,sk,ak,nk,ek,Rk).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function o_(){var e,t,n,r,a,i=0,s=1,o=$w,l=!1;function c(t){return null==t||isNaN(t=+t)?a:o(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,o=e(n,r),c):[o(0),o(1)]}}return c.domain=function(a){return arguments.length?([i,s]=a,e=r(i=+i),t=r(s=+s),n=e===t?0:1/(t-e),c):[i,s]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(o=e,c):o},c.range=u(zw),c.rangeRound=u(Iw),c.unknown=function(e){return arguments.length?(a=e,c):a},function(a){return r=a,e=a(i),t=a(s),n=e===t?0:1/(t-e),c}}function l_(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function c_(){var e=lj(o_()($w));return e.copy=function(){return l_(e,c_())},pb.apply(e,arguments)}function u_(){var e=yj(o_()).domain([1,10]);return e.copy=function(){return l_(e,u_()).base(e.base())},pb.apply(e,arguments)}function d_(){var e=jj(o_());return e.copy=function(){return l_(e,d_()).constant(e.constant())},pb.apply(e,arguments)}function h_(){var e=Cj(o_());return e.copy=function(){return l_(e,h_()).exponent(e.exponent())},pb.apply(e,arguments)}function f_(){return h_.apply(null,arguments).exponent(.5)}function p_(){var e=[],t=$w;function n(n){if(null!=n&&!isNaN(n=+n))return t(($b(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(Ab),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map((n,r)=>t(r/(e.length-1)))},n.quantiles=function(t){return Array.from({length:t+1},(n,r)=>Rj(e,r/t))},n.copy=function(){return p_(t).domain(e)},pb.apply(n,arguments)}function m_(){var e,t,n,r,a,i,s,o=0,l=.5,c=1,u=1,d=$w,h=!1;function f(e){return isNaN(e=+e)?s:(e=.5+((e=+i(e))-t)*(u*e<u*t?r:a),d(h?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,a;return arguments.length?([n,r,a]=t,d=function(e,t){void 0===t&&(t=e,e=zw);for(var n=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(a,a=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return i[t](e-t)}}(e,[n,r,a]),f):[d(0),d(.5),d(1)]}}return f.domain=function(s){return arguments.length?([o,l,c]=s,e=i(o=+o),t=i(l=+l),n=i(c=+c),r=e===t?0:.5/(t-e),a=t===n?0:.5/(n-t),u=t<e?-1:1,f):[o,l,c]},f.clamp=function(e){return arguments.length?(h=!!e,f):h},f.interpolator=function(e){return arguments.length?(d=e,f):d},f.range=p(zw),f.rangeRound=p(Iw),f.unknown=function(e){return arguments.length?(s=e,f):s},function(s){return i=s,e=s(o),t=s(l),n=s(c),r=e===t?0:.5/(t-e),a=t===n?0:.5/(n-t),u=t<e?-1:1,f}}function g_(){var e=lj(m_()($w));return e.copy=function(){return l_(e,g_())},pb.apply(e,arguments)}function v_(){var e=yj(m_()).domain([.1,1,10]);return e.copy=function(){return l_(e,v_()).base(e.base())},pb.apply(e,arguments)}function y_(){var e=jj(m_());return e.copy=function(){return l_(e,y_()).constant(e.constant())},pb.apply(e,arguments)}function x_(){var e=Cj(m_());return e.copy=function(){return l_(e,x_()).exponent(e.exponent())},pb.apply(e,arguments)}function b_(){return x_.apply(null,arguments).exponent(.5)}!function(e){Ik=function(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=qk(a),u=Wk(a),d=qk(i),h=Wk(i),f=qk(s),p=Wk(s),m=qk(o),g=Wk(o),v=qk(l),y=Wk(l),x={a:function(e){return s[e.getDay()]},A:function(e){return i[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return o[e.getMonth()]},c:null,d:fN,e:fN,f:yN,g:EN,G:TN,H:pN,I:mN,j:gN,L:vN,m:xN,M:bN,p:function(e){return a[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:e_,s:t_,S:wN,u:jN,U:kN,V:_N,w:SN,W:CN,x:null,X:null,y:ON,Y:PN,Z:AN,"%":QN},b={a:function(e){return s[e.getUTCDay()]},A:function(e){return i[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return o[e.getUTCMonth()]},c:null,d:MN,e:MN,f:RN,g:YN,G:JN,H:DN,I:zN,j:IN,L:LN,m:$N,M:FN,p:function(e){return a[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:e_,s:t_,S:BN,u:VN,U:UN,V:qN,w:WN,W:KN,x:null,X:null,y:GN,Y:XN,Z:ZN,"%":QN},w={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=v.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return N(e,t,n,r)},d:rN,e:rN,f:cN,g:Qk,G:Zk,H:iN,I:iN,j:aN,L:lN,m:nN,M:sN,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:tN,Q:dN,s:hN,S:oN,u:Gk,U:Yk,V:Xk,w:Kk,W:Jk,x:function(e,t,r){return N(e,n,t,r)},X:function(e,t,n){return N(e,r,t,n)},y:Qk,Y:Zk,Z:eN,"%":uN};function j(e,t){return function(n){var r,a,i,s=[],o=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++o<c;)37===e.charCodeAt(o)&&(s.push(e.slice(l,o)),null!=(a=$k[r=e.charAt(++o)])?r=e.charAt(++o):a="e"===r?" ":"0",(i=t[r])&&(r=i(n,a)),s.push(r),l=o+1);return s.push(e.slice(l,o)),s.join("")}}function k(e,t){return function(n){var r,a,i=zk(1900,void 0,1);if(N(i,e,n+="",0)!=n.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(t&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(a=(r=Dk(zk(i.y,0,1))).getUTCDay(),r=a>4||0===a?yk.ceil(r):yk(r),r=sk.offset(r,7*(i.V-1)),i.y=r.getUTCFullYear(),i.m=r.getUTCMonth(),i.d=r.getUTCDate()+(i.w+6)%7):(a=(r=Mk(zk(i.y,0,1))).getDay(),r=a>4||0===a?uk.ceil(r):uk(r),r=ik.offset(r,7*(i.V-1)),i.y=r.getFullYear(),i.m=r.getMonth(),i.d=r.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),a="Z"in i?Dk(zk(i.y,0,1)).getUTCDay():Mk(zk(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(a+5)%7:i.w+7*i.U-(a+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,Dk(i)):Mk(i)}}function N(e,t,n,r){for(var a,i,s=0,o=t.length,l=n.length;s<o;){if(r>=l)return-1;if(37===(a=t.charCodeAt(s++))){if(a=t.charAt(s++),!(i=w[a in $k?t.charAt(s++):a])||(r=i(e,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}return x.x=j(n,x),x.X=j(r,x),x.c=j(t,x),b.x=j(n,b),b.X=j(r,b),b.c=j(t,b),{format:function(e){var t=j(e+="",x);return t.toString=function(){return e},t},parse:function(e){var t=k(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=j(e+="",b);return t.toString=function(){return e},t},utcParse:function(e){var t=k(e+="",!0);return t.toString=function(){return e},t}}}(e),Lk=Ik.format,Ik.parse,Rk=Ik.utcFormat,Ik.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var w_=e=>e.chartData,j_=qy([w_],e=>{var t=null!=e.chartData?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),k_=(e,t,n,r)=>r?j_(e):w_(e);function N_(e){return Number.isFinite(e)}function __(e){return"number"===typeof e&&e>0&&Number.isFinite(e)}function S_(e){if(Array.isArray(e)&&2===e.length){var[t,n]=e;if(N_(t)&&N_(n))return!0}return!1}function C_(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}var O_=n(8210),E_=n.n(O_),P_=e=>e,T_={"@@functional/placeholder":!0},A_=e=>e===T_,M_=e=>function t(){return 0===arguments.length||1===arguments.length&&A_(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},D_=(e,t)=>1===e?t:M_(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=r.filter(e=>e!==T_).length;return i>=e?t(...r):D_(e-i,M_(function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];var i=r.map(e=>A_(e)?n.shift():e);return t(...i,...n)}))}),z_=e=>D_(e.length,e),I_=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},L_=z_((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(e=>t[e]).map(e)),R_=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),$_=e=>{var t=null,n=null;return function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return t&&a.every((e,n)=>{var r;return e===(null===(r=t)||void 0===r?void 0:r[n])})?n:(t=a,n=e(...a))}};function F_(e){return 0===e?1:Math.floor(new(E_())(e).abs().log(10).toNumber())+1}function B_(e,t,n){for(var r=new(E_())(e),a=0,i=[];r.lt(t)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i}z_((e,t,n)=>{var r=+e;return r+n*(+t-r)}),z_((e,t,n)=>{var r=t-+e;return(n-e)/(r=r||1/0)}),z_((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var V_=e=>{var[t,n]=e,[r,a]=[t,n];return t>n&&([r,a]=[n,t]),[r,a]},U_=(e,t,n)=>{if(e.lte(0))return new(E_())(0);var r=F_(e.toNumber()),a=new(E_())(10).pow(r),i=e.div(a),s=1!==r?.05:.1,o=new(E_())(Math.ceil(i.div(s).toNumber())).add(n).mul(s).mul(a);return t?new(E_())(o.toNumber()):new(E_())(Math.ceil(o.toNumber()))},H_=(e,t,n)=>{var r=new(E_())(1),a=new(E_())(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(r=new(E_())(10).pow(F_(e)-1),a=new(E_())(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new(E_())(Math.floor(e)))}else 0===e?a=new(E_())(Math.floor((t-1)/2)):n||(a=new(E_())(Math.floor(e)));var s=Math.floor((t-1)/2);return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return P_;var r=t.reverse(),a=r[0],i=r.slice(1);return function(){return i.reduce((e,t)=>t(e),a(...arguments))}}(L_(e=>a.add(new(E_())(e-s).mul(r)).toNumber()),I_)(0,t)},q_=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(E_())(0),tickMin:new(E_())(0),tickMax:new(E_())(0)};var i,s=U_(new(E_())(t).sub(e).div(n-1),r,a);i=e<=0&&t>=0?new(E_())(0):(i=new(E_())(e).add(t).div(2)).sub(new(E_())(i).mod(s));var o=Math.ceil(i.sub(e).div(s).toNumber()),l=Math.ceil(new(E_())(t).sub(i).div(s).toNumber()),c=o+l+1;return c>n?q_(e,t,n,r,a+1):(c<n&&(l=t>0?l+(n-c):l,o=t>0?o:o+(n-c)),{step:s,tickMin:i.sub(new(E_())(o).mul(s)),tickMax:i.add(new(E_())(l).mul(s))})};var W_=$_(function(e){var[t,n]=e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Math.max(r,2),[s,o]=V_([t,n]);if(s===-1/0||o===1/0){var l=o===1/0?[s,...I_(0,r-1).map(()=>1/0)]:[...I_(0,r-1).map(()=>-1/0),o];return t>n?R_(l):l}if(s===o)return H_(s,r,a);var{step:c,tickMin:u,tickMax:d}=q_(s,o,i,a,0),h=B_(u,d.add(new(E_())(.1).mul(c)),c);return t>n?R_(h):h}),K_=$_(function(e,t){var[n,r]=e,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],[i,s]=V_([n,r]);if(i===-1/0||s===1/0)return[n,r];if(i===s)return[i];var o=Math.max(t,2),l=U_(new(E_())(s).sub(i).div(o-1),a,0),c=[...B_(new(E_())(i),new(E_())(s),l),s];return!1===a&&(c=c.map(e=>Math.round(e))),n>r?R_(c):c}),G_=e=>e.rootProps.maxBarSize,Y_=e=>e.rootProps.barCategoryGap,X_=e=>e.rootProps.stackOffset,J_=e=>e.options.chartName,Z_=e=>e.rootProps.syncId,Q_=e=>e.rootProps.syncMethod,eS=e=>e.options.eventEmitter,tS=0,nS="auto",rS=!0,aS=!1,iS=!0,sS=0,oS="auto",lS=!0,cS=5,uS=(e,t)=>{if(e&&t)return null!==e&&void 0!==e&&e.reversed?[t[1],t[0]]:t},dS={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:tS,includeHidden:!1,name:void 0,reversed:!1,scale:nS,tick:rS,tickCount:void 0,ticks:void 0,type:"category",unit:void 0},hS={allowDataOverflow:aS,allowDecimals:!1,allowDuplicatedCategory:iS,dataKey:void 0,domain:void 0,id:sS,includeHidden:!1,name:void 0,reversed:!1,scale:oS,tick:lS,tickCount:cS,ticks:void 0,type:"number",unit:void 0},fS={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,dataKey:void 0,domain:void 0,id:tS,includeHidden:!1,name:void 0,reversed:!1,scale:nS,tick:rS,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},pS={allowDataOverflow:aS,allowDecimals:!1,allowDuplicatedCategory:iS,dataKey:void 0,domain:void 0,id:sS,includeHidden:!1,name:void 0,reversed:!1,scale:oS,tick:lS,tickCount:cS,ticks:void 0,type:"category",unit:void 0},mS=(e,t)=>null!=e.polarAxis.angleAxis[t]?e.polarAxis.angleAxis[t]:"radial"===e.layout.layoutType?fS:dS,gS=(e,t)=>null!=e.polarAxis.radiusAxis[t]?e.polarAxis.radiusAxis[t]:"radial"===e.layout.layoutType?pS:hS,vS=e=>e.polarOptions,yS=qy([$x,Fx,Xx],vx),xS=qy([vS,yS],(e,t)=>{if(null!=e)return tm(e.innerRadius,t,0)}),bS=qy([vS,yS],(e,t)=>{if(null!=e)return tm(e.outerRadius,t,.8*t)}),wS=qy([vS],e=>{if(null==e)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]}),jS=(qy([mS,wS],uS),qy([yS,xS,bS],(e,t,n)=>{if(null!=e&&null!=t&&null!=n)return[t,n]})),kS=(qy([gS,jS],uS),qy([cb,vS,xS,bS,$x,Fx],(e,t,n,r,a,i)=>{if(("centric"===e||"radial"===e)&&null!=t&&null!=n&&null!=r){var{cx:s,cy:o,startAngle:l,endAngle:c}=t;return{cx:tm(s,a,a/2),cy:tm(o,i,i/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}})),NS=(e,t)=>t,_S=(e,t,n)=>n;function SS(e){return null===e||void 0===e?void 0:e.id}var CS=e=>{var t=cb(e);return"horizontal"===t?"xAxis":"vertical"===t?"yAxis":"centric"===t?"angleAxis":"radiusAxis"},OS=e=>e.tooltip.settings.axisId,ES=e=>{var t=CS(e),n=OS(e);return US(e,t,n)};function PS(e,t,n){var{chartData:r=[]}=t,a=null===n||void 0===n?void 0:n.dataKey,i=new Map;return e.forEach(e=>{var t,n=null!==(t=e.data)&&void 0!==t?t:r;if(null!=n&&0!==n.length){var s=SS(e);n.forEach((t,n)=>{var r,o=null==a?n:String(_x(t,a,null)),l=_x(t,e.dataKey,0);r=i.has(o)?i.get(o):{},Object.assign(r,{[s]:l}),i.set(o,r)})}}),Array.from(i.values())}function TS(e){return null!=e.stackId&&null!=e.dataKey}function AS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function MS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AS(Object(n),!0).forEach(function(t){DS(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function DS(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zS=[0,"auto"],IS={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},LS=(e,t)=>{var n=e.cartesianAxis.xAxis[t];return null==n?IS:n},RS={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:zS,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:60},$S=(e,t)=>{var n=e.cartesianAxis.yAxis[t];return null==n?RS:n},FS={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},BS=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return null==n?FS:n},VS=(e,t,n)=>{switch(t){case"xAxis":return LS(e,n);case"yAxis":return $S(e,n);case"zAxis":return BS(e,n);case"angleAxis":return mS(e,n);case"radiusAxis":return gS(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},US=(e,t,n)=>{switch(t){case"xAxis":return LS(e,n);case"yAxis":return $S(e,n);case"angleAxis":return mS(e,n);case"radiusAxis":return gS(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},HS=e=>e.graphicalItems.cartesianItems.some(e=>"bar"===e.type)||e.graphicalItems.polarItems.some(e=>"radialBar"===e.type);function qS(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var WS=e=>e.graphicalItems.cartesianItems,KS=qy([NS,_S],qS),GS=(e,t,n)=>e.filter(n).filter(e=>!0===(null===t||void 0===t?void 0:t.includeHidden)||!e.hide),YS=qy([WS,VS,KS],GS),XS=qy([YS],e=>e.filter(e=>"area"===e.type||"bar"===e.type).filter(TS)),JS=e=>e.filter(e=>!("stackId"in e)||void 0===e.stackId),ZS=qy([YS],JS),QS=e=>e.map(e=>e.data).filter(Boolean).flat(1),eC=qy([YS],QS),tC=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=t;return e.length>0?e:n.slice(r,a+1)},nC=qy([eC,k_],tC),rC=(e,t,n)=>null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:_x(e,t.dataKey)})):n.length>0?n.map(e=>e.dataKey).flatMap(t=>e.map(e=>({value:_x(e,t)}))):e.map(e=>({value:e})),aC=qy([nC,VS,YS],rC);function iC(e,t){switch(e){case"xAxis":return"x"===t.direction;case"yAxis":return"y"===t.direction;default:return!1}}function sC(e){return e.filter(e=>Zp(e)||e instanceof Date).map(Number).filter(e=>!1===Yp(e))}function oC(e,t,n){return!n||"number"!==typeof t||Yp(t)?[]:n.length?sC(n.flatMap(n=>{var r,a,i=_x(e,n.dataKey);if(Array.isArray(i)?[r,a]=i:r=a=i,N_(r)&&N_(a))return[t-r,t+a]})):[]}var lC=qy([XS,k_,ES],PS),cC=(e,t,n)=>{var r=t.reduce((e,t)=>(null==t.stackId||(null==e[t.stackId]&&(e[t.stackId]=[]),e[t.stackId].push(t)),e),{});return Object.fromEntries(Object.entries(r).map(t=>{var[r,a]=t,i=a.map(SS);return[r,{stackedData:Tx(e,i,n),graphicalItems:a}]}))},uC=qy([lC,XS,X_],cC),dC=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:a}=t;if("zAxis"!==n){var i=Mx(e,r,a);if(null==i||0!==i[0]||0!==i[1])return i}},hC=qy([uC,w_,NS],dC),fC=(e,t,n,r,a)=>n.length>0?e.flatMap(e=>n.flatMap(n=>{var i,s,o=null===(i=r[n.id])||void 0===i?void 0:i.filter(e=>iC(a,e)),l=_x(e,null!==(s=t.dataKey)&&void 0!==s?s:n.dataKey);return{value:l,errorDomain:oC(e,l,o)}})).filter(Boolean):null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:_x(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]})),pC=e=>e.errorBars,mC=(e,t,n)=>e.flatMap(e=>t[e.id]).filter(Boolean).filter(e=>iC(n,e)),gC=(qy([ZS,pC,NS],mC),qy([nC,VS,ZS,pC,NS],fC));function vC(e){var{value:t}=e;if(Zp(t)||t instanceof Date)return t}var yC=e=>{var t=sC(e.flatMap(e=>[e.value,e.errorDomain]).flat(1));if(0!==t.length)return[Math.min(...t),Math.max(...t)]},xC=e=>{var t;if(null==e||!("domain"in e))return zS;if(null!=e.domain)return e.domain;if(null!=e.ticks){if("number"===e.type){var n=sC(e.ticks);return[Math.min(...n),Math.max(...n)]}if("category"===e.type)return e.ticks.map(String)}return null!==(t=null===e||void 0===e?void 0:e.domain)&&void 0!==t?t:zS},bC=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);if(0!==r.length){var a=r.flat();return[Math.min(...a),Math.max(...a)]}},wC=e=>e.referenceElements.dots,jC=(e,t,n)=>e.filter(e=>"extendDomain"===e.ifOverflow).filter(e=>"xAxis"===t?e.xAxisId===n:e.yAxisId===n),kC=qy([wC,NS,_S],jC),NC=e=>e.referenceElements.areas,_C=qy([NC,NS,_S],jC),SC=e=>e.referenceElements.lines,CC=qy([SC,NS,_S],jC),OC=(e,t)=>{var n=sC(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},EC=qy(kC,NS,OC),PC=(e,t)=>{var n=sC(e.flatMap(e=>["xAxis"===t?e.x1:e.y1,"xAxis"===t?e.x2:e.y2]));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},TC=qy([_C,NS],PC),AC=(e,t)=>{var n=sC(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},MC=qy(CC,NS,AC),DC=qy(EC,MC,TC,(e,t,n)=>bC(e,n,t)),zC=qy([VS],xC),IC=(e,t,n,r,a,i,s)=>{var o=function(e,t){if(t&&"function"!==typeof e&&Array.isArray(e)&&2===e.length){var n,r,[a,i]=e;if(N_(a))n=a;else if("function"===typeof a)return;if(N_(i))r=i;else if("function"===typeof i)return;var s=[n,r];if(S_(s))return s}}(t,e.allowDataOverflow);return null!=o?o:function(e,t,n){if(n||null!=t){if("function"===typeof e&&null!=t)try{var r=e(t,n);if(S_(r))return C_(r,t,n)}catch(f){}if(Array.isArray(e)&&2===e.length){var a,i,[s,o]=e;if("auto"===s)null!=t&&(a=Math.min(...t));else if(Jp(s))a=s;else if("function"===typeof s)try{null!=t&&(a=s(null===t||void 0===t?void 0:t[0]))}catch(p){}else if("string"===typeof s&&Dx.test(s)){var l=Dx.exec(s);if(null==l||null==t)a=void 0;else{var c=+l[1];a=t[0]-c}}else a=null===t||void 0===t?void 0:t[0];if("auto"===o)null!=t&&(i=Math.max(...t));else if(Jp(o))i=o;else if("function"===typeof o)try{null!=t&&(i=o(null===t||void 0===t?void 0:t[1]))}catch(m){}else if("string"===typeof o&&zx.test(o)){var u=zx.exec(o);if(null==u||null==t)i=void 0;else{var d=+u[1];i=t[1]+d}}else i=null===t||void 0===t?void 0:t[1];var h=[a,i];if(S_(h))return null==t?h:C_(h,t,n)}}}(t,"vertical"===i&&"xAxis"===s||"horizontal"===i&&"yAxis"===s?bC(n,a,yC(r)):bC(a,yC(r)),e.allowDataOverflow)},LC=qy([VS,zC,hC,gC,DC,cb,NS],IC),RC=[0,1],$C=(e,t,n,r,a,i,s)=>{if(null!=e&&null!=n&&0!==n.length||void 0!==s){var{dataKey:o,type:l}=e,c=Sx(t,i);return c&&null==o?hb()(0,n.length):"category"===l?((e,t,n)=>{var r=e.map(vC).filter(e=>null!=e);return n&&(null==t.dataKey||t.allowDuplicatedCategory&&nm(r))?hb()(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))})(r,e,c):"expand"===a?RC:s}},FC=qy([VS,cb,nC,aC,X_,NS,LC],$C),BC=(t,n,r,a,i)=>{if(null!=t){var{scale:s,type:o}=t;if("auto"===s)return"radial"===n&&"radiusAxis"===i?"band":"radial"===n&&"angleAxis"===i?"linear":"category"===o&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!r)?"point":"category"===o?"band":"linear";if("string"===typeof s){var l="scale".concat(sm(s));return l in e?l:"point"}}},VC=qy([VS,cb,HS,J_,NS],BC);function UC(t,n,r,a){if(null!=r&&null!=a){if("function"===typeof t.scale)return t.scale.copy().domain(r).range(a);var i=function(t){if(null!=t){if(t in e)return e[t]();var n="scale".concat(sm(t));return n in e?e[n]():void 0}}(n);if(null!=i){var s=i.domain(r).range(a);return(e=>{var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),a=Math.min(r[0],r[1])-Ex,i=Math.max(r[0],r[1])+Ex,s=e(t[0]),o=e(t[n-1]);(s<a||s>i||o<a||o>i)&&e.domain([t[0],t[n-1]])}})(s),s}}}var HC=(e,t,n)=>{var r=xC(t);if("auto"===n||"linear"===n)return null!=t&&t.tickCount&&Array.isArray(r)&&("auto"===r[0]||"auto"===r[1])&&S_(e)?W_(e,t.tickCount,t.allowDecimals):null!=t&&t.tickCount&&"number"===t.type&&S_(e)?K_(e,t.tickCount,t.allowDecimals):void 0},qC=qy([FC,US,VC],HC),WC=(e,t,n,r)=>{if("angleAxis"!==r&&"number"===(null===e||void 0===e?void 0:e.type)&&S_(t)&&Array.isArray(n)&&n.length>0){var a=t[0],i=n[0],s=t[1],o=n[n.length-1];return[Math.min(a,i),Math.max(s,o)]}return t},KC=qy([VS,FC,qC,NS],WC),GC=qy(aC,VS,(e,t)=>{if(t&&"number"===t.type){var n=1/0,r=Array.from(sC(e.map(e=>e.value))).sort((e,t)=>e-t);if(r.length<2)return 1/0;var a=r[r.length-1]-r[0];if(0===a)return 1/0;for(var i=0;i<r.length-1;i++){var s=r[i+1]-r[i];n=Math.min(n,s)}return n/a}}),YC=qy(GC,cb,Y_,Xx,(e,t,n,r)=>r,(e,t,n,r,a)=>{if(!N_(e))return 0;var i="vertical"===t?r.height:r.width;if("gap"===a)return e*i/2;if("no-gap"===a){var s=tm(n,e*i),o=e*i/2;return o-s-(o-s)/i*s}return 0}),XC=qy(LS,(e,t)=>{var n=LS(e,t);return null==n||"string"!==typeof n.padding?0:YC(e,"xAxis",t,n.padding)},(e,t)=>{var n,r;if(null==e)return{left:0,right:0};var{padding:a}=e;return"string"===typeof a?{left:t,right:t}:{left:(null!==(n=a.left)&&void 0!==n?n:0)+t,right:(null!==(r=a.right)&&void 0!==r?r:0)+t}}),JC=qy($S,(e,t)=>{var n=$S(e,t);return null==n||"string"!==typeof n.padding?0:YC(e,"yAxis",t,n.padding)},(e,t)=>{var n,r;if(null==e)return{top:0,bottom:0};var{padding:a}=e;return"string"===typeof a?{top:t,bottom:t}:{top:(null!==(n=a.top)&&void 0!==n?n:0)+t,bottom:(null!==(r=a.bottom)&&void 0!==r?r:0)+t}}),ZC=qy([Xx,XC,nb,tb,(e,t,n)=>n],(e,t,n,r,a)=>{var{padding:i}=r;return a?[i.left,n.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),QC=qy([Xx,cb,JC,nb,tb,(e,t,n)=>n],(e,t,n,r,a,i)=>{var{padding:s}=a;return i?[r.height-s.bottom,s.top]:"horizontal"===t?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),eO=(e,t,n,r)=>{var a;switch(t){case"xAxis":return ZC(e,n,r);case"yAxis":return QC(e,n,r);case"zAxis":return null===(a=BS(e,n))||void 0===a?void 0:a.range;case"angleAxis":return wS(e);case"radiusAxis":return jS(e,n);default:return}},tO=qy([VS,eO],uS),nO=qy([VS,VC,KC,tO],UC);qy([YS,pC,NS],mC);function rO(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var aO=(e,t)=>t,iO=(e,t,n)=>n,sO=qy(Ux,aO,iO,(e,t,n)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===n).sort(rO)),oO=qy(Hx,aO,iO,(e,t,n)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===n).sort(rO)),lO=(e,t)=>({width:e.width,height:t.height}),cO=qy(Xx,LS,lO),uO=qy(Fx,Xx,sO,aO,iO,(e,t,n,r,a)=>{var i,s={};return n.forEach(n=>{var o=lO(t,n);null==i&&(i=((e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}})(t,r,e));var l="top"===r&&!a||"bottom"===r&&a;s[n.id]=i-Number(l)*o.height,i+=(l?-1:1)*o.height}),s}),dO=qy($x,Xx,oO,aO,iO,(e,t,n,r,a)=>{var i,s={};return n.forEach(n=>{var o=((e,t)=>({width:"number"===typeof t.width?t.width:60,height:e.height}))(t,n);null==i&&(i=((e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}})(t,r,e));var l="left"===r&&!a||"right"===r&&a;s[n.id]=i-Number(l)*o.width,i+=(l?-1:1)*o.width}),s}),hO=qy(Xx,$S,(e,t)=>({width:"number"===typeof t.width?t.width:60,height:e.height})),fO=(e,t,n)=>{switch(t){case"xAxis":return cO(e,n).width;case"yAxis":return hO(e,n).height;default:return}},pO=(e,t,n,r)=>{if(null!=n){var{allowDuplicatedCategory:a,type:i,dataKey:s}=n,o=Sx(e,r),l=t.map(e=>e.value);return s&&o&&"category"===i&&a&&nm(l)?l:void 0}},mO=qy([cb,aC,VS,NS],pO),gO=(e,t,n,r)=>{if(null!=n&&null!=n.dataKey){var{type:a,scale:i}=n;return!Sx(e,r)||"number"!==a&&"auto"===i?void 0:t.map(e=>e.value)}},vO=qy([cb,aC,US,NS],gO),yO=qy([cb,(e,t,n)=>{switch(t){case"xAxis":return LS(e,n);case"yAxis":return $S(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},VC,nO,mO,vO,eO,qC,NS],(e,t,n,r,a,i,s,o,l)=>{if(null==t)return null;var c=Sx(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:i,duplicateDomain:a,isCategorical:c,niceTicks:o,range:s,realScaleType:n,scale:r}}),xO=qy([cb,US,VC,nO,qC,eO,mO,vO,NS],(e,t,n,r,a,i,s,o,l)=>{if(null!=t&&null!=r){var c=Sx(e,l),{type:u,ticks:d,tickCount:h}=t,f="scaleBand"===n&&"function"===typeof r.bandwidth?r.bandwidth()/2:2,p="category"===u&&r.bandwidth?r.bandwidth()/f:0;p="angleAxis"===l&&null!=i&&i.length>=2?2*Gp(i[0]-i[1])*p:p;var m=d||a;return m?m.map((e,t)=>{var n=s?s.indexOf(e):e;return{index:t,coordinate:r(n)+p,value:e,offset:p}}).filter(e=>!Yp(e.coordinate)):c&&o?o.map((e,t)=>({coordinate:r(e)+p,value:e,index:t,offset:p})):r.ticks?r.ticks(h).map(e=>({coordinate:r(e)+p,value:e,offset:p})):r.domain().map((e,t)=>({coordinate:r(e)+p,value:s?s[e]:e,index:t,offset:p}))}}),bO=qy([cb,US,nO,eO,mO,vO,NS],(e,t,n,r,a,i,s)=>{if(null!=t&&null!=n&&null!=r&&r[0]!==r[1]){var o=Sx(e,s),{tickCount:l}=t,c=0;return c="angleAxis"===s&&(null===r||void 0===r?void 0:r.length)>=2?2*Gp(r[0]-r[1])*c:c,o&&i?i.map((e,t)=>({coordinate:n(e)+c,value:e,index:t,offset:c})):n.ticks?n.ticks(l).map(e=>({coordinate:n(e)+c,value:e,offset:c})):n.domain().map((e,t)=>({coordinate:n(e)+c,value:a?a[e]:e,index:t,offset:c}))}}),wO=qy(VS,nO,(e,t)=>{if(null!=e&&null!=t)return MS(MS({},e),{},{scale:t})}),jO=qy([VS,VC,FC,tO],UC),kO=(qy((e,t,n)=>BS(e,n),jO,(e,t)=>{if(null!=e&&null!=t)return MS(MS({},e),{},{scale:t})}),qy([cb,Ux,Hx],(e,t,n)=>{switch(e){case"horizontal":return t.some(e=>e.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(e=>e.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}})),NO=e=>e.options.defaultTooltipEventType,_O=e=>e.options.validateTooltipEventTypes;function SO(e,t,n){if(null==e)return t;var r=e?"axis":"item";return null==n?t:n.includes(r)?r:t}function CO(e,t){return SO(t,NO(e),_O(e))}var OO=(e,t)=>{var n,r=Number(t);if(!Yp(r)&&null!=t)return r>=0?null===e||void 0===e||null===(n=e[r])||void 0===n?void 0:n.value:void 0};function EO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function PO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EO(Object(n),!0).forEach(function(t){TO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function TO(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var AO=(e,t,n,r)=>{if(null==t)return fy;var a=function(e,t,n){return"axis"===t?"click"===n?e.axisInteraction.click:e.axisInteraction.hover:"click"===n?e.itemInteraction.click:e.itemInteraction.hover}(e,t,n);if(null==a)return fy;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&null!=e.syncInteraction.index)return e.syncInteraction;var i=!0===e.settings.active;if(null!=a.index){if(i)return PO(PO({},a),{},{active:!0})}else if(null!=r)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return PO(PO({},fy),{},{coordinate:a.coordinate})},MO=(e,t)=>{var n=null===e||void 0===e?void 0:e.index;if(null==n)return null;var r=Number(n);if(!N_(r))return n;var a=1/0;return t.length>0&&(a=t.length-1),String(Math.max(0,Math.min(r,a)))},DO=(e,t,n,r,a,i,s,o)=>{if(null!=i&&null!=o){var l=s[0],c=null==l?void 0:o(l.positions,i);if(null!=c)return c;var u=null===a||void 0===a?void 0:a[Number(i)];if(u)return"horizontal"===n?{x:u.coordinate,y:(r.top+t)/2}:{x:(r.left+e)/2,y:u.coordinate}}},zO=(e,t,n,r)=>{return"axis"===t?e.tooltipItemPayloads:0===e.tooltipItemPayloads.length?[]:null==(a="hover"===n?e.itemInteraction.hover.dataKey:e.itemInteraction.click.dataKey)&&null!=r?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(e=>{var t;return(null===(t=e.settings)||void 0===t?void 0:t.dataKey)===a});var a},IO=e=>e.options.tooltipPayloadSearcher,LO=e=>e.tooltip;function RO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function $O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RO(Object(n),!0).forEach(function(t){FO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function FO(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var BO=(e,t,n,r,a,i,s)=>{if(null!=t&&null!=i){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:u}=n;return e.reduce((e,n)=>{var d,h,f,{dataDefinedOnItem:p,settings:m}=n,g=function(e,t){return null!=e?e:t}(p,o),v=Array.isArray(g)?wx(g,c,u):g,y=null!==(d=null===m||void 0===m?void 0:m.dataKey)&&void 0!==d?d:null===r||void 0===r?void 0:r.dataKey,x=null===m||void 0===m?void 0:m.nameKey;(h=null!==r&&void 0!==r&&r.dataKey&&Array.isArray(v)&&!Array.isArray(v[0])&&"axis"===s?function(e,t,n){if(e&&e.length)return e.find(e=>e&&("function"===typeof t?t(e):Kp()(e,t))===n)}(v,r.dataKey,a):i(v,t,l,x),Array.isArray(h))?h.forEach(t=>{var n=$O($O({},m),{},{name:t.name,unit:t.unit,color:void 0,fill:void 0});e.push(Lx({tooltipEntrySettings:n,dataKey:t.dataKey,payload:t.payload,value:_x(t.payload,t.dataKey),name:t.name}))}):e.push(Lx({tooltipEntrySettings:m,dataKey:y,payload:h,value:_x(h,y),name:null!==(f=_x(h,x))&&void 0!==f?f:null===m||void 0===m?void 0:m.name}));return e},[])}},VO=qy([ES,cb,HS,J_,CS],BC),UO=qy([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),HO=qy([CS,OS],qS),qO=qy([UO,ES,HO],GS),WO=qy([qO],e=>e.filter(TS)),KO=qy([qO],QS),GO=qy([KO,w_],tC),YO=qy([WO,w_,ES],PS),XO=qy([GO,ES,qO],rC),JO=qy([ES],xC),ZO=qy([qO],e=>e.filter(TS)),QO=qy([YO,ZO,X_],cC),eE=qy([QO,w_,CS],dC),tE=qy([qO],JS),nE=qy([GO,ES,tE,pC,CS],fC),rE=qy([wC,CS,OS],jC),aE=qy([rE,CS],OC),iE=qy([NC,CS,OS],jC),sE=qy([iE,CS],PC),oE=qy([SC,CS,OS],jC),lE=qy([oE,CS],AC),cE=qy([aE,lE,sE],bC),uE=qy([ES,JO,eE,nE,cE,cb,CS],IC),dE=qy([ES,cb,GO,XO,X_,CS,uE],$C),hE=qy([dE,ES,VO],HC),fE=qy([ES,dE,hE,CS],WC),pE=e=>{var t=CS(e),n=OS(e);return eO(e,t,n,!1)},mE=qy([ES,pE],uS),gE=qy([ES,VO,fE,mE],UC),vE=qy([cb,XO,ES,CS],pO),yE=qy([cb,XO,ES,CS],gO),xE=qy([cb,ES,VO,gE,pE,vE,yE,CS],(e,t,n,r,a,i,s,o)=>{if(t){var{type:l}=t,c=Sx(e,o);if(r){var u="scaleBand"===n&&r.bandwidth?r.bandwidth()/2:2,d="category"===l&&r.bandwidth?r.bandwidth()/u:0;return d="angleAxis"===o&&null!=a&&(null===a||void 0===a?void 0:a.length)>=2?2*Gp(a[0]-a[1])*d:d,c&&s?s.map((e,t)=>({coordinate:r(e)+d,value:e,index:t,offset:d})):r.domain().map((e,t)=>({coordinate:r(e)+d,value:i?i[e]:e,index:t,offset:d}))}}}),bE=qy([NO,_O,e=>e.tooltip.settings],(e,t,n)=>SO(n.shared,e,t)),wE=e=>e.tooltip.settings.trigger,jE=e=>e.tooltip.settings.defaultIndex,kE=qy([LO,bE,wE,jE],AO),NE=qy([kE,GO],MO),_E=qy([xE,NE],OO),SE=qy([kE],e=>{if(e)return e.dataKey}),CE=qy([LO,bE,wE,jE],zO),OE=qy([$x,Fx,cb,Xx,xE,jE,CE,IO],DO),EE=qy([kE,OE],(e,t)=>null!==e&&void 0!==e&&e.coordinate?e.coordinate:t),PE=qy([kE],e=>e.active),TE=qy([CE,NE,w_,ES,_E,IO,bE],BO),AE=(qy([TE],e=>{if(null!=e){var t=e.map(e=>e.payload).filter(e=>null!=e);return Array.from(new Set(t))}}),(e,t)=>t),ME=(e,t,n)=>n,DE=(e,t,n,r)=>r,zE=qy(xE,e=>nx()(e,e=>e.coordinate)),IE=qy([LO,AE,ME,DE],AO),LE=qy([IE,GO],MO),RE=qy([LO,AE,ME,DE],zO),$E=qy([$x,Fx,cb,Xx,xE,DE,RE,IO],DO),FE=qy([IE,$E],(e,t)=>{var n;return null!==(n=e.coordinate)&&void 0!==n?n:t}),BE=qy(xE,LE,OO),VE=qy([RE,LE,w_,ES,BE,IO,AE],BO),UE=qy([IE],e=>({isActive:e.active,activeIndex:e.index})),HE=qy([(e,t)=>t,cb,kS,CS,mE,xE,zE,Xx],(e,t,n,r,a,i,s,o)=>{if(e&&t&&r&&a&&i){var l=function(e,t,n,r,a){return"horizontal"===n||"vertical"===n?e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height?{x:e,y:t}:null:r?bx({x:e,y:t},r):null}(e.chartX,e.chartY,t,n,o);if(l){var c=((e,t)=>"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius)(l,t),u=((e,t,n,r,a)=>{var i,s=-1,o=null!==(i=null===t||void 0===t?void 0:t.length)&&void 0!==i?i:0;if(o<=1||null==e)return 0;if("angleAxis"===r&&null!=a&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var l=0;l<o;l++){var c=l>0?n[l-1].coordinate:n[o-1].coordinate,u=n[l].coordinate,d=l>=o-1?n[0].coordinate:n[l+1].coordinate,h=void 0;if(Gp(u-c)!==Gp(d-u)){var f=[];if(Gp(d-u)===Gp(a[1]-a[0])){h=d;var p=u+a[1]-a[0];f[0]=Math.min(p,(p+c)/2),f[1]=Math.max(p,(p+c)/2)}else{h=c;var m=d+a[1]-a[0];f[0]=Math.min(u,(m+u)/2),f[1]=Math.max(u,(m+u)/2)}var g=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>g[0]&&e<=g[1]||e>=f[0]&&e<=f[1]){({index:s}=n[l]);break}}else{var v=Math.min(c,d),y=Math.max(c,d);if(e>(v+u)/2&&e<=(y+u)/2){({index:s}=n[l]);break}}}else if(t)for(var x=0;x<o;x++)if(0===x&&e<=(t[x].coordinate+t[x+1].coordinate)/2||x>0&&x<o-1&&e>(t[x].coordinate+t[x-1].coordinate)/2&&e<=(t[x].coordinate+t[x+1].coordinate)/2||x===o-1&&e>(t[x].coordinate+t[x-1].coordinate)/2){({index:s}=t[x]);break}return s})(c,s,i,r,a),d=((e,t,n,r)=>{var a=t.find(e=>e&&e.index===n);if(a){if("horizontal"===e)return{x:a.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:a.coordinate};if("centric"===e){var i=a.coordinate,{radius:s}=r;return kx(kx(kx({},r),gx(r.cx,r.cy,s,i)),{},{angle:i,radius:s})}var o=a.coordinate,{angle:l}=r;return kx(kx(kx({},r),gx(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{x:0,y:0}})(t,i,u,l);return{activeIndex:String(u),activeCoordinate:d}}}}),qE=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},WE=mg("mouseClick"),KE=lv();KE.startListening({actionCreator:WE,effect:(e,t)=>{var n=e.payload,r=HE(t.getState(),qE(n));null!=(null===r||void 0===r?void 0:r.activeIndex)&&t.dispatch(ky({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var GE=mg("mouseMove"),YE=lv();function XE(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}function JE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ZE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JE(Object(n),!0).forEach(function(t){QE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function QE(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}YE.startListening({actionCreator:GE,effect:(e,t)=>{var n=e.payload,r=t.getState(),a=CO(r,r.tooltip.settings.shared),i=HE(r,qE(n));"axis"===a&&(null!=(null===i||void 0===i?void 0:i.activeIndex)?t.dispatch(jy({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(by()))}});var eP=Eg({name:"cartesianAxis",initialState:{xAxis:{},yAxis:{},zAxis:{}},reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=ZE(ZE({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:tP,removeXAxis:nP,addYAxis:rP,removeYAxis:aP,addZAxis:iP,removeZAxis:sP,updateYAxisWidth:oP}=eP.actions,lP=eP.reducer,cP=Eg({name:"graphicalItems",initialState:{cartesianItems:[],polarItems:[]},reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:r}=t.payload,a=ug(e).cartesianItems.indexOf(n);a>-1&&(e.cartesianItems[a]=r)},removeCartesianGraphicalItem(e,t){var n=ug(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=ug(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:uP,replaceCartesianGraphicalItem:dP,removeCartesianGraphicalItem:hP,addPolarGraphicalItem:fP,removePolarGraphicalItem:pP}=cP.actions,mP=cP.reducer,gP=Eg({name:"referenceElements",initialState:{dots:[],areas:[],lines:[]},reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=ug(e).dots.findIndex(e=>e===t.payload);-1!==n&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=ug(e).areas.findIndex(e=>e===t.payload);-1!==n&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=ug(e).lines.findIndex(e=>e===t.payload);-1!==n&&e.lines.splice(n,1)}}}),{addDot:vP,removeDot:yP,addArea:xP,removeArea:bP,addLine:wP,removeLine:jP}=gP.actions,kP=gP.reducer,NP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},_P=Eg({name:"brush",initialState:NP,reducers:{setBrushSettings:(e,t)=>null==t.payload?NP:t.payload}}),{setBrushSettings:SP}=_P.actions,CP=_P.reducer,OP=Eg({name:"legend",initialState:{settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=ug(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:EP,setLegendSettings:PP,addLegendPayload:TP,removeLegendPayload:AP}=OP.actions,MP=OP.reducer,DP={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},zP=Eg({name:"rootProps",initialState:DP,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=null!==(n=t.payload.barGap)&&void 0!==n?n:DP.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),IP=zP.reducer,{updateOptions:LP}=zP.actions,RP=Eg({name:"polarAxis",initialState:{radiusAxis:{},angleAxis:{}},reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:$P,removeRadiusAxis:FP,addAngleAxis:BP,removeAngleAxis:VP}=RP.actions,UP=RP.reducer,HP=Eg({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:qP}=HP.actions,WP=HP.reducer,KP=mg("keyDown"),GP=mg("focus"),YP=lv();YP.startListening({actionCreator:KP,effect:(e,t)=>{var n=t.getState();if(!1!==n.rootProps.accessibilityLayer){var{keyboardInteraction:r}=n.tooltip,a=e.payload;if("ArrowRight"===a||"ArrowLeft"===a||"Enter"===a){var i=Number(MO(r,GO(n))),s=xE(n);if("Enter"!==a){var o=i+("ArrowRight"===a?1:-1)*("left-to-right"===kO(n)?1:-1);if(!(null==s||o>=s.length||o<0)){var l=$E(n,"axis","hover",String(o));t.dispatch(_y({active:!0,activeIndex:o.toString(),activeDataKey:void 0,activeCoordinate:l}))}}else{var c=$E(n,"axis","hover",String(r.index));t.dispatch(_y({active:!r.active,activeIndex:r.index,activeDataKey:r.dataKey,activeCoordinate:c}))}}}}}),YP.startListening({actionCreator:GP,effect:(e,t)=>{var n=t.getState();if(!1!==n.rootProps.accessibilityLayer){var{keyboardInteraction:r}=n.tooltip;if(!r.active&&null==r.index){var a=$E(n,"axis","hover",String("0"));t.dispatch(_y({activeDataKey:void 0,active:!0,activeIndex:"0",activeCoordinate:a}))}}}});var XP=mg("externalEvent"),JP=lv();JP.startListening({actionCreator:XP,effect:(e,t)=>{if(null!=e.payload.handler){var n=t.getState(),r={activeCoordinate:EE(n),activeDataKey:SE(n),activeIndex:NE(n),activeLabel:_E(n),activeTooltipIndex:NE(n),isTooltipActive:PE(n)};e.payload.handler(r,e.payload.reactEvent)}}});var ZP=qy([LO],e=>e.tooltipItemPayloads),QP=qy([ZP,IO,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var a=e.find(e=>e.settings.dataKey===r);if(null!=a){var{positions:i}=a;if(null!=i)return t(i,n)}}),eT=mg("touchMove"),tT=lv();tT.startListening({actionCreator:eT,effect:(e,t)=>{var n=e.payload,r=t.getState(),a=CO(r,r.tooltip.settings.shared);if("axis"===a){var i=HE(r,qE({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));null!=(null===i||void 0===i?void 0:i.activeIndex)&&t.dispatch(jy({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if("item"===a){var s,o=n.touches[0],l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(qx),u=null!==(s=l.getAttribute(Wx))&&void 0!==s?s:void 0,d=QP(t.getState(),c,u);t.dispatch(yy({activeDataKey:u,activeIndex:c,activeCoordinate:d}))}}});var nT=Eg({name:"errorBars",initialState:{},reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(e=>e.dataKey!==r.dataKey||e.direction!==r.direction))}}}),{addErrorBar:rT,removeErrorBar:aT}=nT.actions,iT=ym({brush:CP,cartesianAxis:lP,chartData:Ty,errorBars:nT.reducer,graphicalItems:mP,layout:Ly,legend:MP,options:hv,polarAxis:UP,polarOptions:WP,referenceElements:kP,rootProps:IP,tooltip:Sy});function sT(e){var{preloadedState:n,children:r,reduxStoreName:a}=e,i=eb(),s=(0,t.useRef)(null);if(i)return r;null==s.current&&(s.current=function(e){return jg({reducer:iT,preloadedState:e,middleware:e=>e({serializableCheck:!1}).concat([KE.middleware,YE.middleware,YP.middleware,JP.middleware,tT.middleware]),devTools:{serialize:{replacer:XE},name:"recharts-".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Chart")}})}(n,a));var o=Gy;return t.createElement(Nv,{context:o,store:s.current},r)}var oT=e=>{var{chartData:n}=e,r=Xy(),a=eb();return(0,t.useEffect)(()=>a?()=>{}:(r(Oy(n)),()=>{r(Oy(void 0))}),[n,r,a]),null};function lT(e){var{layout:n,width:r,height:a,margin:i}=e,s=Xy(),o=eb();return(0,t.useEffect)(()=>{o||(s(Dy(n)),s(zy({width:r,height:a})),s(My(i)))},[s,o,n,r,a,i]),null}function cT(e){var n=Xy();return(0,t.useEffect)(()=>{n(LP(e))},[n,e]),null}var uT=()=>ex(e=>e.rootProps.accessibilityLayer),dT=n(2086),hT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function fT(e){return"string"===typeof e&&hT.includes(e)}var pT=["points","pathLength"],mT={svg:["viewBox","children"],polygon:pT,polyline:pT},gT=(e,t,n)=>{if(null===e||"object"!==typeof e&&"function"!==typeof e)return null;var r=null;return Object.keys(e).forEach(a=>{var i=e[a];fT(a)&&"function"===typeof i&&(r||(r={}),r[a]=((e,t,n)=>r=>(e(t,n,r),null))(i,t,n))}),r},vT=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function yT(e){return"string"===typeof e&&vT.includes(e)}function xT(e){var t=Object.entries(e).filter(e=>{var[t]=e;return yT(t)});return Object.fromEntries(t)}var bT=e=>"string"===typeof e?e:e?e.displayName||e.name||"Component":"",wT=null,jT=null,kT=e=>{if(e===wT&&Array.isArray(jT))return jT;var n=[];return t.Children.forEach(e,e=>{im(e)||((0,dT.isFragment)(e)?n=n.concat(kT(e.props.children)):n.push(e))}),jT=n,wT=e,n};function NT(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map(e=>bT(e)):[bT(t)],kT(e).forEach(e=>{var t=Kp()(e,"type.displayName")||Kp()(e,"type.name");-1!==r.indexOf(t)&&n.push(e)}),n}var _T=(e,n,r)=>{if(!e||"function"===typeof e||"boolean"===typeof e)return null;var a=e;if((0,t.isValidElement)(e)&&(a=e.props),"object"!==typeof a&&"function"!==typeof a)return null;var i={};return Object.keys(a).forEach(e=>{var t;((e,t,n,r)=>{var a;if("symbol"===typeof t||"number"===typeof t)return!0;var i=null!==(a=r&&(null===mT||void 0===mT?void 0:mT[r]))&&void 0!==a?a:[],s=t.startsWith("data-"),o="function"!==typeof e&&(Boolean(r)&&i.includes(t)||yT(t)),l=Boolean(n)&&fT(t);return s||o||l})(null===(t=a)||void 0===t?void 0:t[e],e,n,r)&&(i[e]=a[e])}),i},ST=["children","width","height","viewBox","className","style","title","desc"];function CT(){return CT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CT.apply(null,arguments)}var OT=(0,t.forwardRef)((e,n)=>{var{children:r,width:a,height:i,viewBox:s,className:o,style:l,title:c,desc:u}=e,d=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,ST),h=s||{width:a,height:i,x:0,y:0},f=Up("recharts-surface",o);return t.createElement("svg",CT({},_T(d,!0,"svg"),{className:f,width:a,height:i,style:l,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:n}),t.createElement("title",null,c),t.createElement("desc",null,u),r)}),ET=["children"];function PT(){return PT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PT.apply(null,arguments)}var TT={width:"100%",height:"100%"},AT=(0,t.forwardRef)((e,n)=>{var r=sb(),a=ob(),i=uT();if(!__(r)||!__(a))return null;var s,o,{children:l,otherAttributes:c,title:u,desc:d}=e;return s="number"===typeof c.tabIndex?c.tabIndex:i?0:void 0,o="string"===typeof c.role?c.role:i?"application":void 0,t.createElement(OT,PT({},c,{title:u,desc:d,role:o,tabIndex:s,width:r,height:a,style:TT,ref:n}),l)}),MT=e=>{var{children:n}=e,r=ex(nb);if(!r)return null;var{width:a,height:i,y:s,x:o}=r;return t.createElement(OT,{width:a,height:i,x:o,y:s},n)},DT=(0,t.forwardRef)((e,n)=>{var{children:r}=e,a=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,ET);return eb()?t.createElement(MT,null,r):t.createElement(AT,PT({ref:n},a),r)});var zT=new(n(8499)),IT="recharts.syncEvent.tooltip",LT="recharts.syncEvent.brush";function RT(e){return e.tooltip.syncInteraction}var $T=()=>{};function FT(){var e=Xy();(0,t.useEffect)(()=>{e(fv())},[e]),function(){var e=ex(Z_),n=ex(eS),r=Xy(),a=ex(Q_),i=ex(xE),s=ub(),o=rb(),l=ex(e=>e.rootProps.className);(0,t.useEffect)(()=>{if(null==e)return $T;var t=(t,l,c)=>{if(n!==c&&e===t)if("index"!==a){if(null!=i){var u;if("function"===typeof a){var d={activeTooltipIndex:null==l.payload.index?void 0:Number(l.payload.index),isTooltipActive:l.payload.active,activeIndex:null==l.payload.index?void 0:Number(l.payload.index),activeLabel:l.payload.label,activeDataKey:l.payload.dataKey,activeCoordinate:l.payload.coordinate},h=a(i,d);u=i[h]}else"value"===a&&(u=i.find(e=>String(e.value)===l.payload.label));var{coordinate:f}=l.payload;if(null!=u&&!1!==l.payload.active&&null!=f&&null!=o){var{x:p,y:m}=f,g=Math.min(p,o.x+o.width),v=Math.min(m,o.y+o.height),y={x:"horizontal"===s?u.coordinate:g,y:"horizontal"===s?v:u.coordinate},x=Ny({active:l.payload.active,coordinate:y,dataKey:l.payload.dataKey,index:String(u.index),label:l.payload.label});r(x)}else r(Ny({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}))}}else r(l)};return zT.on(IT,t),()=>{zT.off(IT,t)}},[l,r,n,e,a,i,s,o])}(),function(){var e=ex(Z_),n=ex(eS),r=Xy();(0,t.useEffect)(()=>{if(null==e)return $T;var t=(t,a,i)=>{n!==i&&e===t&&r(Ey(a))};return zT.on(LT,t),()=>{zT.off(LT,t)}},[r,n,e])}()}function BT(e,n,r,a,i,s){var o=ex(t=>((e,t,n)=>{if(null!=t){var r=LO(e);return"axis"===t?"hover"===n?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:"hover"===n?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}})(t,e,n)),l=ex(eS),c=ex(Z_),u=ex(Q_),d=ex(RT),h=null===d||void 0===d?void 0:d.active;(0,t.useEffect)(()=>{if(!h&&null!=c&&null!=l){var e=Ny({active:s,coordinate:r,dataKey:o,index:i,label:"number"===typeof a?String(a):a});zT.emit(IT,c,e,l)}},[h,r,o,i,a,l,c,u,s])}var VT=(0,t.createContext)(null),UT=(0,t.createContext)(null);function HT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function qT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HT(Object(n),!0).forEach(function(t){WT(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HT(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function WT(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var KT=(0,t.forwardRef)((e,n)=>{var{children:r,className:a,height:i,onClick:s,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:h,onMouseUp:f,onTouchEnd:p,onTouchMove:m,onTouchStart:g,style:v,width:y}=e,x=Xy(),[b,w]=(0,t.useState)(null),[j,k]=(0,t.useState)(null);FT();var N=function(){var e=Xy(),[n,r]=(0,t.useState)(null),a=ex(Bx);return(0,t.useEffect)(()=>{if(null!=n){var t=n.getBoundingClientRect().width/n.offsetWidth;N_(t)&&t!==a&&e(Iy(t))}},[n,e,a]),r}(),_=(0,t.useCallback)(e=>{N(e),"function"===typeof n&&n(e),w(e),k(e)},[N,n,w,k]),S=(0,t.useCallback)(e=>{x(WE(e)),x(XP({handler:s,reactEvent:e}))},[x,s]),C=(0,t.useCallback)(e=>{x(GE(e)),x(XP({handler:u,reactEvent:e}))},[x,u]),O=(0,t.useCallback)(e=>{x(by()),x(XP({handler:d,reactEvent:e}))},[x,d]),E=(0,t.useCallback)(e=>{x(GE(e)),x(XP({handler:h,reactEvent:e}))},[x,h]),P=(0,t.useCallback)(()=>{x(GP())},[x]),T=(0,t.useCallback)(e=>{x(KP(e.key))},[x]),A=(0,t.useCallback)(e=>{x(XP({handler:o,reactEvent:e}))},[x,o]),M=(0,t.useCallback)(e=>{x(XP({handler:l,reactEvent:e}))},[x,l]),D=(0,t.useCallback)(e=>{x(XP({handler:c,reactEvent:e}))},[x,c]),z=(0,t.useCallback)(e=>{x(XP({handler:f,reactEvent:e}))},[x,f]),I=(0,t.useCallback)(e=>{x(XP({handler:g,reactEvent:e}))},[x,g]),L=(0,t.useCallback)(e=>{x(eT(e)),x(XP({handler:m,reactEvent:e}))},[x,m]),R=(0,t.useCallback)(e=>{x(XP({handler:p,reactEvent:e}))},[x,p]);return t.createElement(VT.Provider,{value:b},t.createElement(UT.Provider,{value:j},t.createElement("div",{className:Up("recharts-wrapper",a),style:qT({position:"relative",cursor:"default",width:y,height:i},v),onClick:S,onContextMenu:A,onDoubleClick:M,onFocus:P,onKeyDown:T,onMouseDown:D,onMouseEnter:C,onMouseLeave:O,onMouseMove:E,onMouseUp:z,onTouchEnd:R,onTouchMove:L,onTouchStart:I,ref:_},r)))}),GT=qy([Xx],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),YT=qy([GT,$x,Fx],(e,t,n)=>{if(e&&null!=t&&null!=n)return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),XT=()=>ex(YT),JT=(0,t.createContext)(void 0),ZT=e=>{var{children:n}=e,[r]=(0,t.useState)("".concat(em("recharts"),"-clip")),a=XT();if(null==a)return null;var{x:i,y:s,width:o,height:l}=a;return t.createElement(JT.Provider,{value:r},t.createElement("defs",null,t.createElement("clipPath",{id:r},t.createElement("rect",{x:i,y:s,height:l,width:o}))),n)},QT=["children","className","width","height","style","compact","title","desc"];var eA=(0,t.forwardRef)((e,n)=>{var{children:r,className:a,width:i,height:s,style:o,compact:l,title:c,desc:u}=e,d=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,QT),h=xT(d);return l?t.createElement(DT,{otherAttributes:h,title:c,desc:u},r):t.createElement(KT,{className:a,style:o,width:i,height:s,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},t.createElement(DT,{otherAttributes:h,title:c,desc:u,ref:n},t.createElement(ZT,null,r)))});function tA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nA(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rA(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tA(Object(n),!0).forEach(function(t){nA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e),r=t;return Object.keys(t).reduce((e,t)=>(void 0===e[t]&&void 0!==r[t]&&(e[t]=r[t]),e),n)}var aA=["width","height"];function iA(){return iA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iA.apply(null,arguments)}var sA={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},oA=(0,t.forwardRef)(function(e,n){var r,a=rA(e.categoricalChartProps,sA),{width:i,height:s}=a,o=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(a,aA);if(!__(i)||!__(s))return null;var{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:h}=e,f={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return t.createElement(sT,{preloadedState:{options:f},reduxStoreName:null!==(r=h.id)&&void 0!==r?r:l},t.createElement(oT,{chartData:h.data}),t.createElement(lT,{width:i,height:s,layout:a.layout,margin:a.margin}),t.createElement(cT,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),t.createElement(eA,iA({},o,{width:i,height:s,ref:n})))}),lA=["axis","item"],cA=(0,t.forwardRef)((e,n)=>t.createElement(oA,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:lA,tooltipPayloadSearcher:uv,categoricalChartProps:e,ref:n})),uA=!("undefined"!==typeof window&&window.document&&Boolean(window.document.createElement)&&window.setTimeout);function dA(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hA(Object(n),!0).forEach(function(t){pA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function pA(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mA=fA({},{cacheSize:2e3,enableCache:!0}),gA=new class{constructor(e){dA(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return void 0!==t&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}(mA.cacheSize),vA={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},yA="recharts_measurement_span";var xA=(e,t)=>{try{var n=document.getElementById(yA);n||((n=document.createElement("span")).setAttribute("id",yA),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,vA,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch(a){return{width:0,height:0}}},bA=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||uA)return{width:0,height:0};if(!mA.enableCache)return xA(e,t);var n=function(e,t){var n=t.fontSize||"",r=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(i,"|").concat(s,"|").concat(o)}(e,t),r=gA.get(n);if(r)return r;var a=xA(e,t);return gA.set(n,a),a};function wA(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class jA{static create(e){return new jA(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==e){if(n)switch(n){case"start":default:return this.scale(e);case"middle":var r=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+r;case"end":var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}if(t){var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}return this.scale(e)}}isInRange(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}wA(jA,"EPS",1e-4);function kA(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],a=0;a<e.length;a+=t){if(void 0!==n&&!0!==n(e[a]))return;r.push(e[a])}return r}function NA(e,t,n){return function(e){var{width:t,height:n}=e,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),a=r*Math.PI/180,i=Math.atan(n/t),s=a>i&&a<Math.PI-i?n/Math.sin(a):t/Math.cos(a);return Math.abs(s)}({width:e.width+t.width,height:e.height+t.height},n)}function _A(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-a)<=0}function SA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function CA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SA(Object(n),!0).forEach(function(t){OA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function OA(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EA(e,t,n){var r,{tick:a,ticks:i,viewBox:s,minTickGap:o,orientation:l,interval:c,tickFormatter:u,unit:d,angle:h}=e;if(!i||!i.length||!a)return[];if(Jp(c)||uA)return null!==(r=function(e,t){return kA(e,t+1)}(i,Jp(c)?c:0))&&void 0!==r?r:[];var f=[],p="top"===l||"bottom"===l?"width":"height",m=d&&"width"===p?bA(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},g=(e,r)=>{var a="function"===typeof u?u(e.value,r):e.value;return"width"===p?NA(bA(a,{fontSize:t,letterSpacing:n}),m,h):bA(a,{fontSize:t,letterSpacing:n})[p]},v=i.length>=2?Gp(i[1].coordinate-i[0].coordinate):1,y=function(e,t,n){var r="width"===n,{x:a,y:i,width:s,height:o}=e;return 1===t?{start:r?a:i,end:r?a+s:i+o}:{start:r?a+s:i+o,end:r?a:i}}(s,v,p);return"equidistantPreserveStart"===c?function(e,t,n,r,a){for(var i,s=(r||[]).slice(),{start:o,end:l}=t,c=0,u=1,d=o,h=function(){var t=null===r||void 0===r?void 0:r[c];if(void 0===t)return{v:kA(r,u)};var i,s=c,h=()=>(void 0===i&&(i=n(t,s)),i),f=t.coordinate,p=0===c||_A(e,f,h,d,l);p||(c=0,d=o,u+=1),p&&(d=f+e*(h()/2+a),c+=u)};u<=s.length;)if(i=h())return i.v;return[]}(v,y,g,i,o):(f="preserveStart"===c||"preserveStartEnd"===c?function(e,t,n,r,a,i){var s=(r||[]).slice(),o=s.length,{start:l,end:c}=t;if(i){var u=r[o-1],d=n(u,o-1),h=e*(u.coordinate+e*d/2-c);s[o-1]=u=CA(CA({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),_A(e,u.tickCoord,()=>d,l,c)&&(c=u.tickCoord-e*(d/2+a),s[o-1]=CA(CA({},u),{},{isShow:!0}))}for(var f=i?o-1:o,p=function(t){var r,i=s[t],o=()=>(void 0===r&&(r=n(i,t)),r);if(0===t){var u=e*(i.coordinate-e*o()/2-l);s[t]=i=CA(CA({},i),{},{tickCoord:u<0?i.coordinate-u*e:i.coordinate})}else s[t]=i=CA(CA({},i),{},{tickCoord:i.coordinate});_A(e,i.tickCoord,o,l,c)&&(l=i.tickCoord+e*(o()/2+a),s[t]=CA(CA({},i),{},{isShow:!0}))},m=0;m<f;m++)p(m);return s}(v,y,g,i,o,"preserveStartEnd"===c):function(e,t,n,r,a){for(var i=(r||[]).slice(),s=i.length,{start:o}=t,{end:l}=t,c=function(t){var r,c=i[t],u=()=>(void 0===r&&(r=n(c,t)),r);if(t===s-1){var d=e*(c.coordinate+e*u()/2-l);i[t]=c=CA(CA({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else i[t]=c=CA(CA({},c),{},{tickCoord:c.coordinate});_A(e,c.tickCoord,u,o,l)&&(l=c.tickCoord-e*(u()/2+a),i[t]=CA(CA({},c),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return i}(v,y,g,i,o),f.filter(e=>e.isShow))}function PA(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}var TA=["children","className"];function AA(){return AA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AA.apply(null,arguments)}var MA=t.forwardRef((e,n)=>{var{children:r,className:a}=e,i=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,TA),s=Up("recharts-layer",a);return t.createElement("g",AA({className:s},_T(i,!0),{ref:n}),r)}),DA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,zA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,IA=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,LA=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,RA={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},$A=Object.keys(RA),FA="NaN";class BA{static parse(e){var t,[,n,r]=null!==(t=LA.exec(e))&&void 0!==t?t:[];return new BA(parseFloat(n),null!==r&&void 0!==r?r:"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,Yp(e)&&(this.unit=""),""===t||IA.test(t)||(this.num=NaN,this.unit=""),$A.includes(t)&&(this.num=function(e,t){return e*RA[t]}(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new BA(NaN,""):new BA(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new BA(NaN,""):new BA(this.num-e.num,this.unit)}multiply(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new BA(NaN,""):new BA(this.num*e.num,this.unit||e.unit)}divide(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new BA(NaN,""):new BA(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Yp(this.num)}}function VA(e){if(e.includes(FA))return FA;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,a,i]=null!==(n=DA.exec(t))&&void 0!==n?n:[],s=BA.parse(null!==r&&void 0!==r?r:""),o=BA.parse(null!==i&&void 0!==i?i:""),l="*"===a?s.multiply(o):s.divide(o);if(l.isNaN())return FA;t=t.replace(DA,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,u,d,h]=null!==(c=zA.exec(t))&&void 0!==c?c:[],f=BA.parse(null!==u&&void 0!==u?u:""),p=BA.parse(null!==h&&void 0!==h?h:""),m="+"===d?f.add(p):f.subtract(p);if(m.isNaN())return FA;t=t.replace(zA,m.toString())}return t}var UA=/\(([^()]*)\)/;function HA(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t,n=e;null!=(t=UA.exec(n));){var[,r]=t;n=n.replace(UA,VA(r))}return n}(t),t=VA(t)}function qA(e){var t=function(e){try{return HA(e)}catch(t){return FA}}(e.slice(5,-1));return t===FA?"":t}var WA=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],KA=["dx","dy","angle","className","breakAll"];function GA(){return GA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GA.apply(null,arguments)}function YA(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var XA=/[ \f\n\r\t\v\u2028\u2029]+/,JA=e=>{var{children:t,breakAll:n,style:r}=e;try{var a=[];return im(t)||(a=n?t.toString().split(""):t.toString().split(XA)),{wordsWithComputedWidth:a.map(e=>({word:e,width:bA(e,r).width})),spaceWidth:n?0:bA("\xa0",r).width}}catch(i){return null}},ZA=e=>[{words:im(e)?[]:e.toString().split(XA)}],QA=e=>{var{width:t,scaleToFit:n,children:r,style:a,breakAll:i,maxLines:s}=e;if((t||n)&&!uA){var o=JA({breakAll:i,children:r,style:a});if(!o)return ZA(r);var{wordsWithComputedWidth:l,spaceWidth:c}=o;return((e,t,n,r,a)=>{var{maxLines:i,children:s,style:o,breakAll:l}=e,c=Jp(i),u=s,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((e,t)=>{var{word:i,width:s}=t,o=e[e.length-1];if(o&&(null==r||a||o.width+s+n<Number(r)))o.words.push(i),o.width+=s+n;else{var l={words:[i],width:s};e.push(l)}return e},[])},h=d(t),f=e=>e.reduce((e,t)=>e.width>t.width?e:t);if(!c||a)return h;if(!(h.length>i||f(h).width>Number(r)))return h;for(var p,m=e=>{var t=u.slice(0,e),n=JA({breakAll:l,style:o,children:t+"\u2026"}).wordsWithComputedWidth,a=d(n);return[a.length>i||f(a).width>Number(r),a]},g=0,v=u.length-1,y=0;g<=v&&y<=u.length-1;){var x=Math.floor((g+v)/2),b=x-1,[w,j]=m(b),[k]=m(x);if(w||k||(g=x+1),w&&k&&(v=x-1),!w&&k){p=j;break}y++}return p||h})({breakAll:i,children:r,maxLines:s,style:a},l,c,t,n)}return ZA(r)},eM="#808080",tM=(0,t.forwardRef)((e,n)=>{var{x:r=0,y:a=0,lineHeight:i="1em",capHeight:s="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=eM}=e,d=YA(e,WA),h=(0,t.useMemo)(()=>QA({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:o,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,o,d.style,d.width]),{dx:f,dy:p,angle:m,className:g,breakAll:v}=d,y=YA(d,KA);if(!Zp(r)||!Zp(a))return null;var x,b=r+(Jp(f)?f:0),w=a+(Jp(p)?p:0);switch(c){case"start":x=qA("calc(".concat(s,")"));break;case"middle":x=qA("calc(".concat((h.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:x=qA("calc(".concat(h.length-1," * -").concat(i,")"))}var j=[];if(o){var k=h[0].width,{width:N}=d;j.push("scale(".concat(Jp(N)?N/k:1,")"))}return m&&j.push("rotate(".concat(m,", ").concat(b,", ").concat(w,")")),j.length&&(y.transform=j.join(" ")),t.createElement("text",GA({},_T(y,!0),{ref:n,x:b,y:w,className:Up("recharts-text",g),textAnchor:l,fill:u.includes("url")?eM:u}),h.map((e,n)=>{var r=e.words.join(v?"":" ");return t.createElement("tspan",{x:b,dy:0===n?x:i,key:"".concat(r,"-").concat(n)},r)}))});tM.displayName="Text";var nM=["offset"],rM=["labelRef"];function aM(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function iM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function sM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iM(Object(n),!0).forEach(function(t){oM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function oM(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lM(){return lM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lM.apply(null,arguments)}var cM=e=>null!=e&&"function"===typeof e,uM=(e,n,r,a)=>{var i,s,{position:o,offset:l,className:c}=e,{cx:u,cy:d,innerRadius:h,outerRadius:f,startAngle:p,endAngle:m,clockWise:g}=a,v=(h+f)/2,y=((e,t)=>Gp(t-e)*Math.min(Math.abs(t-e),360))(p,m),x=y>=0?1:-1;"insideStart"===o?(i=p+x*l,s=g):"insideEnd"===o?(i=m-x*l,s=!g):"end"===o&&(i=m+x*l,s=g),s=y<=0?s:!s;var b=gx(u,d,v,i),w=gx(u,d,v,i+359*(s?1:-1)),j="M".concat(b.x,",").concat(b.y,"\n    A").concat(v,",").concat(v,",0,1,").concat(s?0:1,",\n    ").concat(w.x,",").concat(w.y),k=im(e.id)?em("recharts-radial-line-"):e.id;return t.createElement("text",lM({},r,{dominantBaseline:"central",className:Up("recharts-radial-bar-label",c)}),t.createElement("defs",null,t.createElement("path",{id:k,d:j})),t.createElement("textPath",{xlinkHref:"#".concat(k)},n))};function dM(e){var{offset:n=5}=e,r=sM({offset:n},aM(e,nM)),{viewBox:a,position:i,value:s,children:o,content:l,className:c="",textBreakAll:u,labelRef:d}=r,h=ex(kS),f=rb(),p=a||("center"===i?f:null!==h&&void 0!==h?h:f);if(!p||im(s)&&im(o)&&!(0,t.isValidElement)(l)&&"function"!==typeof l)return null;var m,g=sM(sM({},r),{},{viewBox:p});if((0,t.isValidElement)(l)){var{labelRef:v}=g,y=aM(g,rM);return(0,t.cloneElement)(l,y)}if("function"===typeof l){if(m=(0,t.createElement)(l,g),(0,t.isValidElement)(m))return m}else m=(e=>{var{value:t,formatter:n}=e,r=im(e.children)?t:e.children;return"function"===typeof n?n(r):r})(r);var x=(e=>"cx"in e&&Jp(e.cx))(p),b=_T(r,!0);if(x&&("insideStart"===i||"insideEnd"===i||"end"===i))return uM(r,m,b,p);var w=x?((e,t,n)=>{var{cx:r,cy:a,innerRadius:i,outerRadius:s,startAngle:o,endAngle:l}=e,c=(o+l)/2;if("outside"===n){var{x:u,y:d}=gx(r,a,s+t,c);return{x:u,y:d,textAnchor:u>=r?"start":"end",verticalAnchor:"middle"}}if("center"===n)return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===n)return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===n)return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(i+s)/2,{x:f,y:p}=gx(r,a,h,c);return{x:f,y:p,textAnchor:"middle",verticalAnchor:"middle"}})(p,r.offset,r.position):((e,t)=>{var{parentViewBox:n,offset:r,position:a}=e,{x:i,y:s,width:o,height:l}=t,c=l>=0?1:-1,u=c*r,d=c>0?"end":"start",h=c>0?"start":"end",f=o>=0?1:-1,p=f*r,m=f>0?"end":"start",g=f>0?"start":"end";if("top"===a)return sM(sM({},{x:i+o/2,y:s-c*r,textAnchor:"middle",verticalAnchor:d}),n?{height:Math.max(s-n.y,0),width:o}:{});if("bottom"===a)return sM(sM({},{x:i+o/2,y:s+l+u,textAnchor:"middle",verticalAnchor:h}),n?{height:Math.max(n.y+n.height-(s+l),0),width:o}:{});if("left"===a){var v={x:i-p,y:s+l/2,textAnchor:m,verticalAnchor:"middle"};return sM(sM({},v),n?{width:Math.max(v.x-n.x,0),height:l}:{})}if("right"===a){var y={x:i+o+p,y:s+l/2,textAnchor:g,verticalAnchor:"middle"};return sM(sM({},y),n?{width:Math.max(n.x+n.width-y.x,0),height:l}:{})}var x=n?{width:o,height:l}:{};return"insideLeft"===a?sM({x:i+p,y:s+l/2,textAnchor:g,verticalAnchor:"middle"},x):"insideRight"===a?sM({x:i+o-p,y:s+l/2,textAnchor:m,verticalAnchor:"middle"},x):"insideTop"===a?sM({x:i+o/2,y:s+u,textAnchor:"middle",verticalAnchor:h},x):"insideBottom"===a?sM({x:i+o/2,y:s+l-u,textAnchor:"middle",verticalAnchor:d},x):"insideTopLeft"===a?sM({x:i+p,y:s+u,textAnchor:g,verticalAnchor:h},x):"insideTopRight"===a?sM({x:i+o-p,y:s+u,textAnchor:m,verticalAnchor:h},x):"insideBottomLeft"===a?sM({x:i+p,y:s+l-u,textAnchor:g,verticalAnchor:d},x):"insideBottomRight"===a?sM({x:i+o-p,y:s+l-u,textAnchor:m,verticalAnchor:d},x):a&&"object"===typeof a&&(Jp(a.x)||Xp(a.x))&&(Jp(a.y)||Xp(a.y))?sM({x:i+tm(a.x,o),y:s+tm(a.y,l),textAnchor:"end",verticalAnchor:"end"},x):sM({x:i+o/2,y:s+l/2,textAnchor:"middle",verticalAnchor:"middle"},x)})(r,p);return t.createElement(tM,lM({ref:d,className:Up("recharts-label",c)},b,w,{breakAll:u}),m)}dM.displayName="Label";var hM=e=>{var{cx:t,cy:n,angle:r,startAngle:a,endAngle:i,r:s,radius:o,innerRadius:l,outerRadius:c,x:u,y:d,top:h,left:f,width:p,height:m,clockWise:g,labelViewBox:v}=e;if(v)return v;if(Jp(p)&&Jp(m)){if(Jp(u)&&Jp(d))return{x:u,y:d,width:p,height:m};if(Jp(h)&&Jp(f))return{x:h,y:f,width:p,height:m}}return Jp(u)&&Jp(d)?{x:u,y:d,width:0,height:0}:Jp(t)&&Jp(n)?{cx:t,cy:n,startAngle:a||r||0,endAngle:i||r||0,innerRadius:l||0,outerRadius:c||o||s||0,clockWise:g}:e.viewBox?e.viewBox:void 0};dM.parseViewBox=hM,dM.renderCallByParent=function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var{children:a,labelRef:i}=e,s=hM(e),o=NT(a,dM).map((e,r)=>(0,t.cloneElement)(e,{viewBox:n||s,key:"label-".concat(r)}));if(!r)return o;var l=((e,n,r)=>{if(!e)return null;var a={viewBox:n,labelRef:r};return!0===e?t.createElement(dM,lM({key:"label-implicit"},a)):Zp(e)?t.createElement(dM,lM({key:"label-implicit",value:e},a)):(0,t.isValidElement)(e)?e.type===dM?(0,t.cloneElement)(e,sM({key:"label-implicit"},a)):t.createElement(dM,lM({key:"label-implicit",content:e},a)):cM(e)?t.createElement(dM,lM({key:"label-implicit",content:e},a)):e&&"object"===typeof e?t.createElement(dM,lM({},e,{key:"label-implicit"},a)):null})(e.label,n||s,i);return[l,...o]};var fM=["viewBox"],pM=["viewBox"];function mM(){return mM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mM.apply(null,arguments)}function gM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function vM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gM(Object(n),!0).forEach(function(t){xM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function yM(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function xM(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class bM extends t.Component{constructor(e){super(e),this.tickRefs=t.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,t){var{viewBox:n}=e,r=yM(e,fM),a=this.props,{viewBox:i}=a,s=yM(a,pM);return!PA(n,i)||!PA(r,s)||!PA(t,this.state)}getTickLineCoord(e){var t,n,r,a,i,s,{x:o,y:l,width:c,height:u,orientation:d,tickSize:h,mirror:f,tickMargin:p}=this.props,m=f?-1:1,g=e.tickSize||h,v=Jp(e.tickCoord)?e.tickCoord:e.coordinate;switch(d){case"top":t=n=e.coordinate,s=(r=(a=l+ +!f*u)-m*g)-m*p,i=v;break;case"left":r=a=e.coordinate,i=(t=(n=o+ +!f*c)-m*g)-m*p,s=v;break;case"right":r=a=e.coordinate,i=(t=(n=o+ +f*c)+m*g)+m*p,s=v;break;default:t=n=e.coordinate,s=(r=(a=l+ +f*u)+m*g)+m*p,i=v}return{line:{x1:t,y1:r,x2:n,y2:a},tick:{x:i,y:s}}}getTickTextAnchor(){var e,{orientation:t,mirror:n}=this.props;switch(t){case"left":e=n?"start":"end";break;case"right":e=n?"end":"start";break;default:e="middle"}return e}getTickVerticalAnchor(){var{orientation:e,mirror:t}=this.props;switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}renderAxisLine(){var{x:e,y:n,width:r,height:a,orientation:i,mirror:s,axisLine:o}=this.props,l=vM(vM(vM({},_T(this.props,!1)),_T(o,!1)),{},{fill:"none"});if("top"===i||"bottom"===i){var c=+("top"===i&&!s||"bottom"===i&&s);l=vM(vM({},l),{},{x1:e,y1:n+c*a,x2:e+r,y2:n+c*a})}else{var u=+("left"===i&&!s||"right"===i&&s);l=vM(vM({},l),{},{x1:e+u*r,y1:n,x2:e+u*r,y2:n+a})}return t.createElement("line",mM({},l,{className:Up("recharts-cartesian-axis-line",Kp()(o,"className"))}))}static renderTickItem(e,n,r){var a,i=Up(n.className,"recharts-cartesian-axis-tick-value");if(t.isValidElement(e))a=t.cloneElement(e,vM(vM({},n),{},{className:i}));else if("function"===typeof e)a=e(vM(vM({},n),{},{className:i}));else{var s="recharts-cartesian-axis-tick-value";"boolean"!==typeof e&&(s=Up(s,e.className)),a=t.createElement(tM,mM({},n,{className:s}),r)}return a}renderTicks(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],{tickLine:a,stroke:i,tick:s,tickFormatter:o,unit:l,padding:c}=this.props,u=EA(vM(vM({},this.props),{},{ticks:r}),e,n),d=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),f=xT(this.props),p=_T(s,!1),m=vM(vM({},f),{},{fill:"none"},_T(a,!1)),g=u.map((e,n)=>{var{line:r,tick:g}=this.getTickLineCoord(e),v=vM(vM(vM(vM({textAnchor:d,verticalAnchor:h},f),{},{stroke:"none",fill:i},p),g),{},{index:n,payload:e,visibleTicksCount:u.length,tickFormatter:o,padding:c});return t.createElement(MA,mM({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},gT(this.props,e,n)),a&&t.createElement("line",mM({},m,r,{className:Up("recharts-cartesian-axis-tick-line",Kp()(a,"className"))})),s&&bM.renderTickItem(s,v,"".concat("function"===typeof o?o(e.value,n):e.value).concat(l||"")))});return g.length>0?t.createElement("g",{className:"recharts-cartesian-axis-ticks"},g):null}render(){var{axisLine:e,width:n,height:r,className:a,hide:i}=this.props;if(i)return null;var{ticks:s}=this.props;return null!=n&&n<=0||null!=r&&r<=0?null:t.createElement(MA,{className:Up("recharts-cartesian-axis",a),ref:e=>{if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(t);var n=t[0];if(n){var r=window.getComputedStyle(n).fontSize,a=window.getComputedStyle(n).letterSpacing;r===this.state.fontSize&&a===this.state.letterSpacing||this.setState({fontSize:window.getComputedStyle(n).fontSize,letterSpacing:window.getComputedStyle(n).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,s),dM.renderCallByParent(this.props))}}xM(bM,"displayName","CartesianAxis"),xM(bM,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var wM=["x1","y1","x2","y2","key"],jM=["offset"],kM=["xAxisId","yAxisId"],NM=["xAxisId","yAxisId"];function _M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function SM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_M(Object(n),!0).forEach(function(t){CM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_M(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function CM(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OM(){return OM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OM.apply(null,arguments)}function EM(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var PM=e=>{var{fill:n}=e;if(!n||"none"===n)return null;var{fillOpacity:r,x:a,y:i,width:s,height:o,ry:l}=e;return t.createElement("rect",{x:a,y:i,ry:l,width:s,height:o,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function TM(e,n){var r;if(t.isValidElement(e))r=t.cloneElement(e,n);else if("function"===typeof e)r=e(n);else{var{x1:a,y1:i,x2:s,y2:o,key:l}=n,c=xT(EM(n,wM)),{offset:u}=c,d=EM(c,jM);r=t.createElement("line",OM({},d,{x1:a,y1:i,x2:s,y2:o,fill:"none",key:l}))}return r}function AM(e){var{x:n,width:r,horizontal:a=!0,horizontalPoints:i}=e;if(!a||!i||!i.length)return null;var{xAxisId:s,yAxisId:o}=e,l=EM(e,kM),c=i.map((e,t)=>{var i=SM(SM({},l),{},{x1:n,y1:e,x2:n+r,y2:e,key:"line-".concat(t),index:t});return TM(a,i)});return t.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function MM(e){var{y:n,height:r,vertical:a=!0,verticalPoints:i}=e;if(!a||!i||!i.length)return null;var{xAxisId:s,yAxisId:o}=e,l=EM(e,NM),c=i.map((e,t)=>{var i=SM(SM({},l),{},{x1:e,y1:n,x2:e,y2:n+r,key:"line-".concat(t),index:t});return TM(a,i)});return t.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function DM(e){var{horizontalFill:n,fillOpacity:r,x:a,y:i,width:s,height:o,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!n||!n.length)return null;var u=l.map(e=>Math.round(e+i-i)).sort((e,t)=>e-t);i!==u[0]&&u.unshift(0);var d=u.map((e,l)=>{var c=!u[l+1]?i+o-e:u[l+1]-e;if(c<=0)return null;var d=l%n.length;return t.createElement("rect",{key:"react-".concat(l),y:e,x:a,height:c,width:s,stroke:"none",fill:n[d],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function zM(e){var{vertical:n=!0,verticalFill:r,fillOpacity:a,x:i,y:s,width:o,height:l,verticalPoints:c}=e;if(!n||!r||!r.length)return null;var u=c.map(e=>Math.round(e+i-i)).sort((e,t)=>e-t);i!==u[0]&&u.unshift(0);var d=u.map((e,n)=>{var c=!u[n+1]?i+o-e:u[n+1]-e;if(c<=0)return null;var d=n%r.length;return t.createElement("rect",{key:"react-".concat(n),x:e,y:s,width:c,height:l,stroke:"none",fill:r[d],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var IM=(e,t)=>{var{xAxis:n,width:r,height:a,offset:i}=e;return Cx(EA(SM(SM(SM({},bM.defaultProps),n),{},{ticks:Ox(n,!0),viewBox:{x:0,y:0,width:r,height:a}})),i.left,i.left+i.width,t)},LM=(e,t)=>{var{yAxis:n,width:r,height:a,offset:i}=e;return Cx(EA(SM(SM(SM({},bM.defaultProps),n),{},{ticks:Ox(n,!0),viewBox:{x:0,y:0,width:r,height:a}})),i.top,i.top+i.height,t)},RM={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function $M(e){var n=sb(),r=ob(),a=ib(),i=SM(SM({},rA(e,RM)),{},{x:Jp(e.x)?e.x:a.left,y:Jp(e.y)?e.y:a.top,width:Jp(e.width)?e.width:a.width,height:Jp(e.height)?e.height:a.height}),{xAxisId:s,yAxisId:o,x:l,y:c,width:u,height:d,syncWithTicks:h,horizontalValues:f,verticalValues:p}=i,m=eb(),g=ex(e=>yO(e,"xAxis",s,m)),v=ex(e=>yO(e,"yAxis",o,m));if(!Jp(u)||u<=0||!Jp(d)||d<=0||!Jp(l)||l!==+l||!Jp(c)||c!==+c)return null;var y=i.verticalCoordinatesGenerator||IM,x=i.horizontalCoordinatesGenerator||LM,{horizontalPoints:b,verticalPoints:w}=i;if((!b||!b.length)&&"function"===typeof x){var j=f&&f.length,k=x({yAxis:v?SM(SM({},v),{},{ticks:j?f:v.ticks}):void 0,width:n,height:r,offset:a},!!j||h);om(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(b=k)}if((!w||!w.length)&&"function"===typeof y){var N=p&&p.length,_=y({xAxis:g?SM(SM({},g),{},{ticks:N?p:g.ticks}):void 0,width:n,height:r,offset:a},!!N||h);om(Array.isArray(_),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(w=_)}return t.createElement("g",{className:"recharts-cartesian-grid"},t.createElement(PM,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),t.createElement(DM,OM({},i,{horizontalPoints:b})),t.createElement(zM,OM({},i,{verticalPoints:w})),t.createElement(AM,OM({},i,{offset:a,horizontalPoints:b,xAxis:g,yAxis:v})),t.createElement(MM,OM({},i,{offset:a,verticalPoints:w,xAxis:g,yAxis:v})))}$M.displayName="CartesianGrid";var FM=["children"],BM=["dangerouslySetInnerHTML","ticks"];function VM(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UM(){return UM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UM.apply(null,arguments)}function HM(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function qM(e){var n=Xy(),r=(0,t.useMemo)(()=>{var{children:t}=e;return HM(e,FM)},[e]),a=ex(e=>LS(e,r.id)),i=r===a;return(0,t.useEffect)(()=>(n(tP(r)),()=>{n(nP(r))}),[r,n]),i?e.children:null}var WM=e=>{var{xAxisId:n,className:r}=e,a=ex(Zx),i=eb(),s="xAxis",o=ex(e=>nO(e,s,n,i)),l=ex(e=>xO(e,s,n,i)),c=ex(e=>cO(e,n)),u=ex(e=>((e,t)=>{var n=Xx(e),r=LS(e,t);if(null!=r){var a=uO(e,r.orientation,r.mirror)[t];return null==a?{x:n.left,y:0}:{x:n.left,y:a}}})(e,n));if(null==c||null==u)return null;var{dangerouslySetInnerHTML:d,ticks:h}=e,f=HM(e,BM);return t.createElement(bM,UM({},f,{scale:o,x:u.x,y:u.y,width:c.width,height:c.height,className:Up("recharts-".concat(s," ").concat(s),r),viewBox:a,ticks:l}))},KM=e=>{var n,r,a,i,s;return t.createElement(qM,{interval:null!==(n=e.interval)&&void 0!==n?n:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:null!==(r=e.includeHidden)&&void 0!==r&&r,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:null!==(a=e.angle)&&void 0!==a?a:0,minTickGap:null!==(i=e.minTickGap)&&void 0!==i?i:5,tick:null===(s=e.tick)||void 0===s||s,tickFormatter:e.tickFormatter},t.createElement(WM,e))};class GM extends t.Component{render(){return t.createElement(KM,this.props)}}VM(GM,"displayName","XAxis"),VM(GM,"defaultProps",{allowDataOverflow:IS.allowDataOverflow,allowDecimals:IS.allowDecimals,allowDuplicatedCategory:IS.allowDuplicatedCategory,height:IS.height,hide:!1,mirror:IS.mirror,orientation:IS.orientation,padding:IS.padding,reversed:IS.reversed,scale:IS.scale,tickCount:IS.tickCount,type:IS.type,xAxisId:0});var YM=["dangerouslySetInnerHTML","ticks"];function XM(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JM(){return JM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JM.apply(null,arguments)}function ZM(e){var n=Xy();return(0,t.useEffect)(()=>(n(rP(e)),()=>{n(aP(e))}),[e,n]),null}var QM=e=>{var n,{yAxisId:r,className:a,width:i,label:s}=e,o=(0,t.useRef)(null),l=(0,t.useRef)(null),c=ex(Zx),u=eb(),d=Xy(),h="yAxis",f=ex(e=>nO(e,h,r,u)),p=ex(e=>hO(e,r)),m=ex(e=>((e,t)=>{var n=Xx(e),r=$S(e,t);if(null!=r){var a=dO(e,r.orientation,r.mirror)[t];return null==a?{x:0,y:n.top}:{x:a,y:n.top}}})(e,r)),g=ex(e=>xO(e,h,r,u));if((0,t.useLayoutEffect)(()=>{var e;if("auto"===i&&p&&!cM(s)&&!(0,t.isValidElement)(s)){var n=o.current,a=null===n||void 0===n||null===(e=n.tickRefs)||void 0===e?void 0:e.current,{tickSize:c,tickMargin:u}=n.props,h=(e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:i=0}=e,s=0;if(t){t.forEach(e=>{if(e){var t=e.getBoundingClientRect();t.width>s&&(s=t.width)}});var o=n?n.getBoundingClientRect().width:0,l=s+(a+i)+o+(n?r:0);return Math.round(l)}return 0})({ticks:a,label:l.current,labelGapWithTick:5,tickSize:c,tickMargin:u});Math.round(p.width)!==Math.round(h)&&d(oP({id:r,width:h}))}},[o,null===o||void 0===o||null===(n=o.current)||void 0===n||null===(n=n.tickRefs)||void 0===n?void 0:n.current,null===p||void 0===p?void 0:p.width,p,d,s,r,i]),null==p||null==m)return null;var{dangerouslySetInnerHTML:v,ticks:y}=e,x=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,YM);return t.createElement(bM,JM({},x,{ref:o,labelRef:l,scale:f,x:m.x,y:m.y,width:p.width,height:p.height,className:Up("recharts-".concat(h," ").concat(h),a),viewBox:c,ticks:g}))},eD=e=>{var n,r,a,i,s;return t.createElement(t.Fragment,null,t.createElement(ZM,{interval:null!==(n=e.interval)&&void 0!==n?n:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:null!==(r=e.includeHidden)&&void 0!==r&&r,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:null!==(a=e.angle)&&void 0!==a?a:0,minTickGap:null!==(i=e.minTickGap)&&void 0!==i?i:5,tick:null===(s=e.tick)||void 0===s||s,tickFormatter:e.tickFormatter}),t.createElement(QM,e))},tD={allowDataOverflow:RS.allowDataOverflow,allowDecimals:RS.allowDecimals,allowDuplicatedCategory:RS.allowDuplicatedCategory,hide:!1,mirror:RS.mirror,orientation:RS.orientation,padding:RS.padding,reversed:RS.reversed,scale:RS.scale,tickCount:RS.tickCount,type:RS.type,width:RS.width,yAxisId:0};class nD extends t.Component{render(){return t.createElement(eD,this.props)}}XM(nD,"displayName","YAxis"),XM(nD,"defaultProps",tD);var rD=n(7950);function aD(){return aD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aD.apply(null,arguments)}function iD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function sD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iD(Object(n),!0).forEach(function(t){oD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function oD(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lD(e){return Array.isArray(e)&&Zp(e[0])&&Zp(e[1])?e.join(" ~ "):e}var cD=e=>{var{separator:n=" : ",contentStyle:r={},itemStyle:a={},labelStyle:i={},payload:s,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:h,accessibilityLayer:f=!1}=e,p=sD({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),m=sD({margin:0},i),g=!im(d),v=g?d:"",y=Up("recharts-default-tooltip",c),x=Up("recharts-tooltip-label",u);g&&h&&void 0!==s&&null!==s&&(v=h(d,s));var b=f?{role:"status","aria-live":"assertive"}:{};return t.createElement("div",aD({className:y,style:p},b),t.createElement("p",{className:x,style:m},t.isValidElement(v)?v:"".concat(v)),(()=>{if(s&&s.length){var e=(l?nx()(s,l):s).map((e,r)=>{if("none"===e.type)return null;var i=e.formatter||o||lD,{value:l,name:c}=e,u=l,d=c;if(i){var h=i(l,c,e,r,s);if(Array.isArray(h))[u,d]=h;else{if(null==h)return null;u=h}}var f=sD({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},a);return t.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(r),style:f},Zp(d)?t.createElement("span",{className:"recharts-tooltip-item-name"},d):null,Zp(d)?t.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,t.createElement("span",{className:"recharts-tooltip-item-value"},u),t.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return t.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null})())},uD="recharts-tooltip-wrapper",dD={visibility:"hidden"};function hD(e){var{coordinate:t,translateX:n,translateY:r}=e;return Up(uD,{["".concat(uD,"-right")]:Jp(n)&&t&&Jp(t.x)&&n>=t.x,["".concat(uD,"-left")]:Jp(n)&&t&&Jp(t.x)&&n<t.x,["".concat(uD,"-bottom")]:Jp(r)&&t&&Jp(t.y)&&r>=t.y,["".concat(uD,"-top")]:Jp(r)&&t&&Jp(t.y)&&r<t.y})}function fD(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:a,position:i,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=e;if(i&&Jp(i[r]))return i[r];var u=n[r]-o-(a>0?a:0),d=n[r]+a;if(t[r])return s[r]?u:d;var h=l[r];return null==h?0:s[r]?u<h?Math.max(d,h):Math.max(u,h):null==c?0:d+o>h+c?Math.max(u,h):Math.max(d,h)}function pD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function mD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pD(Object(n),!0).forEach(function(t){gD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function gD(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class vD extends t.PureComponent{constructor(){super(...arguments),gD(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),gD(this,"handleKeyDown",e=>{var t,n,r,a;"Escape"===e.key&&this.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(t=null===(n=this.props.coordinate)||void 0===n?void 0:n.x)&&void 0!==t?t:0,y:null!==(r=null===(a=this.props.coordinate)||void 0===a?void 0:a.y)&&void 0!==r?r:0}})})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:i,coordinate:s,hasPayload:o,isAnimationActive:l,offset:c,position:u,reverseDirection:d,useTranslate3d:h,viewBox:f,wrapperStyle:p,lastBoundingBox:m,innerRef:g,hasPortalFromProps:v}=this.props,{cssClasses:y,cssProperties:x}=function(e){var t,n,r,{allowEscapeViewBox:a,coordinate:i,offsetTopLeft:s,position:o,reverseDirection:l,tooltipBox:c,useTranslate3d:u,viewBox:d}=e;return t=c.height>0&&c.width>0&&i?function(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:n=fD({allowEscapeViewBox:a,coordinate:i,key:"x",offsetTopLeft:s,position:o,reverseDirection:l,tooltipDimension:c.width,viewBox:d,viewBoxDimension:d.width}),translateY:r=fD({allowEscapeViewBox:a,coordinate:i,key:"y",offsetTopLeft:s,position:o,reverseDirection:l,tooltipDimension:c.height,viewBox:d,viewBoxDimension:d.height}),useTranslate3d:u}):dD,{cssProperties:t,cssClasses:hD({translateX:n,translateY:r,coordinate:i})}}({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:c,position:u,reverseDirection:d,tooltipBox:{height:m.height,width:m.width},useTranslate3d:h,viewBox:f}),b=v?{}:mD(mD({transition:l&&e?"transform ".concat(r,"ms ").concat(a):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),w=mD(mD({},b),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},p);return t.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:y,style:w,ref:g},i)}}var yD=n(4332),xD=n.n(yD);function bD(e,t,n){return!0===t?xD()(e,n):"function"===typeof t?xD()(e,t):e}function wD(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[n,r]=(0,t.useState)({height:0,left:0,top:0,width:0}),a=(0,t.useCallback)(e=>{if(null!=e){var t=e.getBoundingClientRect(),a={height:t.height,left:t.left,top:t.top,width:t.width};(Math.abs(a.height-n.height)>1||Math.abs(a.left-n.left)>1||Math.abs(a.top-n.top)>1||Math.abs(a.width-n.width)>1)&&r({height:a.height,left:a.left,top:a.top,width:a.width})}},[n.width,n.height,n.top,n.left,...e]);return[n,a]}function jD(){}function kD(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function ND(e){this._context=e}function _D(e){this._context=e}function SD(e){this._context=e}ND.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:kD(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:kD(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},_D.prototype={areaStart:jD,areaEnd:jD,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:kD(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},SD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:kD(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class CD{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function OD(e){this._context=e}function ED(e){this._context=e}function PD(e){return new ED(e)}function TD(e){return e<0?-1:1}function AD(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),s=(n-e._y1)/(a||r<0&&-0),o=(i*a+s*r)/(r+a);return(TD(i)+TD(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function MD(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function DD(e,t,n){var r=e._x0,a=e._y0,i=e._x1,s=e._y1,o=(i-r)/3;e._context.bezierCurveTo(r+o,a+o*t,i-o,s-o*n,i,s)}function zD(e){this._context=e}function ID(e){this._context=new LD(e)}function LD(e){this._context=e}function RD(e){this._context=e}function $D(e){var t,n,r=e.length-1,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function FD(e,t){this._context=e,this._t=t}OD.prototype={areaStart:jD,areaEnd:jD,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},ED.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},zD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:DD(this,this._t0,MD(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,DD(this,MD(this,n=AD(this,e,t)),n);break;default:DD(this,this._t0,n=AD(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(ID.prototype=Object.create(zD.prototype)).point=function(e,t){zD.prototype.point.call(this,t,e)},LD.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}},RD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=$D(e),a=$D(t),i=0,s=1;s<n;++i,++s)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[s],t[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},FD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};const BD=Math.PI,VD=2*BD,UD=1e-6,HD=VD-UD;function qD(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class WD{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?qD:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return qD;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,a,i){this._append`C${+e},${+t},${+n},${+r},${this._x1=+a},${this._y1=+i}`}arcTo(e,t,n,r,a){if(e=+e,t=+t,n=+n,r=+r,(a=+a)<0)throw new Error(`negative radius: ${a}`);let i=this._x1,s=this._y1,o=n-e,l=r-t,c=i-e,u=s-t,d=c*c+u*u;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(d>UD)if(Math.abs(u*o-l*c)>UD&&a){let h=n-i,f=r-s,p=o*o+l*l,m=h*h+f*f,g=Math.sqrt(p),v=Math.sqrt(d),y=a*Math.tan((BD-Math.acos((p+d-m)/(2*g*v)))/2),x=y/v,b=y/g;Math.abs(x-1)>UD&&this._append`L${e+x*c},${t+x*u}`,this._append`A${a},${a},0,0,${+(u*h>c*f)},${this._x1=e+b*o},${this._y1=t+b*l}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,n,r,a,i){if(e=+e,t=+t,i=!!i,(n=+n)<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(r),o=n*Math.sin(r),l=e+s,c=t+o,u=1^i,d=i?r-a:a-r;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>UD||Math.abs(this._y1-c)>UD)&&this._append`L${l},${c}`,n&&(d<0&&(d=d%VD+VD),d>HD?this._append`A${n},${n},0,1,${u},${e-s},${t-o}A${n},${n},0,1,${u},${this._x1=l},${this._y1=c}`:d>UD&&this._append`A${n},${n},0,${+(d>=BD)},${u},${this._x1=e+n*Math.cos(a)},${this._y1=t+n*Math.sin(a)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function KD(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new WD(t)}function GD(e){return e[0]}function YD(e){return e[1]}function XD(e,t){var n=ox(!0),r=null,a=PD,i=null,s=KD(o);function o(o){var l,c,u,d=(o=sx(o)).length,h=!1;for(null==r&&(i=a(u=s())),l=0;l<=d;++l)!(l<d&&n(c=o[l],l,o))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(c,l,o),+t(c,l,o));if(u)return i=null,u+""||null}return e="function"===typeof e?e:void 0===e?GD:ox(e),t="function"===typeof t?t:void 0===t?YD:ox(t),o.x=function(t){return arguments.length?(e="function"===typeof t?t:ox(+t),o):e},o.y=function(e){return arguments.length?(t="function"===typeof e?e:ox(+e),o):t},o.defined=function(e){return arguments.length?(n="function"===typeof e?e:ox(!!e),o):n},o.curve=function(e){return arguments.length?(a=e,null!=r&&(i=a(r)),o):a},o.context=function(e){return arguments.length?(null==e?r=i=null:i=a(r=e),o):r},o}function JD(e,t,n){var r=null,a=ox(!0),i=null,s=PD,o=null,l=KD(c);function c(c){var u,d,h,f,p,m=(c=sx(c)).length,g=!1,v=new Array(m),y=new Array(m);for(null==i&&(o=s(p=l())),u=0;u<=m;++u){if(!(u<m&&a(f=c[u],u,c))===g)if(g=!g)d=u,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),h=u-1;h>=d;--h)o.point(v[h],y[h]);o.lineEnd(),o.areaEnd()}g&&(v[u]=+e(f,u,c),y[u]=+t(f,u,c),o.point(r?+r(f,u,c):v[u],n?+n(f,u,c):y[u]))}if(p)return o=null,p+""||null}function u(){return XD().defined(a).curve(s).context(i)}return e="function"===typeof e?e:void 0===e?GD:ox(+e),t="function"===typeof t?t:ox(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?YD:ox(+n),c.x=function(t){return arguments.length?(e="function"===typeof t?t:ox(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:ox(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:ox(+e),c):r},c.y=function(e){return arguments.length?(t="function"===typeof e?e:ox(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:ox(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:ox(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(a="function"===typeof e?e:ox(!!e),c):a},c.curve=function(e){return arguments.length?(s=e,null!=i&&(o=s(i)),c):s},c.context=function(e){return arguments.length?(null==e?i=o=null:o=s(i=e),c):i},c}function ZD(){return ZD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZD.apply(null,arguments)}function QD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ez(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?QD(Object(n),!0).forEach(function(t){tz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tz(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nz={curveBasisClosed:function(e){return new _D(e)},curveBasisOpen:function(e){return new SD(e)},curveBasis:function(e){return new ND(e)},curveBumpX:function(e){return new CD(e,!0)},curveBumpY:function(e){return new CD(e,!1)},curveLinearClosed:function(e){return new OD(e)},curveLinear:PD,curveMonotoneX:function(e){return new zD(e)},curveMonotoneY:function(e){return new ID(e)},curveNatural:function(e){return new RD(e)},curveStep:function(e){return new FD(e,.5)},curveStepAfter:function(e){return new FD(e,1)},curveStepBefore:function(e){return new FD(e,0)}},rz=e=>N_(e.x)&&N_(e.y),az=e=>e.x,iz=e=>e.y,sz=e=>{var t,{type:n="linear",points:r=[],baseLine:a,layout:i,connectNulls:s=!1}=e,o=((e,t)=>{if("function"===typeof e)return e;var n="curve".concat(sm(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?nz[n]||PD:nz["".concat(n).concat("vertical"===t?"Y":"X")]})(n,i),l=s?r.filter(rz):r;if(Array.isArray(a)){var c=s?a.filter(e=>rz(e)):a,u=l.map((e,t)=>ez(ez({},e),{},{base:c[t]}));return(t="vertical"===i?JD().y(iz).x1(az).x0(e=>e.base.x):JD().x(az).y1(iz).y0(e=>e.base.y)).defined(rz).curve(o),t(u)}return(t="vertical"===i&&Jp(a)?JD().y(iz).x1(az).x0(a):Jp(a)?JD().x(az).y1(iz).y0(a):XD().x(az).y(iz)).defined(rz).curve(o),t(l)},oz=e=>{var{className:n,points:r,path:a,pathRef:i}=e;if((!r||!r.length)&&!a)return null;var s=r&&r.length?sz(e):a;return t.createElement("path",ZD({},xT(e),((e,n)=>{if(!e||"function"===typeof e||"boolean"===typeof e)return null;var r=e;if((0,t.isValidElement)(e)&&(r=e.props),"object"!==typeof r&&"function"!==typeof r)return null;var a={};return Object.keys(r).forEach(e=>{fT(e)&&(a[e]=n||(t=>r[e](r,t)))}),a})(e),{className:Up("recharts-curve",n),d:null===s?void 0:s,ref:i}))},lz=["x","y","top","left","width","height","className"];function cz(){return cz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cz.apply(null,arguments)}function uz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function dz(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hz=(e,t,n,r,a,i)=>"M".concat(e,",").concat(a,"v").concat(r,"M").concat(i,",").concat(t,"h").concat(n),fz=e=>{var{x:n=0,y:r=0,top:a=0,left:i=0,width:s=0,height:o=0,className:l}=e,c=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,lz),u=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uz(Object(n),!0).forEach(function(t){dz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:n,y:r,top:a,left:i,width:s,height:o},c);return Jp(n)&&Jp(r)&&Jp(s)&&Jp(o)&&Jp(a)&&Jp(i)?t.createElement("path",cz({},_T(u,!0),{className:Up("recharts-cross",l),d:hz(n,r,s,o,a,i)})):null};var pz=n(4250),mz=n.n(pz),gz=1e-4,vz=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],yz=(e,t)=>e.map((e,n)=>e*t**n).reduce((e,t)=>e+t),xz=(e,t)=>n=>{var r=vz(e,t);return yz(r,n)},bz=function(){for(var e,t,n,r,a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];if(1===i.length)switch(i[0]){case"linear":[e,n,t,r]=[0,0,1,1];break;case"ease":[e,n,t,r]=[.25,.1,.25,1];break;case"ease-in":[e,n,t,r]=[.42,0,1,1];break;case"ease-out":[e,n,t,r]=[.42,0,.58,1];break;case"ease-in-out":[e,n,t,r]=[0,0,.58,1];break;default:var o=i[0].split("(");"cubic-bezier"===o[0]&&4===o[1].split(")")[0].split(",").length&&([e,n,t,r]=o[1].split(")")[0].split(",").map(e=>parseFloat(e)))}else 4===i.length&&([e,n,t,r]=i);var l,c,u=xz(e,t),d=xz(n,r),h=(l=e,c=t,e=>{var t=[...vz(l,c).map((e,t)=>e*t).slice(1),0];return yz(t,e)}),f=e=>e>1?1:e<0?0:e,p=e=>{for(var t=e>1?1:e,n=t,r=0;r<8;++r){var a=u(n)-t,i=h(n);if(Math.abs(a-t)<gz||i<gz)return d(n);n=f(n-a/i)}return d(n)};return p.isStepper=!1,p},wz=e=>{if("string"===typeof e)switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return bz(e);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{stiff:t=100,damping:n=8,dt:r=17}=e,a=(e,a,i)=>{var s=i+(-(e-a)*t-i*n)*r/1e3,o=i*r/1e3+e;return Math.abs(o-a)<gz&&Math.abs(s)<gz?[a,0]:[o,s]};return a.isStepper=!0,a.dt=r,a}();default:if("cubic-bezier"===e.split("(")[0])return bz(e)}return"function"===typeof e?e:null};function jz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function kz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jz(Object(n),!0).forEach(function(t){Nz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Nz(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _z=(e,t)=>Object.keys(t).reduce((n,r)=>kz(kz({},n),{},{[r]:e(r,t[r])}),{});function Sz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Cz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sz(Object(n),!0).forEach(function(t){Oz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Oz(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ez=(e,t,n)=>e+(t-e)*n,Pz=e=>{var{from:t,to:n}=e;return t!==n},Tz=(e,t,n)=>{var r=_z((t,n)=>{if(Pz(n)){var[r,a]=e(n.from,n.to,n.velocity);return Cz(Cz({},n),{},{from:r,velocity:a})}return n},t);return n<1?_z((e,t)=>Pz(t)?Cz(Cz({},t),{},{velocity:Ez(t.velocity,r[e].velocity,n),from:Ez(t.from,r[e].from,n)}):t,t):Tz(e,r,n-1)};function Az(e,t,n,r,a,i){var s,o=r.reduce((n,r)=>Cz(Cz({},n),{},{[r]:{from:e[r],velocity:0,to:t[r]}}),{}),l=null,c=r=>{s||(s=r);var u=(r-s)/n.dt;o=Tz(n,o,u),a(Cz(Cz(Cz({},e),t),_z((e,t)=>t.from,o))),s=r,Object.values(o).filter(Pz).length&&(l=i.setTimeout(c))};return()=>(l=i.setTimeout(c),()=>{l()})}const Mz=(e,t,n,r,a,i)=>{var s,o,l=(s=e,o=t,[Object.keys(s),Object.keys(o)].reduce((e,t)=>e.filter(e=>t.includes(e))));return!0===n.isStepper?Az(e,t,n,l,a,i):function(e,t,n,r,a,i,s){var o,l=null,c=a.reduce((n,r)=>Cz(Cz({},n),{},{[r]:[e[r],t[r]]}),{}),u=a=>{o||(o=a);var d=(a-o)/r,h=_z((e,t)=>Ez(...t,n(d)),c);if(i(Cz(Cz(Cz({},e),t),h)),d<1)l=s.setTimeout(u);else{var f=_z((e,t)=>Ez(...t,n(1)),c);i(Cz(Cz(Cz({},e),t),f))}};return()=>(l=s.setTimeout(u),()=>{l()})}(e,t,n,r,l,a,i)};class Dz{setTimeout(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=performance.now(),r=null,a=i=>{i-n>=t?e(i):"function"===typeof requestAnimationFrame&&(r=requestAnimationFrame(a))};return r=requestAnimationFrame(a),()=>{cancelAnimationFrame(r)}}}function zz(){return function(e){var t=()=>null,n=!1,r=null,a=i=>{if(!n){if(Array.isArray(i)){if(!i.length)return;var s=i,[o,...l]=s;return"number"===typeof o?void(r=e.setTimeout(a.bind(null,l),o)):(a(o),void(r=e.setTimeout(a.bind(null,l))))}"string"===typeof i&&t(i),"object"===typeof i&&t(i),"function"===typeof i&&i()}};return{stop:()=>{n=!0},start:e=>{n=!1,r&&(r(),r=null),a(e)},subscribe:e=>(t=e,()=>{t=()=>null}),getTimeoutController:()=>e}}(new Dz)}var Iz=(0,t.createContext)(zz);function Lz(e,n){var r=(0,t.useContext)(Iz);return(0,t.useMemo)(()=>null!==n&&void 0!==n?n:r(e),[e,n,r])}var Rz=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function $z(){return $z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$z.apply(null,arguments)}function Fz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Bz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fz(Object(n),!0).forEach(function(t){Vz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Vz(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Uz extends t.PureComponent{constructor(e,t){super(e,t),Vz(this,"mounted",!1),Vz(this,"manager",void 0),Vz(this,"stopJSAnimation",null),Vz(this,"unSubscribe",null);var{isActive:n,attributeName:r,from:a,to:i,children:s,duration:o,animationManager:l}=this.props;if(this.manager=l,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||o<=0)return this.state={style:{}},void("function"===typeof s&&(this.state={style:i}));if(a){if("function"===typeof s)return void(this.state={style:a});this.state={style:r?{[r]:a}:a}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:t}=this.props;this.mounted=!0,e&&t&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:t,canBegin:n,attributeName:r,shouldReAnimate:a,to:i,from:s}=this.props,{style:o}=this.state;if(n)if(t){if(!(mz()(e.to,i)&&e.canBegin&&e.isActive)){var l=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var c=l||a?s:e.to;if(this.state&&o){var u={style:r?{[r]:c}:c};(r&&o[r]!==c||!r&&o!==c)&&this.setState(u)}this.runAnimation(Bz(Bz({},this.props),{},{from:c,begin:0}))}}else{var d={style:r?{[r]:i}:i};this.state&&o&&(r&&o[r]!==i||!r&&o!==i)&&this.setState(d)}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:t,to:n,duration:r,easing:a,begin:i,onAnimationEnd:s,onAnimationStart:o}=e,l=Mz(t,n,wz(a),r,this.changeStyle,this.manager.getTimeoutController());this.manager.start([o,i,()=>{this.stopJSAnimation=l()},r,s])}runAnimation(e){var{begin:t,duration:n,attributeName:r,to:a,easing:i,onAnimationStart:s,onAnimationEnd:o,children:l}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),"function"!==typeof i&&"function"!==typeof l&&"spring"!==i){var c=r?{[r]:a}:a,u=((e,t,n)=>e.map(e=>{return"".concat((r=e,r.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())))," ").concat(t,"ms ").concat(n);var r}).join(","))(Object.keys(c),n,i);this.manager.start([s,t,Bz(Bz({},c),{},{transition:u}),n,o])}else this.runJSAnimation(e)}render(){var e=this.props,{children:n,begin:r,duration:a,attributeName:i,easing:s,isActive:o,from:l,to:c,canBegin:u,onAnimationEnd:d,shouldReAnimate:h,onAnimationReStart:f,animationManager:p}=e,m=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,Rz),g=t.Children.count(n),v=this.state.style;if("function"===typeof n)return n(v);if(!o||0===g||a<=0)return n;var y=e=>{var{style:n={},className:r}=e.props;return(0,t.cloneElement)(e,Bz(Bz({},m),{},{style:Bz(Bz({},n),v),className:r}))};return 1===g?y(t.Children.only(n)):t.createElement("div",null,t.Children.map(n,e=>y(e)))}}function Hz(e){var n,r=Lz(null!==(n=e.attributeName)&&void 0!==n?n:Object.keys(e.to).join(","),e.animationManager);return t.createElement(Uz,$z({},e,{animationManager:r}))}function qz(){return qz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qz.apply(null,arguments)}Vz(Uz,"displayName","Animate"),Vz(Uz,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var Wz=(e,t,n,r,a)=>{var i,s=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(s>0&&a instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=a[d]>s?s:a[d];i="M".concat(e,",").concat(t+o*u[0]),u[0]>0&&(i+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),i+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(i+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+o*u[1])),i+="L ".concat(e+n,",").concat(t+r-o*u[2]),u[2]>0&&(i+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+n-l*u[2],",").concat(t+r)),i+="L ".concat(e+l*u[3],",").concat(t+r),u[3]>0&&(i+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-o*u[3])),i+="Z"}else if(s>0&&a===+a&&a>0){var h=Math.min(s,a);i="M ".concat(e,",").concat(t+o*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+n-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n,",").concat(t+o*h,"\n            L ").concat(e+n,",").concat(t+r-o*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n-l*h,",").concat(t+r,"\n            L ").concat(e+l*h,",").concat(t+r,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+r-o*h," Z")}else i="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return i},Kz={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Gz=e=>{var n=rA(e,Kz),r=(0,t.useRef)(null),[a,i]=(0,t.useState)(-1);(0,t.useEffect)(()=>{if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&i(e)}catch(t){}},[]);var{x:s,y:o,width:l,height:c,radius:u,className:d}=n,{animationEasing:h,animationDuration:f,animationBegin:p,isAnimationActive:m,isUpdateAnimationActive:g}=n;if(s!==+s||o!==+o||l!==+l||c!==+c||0===l||0===c)return null;var v=Up("recharts-rectangle",d);return g?t.createElement(Hz,{canBegin:a>0,from:{width:l,height:c,x:s,y:o},to:{width:l,height:c,x:s,y:o},duration:f,animationEasing:h,isActive:g},e=>{var{width:i,height:s,x:o,y:l}=e;return t.createElement(Hz,{canBegin:a>0,from:"0px ".concat(-1===a?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:f,isActive:m,easing:h},t.createElement("path",qz({},_T(n,!0),{className:v,d:Wz(o,l,i,s,u),ref:r})))}):t.createElement("path",qz({},_T(n,!0),{className:v,d:Wz(s,o,l,c,u)}))};function Yz(e){var{cx:t,cy:n,radius:r,startAngle:a,endAngle:i}=e;return{points:[gx(t,n,r,a),gx(t,n,r,i)],cx:t,cy:n,radius:r,startAngle:a,endAngle:i}}function Xz(){return Xz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xz.apply(null,arguments)}var Jz=e=>{var{cx:t,cy:n,radius:r,angle:a,sign:i,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,c=o*(s?1:-1)+r,u=Math.asin(o/c)/px,d=l?a:a+i*u,h=l?a-i*u:a;return{center:gx(t,n,c,d),circleTangency:gx(t,n,r,d),lineTangency:gx(t,n,c*Math.cos(u*px),h),theta:u}},Zz=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:i,endAngle:s}=e,o=((e,t)=>Gp(t-e)*Math.min(Math.abs(t-e),359.999))(i,s),l=i+o,c=gx(t,n,a,i),u=gx(t,n,a,l),d="M ".concat(c.x,",").concat(c.y,"\n    A ").concat(a,",").concat(a,",0,\n    ").concat(+(Math.abs(o)>180),",").concat(+(i>l),",\n    ").concat(u.x,",").concat(u.y,"\n  ");if(r>0){var h=gx(t,n,r,i),f=gx(t,n,r,l);d+="L ".concat(f.x,",").concat(f.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(o)>180),",").concat(+(i<=l),",\n            ").concat(h.x,",").concat(h.y," Z")}else d+="L ".concat(t,",").concat(n," Z");return d},Qz={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},eI=e=>{var n=rA(e,Qz),{cx:r,cy:a,innerRadius:i,outerRadius:s,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:h}=n;if(s<i||u===d)return null;var f,p=Up("recharts-sector",h),m=s-i,g=tm(o,m,0,!0);return f=g>0&&Math.abs(u-d)<360?(e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,cornerRadius:i,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:c}=e,u=Gp(c-l),{circleTangency:d,lineTangency:h,theta:f}=Jz({cx:t,cy:n,radius:a,angle:l,sign:u,cornerRadius:i,cornerIsExternal:o}),{circleTangency:p,lineTangency:m,theta:g}=Jz({cx:t,cy:n,radius:a,angle:c,sign:-u,cornerRadius:i,cornerIsExternal:o}),v=o?Math.abs(l-c):Math.abs(l-c)-f-g;if(v<0)return s?"M ".concat(h.x,",").concat(h.y,"\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*i,",0\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*-i,",0\n      "):Zz({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:l,endAngle:c});var y="M ".concat(h.x,",").concat(h.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(d.x,",").concat(d.y,"\n    A").concat(a,",").concat(a,",0,").concat(+(v>180),",").concat(+(u<0),",").concat(p.x,",").concat(p.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(m.x,",").concat(m.y,"\n  ");if(r>0){var{circleTangency:x,lineTangency:b,theta:w}=Jz({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),{circleTangency:j,lineTangency:k,theta:N}=Jz({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),_=o?Math.abs(l-c):Math.abs(l-c)-w-N;if(_<0&&0===i)return"".concat(y,"L").concat(t,",").concat(n,"Z");y+="L".concat(k.x,",").concat(k.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(j.x,",").concat(j.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(_>180),",").concat(+(u>0),",").concat(x.x,",").concat(x.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(b.x,",").concat(b.y,"Z")}else y+="L".concat(t,",").concat(n,"Z");return y})({cx:r,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):Zz({cx:r,cy:a,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d}),t.createElement("path",Xz({},_T(n,!0),{className:p,d:f}))};function tI(e,t,n){var r,a,i,s;if("horizontal"===e)i=r=t.x,a=n.top,s=n.top+n.height;else if("vertical"===e)s=a=t.y,r=n.left,i=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return Yz(t);var{cx:o,cy:l,innerRadius:c,outerRadius:u,angle:d}=t,h=gx(o,l,c,d),f=gx(o,l,u,d);r=h.x,a=h.y,i=f.x,s=f.y}return[{x:r,y:a},{x:i,y:s}]}function nI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nI(Object(n),!0).forEach(function(t){aI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function aI(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var iI=()=>{var e=ex(ES),t=ex(xE),n=ex(gE);return Ix(rI(rI({},e),{},{scale:n}),t)};function sI(){return sI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sI.apply(null,arguments)}function oI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oI(Object(n),!0).forEach(function(t){cI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function cI(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uI(e){var n,r,{coordinate:a,payload:i,index:s,offset:o,tooltipAxisBandSize:l,layout:c,cursor:u,tooltipEventType:d,chartName:h}=e,f=a,p=i,m=s;if(!u||!f||"ScatterChart"!==h&&"axis"!==d)return null;if("ScatterChart"===h)n=f,r=fz;else if("BarChart"===h)n=function(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-a:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-a,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(c,f,o,l),r=Gz;else if("radial"===c){var{cx:g,cy:v,radius:y,startAngle:x,endAngle:b}=Yz(f);n={cx:g,cy:v,startAngle:x,endAngle:b,innerRadius:y,outerRadius:y},r=eI}else n={points:tI(c,f,o)},r=oz;var w="object"===typeof u&&"className"in u?u.className:void 0,j=lI(lI(lI(lI({stroke:"#ccc",pointerEvents:"none"},o),n),_T(u,!1)),{},{payload:p,payloadIndex:m,className:Up("recharts-tooltip-cursor",w)});return(0,t.isValidElement)(u)?(0,t.cloneElement)(u,j):(0,t.createElement)(r,j)}function dI(e){var n=iI(),r=ib(),a=ub(),i=ex(J_);return t.createElement(uI,sI({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:a,tooltipAxisBandSize:n,chartName:i}))}function hI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hI(Object(n),!0).forEach(function(t){pI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function pI(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mI(e){return e.dataKey}var gI=[],vI={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!uA,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function yI(e){var n=rA(e,vI),{active:r,allowEscapeViewBox:a,animationDuration:i,animationEasing:s,content:o,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:d,position:h,reverseDirection:f,useTranslate3d:p,wrapperStyle:m,cursor:g,shared:v,trigger:y,defaultIndex:x,portal:b,axisId:w}=n,j=Xy(),k="number"===typeof x?String(x):x;(0,t.useEffect)(()=>{j(vy({shared:v,trigger:y,axisId:w,active:r,defaultIndex:k}))},[j,v,y,w,r,k]);var N=rb(),_=uT(),S=function(e){return ex(t=>CO(t,e))}(v),{activeIndex:C,isActive:O}=ex(e=>UE(e,S,y,k)),E=ex(e=>VE(e,S,y,k)),P=ex(e=>BE(e,S,y,k)),T=ex(e=>FE(e,S,y,k)),A=E,M=(0,t.useContext)(VT),D=null!==r&&void 0!==r?r:O,[z,I]=wD([A,D]),L="axis"===S?P:void 0;BT(S,y,T,L,C,D);var R=null!==b&&void 0!==b?b:M;if(null==R)return null;var $=null!==A&&void 0!==A?A:gI;D||($=gI),l&&$.length&&($=bD(A.filter(e=>null!=e.value&&(!0!==e.hide||n.includeHidden)),d,mI));var F=$.length>0,B=t.createElement(vD,{allowEscapeViewBox:a,animationDuration:i,animationEasing:s,isAnimationActive:c,active:D,coordinate:T,hasPayload:F,offset:u,position:h,reverseDirection:f,useTranslate3d:p,viewBox:N,wrapperStyle:m,lastBoundingBox:z,innerRef:I,hasPortalFromProps:Boolean(b)},function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):"function"===typeof e?t.createElement(e,n):t.createElement(cD,n)}(o,fI(fI({},n),{},{payload:$,label:L,active:D,coordinate:T,accessibilityLayer:_})));return t.createElement(t.Fragment,null,(0,rD.createPortal)(B,R),D&&t.createElement(dI,{cursor:g,tooltipEventType:S,coordinate:T,payload:A,index:C}))}Math.abs,Math.atan2;const xI=Math.cos,bI=(Math.max,Math.min,Math.sin),wI=Math.sqrt,jI=Math.PI,kI=2*jI;const NI={draw(e,t){const n=wI(t/jI);e.moveTo(n,0),e.arc(0,0,n,0,kI)}},_I={draw(e,t){const n=wI(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},SI=wI(1/3),CI=2*SI,OI={draw(e,t){const n=wI(t/CI),r=n*SI;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},EI={draw(e,t){const n=wI(t),r=-n/2;e.rect(r,r,n,n)}},PI=bI(jI/10)/bI(7*jI/10),TI=bI(kI/10)*PI,AI=-xI(kI/10)*PI,MI={draw(e,t){const n=wI(.8908130915292852*t),r=TI*n,a=AI*n;e.moveTo(0,-n),e.lineTo(r,a);for(let i=1;i<5;++i){const t=kI*i/5,s=xI(t),o=bI(t);e.lineTo(o*n,-s*n),e.lineTo(s*r-o*a,o*r+s*a)}e.closePath()}},DI=wI(3),zI={draw(e,t){const n=-wI(t/(3*DI));e.moveTo(0,2*n),e.lineTo(-DI*n,-n),e.lineTo(DI*n,-n),e.closePath()}},II=-.5,LI=wI(3)/2,RI=1/wI(12),$I=3*(RI/2+1),FI={draw(e,t){const n=wI(t/$I),r=n/2,a=n*RI,i=r,s=n*RI+n,o=-i,l=s;e.moveTo(r,a),e.lineTo(i,s),e.lineTo(o,l),e.lineTo(II*r-LI*a,LI*r+II*a),e.lineTo(II*i-LI*s,LI*i+II*s),e.lineTo(II*o-LI*l,LI*o+II*l),e.lineTo(II*r+LI*a,II*a-LI*r),e.lineTo(II*i+LI*s,II*s-LI*i),e.lineTo(II*o+LI*l,II*l-LI*o),e.closePath()}};wI(3),wI(3);var BI=["type","size","sizeType"];function VI(){return VI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VI.apply(null,arguments)}function UI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function HI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UI(Object(n),!0).forEach(function(t){qI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function qI(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var WI={symbolCircle:NI,symbolCross:_I,symbolDiamond:OI,symbolSquare:EI,symbolStar:MI,symbolTriangle:zI,symbolWye:FI},KI=Math.PI/180,GI=e=>{var{type:n="circle",size:r=64,sizeType:a="area"}=e,i=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,BI),s=HI(HI({},i),{},{type:n,size:r,sizeType:a}),{className:o,cx:l,cy:c}=s,u=_T(s,!0);return l===+l&&c===+c&&r===+r?t.createElement("path",VI({},u,{className:Up("recharts-symbols",o),transform:"translate(".concat(l,", ").concat(c,")"),d:(()=>{var e=(e=>{var t="symbol".concat(sm(e));return WI[t]||NI})(n),t=function(e,t){let n=null,r=KD(a);function a(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return e="function"===typeof e?e:ox(e||NI),t="function"===typeof t?t:ox(void 0===t?64:+t),a.type=function(t){return arguments.length?(e="function"===typeof t?t:ox(t),a):e},a.size=function(e){return arguments.length?(t="function"===typeof e?e:ox(+e),a):t},a.context=function(e){return arguments.length?(n=null==e?null:e,a):n},a}().type(e).size(((e,t,n)=>{if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*KI;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.tan(r)**2);case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}})(r,a,n));return t()})()})):null};function YI(){return YI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},YI.apply(null,arguments)}function XI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function JI(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}GI.registerSymbol=(e,t)=>{WI["symbol".concat(sm(e))]=t};var ZI=32;class QI extends t.PureComponent{renderIcon(e,n){var{inactiveColor:r}=this.props,a=16,i=ZI/6,s=ZI/3,o=e.inactive?r:e.color,l=null!==n&&void 0!==n?n:e.type;if("none"===l)return null;if("plainline"===l)return t.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:a,x2:ZI,y2:a,className:"recharts-legend-icon"});if("line"===l)return t.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(a,"h").concat(s,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(2*s,",").concat(a,"\n            H").concat(ZI,"M").concat(2*s,",").concat(a,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if("rect"===l)return t.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(4,"h").concat(ZI,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(t.isValidElement(e.legendIcon)){var c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XI(Object(n),!0).forEach(function(t){JI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e);return delete c.legendIcon,t.cloneElement(e.legendIcon,c)}return t.createElement(GI,{fill:o,cx:a,cy:a,size:ZI,sizeType:"diameter",type:l})}renderItems(){var{payload:e,iconSize:n,layout:r,formatter:a,inactiveColor:i,iconType:s}=this.props,o={x:0,y:0,width:ZI,height:ZI},l={display:"horizontal"===r?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((e,r)=>{var u=e.formatter||a,d=Up({"recharts-legend-item":!0,["legend-item-".concat(r)]:!0,inactive:e.inactive});if("none"===e.type)return null;var h=e.inactive?i:e.color,f=u?u(e.value,e,r):e.value;return t.createElement("li",YI({className:d,style:l,key:"legend-item-".concat(r)},gT(this.props,e,r)),t.createElement(OT,{width:n,height:n,viewBox:o,style:c,"aria-label":"".concat(f," legend icon")},this.renderIcon(e,s)),t.createElement("span",{className:"recharts-legend-item-text",style:{color:h}},f))})}render(){var{payload:e,layout:n,align:r}=this.props;if(!e||!e.length)return null;var a={padding:0,margin:0,textAlign:"horizontal"===n?r:"left"};return t.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}JI(QI,"displayName","Legend"),JI(QI,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var eL=["contextPayload"];function tL(){return tL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tL.apply(null,arguments)}function nL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nL(Object(n),!0).forEach(function(t){aL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function aL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iL(e){return e.value}function sL(e){var{contextPayload:n}=e,r=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,eL),a=bD(n,e.payloadUniqBy,iL),i=rL(rL({},r),{},{payload:a});return t.isValidElement(e.content)?t.cloneElement(e.content,i):"function"===typeof e.content?t.createElement(e.content,i):t.createElement(QI,i)}function oL(e){var n=Xy();return(0,t.useEffect)(()=>{n(PP(e))},[n,e]),null}function lL(e){var n=Xy();return(0,t.useEffect)(()=>(n(EP(e)),()=>{n(EP({width:0,height:0}))}),[n,e]),null}function cL(e){var n=ex(ax),r=(0,t.useContext)(UT),a=(()=>{var e;return null!==(e=ex(e=>e.layout.margin))&&void 0!==e?e:lb})(),{width:i,height:s,wrapperStyle:o,portal:l}=e,[c,u]=wD([n]),d=sb(),h=ob(),f=d-(a.left||0)-(a.right||0),p=uL.getWidthOrHeight(e.layout,s,i,f),m=l?o:rL(rL({position:"absolute",width:(null===p||void 0===p?void 0:p.width)||i||"auto",height:(null===p||void 0===p?void 0:p.height)||s||"auto"},function(e,t,n,r,a,i){var s,o,{layout:l,align:c,verticalAlign:u}=t;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(s="center"===c&&"vertical"===l?{left:((r||0)-i.width)/2}:"right"===c?{right:n&&n.right||0}:{left:n&&n.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(o="middle"===u?{top:((a||0)-i.height)/2}:"bottom"===u?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),rL(rL({},s),o)}(o,e,a,d,h,c)),o),g=null!==l&&void 0!==l?l:r;if(null==g)return null;var v=t.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:u},t.createElement(oL,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),t.createElement(lL,{width:c.width,height:c.height}),t.createElement(sL,tL({},e,p,{margin:a,chartWidth:d,chartHeight:h,contextPayload:n})));return(0,rD.createPortal)(v,g)}class uL extends t.PureComponent{static getWidthOrHeight(e,t,n,r){return"vertical"===e&&Jp(t)?{height:t}:"horizontal"===e?{width:n||r}:null}render(){return t.createElement(cL,this.props)}}aL(uL,"displayName","Legend"),aL(uL,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});var dL=e=>null;dL.displayName="Cell";var hL=n(356),fL=n.n(hL),pL=["valueAccessor"],mL=["data","dataKey","clockWise","id","textBreakAll"];function gL(){return gL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gL.apply(null,arguments)}function vL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function yL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vL(Object(n),!0).forEach(function(t){xL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function xL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bL(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var wL=e=>Array.isArray(e.value)?fL()(e.value):e.value;function jL(e){var{valueAccessor:n=wL}=e,r=bL(e,pL),{data:a,dataKey:i,clockWise:s,id:o,textBreakAll:l}=r,c=bL(r,mL);return a&&a.length?t.createElement(MA,{className:"recharts-label-list"},a.map((e,r)=>{var a=im(i)?n(e,r):_x(e&&e.payload,i),u=im(o)?{}:{id:"".concat(o,"-").concat(r)};return t.createElement(dM,gL({},_T(e,!0),c,u,{parentViewBox:e.parentViewBox,value:a,textBreakAll:l,viewBox:dM.parseViewBox(im(s)?e:yL(yL({},e),{},{clockWise:s})),key:"label-".concat(r),index:r}))})):null}jL.displayName="LabelList",jL.renderCallByParent=function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var{children:a}=e,i=NT(a,jL).map((e,r)=>(0,t.cloneElement)(e,{data:n,key:"labelList-".concat(r)}));if(!r)return i;var s=function(e,n){return e?!0===e?t.createElement(jL,{key:"labelList-implicit",data:n}):t.isValidElement(e)||cM(e)?t.createElement(jL,{key:"labelList-implicit",data:n,content:e}):"object"===typeof e?t.createElement(jL,gL({data:n},e,{key:"labelList-implicit"})):null:null}(e.label,n);return[s,...i]};var kL="Invariant failed";var NL=n(9397),_L=n.n(NL);function SL(){return SL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SL.apply(null,arguments)}var CL=(e,t,n,r,a)=>{var i,s=n-r;return i="M ".concat(e,",").concat(t),i+="L ".concat(e+n,",").concat(t),i+="L ".concat(e+n-s/2,",").concat(t+a),i+="L ".concat(e+n-s/2-r,",").concat(t+a),i+="L ".concat(e,",").concat(t," Z")},OL={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},EL=e=>{var n=rA(e,OL),r=(0,t.useRef)(),[a,i]=(0,t.useState)(-1);(0,t.useEffect)(()=>{if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&i(e)}catch(t){}},[]);var{x:s,y:o,upperWidth:l,lowerWidth:c,height:u,className:d}=n,{animationEasing:h,animationDuration:f,animationBegin:p,isUpdateAnimationActive:m}=n;if(s!==+s||o!==+o||l!==+l||c!==+c||u!==+u||0===l&&0===c||0===u)return null;var g=Up("recharts-trapezoid",d);return m?t.createElement(Hz,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:u,x:s,y:o},to:{upperWidth:l,lowerWidth:c,height:u,x:s,y:o},duration:f,animationEasing:h,isActive:m},e=>{var{upperWidth:i,lowerWidth:s,height:o,x:l,y:c}=e;return t.createElement(Hz,{canBegin:a>0,from:"0px ".concat(-1===a?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:f,easing:h},t.createElement("path",SL({},_T(n,!0),{className:g,d:CL(l,c,i,s,o),ref:r})))}):t.createElement("g",null,t.createElement("path",SL({},_T(n,!0),{className:g,d:CL(s,o,l,c,u)})))},PL=["option","shapeType","propTransformer","activeClassName","isActive"];function TL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function AL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TL(Object(n),!0).forEach(function(t){ML(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ML(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DL(e,t){return AL(AL({},t),e)}function zL(e){var{shapeType:n,elementProps:r}=e;switch(n){case"rectangle":return t.createElement(Gz,r);case"trapezoid":return t.createElement(EL,r);case"sector":return t.createElement(eI,r);case"symbols":if(function(e){return"symbols"===e}(n))return t.createElement(GI,r);break;default:return null}}function IL(e){var n,{option:r,shapeType:a,propTransformer:i=DL,activeClassName:s="recharts-active-shape",isActive:o}=e,l=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,PL);if((0,t.isValidElement)(r))n=(0,t.cloneElement)(r,AL(AL({},l),function(e){return(0,t.isValidElement)(e)?e.props:e}(r)));else if("function"===typeof r)n=r(l);else if(_L()(r)&&"boolean"!==typeof r){var c=i(r,l);n=t.createElement(zL,{shapeType:a,elementProps:c})}else{var u=l;n=t.createElement(zL,{shapeType:a,elementProps:u})}return o?t.createElement(MA,{className:s},n):n}var LL=["x","y"];function RL(){return RL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RL.apply(null,arguments)}function $L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function FL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$L(Object(n),!0).forEach(function(t){BL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$L(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function BL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VL(e,t){var{x:n,y:r}=e,a=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,LL),i="".concat(n),s=parseInt(i,10),o="".concat(r),l=parseInt(o,10),c="".concat(t.height||a.height),u=parseInt(c,10),d="".concat(t.width||a.width),h=parseInt(d,10);return FL(FL(FL(FL(FL({},t),a),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function UL(e){return t.createElement(IL,RL({shapeType:"rectangle",propTransformer:VL,activeClassName:"recharts-active-bar"},e))}var HL=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(n,r)=>{if(Jp(e))return e;var a=Jp(n)||im(n);return a?e(n,r):(a||function(e){if(!e)throw new Error(kL)}(!1),t)}},qL=(e,t)=>{var n=Xy();return(r,a)=>i=>{null===e||void 0===e||e(r,a,i),n(yy({activeIndex:String(a),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},WL=e=>{var t=Xy();return(n,r)=>a=>{null===e||void 0===e||e(n,r,a),t(xy())}},KL=(e,t)=>{var n=Xy();return(r,a)=>i=>{null===e||void 0===e||e(r,a,i),n(wy({activeIndex:String(a),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function GL(e){var{fn:n,args:r}=e,a=Xy(),i=eb();return(0,t.useEffect)(()=>{if(!i){var e=n(r);return a(my(e)),()=>{a(gy(e))}}},[n,r,a,i]),null}var YL=["children"];var XL={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},JL=(0,t.createContext)(XL);function ZL(e){var{children:n}=e,r=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,YL);return t.createElement(JL.Provider,{value:r},n)}function QL(e,t){var n,r,a=ex(t=>LS(t,e)),i=ex(e=>$S(e,t)),s=null!==(n=null===a||void 0===a?void 0:a.allowDataOverflow)&&void 0!==n?n:IS.allowDataOverflow,o=null!==(r=null===i||void 0===i?void 0:i.allowDataOverflow)&&void 0!==r?r:RS.allowDataOverflow;return{needClip:s||o,needClipX:s,needClipY:o}}function eR(e){var{xAxisId:n,yAxisId:r,clipPathId:a}=e,i=XT(),{needClipX:s,needClipY:o,needClip:l}=QL(n,r);if(!l)return null;var{x:c,y:u,width:d,height:h}=i;return t.createElement("clipPath",{id:"clipPath-".concat(a)},t.createElement("rect",{x:s?c:c-d/2,y:o?u:u-h/2,width:s?d:2*d,height:o?h:2*h}))}function tR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tR(Object(n),!0).forEach(function(t){rR(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tR(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function rR(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var aR=qy([WS,(e,t,n,r,a)=>a],(e,t)=>e.filter(e=>"bar"===e.type).find(e=>e.id===t)),iR=qy([aR],e=>null===e||void 0===e?void 0:e.maxBarSize),sR=(e,t,n)=>{var r=null!==n&&void 0!==n?n:e;if(!im(r))return tm(r,t,0)},oR=qy([cb,WS,(e,t)=>t,(e,t,n)=>n,(e,t,n,r)=>r],(e,t,n,r,a)=>t.filter(t=>"horizontal"===e?t.xAxisId===n:t.yAxisId===r).filter(e=>e.isPanorama===a).filter(e=>!1===e.hide).filter(e=>"bar"===e.type)),lR=qy([oR,e=>e.rootProps.barSize,(e,t,n)=>"horizontal"===cb(e)?fO(e,"xAxis",t):fO(e,"yAxis",n)],(e,t,n)=>{var r=e.filter(TS),a=e.filter(e=>null==e.stackId),i=r.reduce((e,t)=>(e[t.stackId]||(e[t.stackId]=[]),e[t.stackId].push(t),e),{}),s=Object.entries(i).map(e=>{var[r,a]=e;return{stackId:r,dataKeys:a.map(e=>e.dataKey),barSize:sR(t,n,a[0].barSize)}});return[...s,...a.map(e=>({stackId:void 0,dataKeys:[e.dataKey].filter(e=>null!=e),barSize:sR(t,n,e.barSize)}))]}),cR=(e,t,n,r)=>{var a,i;return"horizontal"===cb(e)?(a=wO(e,"xAxis",t,r),i=bO(e,"xAxis",t,r)):(a=wO(e,"yAxis",n,r),i=bO(e,"yAxis",n,r)),Ix(a,i)};var uR,dR=qy([lR,G_,e=>e.rootProps.barGap,Y_,(e,t,n,r,a)=>{var i,s,o=aR(e,t,n,r,a);if(null!=o){var l,c,u=cb(e),d=G_(e),{maxBarSize:h}=o,f=im(h)?d:h;return"horizontal"===u?(l=wO(e,"xAxis",t,r),c=bO(e,"xAxis",t,r)):(l=wO(e,"yAxis",n,r),c=bO(e,"yAxis",n,r)),null!==(i=null!==(s=Ix(l,c,!0))&&void 0!==s?s:f)&&void 0!==i?i:0}},cR,iR],(e,t,n,r,a,i,s)=>{var o=im(s)?t:s,l=function(e,t,n,r,a){var i=r.length;if(!(i<1)){var s,o=tm(e,n,0,!0),l=[];if(N_(r[0].barSize)){var c=!1,u=n/i,d=r.reduce((e,t)=>e+(t.barSize||0),0);(d+=(i-1)*o)>=n&&(d-=(i-1)*o,o=0),d>=n&&u>0&&(c=!0,d=i*(u*=.9));var h={offset:((n-d)/2|0)-o,size:0};s=r.reduce((e,t)=>{var n,r=[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:h.offset+h.size+o,size:c?u:null!==(n=t.barSize)&&void 0!==n?n:0}}];return h=r[r.length-1].position,r},l)}else{var f=tm(t,n,0,!0);n-2*f-(i-1)*o<=0&&(o=0);var p=(n-2*f-(i-1)*o)/i;p>1&&(p>>=0);var m=N_(a)?Math.min(p,a):p;s=r.reduce((e,t,n)=>[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:f+(p+o)*n+(p-m)/2,size:m}}],l)}return s}}(n,r,a!==i?a:i,e,o);return a!==i&&null!=l&&(l=l.map(e=>nR(nR({},e),{},{position:nR(nR({},e.position),{},{offset:e.position.offset-a/2})}))),l}),hR=qy([dR,aR],(e,t)=>{if(null!=e&&null!=t){var n=e.find(e=>e.stackId===t.stackId&&null!=t.dataKey&&e.dataKeys.includes(t.dataKey));if(null!=n)return n.position}}),fR=qy([(e,t,n,r)=>"horizontal"===cb(e)?uC(e,"yAxis",n,r):uC(e,"xAxis",t,r),aR],(e,t)=>{var n=SS(t);if(e&&null!=n&&null!=t){var{stackId:r}=t;if(null!=r){var a=e[r];if(a){var{stackedData:i}=a;if(i)return i.find(e=>e.key===n)}}}}),pR=qy([Xx,(e,t,n,r)=>wO(e,"xAxis",t,r),(e,t,n,r)=>wO(e,"yAxis",n,r),(e,t,n,r)=>bO(e,"xAxis",t,r),(e,t,n,r)=>bO(e,"yAxis",n,r),hR,cb,k_,cR,fR,aR,(e,t,n,r,a,i)=>i],(e,t,n,r,a,i,s,o,l,c,u,d)=>{var{chartData:h,dataStartIndex:f,dataEndIndex:p}=o;if(null!=u&&null!=i&&("horizontal"===s||"vertical"===s)&&null!=t&&null!=n&&null!=r&&null!=a&&null!=l){var m,{data:g}=u;if(null!=(m=null!=g&&g.length>0?g:null===h||void 0===h?void 0:h.slice(f,p+1)))return function(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:a,bandSize:i,xAxis:s,yAxis:o,xAxisTicks:l,yAxisTicks:c,stackedData:u,displayedData:d,offset:h,cells:f}=e,p="horizontal"===t?o:s,m=u?p.scale.domain():null,g=(e=>{var{numericAxis:t}=e,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]})({numericAxis:p});return d.map((e,d)=>{var p,v,y,x,b,w;u?p=((e,t)=>{if(!t||2!==t.length||!Jp(t[0])||!Jp(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Jp(e[0])||e[0]<n)&&(a[0]=n),(!Jp(e[1])||e[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a})(u[d],m):(p=_x(e,n),Array.isArray(p)||(p=[g,p]));var j=HL(r,HR)(p[1],d);if("horizontal"===t){var k,[N,_]=[o.scale(p[0]),o.scale(p[1])];v=Ax({axis:s,ticks:l,bandSize:i,offset:a.offset,entry:e,index:d}),y=null!==(k=null!==_&&void 0!==_?_:N)&&void 0!==k?k:void 0,x=a.size;var S=N-_;if(b=Yp(S)?0:S,w={x:v,y:h.top,width:x,height:h.height},Math.abs(j)>0&&Math.abs(b)<Math.abs(j)){var C=Gp(b||j)*(Math.abs(j)-Math.abs(b));y-=C,b+=C}}else{var[O,E]=[s.scale(p[0]),s.scale(p[1])];if(v=O,y=Ax({axis:o,ticks:c,bandSize:i,offset:a.offset,entry:e,index:d}),x=E-O,b=a.size,w={x:h.left,y:y,width:h.width,height:b},Math.abs(j)>0&&Math.abs(x)<Math.abs(j))x+=Gp(x||j)*(Math.abs(j)-Math.abs(x))}return null==v||null==y||null==x||null==b?null:zR(zR({},e),{},{x:v,y:y,width:x,height:b,value:u?p:p[1],payload:e,background:w,tooltipPosition:{x:v+x/2,y:y+b/2}},f&&f[d]&&f[d].props)}).filter(Boolean)}({layout:s,barSettings:u,pos:i,bandSize:l,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:a,stackedData:c,displayedData:m,offset:e,cells:d})}}),mR=()=>{};function gR(e){var{legendPayload:n}=e,r=Xy(),a=eb();return(0,t.useEffect)(()=>a?mR:(r(TP(n)),()=>{r(AP(n))}),[r,a,n]),null}function vR(e){var{legendPayload:n}=e,r=Xy(),a=ex(cb);return(0,t.useEffect)(()=>"centric"!==a&&"radial"!==a?mR:(r(TP(n)),()=>{r(AP(n))}),[r,a,n]),null}function yR(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"animation-",r=(0,t.useRef)(em(n)),a=(0,t.useRef)(e);return a.current!==e&&(r.current=em(n),a.current=e),r.current}var xR=null!==(uR=r["useId".toString()])&&void 0!==uR?uR:()=>{var[e]=t.useState(()=>em("uid-"));return e};var bR=(0,t.createContext)(void 0),wR=e=>{var{id:n,type:r,children:a}=e,i=function(e,t){var n=xR();return t||(e?"".concat(e,"-").concat(n):n)}("recharts-".concat(r),n);return t.createElement(bR.Provider,{value:i},a(i))};function jR(e){var n=Xy(),r=(0,t.useRef)(null);return(0,t.useEffect)(()=>{null===r.current?n(uP(e)):r.current!==e&&n(dP({prev:r.current,next:e})),r.current=e},[n,e]),(0,t.useEffect)(()=>()=>{r.current&&(n(hP(r.current)),r.current=null)},[n]),null}function kR(e){var n=Xy();return(0,t.useEffect)(()=>(n(fP(e)),()=>{n(pP(e))}),[n,e]),null}function NR(){}var _R={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},SR={t:0},CR={t:1};function OR(e){var n=rA(e,_R),{isActive:r,canBegin:a,duration:i,easing:s,begin:o,onAnimationEnd:l,onAnimationStart:c,children:u}=n,d=Lz("JavascriptAnimate",n.animationManager),[h,f]=(0,t.useState)(r?SR:CR),p=(0,t.useRef)(null);return(0,t.useEffect)(()=>{r||f(CR)},[r]),(0,t.useEffect)(()=>{if(!r||!a)return NR;var e=Mz(SR,CR,wz(s),i,f,d.getTimeoutController());return d.start([c,o,()=>{p.current=e()},i,l]),()=>{d.stop(),p.current&&p.current(),l()}},[r,a,i,s,o,c,l,d]),u(h.t)}var ER=["onMouseEnter","onMouseLeave","onClick"],PR=["value","background","tooltipPosition"],TR=["id"],AR=["onMouseEnter","onClick","onMouseLeave"];function MR(){return MR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},MR.apply(null,arguments)}function DR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function zR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DR(Object(n),!0).forEach(function(t){IR(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DR(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function IR(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LR(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var RR=e=>{var{dataKey:t,name:n,fill:r,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:r,value:Rx(n,t),payload:e}]};function $R(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:a,name:i,hide:s,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:a,dataKey:t,nameKey:void 0,name:Rx(i,t),hide:s,type:e.tooltipType,color:e.fill,unit:o}}}function FR(e){var n=ex(NE),{data:r,dataKey:a,background:i,allOtherBarProps:s}=e,{onMouseEnter:o,onMouseLeave:l,onClick:c}=s,u=LR(s,ER),d=qL(o,a),h=WL(l),f=KL(c,a);if(!i||null==r)return null;var p=_T(i,!1);return t.createElement(t.Fragment,null,r.map((e,r)=>{var{value:s,background:o,tooltipPosition:l}=e,c=LR(e,PR);if(!o)return null;var m=d(e,r),g=h(e,r),v=f(e,r),y=zR(zR(zR(zR(zR({option:i,isActive:String(r)===n},c),{},{fill:"#eee"},o),p),gT(u,e,r)),{},{onMouseEnter:m,onMouseLeave:g,onClick:v,dataKey:a,index:r,className:"recharts-bar-background-rectangle"});return t.createElement(UL,MR({key:"background-bar-".concat(r)},y))}))}function BR(e){var{data:n,props:r,showLabels:a}=e,i=xT(r),{id:s}=i,o=LR(i,TR),{shape:l,dataKey:c,activeBar:u}=r,d=ex(NE),h=ex(SE),{onMouseEnter:f,onClick:p,onMouseLeave:m}=r,g=LR(r,AR),v=qL(f,c),y=WL(m),x=KL(p,c);return n?t.createElement(t.Fragment,null,n.map((e,n)=>{var r=u&&String(n)===d&&(null==h||c===h),a=r?u:l,i=zR(zR(zR({},o),e),{},{isActive:r,option:a,index:n,dataKey:c});return t.createElement(MA,MR({className:"recharts-bar-rectangle"},gT(g,e,n),{onMouseEnter:v(e,n),onMouseLeave:y(e,n),onClick:x(e,n),key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value,"-").concat(n)}),t.createElement(UL,i))}),a&&jL.renderCallByParent(r,n)):null}function VR(e){var{props:n,previousRectanglesRef:r}=e,{data:a,layout:i,isAnimationActive:s,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=n,h=r.current,f=yR(n,"recharts-bar-"),[p,m]=(0,t.useState)(!1),g=(0,t.useCallback)(()=>{"function"===typeof u&&u(),m(!1)},[u]),v=(0,t.useCallback)(()=>{"function"===typeof d&&d(),m(!0)},[d]);return t.createElement(OR,{begin:o,duration:l,isActive:s,easing:c,onAnimationEnd:g,onAnimationStart:v,key:f},e=>{var s=1===e?a:null===a||void 0===a?void 0:a.map((t,n)=>{var r=h&&h[n];if(r)return zR(zR({},t),{},{x:am(r.x,t.x,e),y:am(r.y,t.y,e),width:am(r.width,t.width,e),height:am(r.height,t.height,e)});if("horizontal"===i){var a=am(0,t.height,e);return zR(zR({},t),{},{y:t.y+t.height-a,height:a})}var s=am(0,t.width,e);return zR(zR({},t),{},{width:s})});return e>0&&(r.current=null!==s&&void 0!==s?s:null),null==s?null:t.createElement(MA,null,t.createElement(BR,{props:n,data:s,showLabels:!p}))})}function UR(e){var{data:n,isAnimationActive:r}=e,a=(0,t.useRef)(null);return r&&n&&n.length&&(null==a.current||a.current!==n)?t.createElement(VR,{previousRectanglesRef:a,props:e}):t.createElement(BR,{props:e,data:n,showLabels:!0})}var HR=0,qR=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:_x(e,t)}};class WR extends t.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:a,xAxisId:i,yAxisId:s,needClip:o,background:l,id:c}=this.props;if(e)return null;var u=Up("recharts-bar",a),d=c;return t.createElement(MA,{className:u,id:c},o&&t.createElement("defs",null,t.createElement(eR,{clipPathId:d,xAxisId:i,yAxisId:s})),t.createElement(MA,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(d,")"):void 0},t.createElement(FR,{data:n,dataKey:r,background:l,allOtherBarProps:this.props}),t.createElement(UR,this.props)),this.props.children)}}var KR={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!uA,legendType:"rect",minPointSize:HR,xAxisId:0,yAxisId:0};function GR(e){var n,{xAxisId:r,yAxisId:a,hide:i,legendType:s,minPointSize:o,activeBar:l,animationBegin:c,animationDuration:u,animationEasing:d,isAnimationActive:h}=e,{needClip:f}=QL(r,a),p=ub(),m=eb(),g=NT(e.children,dL),v=ex(t=>pR(t,r,a,m,e.id,g));if("vertical"!==p&&"horizontal"!==p)return null;var y=null===v||void 0===v?void 0:v[0];return n=null==y||null==y.height||null==y.width?0:"vertical"===p?y.height/2:y.width/2,t.createElement(ZL,{xAxisId:r,yAxisId:a,data:v,dataPointFormatter:qR,errorBarOffset:n},t.createElement(WR,MR({},e,{layout:p,needClip:f,data:v,xAxisId:r,yAxisId:a,hide:i,legendType:s,minPointSize:o,activeBar:l,animationBegin:c,animationDuration:u,animationEasing:d,isAnimationActive:h})))}function YR(e){var n=rA(e,KR),r=eb();return t.createElement(wR,{id:n.id,type:"bar"},e=>{return t.createElement(t.Fragment,null,t.createElement(gR,{legendPayload:RR(n)}),t.createElement(GL,{fn:$R,args:n}),t.createElement(jR,{type:"bar",id:e,data:void 0,xAxisId:n.xAxisId,yAxisId:n.yAxisId,zAxisId:0,dataKey:n.dataKey,stackId:(a=n.stackId,null==a?void 0:String(a)),hide:n.hide,barSize:n.barSize,minPointSize:n.minPointSize,maxBarSize:n.maxBarSize,isPanorama:r}),t.createElement(GR,MR({},n,{id:e})));var a})}function XR(e){var n=Xy();return(0,t.useEffect)(()=>{n(qP(e))},[n,e]),null}YR.displayName="Bar";var JR=["width","height","layout"];function ZR(){return ZR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZR.apply(null,arguments)}var QR={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",layout:"radial"},e$=(0,t.forwardRef)(function(e,n){var r,a=rA(e.categoricalChartProps,QR),{width:i,height:s,layout:o}=a,l=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(a,JR);if(!__(i)||!__(s))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:h}=e,f={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:h,eventEmitter:void 0};return t.createElement(sT,{preloadedState:{options:f},reduxStoreName:null!==(r=a.id)&&void 0!==r?r:c},t.createElement(oT,{chartData:a.data}),t.createElement(lT,{width:i,height:s,layout:o,margin:a.margin}),t.createElement(cT,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),t.createElement(XR,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),t.createElement(eA,ZR({width:i,height:s},l,{ref:n})))}),t$=["item"],n$={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},r$=(0,t.forwardRef)((e,n)=>{var r=rA(e,n$);return t.createElement(e$,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:t$,tooltipPayloadSearcher:uv,categoricalChartProps:r,ref:n})}),a$=e=>e.graphicalItems.polarItems,i$=qy([NS,_S],qS),s$=qy([a$,VS,i$],GS),o$=qy([s$],QS),l$=qy([o$,j_],tC),c$=qy([l$,VS,s$],rC),u$=qy([l$,VS,s$],(e,t,n)=>n.length>0?e.flatMap(e=>n.flatMap(n=>{var r;return{value:_x(e,null!==(r=t.dataKey)&&void 0!==r?r:n.dataKey),errorDomain:[]}})).filter(Boolean):null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:_x(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]}))),d$=()=>{},h$=qy([VS,zC,d$,u$,d$,cb,NS],IC),f$=qy([VS,cb,l$,c$,X_,NS,h$],$C),p$=qy([f$,VS,VC],HC);qy([VS,f$,p$,NS],WC);function m$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m$(Object(n),!0).forEach(function(t){v$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v$(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y$=qy([a$,(e,t)=>t],(e,t)=>e.filter(e=>"pie"===e.type).find(e=>e.id===t)),x$=[],b$=(e,t,n)=>0===(null===n||void 0===n?void 0:n.length)?x$:n,w$=qy([j_,y$,b$],(e,t,n)=>{var r,{chartData:a}=e;if(null!=t&&((r=null!=(null===t||void 0===t?void 0:t.data)&&t.data.length>0?t.data:a)&&r.length||null==n||(r=n.map(e=>g$(g$({},t.presentationProps),e.props))),null!=r))return r}),j$=qy([w$,y$,b$],(e,t,n)=>{if(null!=e&&null!=t)return e.map((e,r)=>{var a,i,s=_x(e,t.nameKey,t.name);return i=null!==n&&void 0!==n&&null!==(a=n[r])&&void 0!==a&&null!==(a=a.props)&&void 0!==a&&a.fill?n[r].props.fill:"object"===typeof e&&null!=e&&"fill"in e?e.fill:t.fill,{value:Rx(s,t.dataKey),color:i,payload:e,type:t.legendType}})}),k$=qy([w$,y$,b$,Xx],(e,t,n,r)=>{if(null!=t&&null!=e)return function(e){var t,n,r,{pieSettings:a,displayedData:i,cells:s,offset:o}=e,{cornerRadius:l,startAngle:c,endAngle:u,dataKey:d,nameKey:h,tooltipType:f}=a,p=Math.abs(a.minAngle),m=z$(c,u),g=Math.abs(m),v=i.length<=1?0:null!==(t=a.paddingAngle)&&void 0!==t?t:0,y=i.filter(e=>0!==_x(e,d,0)).length,x=g-y*p-(g>=360?y:y-1)*v,b=i.reduce((e,t)=>{var n=_x(t,d,0);return e+(Jp(n)?n:0)},0);b>0&&(n=i.map((e,t)=>{var n,i=_x(e,d,0),u=_x(e,h,t),g=D$(a,o,e),y=(Jp(i)?i:0)/b,w=E$(E$({},e),s&&s[t]&&s[t].props),j=(n=t?r.endAngle+Gp(m)*v*(0!==i?1:0):c)+Gp(m)*((0!==i?p:0)+y*x),k=(n+j)/2,N=(g.innerRadius+g.outerRadius)/2,_=[{name:u,value:i,payload:w,dataKey:d,type:f}],S=gx(g.cx,g.cy,N,k);return r=E$(E$(E$(E$({},a.presentationProps),{},{percent:y,cornerRadius:l,name:u,tooltipPayload:_,midAngle:k,middleRadius:N,tooltipPosition:S},w),g),{},{value:_x(e,d),startAngle:n,endAngle:j,payload:w,paddingAngle:Gp(m)*v})}));return n}({offset:r,pieSettings:t,displayedData:e,cells:n})}),N$=["onMouseEnter","onClick","onMouseLeave"],_$=["id"],S$=["id"];function C$(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function O$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function E$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O$(Object(n),!0).forEach(function(t){P$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function P$(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T$(){return T$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T$.apply(null,arguments)}function A$(e){var n=(0,t.useMemo)(()=>NT(e.children,dL),[e.children]),r=ex(t=>j$(t,e.id,n));return null==r?null:t.createElement(vR,{legendPayload:r})}function M$(e){var{dataKey:t,nameKey:n,sectors:r,stroke:a,strokeWidth:i,fill:s,name:o,hide:l,tooltipType:c}=e;return{dataDefinedOnItem:null===r||void 0===r?void 0:r.map(e=>e.tooltipPayload),positions:null===r||void 0===r?void 0:r.map(e=>e.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:s,dataKey:t,nameKey:n,name:Rx(o,t),hide:l,type:c,color:s,unit:""}}}var D$=(e,t,n)=>{var{top:r,left:a,width:i,height:s}=t,o=vx(i,s),l=a+tm(e.cx,i,i/2),c=r+tm(e.cy,s,s/2),u=tm(e.innerRadius,o,0),d=((e,t,n)=>"function"===typeof t?t(e):tm(t,n,.8*n))(n,e.outerRadius,o);return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:e.maxRadius||Math.sqrt(i*i+s*s)/2}},z$=(e,t)=>Gp(t-e)*Math.min(Math.abs(t-e),360);function I$(e){var{sectors:n,props:r,showLabels:a}=e,{label:i,labelLine:s,dataKey:o}=r;if(!a||!i||!n)return null;var l=xT(r),c=_T(i,!1),u=_T(s,!1),d="object"===typeof i&&"offsetRadius"in i&&i.offsetRadius||20,h=n.map((e,n)=>{var r,a,h=(e.startAngle+e.endAngle)/2,f=gx(e.cx,e.cy,e.outerRadius+d,h),p=E$(E$(E$(E$({},l),e),{},{stroke:"none"},c),{},{index:n,textAnchor:(r=f.x,a=e.cx,r>a?"start":r<a?"end":"middle")},f),m=E$(E$(E$(E$({},l),e),{},{fill:"none",stroke:e.fill},u),{},{index:n,points:[gx(e.cx,e.cy,e.outerRadius,h),f],key:"line"});return t.createElement(MA,{key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(n)},s&&((e,n)=>{if(t.isValidElement(e))return t.cloneElement(e,n);if("function"===typeof e)return e(n);var r=Up("recharts-pie-label-line","boolean"!==typeof e?e.className:"");return t.createElement(oz,T$({},n,{type:"linear",className:r}))})(s,m),((e,n,r)=>{if(t.isValidElement(e))return t.cloneElement(e,n);var a=r;if("function"===typeof e&&(a=e(n),t.isValidElement(a)))return a;var i=Up("recharts-pie-label-text","boolean"!==typeof e&&"function"!==typeof e?e.className:"");return t.createElement(tM,T$({},n,{alignmentBaseline:"middle",className:i}),a)})(i,p,_x(e,o)))});return t.createElement(MA,{className:"recharts-pie-labels"},h)}function L$(e){var{sectors:n,activeShape:r,inactiveShape:a,allOtherPieProps:i,showLabels:s}=e,o=ex(NE),{onMouseEnter:l,onClick:c,onMouseLeave:u}=i,d=C$(i,N$),h=qL(l,i.dataKey),f=WL(u),p=KL(c,i.dataKey);return null==n?null:t.createElement(t.Fragment,null,n.map((e,s)=>{if(0===(null===e||void 0===e?void 0:e.startAngle)&&0===(null===e||void 0===e?void 0:e.endAngle)&&1!==n.length)return null;var l=r&&String(s)===o,c=l?r:o?a:null,u=E$(E$({},e),{},{stroke:e.stroke,tabIndex:-1,[qx]:s,[Wx]:i.dataKey});return t.createElement(MA,T$({tabIndex:-1,className:"recharts-pie-sector"},gT(d,e,s),{onMouseEnter:h(e,s),onMouseLeave:f(e,s),onClick:p(e,s),key:"sector-".concat(null===e||void 0===e?void 0:e.startAngle,"-").concat(null===e||void 0===e?void 0:e.endAngle,"-").concat(e.midAngle,"-").concat(s)}),t.createElement(IL,T$({option:c,isActive:l,shapeType:"sector"},u)))}),t.createElement(I$,{sectors:n,props:i,showLabels:s}))}function R$(e){var{props:n,previousSectorsRef:r}=e,{sectors:a,isAnimationActive:i,animationBegin:s,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:h}=n,f=yR(n,"recharts-pie-"),p=r.current,[m,g]=(0,t.useState)(!0),v=(0,t.useCallback)(()=>{"function"===typeof h&&h(),g(!1)},[h]),y=(0,t.useCallback)(()=>{"function"===typeof d&&d(),g(!0)},[d]);return t.createElement(OR,{begin:s,duration:o,isActive:i,easing:l,onAnimationStart:y,onAnimationEnd:v,key:f},e=>{var i=[],s=(a&&a[0]).startAngle;return a.forEach((t,n)=>{var r=p&&p[n],a=n>0?Kp()(t,"paddingAngle",0):0;if(r){var o=rm(r.endAngle-r.startAngle,t.endAngle-t.startAngle),l=E$(E$({},t),{},{startAngle:s+a,endAngle:s+o(e)+a});i.push(l),s=l.endAngle}else{var{endAngle:c,startAngle:u}=t,d=rm(0,c-u)(e),h=E$(E$({},t),{},{startAngle:s+a,endAngle:s+d+a});i.push(h),s=h.endAngle}}),r.current=i,t.createElement(MA,null,t.createElement(L$,{sectors:i,activeShape:c,inactiveShape:u,allOtherPieProps:n,showLabels:!m}))})}function $$(e){var{sectors:n,isAnimationActive:r,activeShape:a,inactiveShape:i}=e,s=(0,t.useRef)(null),o=s.current;return r&&n&&n.length&&(!o||o!==n)?t.createElement(R$,{props:e,previousSectorsRef:s}):t.createElement(L$,{sectors:n,activeShape:a,inactiveShape:i,allOtherPieProps:e,showLabels:!0})}function F$(e){var{hide:n,className:r,rootTabIndex:a}=e,i=Up("recharts-pie",r);return n?null:t.createElement(MA,{tabIndex:a,className:i},t.createElement($$,e))}var B$={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!uA,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function V$(e){var{id:n}=e,r=C$(e,_$),a=(0,t.useMemo)(()=>NT(e.children,dL),[e.children]),i=ex(e=>k$(e,n,a));return t.createElement(t.Fragment,null,t.createElement(GL,{fn:M$,args:E$(E$({},e),{},{sectors:i})}),t.createElement(F$,T$({},r,{sectors:i})))}function U$(e){var n=rA(e,B$),{id:r}=n,a=C$(n,S$),i=xT(a);return t.createElement(wR,{id:r,type:"pie"},e=>t.createElement(t.Fragment,null,t.createElement(kR,{type:"pie",id:e,data:a.data,dataKey:a.dataKey,hide:a.hide,angleAxisId:0,radiusAxisId:0,name:a.name,nameKey:a.nameKey,tooltipType:a.tooltipType,legendType:a.legendType,fill:a.fill,cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,paddingAngle:a.paddingAngle,minAngle:a.minAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius,cornerRadius:a.cornerRadius,presentationProps:i}),t.createElement(A$,T$({},a,{id:e})),t.createElement(V$,T$({},a,{id:e})),a.children))}U$.displayName="Pie";const H$=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),q$=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},W$=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()},K$=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var G$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Y$=(0,t.forwardRef)((e,n)=>{let{color:r="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:l,iconNode:c,...u}=e;return(0,t.createElement)("svg",{ref:n,...G$,width:a,height:a,stroke:r,strokeWidth:s?24*Number(i)/Number(a):i,className:W$("lucide",o),...!l&&!K$(u)&&{"aria-hidden":"true"},...u},[...c.map(e=>{let[n,r]=e;return(0,t.createElement)(n,r)}),...Array.isArray(l)?l:[l]])}),X$=(e,n)=>{const r=(0,t.forwardRef)((r,a)=>{let{className:i,...s}=r;return(0,t.createElement)(Y$,{ref:a,iconNode:n,className:W$(`lucide-${H$(q$(e))}`,`lucide-${e}`,i),...s})});return r.displayName=q$(e),r},J$=X$("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Z$=X$("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),Q$=X$("calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),eF=X$("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),tF=X$("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),nF=X$("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),rF=X$("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),aF=X$("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),iF=()=>{const[e,n]=(0,t.useState)({objectType:"",stationType:"",region:"",powerCapacity:"",greenTariff:"",months:Array(12).fill("")}),[r,a]=(0,t.useState)({firstName:"",phone:"",isClient:"",contactRequest:""}),[i,s]=(0,t.useState)(null),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(!1),[f,p]=(0,t.useState)(!1),[m,g]=(0,t.useState)({}),v=[41.74,53.67,95.43,143.36,145.98,157.96,157.96,154.97,130.85,65.61,47.63,35.83],y=["\u0421\u0456\u0447\u0435\u043d\u044c","\u041b\u044e\u0442\u0438\u0439","\u0411\u0435\u0440\u0435\u0437\u0435\u043d\u044c","\u041a\u0432\u0456\u0442\u0435\u043d\u044c","\u0422\u0440\u0430\u0432\u0435\u043d\u044c","\u0427\u0435\u0440\u0432\u0435\u043d\u044c","\u041b\u0438\u043f\u0435\u043d\u044c","\u0421\u0435\u0440\u043f\u0435\u043d\u044c","\u0412\u0435\u0440\u0435\u0441\u0435\u043d\u044c","\u0416\u043e\u0432\u0442\u0435\u043d\u044c","\u041b\u0438\u0441\u0442\u043e\u043f\u0430\u0434","\u0413\u0440\u0443\u0434\u0435\u043d\u044c"],x=["\u0421\u0456\u0447","\u041b\u044e\u0442","\u0411\u0435\u0440","\u041a\u0432\u0456","\u0422\u0440\u0430","\u0427\u0435\u0440","\u041b\u0438\u043f","\u0421\u0435\u0440","\u0412\u0435\u0440","\u0416\u043e\u0432","\u041b\u0438\u0441","\u0413\u0440\u0443"],b=e=>{let{label:t,error:n,children:r}=e;return(0,ft.jsxs)("div",{className:"space-y-2",children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:t}),r,n&&(0,ft.jsxs)("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[(0,ft.jsx)(J$,{size:16}),n]})]})};return(0,ft.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:(0,ft.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[(0,ft.jsxs)("div",{className:"text-center mb-12",children:[(0,ft.jsxs)("div",{className:"flex items-center justify-center gap-3 mb-4",children:[(0,ft.jsx)(Z$,{className:"text-yellow-500",size:48}),(0,ft.jsx)("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent",children:"\u041a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440 \u0441\u043e\u043d\u044f\u0447\u043d\u043e\u0457 \u0435\u043d\u0435\u0440\u0433\u0456\u0457"})]}),(0,ft.jsx)("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"\u0420\u043e\u0437\u0440\u0430\u0445\u0443\u0439\u0442\u0435 \u043f\u043e\u0442\u0435\u043d\u0446\u0456\u0430\u043b \u0442\u0430 \u0435\u043a\u043e\u043d\u043e\u043c\u0456\u0447\u043d\u0443 \u0435\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u0456\u0441\u0442\u044c \u0432\u0430\u0448\u043e\u0457 \u0441\u043e\u043d\u044f\u0447\u043d\u043e\u0457 \u0435\u043b\u0435\u043a\u0442\u0440\u043e\u0441\u0442\u0430\u043d\u0446\u0456\u0457"})]}),(0,ft.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[(0,ft.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm p-8 rounded-2xl shadow-xl border border-white/20",children:[(0,ft.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,ft.jsx)(Q$,{className:"text-blue-600",size:28}),(0,ft.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"\u041e\u0441\u043d\u043e\u0432\u043d\u0456 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0438"})]}),(0,ft.jsxs)("div",{className:"space-y-6",children:[(0,ft.jsx)(b,{label:"\u0422\u0438\u043f \u043e\u0431'\u0454\u043a\u0442\u0430",error:m.objectType,children:(0,ft.jsxs)("select",{value:e.objectType,onChange:e=>n(t=>({...t,objectType:e.target.value})),className:"w-full p-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white/80 backdrop-blur-sm transition-all duration-200",children:[(0,ft.jsx)("option",{value:"",children:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0442\u0438\u043f"}),(0,ft.jsx)("option",{value:"\u041f\u0440\u0438\u0432\u0430\u0442\u043d\u0438\u0439",children:"\ud83c\udfe0 \u041f\u0440\u0438\u0432\u0430\u0442\u043d\u0438\u0439 \u0431\u0443\u0434\u0438\u043d\u043e\u043a"}),(0,ft.jsx)("option",{value:"\u0411\u0456\u0437\u043d\u0435\u0441",children:"\ud83c\udfe2 \u0411\u0456\u0437\u043d\u0435\u0441 \u043e\u0431'\u0454\u043a\u0442"})]})}),(0,ft.jsx)(b,{label:"\u0422\u0438\u043f \u0441\u0442\u0430\u043d\u0446\u0456\u0457",error:m.stationType,children:(0,ft.jsxs)("select",{value:e.stationType,onChange:e=>n(t=>({...t,stationType:e.target.value})),className:"w-full p-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white/80 backdrop-blur-sm transition-all duration-200",children:[(0,ft.jsx)("option",{value:"",children:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0442\u0438\u043f"}),(0,ft.jsx)("option",{value:"\u041c\u0435\u0440\u0435\u0436\u0435\u0432\u0430",children:"\u26a1 \u041c\u0435\u0440\u0435\u0436\u0435\u0432\u0430 \u0441\u0442\u0430\u043d\u0446\u0456\u044f"}),(0,ft.jsx)("option",{value:"\u0413\u0456\u0431\u0440\u0438\u0434\u043d\u0430",children:"\ud83d\udd0b \u0413\u0456\u0431\u0440\u0438\u0434\u043d\u0430 \u0437 \u0430\u043a\u0443\u043c\u0443\u043b\u044f\u0442\u043e\u0440\u043e\u043c"})]})}),(0,ft.jsx)(b,{label:"\u0420\u0435\u0433\u0456\u043e\u043d",error:m.region,children:(0,ft.jsx)("input",{type:"text",value:e.region,onChange:e=>n(t=>({...t,region:e.target.value})),placeholder:"\u041d\u0430\u043f\u0440., \u041a\u0438\u0457\u0432, \u041b\u044c\u0432\u0456\u0432, \u041e\u0434\u0435\u0441\u0430",className:"w-full p-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white/80 backdrop-blur-sm transition-all duration-200"})}),(0,ft.jsx)(b,{label:"\u0411\u0430\u0436\u0430\u043d\u0430 \u043f\u043e\u0442\u0443\u0436\u043d\u0456\u0441\u0442\u044c (\u043a\u0412\u0442)",error:m.powerCapacity,children:(0,ft.jsx)("input",{type:"number",value:e.powerCapacity,onChange:e=>n(t=>({...t,powerCapacity:e.target.value})),placeholder:"\u041d\u0430\u043f\u0440., 10",min:"0",step:"0.1",className:"w-full p-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white/80 backdrop-blur-sm transition-all duration-200"})}),(0,ft.jsx)(b,{label:"\u0417\u0435\u043b\u0435\u043d\u0438\u0439 \u0442\u0430\u0440\u0438\u0444",error:m.greenTariff,children:(0,ft.jsxs)("select",{value:e.greenTariff,onChange:e=>n(t=>({...t,greenTariff:e.target.value})),className:"w-full p-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white/80 backdrop-blur-sm transition-all duration-200",children:[(0,ft.jsx)("option",{value:"",children:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u043e\u043f\u0446\u0456\u044e"}),(0,ft.jsx)("option",{value:"\u0422\u0430\u043a",children:"\u2705 \u0422\u0430\u043a, \u043f\u043b\u0430\u043d\u0443\u044e \u043f\u0440\u043e\u0434\u0430\u0432\u0430\u0442\u0438 \u043d\u0430\u0434\u043b\u0438\u0448\u043a\u0438"}),(0,ft.jsx)("option",{value:"\u041d\u0456",children:"\u274c \u041d\u0456, \u0442\u0456\u043b\u044c\u043a\u0438 \u0434\u043b\u044f \u0432\u043b\u0430\u0441\u043d\u0438\u0445 \u043f\u043e\u0442\u0440\u0435\u0431"})]})})]})]}),(0,ft.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm p-8 rounded-2xl shadow-xl border border-white/20",children:[(0,ft.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,ft.jsx)(eF,{className:"text-green-600",size:28}),(0,ft.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"\u041f\u043e\u043c\u0456\u0441\u044f\u0447\u043d\u0435 \u0441\u043f\u043e\u0436\u0438\u0432\u0430\u043d\u043d\u044f"})]}),(0,ft.jsx)("p",{className:"text-sm text-gray-600 mb-6",children:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0441\u043f\u043e\u0436\u0438\u0432\u0430\u043d\u043d\u044f \u0435\u043b\u0435\u043a\u0442\u0440\u043e\u0435\u043d\u0435\u0440\u0433\u0456\u0457 \u043f\u043e \u043c\u0456\u0441\u044f\u0446\u044f\u0445 (\u043a\u0412\u0442\xb7\u0433\u043e\u0434). \u041f\u043e\u043b\u044f \u043d\u0435 \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0456."}),(0,ft.jsx)("div",{className:"grid grid-cols-2 gap-4",children:y.map((t,r)=>(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t}),(0,ft.jsx)("input",{type:"number",value:e.months[r],onChange:t=>{const a=[...e.months];a[r]=t.target.value,n(e=>({...e,months:a}))},placeholder:"0",min:"0",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white/80 backdrop-blur-sm transition-all duration-200"})]},r))})]})]}),(0,ft.jsx)("div",{className:"text-center mb-8",children:(0,ft.jsxs)("button",{onClick:()=>{if(!(()=>{const t={};return e.objectType||(t.objectType="\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0442\u0438\u043f \u043e\u0431'\u0454\u043a\u0442\u0430"),e.stationType||(t.stationType="\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0442\u0438\u043f \u0441\u0442\u0430\u043d\u0446\u0456\u0457"),e.region.trim()||(t.region="\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0440\u0435\u0433\u0456\u043e\u043d"),(!e.powerCapacity||e.powerCapacity<=0)&&(t.powerCapacity="\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043a\u043e\u0440\u0435\u043a\u0442\u043d\u0443 \u043f\u043e\u0442\u0443\u0436\u043d\u0456\u0441\u0442\u044c"),e.greenTariff||(t.greenTariff="\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u043e\u043f\u0446\u0456\u044e \u0437\u0435\u043b\u0435\u043d\u043e\u0433\u043e \u0442\u0430\u0440\u0438\u0444\u0443"),g(t),0===Object.keys(t).length})())return;const t=parseFloat(e.powerCapacity),n=e.months.map(e=>parseFloat(e)||0),r=n.reduce((e,t)=>e+t,0),a="\u0422\u0430\u043a"===e.greenTariff,i=v.map(e=>e*t),o=i.reduce((e,t)=>e+t,0),c="\u041f\u0440\u0438\u0432\u0430\u0442\u043d\u0438\u0439"===e.objectType?4.32:8.96,d=Math.min(o,r),h=Math.max(0,o-d),f=Math.max(0,r-o),p=d*c,m=f*c;let b=0,w=0;h>0&&a&&(b=.13*h*47,w=.77*b);const j=o>0?d/o*100:0,k=r>0?d/r*100:0,N=y.map((e,t)=>({month:x[t],generation:i[t],consumption:n[t],surplus:Math.max(0,i[t]-n[t]),deficit:Math.max(0,n[t]-i[t])})),_=[{name:"\u0412\u043b\u0430\u0441\u043d\u0435 \u0441\u043f\u043e\u0436\u0438\u0432\u0430\u043d\u043d\u044f",value:d,color:"#3b82f6"},{name:"\u0412\u0438\u0434\u0430\u0447\u0430 \u0432 \u043c\u0435\u0440\u0435\u0436\u0443",value:h,color:"#10b981"}];s({annualGeneration:o.toFixed(0),annualConsumption:r.toFixed(0),selfConsumption:d.toFixed(0),excessGeneration:h.toFixed(0),shortfall:f.toFixed(0),savings:p.toFixed(0),additionalCost:m.toFixed(0),grossProfit:b.toFixed(0),netProfit:w.toFixed(0),totalBenefit:(p+w-m).toFixed(0),consumptionRatio:j.toFixed(0),selfSufficiency:k.toFixed(0),monthlyData:N,pieData:_.filter(e=>e.value>0)}),u(!0),l(!0)},className:"inline-flex items-center gap-3 px-8 py-4 bg-gradient-to-r from-blue-600 to-green-600 text-white font-bold text-lg rounded-2xl hover:shadow-2xl hover:scale-105 transition-all duration-300 transform",children:[(0,ft.jsx)(Q$,{size:24}),"\u0420\u043e\u0437\u0440\u0430\u0445\u0443\u0432\u0430\u0442\u0438 \u043f\u043e\u0442\u0435\u043d\u0446\u0456\u0430\u043b",(0,ft.jsx)(Z$,{size:24})]})}),c&&i&&(0,ft.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm p-8 rounded-2xl shadow-xl border border-white/20 mb-8 animate-in slide-in-from-bottom duration-500",children:[(0,ft.jsx)("h2",{className:"text-3xl font-bold text-center text-gray-800 mb-8",children:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0438 \u0440\u043e\u0437\u0440\u0430\u0445\u0443\u043d\u043a\u0456\u0432 \ud83d\udcca"}),(0,ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,ft.jsxs)("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 p-6 rounded-xl text-white text-center",children:[(0,ft.jsx)(tF,{className:"mx-auto mb-2",size:32}),(0,ft.jsx)("p",{className:"text-sm font-medium opacity-90",children:"\u0420\u0456\u0447\u043d\u0430 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0456\u044f"}),(0,ft.jsxs)("p",{className:"text-2xl font-bold",children:[i.annualGeneration," \u043a\u0412\u0442\xb7\u0433\u043e\u0434"]})]}),(0,ft.jsxs)("div",{className:"bg-gradient-to-br from-green-500 to-green-600 p-6 rounded-xl text-white text-center",children:[(0,ft.jsx)(nF,{className:"mx-auto mb-2",size:32}),(0,ft.jsx)("p",{className:"text-sm font-medium opacity-90",children:"\u0415\u043a\u043e\u043d\u043e\u043c\u0456\u044f \u0437\u0430 \u0440\u0456\u043a"}),(0,ft.jsxs)("p",{className:"text-2xl font-bold",children:[i.savings," \u0433\u0440\u043d"]})]}),(0,ft.jsxs)("div",{className:"bg-gradient-to-br from-yellow-500 to-yellow-600 p-6 rounded-xl text-white text-center",children:[(0,ft.jsx)(eF,{className:"mx-auto mb-2",size:32}),(0,ft.jsx)("p",{className:"text-sm font-medium opacity-90",children:"\u041f\u0440\u0438\u0431\u0443\u0442\u043e\u043a (\u043f\u0456\u0441\u043b\u044f \u043f\u043e\u0434\u0430\u0442\u043a\u0456\u0432)"}),(0,ft.jsxs)("p",{className:"text-2xl font-bold",children:[i.netProfit," \u0433\u0440\u043d"]})]}),(0,ft.jsxs)("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 p-6 rounded-xl text-white text-center",children:[(0,ft.jsx)(rF,{className:"mx-auto mb-2",size:32}),(0,ft.jsx)("p",{className:"text-sm font-medium opacity-90",children:"\u0417\u0430\u0433\u0430\u043b\u044c\u043d\u0430 \u0432\u0438\u0433\u043e\u0434\u0430"}),(0,ft.jsxs)("p",{className:"text-2xl font-bold",children:[i.totalBenefit," \u0433\u0440\u043d"]})]})]}),(0,ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,ft.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg text-center",children:[(0,ft.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"\u0412\u043b\u0430\u0441\u043d\u0435 \u0441\u043f\u043e\u0436\u0438\u0432\u0430\u043d\u043d\u044f"}),(0,ft.jsxs)("p",{className:"text-xl font-bold text-blue-600",children:[i.consumptionRatio,"%"]})]}),(0,ft.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg text-center",children:[(0,ft.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"\u0421\u0430\u043c\u043e\u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u0456\u0441\u0442\u044c"}),(0,ft.jsxs)("p",{className:"text-xl font-bold text-green-600",children:[i.selfSufficiency,"%"]})]}),(0,ft.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg text-center",children:[(0,ft.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"\u041d\u0430\u0434\u043b\u0438\u0448\u043e\u043a \u0435\u043d\u0435\u0440\u0433\u0456\u0457"}),(0,ft.jsxs)("p",{className:"text-xl font-bold text-yellow-600",children:[i.excessGeneration," \u043a\u0412\u0442\xb7\u0433\u043e\u0434"]})]})]}),i.netProfit>0&&(0,ft.jsx)("div",{className:"bg-amber-50 border border-amber-200 p-4 rounded-lg mb-6",children:(0,ft.jsxs)("p",{className:"text-sm text-amber-800",children:["\ud83d\udca1 ",(0,ft.jsx)("strong",{children:"\u041f\u043e\u0434\u0430\u0442\u043a\u0438:"})," \u0417 \u043f\u0440\u0438\u0431\u0443\u0442\u043a\u0443 \u0432\u0456\u0434 \u043f\u0440\u043e\u0434\u0430\u0436\u0443 \u0435\u043b\u0435\u043a\u0442\u0440\u043e\u0435\u043d\u0435\u0440\u0433\u0456\u0457 \u0441\u043f\u043b\u0430\u0447\u0443\u044e\u0442\u044c\u0441\u044f: \u041f\u0414\u0424\u041e (18%) + \u0432\u0456\u0439\u0441\u044c\u043a\u043e\u0432\u0438\u0439 \u0437\u0431\u0456\u0440 (5%) = 23%"]})}),(0,ft.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:[(0,ft.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[(0,ft.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-4 text-center",children:"\u041f\u043e\u043c\u0456\u0441\u044f\u0447\u043d\u0438\u0439 \u0431\u0430\u043b\u0430\u043d\u0441 \u0435\u043d\u0435\u0440\u0433\u0456\u0457"}),(0,ft.jsx)(dm,{width:"100%",height:300,children:(0,ft.jsxs)(cA,{data:i.monthlyData,margin:{top:20,right:30,left:20,bottom:5},children:[(0,ft.jsx)($M,{strokeDasharray:"3 3"}),(0,ft.jsx)(GM,{dataKey:"month"}),(0,ft.jsx)(nD,{}),(0,ft.jsx)(yI,{labelFormatter:e=>`\u041c\u0456\u0441\u044f\u0446\u044c: ${e}`,formatter:(e,t)=>[`${Math.round(e)} \u043a\u0412\u0442\xb7\u0433\u043e\u0434`,"generation"===t?"\u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0456\u044f":"\u0421\u043f\u043e\u0436\u0438\u0432\u0430\u043d\u043d\u044f"]}),(0,ft.jsx)(uL,{formatter:e=>"generation"===e?"\u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0456\u044f":"\u0421\u043f\u043e\u0436\u0438\u0432\u0430\u043d\u043d\u044f"}),(0,ft.jsx)(YR,{dataKey:"generation",fill:"#10b981",name:"generation"}),(0,ft.jsx)(YR,{dataKey:"consumption",fill:"#ef4444",name:"consumption"})]})})]}),i.pieData.length>0&&(0,ft.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[(0,ft.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-4 text-center",children:"\u0420\u043e\u0437\u043f\u043e\u0434\u0456\u043b \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0456\u0457"}),(0,ft.jsx)(dm,{width:"100%",height:300,children:(0,ft.jsxs)(r$,{children:[(0,ft.jsx)(U$,{data:i.pieData,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,value:n}=e;return`${t}: ${Math.round(n)} \u043a\u0412\u0442\xb7\u0433\u043e\u0434`},outerRadius:80,fill:"#8884d8",dataKey:"value",children:i.pieData.map((e,t)=>(0,ft.jsx)(dL,{fill:e.color},`cell-${t}`))}),(0,ft.jsx)(yI,{formatter:e=>[`${Math.round(e)} \u043a\u0412\u0442\xb7\u0433\u043e\u0434`,""]})]})})]})]}),(0,ft.jsx)("div",{className:"text-center mt-6",children:(0,ft.jsx)("p",{className:"text-sm text-gray-600 bg-gray-50 p-4 rounded-lg",children:"\u26a0\ufe0f \u0426\u0435 \u043f\u0440\u0438\u0431\u043b\u0438\u0437\u043d\u0456 \u0440\u043e\u0437\u0440\u0430\u0445\u0443\u043d\u043a\u043e\u0432\u0456 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f. \u0424\u0430\u043a\u0442\u0438\u0447\u043d\u0430 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0456\u044f \u0437\u0430\u043b\u0435\u0436\u0438\u0442\u044c \u0432\u0456\u0434 \u043a\u0443\u0442\u0430 \u043d\u0430\u0445\u0438\u043b\u0443 \u043f\u0430\u043d\u0435\u043b\u0435\u0439, \u043e\u0440\u0456\u0454\u043d\u0442\u0430\u0446\u0456\u0457, \u0437\u0430\u0442\u0456\u043d\u0435\u043d\u043d\u044f, \u043f\u043e\u0433\u043e\u0434\u043d\u0438\u0445 \u0443\u043c\u043e\u0432 \u0442\u0430 \u044f\u043a\u043e\u0441\u0442\u0456 \u043e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f."})})]}),o&&(0,ft.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,ft.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 animate-in zoom-in duration-300",children:[(0,ft.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,ft.jsx)(aF,{className:"text-blue-600",size:28}),(0,ft.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u0456 \u0434\u0430\u043d\u0456"})]}),(0,ft.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,ft.jsx)(b,{label:"\u0406\u043c'\u044f",children:(0,ft.jsx)("input",{type:"text",value:r.firstName,onChange:e=>a(t=>({...t,firstName:e.target.value})),placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0432\u0430\u0448\u0435 \u0456\u043c'\u044f",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})}),(0,ft.jsx)(b,{label:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443",children:(0,ft.jsx)("input",{type:"tel",value:r.phone,onChange:e=>a(t=>({...t,phone:e.target.value})),placeholder:"+380123456789",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})}),(0,ft.jsx)(b,{label:"\u0427\u0438 \u0432\u0438 \u0454 \u043a\u043b\u0456\u0454\u043d\u0442\u043e\u043c \u043a\u043e\u043c\u043f\u0430\u043d\u0456\u0457?",children:(0,ft.jsxs)("select",{value:r.isClient,onChange:e=>a(t=>({...t,isClient:e.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,ft.jsx)("option",{value:"",children:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u043e\u043f\u0446\u0456\u044e"}),(0,ft.jsx)("option",{value:"\u0422\u0430\u043a",children:"\u0422\u0430\u043a"}),(0,ft.jsx)("option",{value:"\u041d\u0456",children:"\u041d\u0456"})]})}),(0,ft.jsx)(b,{label:"\u0427\u0438 \u043c\u043e\u0436\u0435\u043c\u043e \u0437 \u0432\u0430\u043c\u0438 \u0437\u0432'\u044f\u0437\u0430\u0442\u0438\u0441\u044c?",children:(0,ft.jsxs)("select",{value:r.contactRequest,onChange:e=>a(t=>({...t,contactRequest:e.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,ft.jsx)("option",{value:"",children:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u043e\u043f\u0446\u0456\u044e"}),(0,ft.jsx)("option",{value:"\u0422\u0430\u043a",children:"\u0422\u0430\u043a, \u0437\u0432'\u044f\u0436\u0456\u0442\u044c\u0441\u044f \u0437\u0456 \u043c\u043d\u043e\u044e"}),(0,ft.jsx)("option",{value:"\u041d\u0456",children:"\u041d\u0456, \u0434\u044f\u043a\u0443\u044e"})]})})]}),(0,ft.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,ft.jsx)("button",{onClick:async()=>{if((()=>{const e={};return r.firstName.trim()||(e.firstName="\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0456\u043c'\u044f"),r.phone.trim()||(e.phone="\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443"),r.isClient||(e.isClient="\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u043e\u043f\u0446\u0456\u044e"),r.contactRequest||(e.contactRequest="\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u043e\u043f\u0446\u0456\u044e"),r.phone&&!/^[+]?[1-9][\d]{0,15}$/.test(r.phone.replace(/\s/g,""))&&(e.phone="\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043a\u043e\u0440\u0435\u043a\u0442\u043d\u0438\u0439 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443"),0===Object.keys(e).length})()){p(!0);try{await new Promise(e=>setTimeout(e,1500)),l(!1),h(!0),n({objectType:"",stationType:"",region:"",powerCapacity:"",greenTariff:"",months:Array(12).fill("")}),a({firstName:"",phone:"",isClient:"",contactRequest:""})}catch(e){alert("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u0432\u0456\u0434\u043f\u0440\u0430\u0432\u0446\u0456. \u0421\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0449\u0435 \u0440\u0430\u0437.")}finally{p(!1)}}},disabled:f,className:"w-full bg-blue-600 text-white p-4 rounded-lg hover:bg-blue-700 transition-colors font-semibold flex items-center justify-center gap-2 disabled:opacity-50",children:f?(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"\u0412\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u044f\u0454\u043c\u043e..."]}):(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)(rF,{size:20}),"\u041d\u0430\u0434\u0456\u0441\u043b\u0430\u0442\u0438"]})}),(0,ft.jsx)("button",{onClick:()=>l(!1),className:"w-full bg-gray-200 text-gray-700 p-4 rounded-lg hover:bg-gray-300 transition-colors font-semibold",children:"\u0417\u0430\u043a\u0440\u0438\u0442\u0438"})]})]})}),d&&(0,ft.jsxs)("div",{className:"fixed top-4 right-4 bg-green-100 border border-green-300 text-green-800 p-6 rounded-xl shadow-lg z-50 max-w-sm animate-in slide-in-from-right duration-500",children:[(0,ft.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ft.jsx)(rF,{className:"text-green-600",size:24}),(0,ft.jsxs)("div",{children:[(0,ft.jsxs)("p",{className:"font-bold",children:["\u0414\u044f\u043a\u0443\u0454\u043c\u043e, ",r.firstName,"!"]}),(0,ft.jsxs)("p",{className:"text-sm",children:["\u041c\u0438 \u0437\u0432'\u044f\u0436\u0435\u043c\u043e\u0441\u044f \u0437 \u0432\u0430\u043c\u0438 \u0437\u0430 \u043d\u043e\u043c\u0435\u0440\u043e\u043c ",r.phone]})]})]}),(0,ft.jsx)("button",{onClick:()=>h(!1),className:"absolute top-2 right-2 text-green-600 hover:text-green-800",children:"\u2715"})]})]})})},sF=X$("camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),oF=X$("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),lF=X$("test-tube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]),cF=X$("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),uF=X$("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),dF=()=>{const[e,n]=(0,t.useState)(!1),[r,a]=(0,t.useState)(null),[i,s]=(0,t.useState)(null),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(""),[f,p]=(0,t.useState)(!1),m="https://api.telegram.org/bot8134982467:AAE-MhOH0Mu2xHLOZhFfQLn_WJ57MG6WdnQ",g=(0,t.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?n(!0):"dragleave"===e.type&&n(!1)},[]),v=(0,t.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),n(!1),e.dataTransfer.files&&e.dataTransfer.files[0]&&y(e.dataTransfer.files[0])},[]),y=e=>{if(!e)return;if(!e.type.startsWith("image/"))return void u({type:"error",message:"\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u043e\u0431\u0435\u0440\u0456\u0442\u044c \u0444\u0430\u0439\u043b \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f"});if(e.size>20971520)return void u({type:"error",message:"\u0424\u0430\u0439\u043b \u0437\u0430\u0432\u0435\u043b\u0438\u043a\u0438\u0439. \u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0438\u0439 \u0440\u043e\u0437\u043c\u0456\u0440: 20MB"});a(e),u(null);const t=new FileReader;t.onload=e=>s(e.target.result),t.readAsDataURL(e)};return(0,ft.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[(0,ft.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,ft.jsxs)("div",{className:"text-center mb-12",children:[(0,ft.jsxs)("div",{className:"flex justify-center items-center gap-3 mb-6",children:[(0,ft.jsx)("div",{className:"p-3 bg-blue-600 rounded-2xl shadow-lg",children:(0,ft.jsx)(sF,{className:"w-8 h-8 text-white"})}),(0,ft.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"OCR \u0410\u043d\u0430\u043b\u0456\u0437\u0430\u0442\u043e\u0440"})]}),(0,ft.jsx)("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto leading-relaxed",children:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0442\u0435 \u0444\u043e\u0442\u043e \u0447\u0435\u043a\u0443 \u0430\u0431\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430 \u0434\u043b\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u043d\u043e\u0433\u043e \u0440\u043e\u0437\u043f\u0456\u0437\u043d\u0430\u0432\u0430\u043d\u043d\u044f \u0442\u0435\u043a\u0441\u0442\u0443 \u0442\u0430 \u0430\u043d\u0430\u043b\u0456\u0437\u0443"})]}),(0,ft.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,ft.jsxs)("div",{className:"bg-white rounded-3xl shadow-xl border border-gray-100 overflow-hidden",children:[(0,ft.jsxs)("div",{className:"p-8 border-b border-gray-100",children:[(0,ft.jsx)("label",{className:"block text-lg font-semibold text-gray-700 mb-3",children:"Telegram Chat ID \u0430\u0431\u043e Thread ID"}),(0,ft.jsxs)("div",{className:"flex gap-3",children:[(0,ft.jsx)("input",{type:"text",value:d,onChange:e=>h(e.target.value),placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c Chat ID \u0430\u0431\u043e Thread ID (\u043d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434: 123456789 \u0430\u0431\u043e 123456789:5678)",className:"flex-1 px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none transition-colors text-lg"}),(0,ft.jsx)("button",{onClick:async()=>{if(d.trim()){p(!0),u(null);try{let e=d.trim(),t=null;if(d.includes(":")){const[n,r]=d.split(":");e=n.trim(),t=r.trim()}const n={chat_id:e,text:"\ud83e\uddea \u0422\u0435\u0441\u0442 \u0437'\u0454\u0434\u043d\u0430\u043d\u043d\u044f\n\u2705 \u0411\u043e\u0442 \u043f\u0440\u0430\u0446\u044e\u0454 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e!\n\ud83d\udcf1 \u0422\u0435\u043f\u0435\u0440 \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043d\u0430\u0434\u0441\u0438\u043b\u0430\u0442\u0438 \u0444\u043e\u0442\u043e \u0434\u043b\u044f \u0430\u043d\u0430\u043b\u0456\u0437\u0443."};t&&(n.message_thread_id=parseInt(t));const r=await fetch(`${m}/sendMessage`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),a=await r.json();if(!a.ok)throw new Error(a.description||"\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0442\u0435\u0441\u0442\u0443");u({type:"success",message:`\u2705 \u0422\u0435\u0441\u0442 \u0443\u0441\u043f\u0456\u0448\u043d\u0438\u0439! \u041f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u043d\u0430\u0434\u0456\u0441\u043b\u0430\u043d\u043e \u0432 ${t?"\u0433\u0456\u043b\u0446\u0456":"\u0447\u0430\u0442\u0456"}. \u041f\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435 Telegram.`})}catch(e){console.error("Test error:",e);let t=`\u274c \u0422\u0435\u0441\u0442 \u043d\u0435 \u043f\u0440\u043e\u0439\u0434\u0435\u043d\u043e: ${e.message}`;e.message.includes("chat not found")?t+="\n\ud83d\udca1 \u041f\u043e\u0447\u043d\u0456\u0442\u044c \u0434\u0456\u0430\u043b\u043e\u0433 \u0437 \u0431\u043e\u0442\u043e\u043c \u0430\u0431\u043e \u0434\u043e\u0434\u0430\u0439\u0442\u0435 \u0439\u043e\u0433\u043e \u0432 \u0433\u0440\u0443\u043f\u0443.":e.message.includes("bot was blocked")?t+="\n\ud83d\udca1 \u0420\u043e\u0437\u0431\u043b\u043e\u043a\u0443\u0439\u0442\u0435 \u0431\u043e\u0442\u0430 \u0432 Telegram.":e.message.includes("thread")&&(t+="\n\ud83d\udca1 \u041f\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u0456\u0441\u0442\u044c Thread ID."),u({type:"error",message:t})}finally{p(!1)}}else u({type:"error",message:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c Chat ID \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u0443"})},disabled:f||!d.trim(),className:`\n                    px-6 py-3 rounded-xl font-semibold transition-all duration-200 flex items-center gap-2 whitespace-nowrap\n                    ${f||!d.trim()?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-100 hover:bg-blue-200 text-blue-700 hover:shadow-md"}\n                  `,children:f?(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)(oF,{className:"w-5 h-5 animate-spin"}),"\u0422\u0435\u0441\u0442..."]}):(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)(lF,{className:"w-5 h-5"}),"\u0422\u0435\u0441\u0442"]})})]}),(0,ft.jsxs)("div",{className:"text-sm text-gray-500 mt-3 space-y-1",children:[(0,ft.jsxs)("p",{children:["\ud83d\udca1 \u0414\u043b\u044f \u043e\u0441\u043e\u0431\u0438\u0441\u0442\u043e\u0433\u043e \u0447\u0430\u0442\u0443: \u043d\u0430\u043f\u0438\u0448\u0456\u0442\u044c ",(0,ft.jsx)("code",{className:"bg-gray-100 px-1 rounded",children:"@userinfobot"})," \u0432 Telegram"]}),(0,ft.jsx)("p",{children:"\ud83d\udc65 \u0414\u043b\u044f \u0433\u0440\u0443\u043f\u0438: \u0434\u043e\u0434\u0430\u0439\u0442\u0435 \u0431\u043e\u0442\u0430 \u0432 \u0433\u0440\u0443\u043f\u0443, \u0456 \u0432\u0456\u043d \u043d\u0430\u0434\u0456\u0448\u043b\u0435 Group ID"}),(0,ft.jsxs)("p",{children:["\ud83e\uddf5 \u0414\u043b\u044f \u0433\u0456\u043b\u043a\u0438: \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0439\u0442\u0435 \u0444\u043e\u0440\u043c\u0430\u0442 ",(0,ft.jsx)("code",{className:"bg-gray-100 px-1 rounded",children:"GROUP_ID:THREAD_ID"})]})]})]}),(0,ft.jsxs)("div",{className:"p-8",children:[(0,ft.jsxs)("div",{className:`\n                  relative border-3 border-dashed rounded-2xl p-12 text-center transition-all duration-300 cursor-pointer\n                  ${e?"border-blue-500 bg-blue-50 scale-105 shadow-lg":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"}\n                  ${r?"border-green-400 bg-green-50":""}\n                `,onDragEnter:g,onDragLeave:g,onDragOver:g,onDrop:v,onClick:()=>document.getElementById("fileInput").click(),children:[(0,ft.jsx)("input",{id:"fileInput",type:"file",accept:"image/*",onChange:e=>{e.target.files&&e.target.files[0]&&y(e.target.files[0])},className:"hidden"}),r?(0,ft.jsxs)("div",{className:"space-y-4",children:[(0,ft.jsx)(rF,{className:"w-16 h-16 text-green-500 mx-auto"}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("h3",{className:"text-xl font-semibold text-gray-700",children:"\u0424\u0430\u0439\u043b \u043e\u0431\u0440\u0430\u043d\u043e"}),(0,ft.jsx)("p",{className:"text-gray-500",children:r.name}),(0,ft.jsxs)("p",{className:"text-sm text-gray-400",children:[(r.size/1048576).toFixed(2)," MB"]})]})]}):(0,ft.jsxs)("div",{className:"space-y-6",children:[(0,ft.jsx)("div",{className:"mx-auto w-20 h-20 rounded-full flex items-center justify-center transition-colors duration-300 "+(e?"bg-blue-600":"bg-gray-100"),children:(0,ft.jsx)(cF,{className:"w-10 h-10 "+(e?"text-white":"text-gray-400")})}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("h3",{className:"text-2xl font-semibold text-gray-700 mb-2",children:e?"\u0412\u0456\u0434\u043f\u0443\u0441\u0442\u0456\u0442\u044c \u0444\u0430\u0439\u043b \u0442\u0443\u0442":"\u041f\u0435\u0440\u0435\u0442\u044f\u0433\u043d\u0456\u0442\u044c \u0444\u043e\u0442\u043e \u0441\u044e\u0434\u0438"}),(0,ft.jsx)("p",{className:"text-gray-500 text-lg",children:"\u0430\u0431\u043e \u043d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c \u0434\u043b\u044f \u0432\u0438\u0431\u043e\u0440\u0443 \u0444\u0430\u0439\u043b\u0443"})]}),(0,ft.jsxs)("div",{className:"flex flex-wrap justify-center gap-2 text-sm text-gray-400",children:[(0,ft.jsx)("span",{className:"px-3 py-1 bg-gray-100 rounded-full",children:"JPG"}),(0,ft.jsx)("span",{className:"px-3 py-1 bg-gray-100 rounded-full",children:"PNG"}),(0,ft.jsx)("span",{className:"px-3 py-1 bg-gray-100 rounded-full",children:"WEBP"}),(0,ft.jsx)("span",{className:"px-3 py-1 bg-gray-100 rounded-full",children:"\u0414\u043e 20MB"})]})]})]}),i&&(0,ft.jsxs)("div",{className:"mt-8",children:[(0,ft.jsx)("h4",{className:"text-lg font-semibold text-gray-700 mb-4",children:"\u041f\u043e\u043f\u0435\u0440\u0435\u0434\u043d\u0456\u0439 \u043f\u0435\u0440\u0435\u0433\u043b\u044f\u0434:"}),(0,ft.jsx)("div",{className:"relative bg-gray-50 rounded-xl p-4",children:(0,ft.jsx)("img",{src:i,alt:"Preview",className:"max-w-full max-h-80 mx-auto rounded-lg shadow-md object-contain"})})]}),r&&(0,ft.jsxs)("div",{className:"mt-8 flex flex-col sm:flex-row gap-4",children:[(0,ft.jsx)("button",{onClick:async()=>{if(r)if(d.trim()){l(!0),u(null);try{let e=d.trim(),t=null;if(d.includes(":")){const[n,r]=d.split(":");e=n.trim(),t=r.trim()}const n={chat_id:e,text:"\ud83d\udd0d \u041f\u043e\u0447\u0430\u0442\u043e\u043a \u0430\u043d\u0430\u043b\u0456\u0437\u0443 \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f... \u041d\u0430\u0434\u0441\u0438\u043b\u0430\u044e \u0444\u043e\u0442\u043e \u0434\u043b\u044f \u043e\u0431\u0440\u043e\u0431\u043a\u0438."};t&&(n.message_thread_id=parseInt(t));const i=await fetch(`${m}/sendMessage`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),o=await i.json();if(!o.ok)throw new Error(o.description||"\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0432\u0456\u0434\u043f\u0440\u0430\u0432\u043a\u0438 \u043a\u043e\u043c\u0430\u043d\u0434\u0438");const l=new FormData;l.append("chat_id",e),t&&l.append("message_thread_id",t),l.append("photo",r),l.append("caption",`/analyze \ud83d\udcf7 \u0424\u043e\u0442\u043e \u0434\u043b\u044f OCR \u0430\u043d\u0430\u043b\u0456\u0437\u0443\n\ud83d\udcc5 ${(new Date).toLocaleString("uk-UA")}\n\n\ud83d\udca1 \u0411\u043e\u0442 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u043d\u043e \u043e\u0431\u0440\u043e\u0431\u0438\u0442\u044c \u0446\u0435 \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f \u0442\u0430 \u043d\u0430\u0434\u0430\u0441\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0430\u043d\u0430\u043b\u0456\u0437\u0443 \u0442\u0435\u043a\u0441\u0442\u0443.`);const c=await fetch(`${m}/sendPhoto`,{method:"POST",body:l}),h=await c.json();if(!h.ok)throw new Error(h.description||"\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0432\u0456\u0434\u043f\u0440\u0430\u0432\u043a\u0438 \u0444\u043e\u0442\u043e");{const n={chat_id:e,text:"\ud83e\udd16 \u0410\u043d\u0430\u043b\u0456\u0437\u0443\u044e \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f... \u0417\u0430\u0447\u0435\u043a\u0430\u0439\u0442\u0435, \u0431\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430.",reply_to_message_id:h.result.message_id};t&&(n.message_thread_id=parseInt(t)),await fetch(`${m}/sendMessage`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});u({type:"success",message:`\u0424\u043e\u0442\u043e \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0432\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0432 ${t?"\u0433\u0456\u043b\u043a\u0443":"\u0447\u0430\u0442"}! \u0411\u043e\u0442 \u0440\u043e\u0437\u043f\u043e\u0447\u0430\u0432 \u0430\u043d\u0430\u043b\u0456\u0437. \u041e\u0447\u0456\u043a\u0443\u0439\u0442\u0435 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0432 Telegram.`}),setTimeout(()=>{a(null),s(null),u(null)},3e3)}}catch(e){console.error("Upload error:",e);let t=`\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0432\u0456\u0434\u043f\u0440\u0430\u0432\u043a\u0438: ${e.message}`;e.message.includes("chat not found")||e.message.includes("bot was blocked")?t+=" \u041f\u0435\u0440\u0435\u043a\u043e\u043d\u0430\u0439\u0442\u0435\u0441\u044f, \u0449\u043e \u0432\u0438 \u043f\u043e\u0447\u0430\u043b\u0438 \u0434\u0456\u0430\u043b\u043e\u0433 \u0437 \u0431\u043e\u0442\u043e\u043c \u0430\u0431\u043e \u0434\u043e\u0434\u0430\u043b\u0438 \u0439\u043e\u0433\u043e \u0432 \u0433\u0440\u0443\u043f\u0443.":e.message.includes("thread")&&(t+=" \u041f\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u0456\u0441\u0442\u044c Thread ID \u0434\u043b\u044f \u0433\u0456\u043b\u043a\u0438."),u({type:"error",message:t})}finally{l(!1)}}else u({type:"error",message:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c Chat ID \u0430\u0431\u043e Thread ID"})},disabled:o||!d.trim(),className:`\n                      flex-1 px-8 py-4 rounded-xl font-semibold text-lg transition-all duration-200 flex items-center justify-center gap-3\n                      ${o||!d.trim()?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:shadow-lg hover:scale-105 active:scale-95"}\n                    `,children:o?(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)(oF,{className:"w-6 h-6 animate-spin"}),"\u0412\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u044f\u044e..."]}):(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)(uF,{className:"w-6 h-6"}),"\u0412\u0456\u0434\u043f\u0440\u0430\u0432\u0438\u0442\u0438 \u0432 Telegram"]})}),(0,ft.jsx)("button",{onClick:()=>{a(null),s(null),u(null)},disabled:o,className:"px-8 py-4 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-xl font-semibold transition-colors disabled:opacity-50",children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u0438"})]}),c&&(0,ft.jsxs)("div",{className:`\n                  mt-6 p-4 rounded-xl flex items-start gap-3 text-lg whitespace-pre-line\n                  ${"success"===c.type?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}\n                `,children:["success"===c.type?(0,ft.jsx)(rF,{className:"w-6 h-6 text-green-500 mt-0.5 flex-shrink-0"}):(0,ft.jsx)(J$,{className:"w-6 h-6 text-red-500 mt-0.5 flex-shrink-0"}),(0,ft.jsx)("span",{children:c.message})]})]})]}),(0,ft.jsxs)("div",{className:"mt-12 bg-white rounded-2xl shadow-lg p-8",children:[(0,ft.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-6 text-center",children:"\ud83d\udccb \u042f\u043a \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438"}),(0,ft.jsxs)("div",{className:"grid md:grid-cols-4 gap-6",children:[(0,ft.jsxs)("div",{className:"text-center",children:[(0,ft.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,ft.jsx)("span",{className:"text-2xl font-bold text-blue-600",children:"1"})}),(0,ft.jsx)("h4",{className:"font-semibold text-lg text-gray-700 mb-2",children:"\u041e\u0442\u0440\u0438\u043c\u0430\u0439\u0442\u0435 ID"}),(0,ft.jsx)("p",{className:"text-gray-600 text-sm",children:"\u041d\u0430\u043f\u0438\u0448\u0456\u0442\u044c @userinfobot \u0432 Telegram \u0442\u0430 \u0441\u043a\u043e\u043f\u0456\u044e\u0439\u0442\u0435 \u0432\u0430\u0448 ID"})]}),(0,ft.jsxs)("div",{className:"text-center",children:[(0,ft.jsx)("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,ft.jsx)("span",{className:"text-2xl font-bold text-purple-600",children:"2"})}),(0,ft.jsx)("h4",{className:"font-semibold text-lg text-gray-700 mb-2",children:"\u041f\u043e\u0447\u043d\u0456\u0442\u044c \u0434\u0456\u0430\u043b\u043e\u0433"}),(0,ft.jsx)("p",{className:"text-gray-600 text-sm",children:"\u041d\u0430\u043f\u0438\u0448\u0456\u0442\u044c /start \u0431\u043e\u0442\u0443 \u0430\u0431\u043e \u0434\u043e\u0434\u0430\u0439\u0442\u0435 \u0439\u043e\u0433\u043e \u0432 \u0433\u0440\u0443\u043f\u0443/\u0433\u0456\u043b\u043a\u0443"})]}),(0,ft.jsxs)("div",{className:"text-center",children:[(0,ft.jsx)("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,ft.jsx)("span",{className:"text-2xl font-bold text-orange-600",children:"3"})}),(0,ft.jsx)("h4",{className:"font-semibold text-lg text-gray-700 mb-2",children:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0442\u0435 \u0444\u043e\u0442\u043e"}),(0,ft.jsx)("p",{className:"text-gray-600 text-sm",children:"\u041f\u0435\u0440\u0435\u0442\u044f\u0433\u043d\u0456\u0442\u044c \u0444\u043e\u0442\u043e \u0447\u0435\u043a\u0443 \u0430\u0431\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430 \u0432 \u043e\u0431\u043b\u0430\u0441\u0442\u044c \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f"})]}),(0,ft.jsxs)("div",{className:"text-center",children:[(0,ft.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,ft.jsx)("span",{className:"text-2xl font-bold text-green-600",children:"4"})}),(0,ft.jsx)("h4",{className:"font-semibold text-lg text-gray-700 mb-2",children:"\u041e\u0442\u0440\u0438\u043c\u0430\u0439\u0442\u0435 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"}),(0,ft.jsx)("p",{className:"text-gray-600 text-sm",children:"\u0411\u043e\u0442 \u043f\u0440\u043e\u0430\u043d\u0430\u043b\u0456\u0437\u0443\u0454 \u0444\u043e\u0442\u043e \u0442\u0430 \u043d\u0430\u0434\u0456\u0448\u043b\u0435 \u0440\u043e\u0437\u043f\u0456\u0437\u043d\u0430\u043d\u0438\u0439 \u0442\u0435\u043a\u0441\u0442"})]})]}),(0,ft.jsxs)("div",{className:"mt-8 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-6",children:[(0,ft.jsx)("h4",{className:"font-semibold text-lg text-gray-700 mb-4 text-center",children:"\ud83d\udca1 \u041a\u043e\u0440\u0438\u0441\u043d\u0456 \u043f\u043e\u0440\u0430\u0434\u0438:"}),(0,ft.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 text-sm text-gray-600",children:[(0,ft.jsxs)("div",{className:"flex items-start gap-2",children:[(0,ft.jsx)("span",{className:"text-blue-500",children:"\ud83d\udc64"}),(0,ft.jsxs)("span",{children:[(0,ft.jsx)("strong",{children:"\u041e\u0441\u043e\u0431\u0438\u0441\u0442\u0438\u0439 \u0447\u0430\u0442:"})," \u041f\u0440\u043e\u0441\u0442\u043e \u0432\u0432\u0435\u0434\u0456\u0442\u044c \u0432\u0430\u0448 User ID"]})]}),(0,ft.jsxs)("div",{className:"flex items-start gap-2",children:[(0,ft.jsx)("span",{className:"text-green-500",children:"\ud83d\udc65"}),(0,ft.jsxs)("span",{children:[(0,ft.jsx)("strong",{children:"\u0413\u0440\u0443\u043f\u043e\u0432\u0456 \u0447\u0430\u0442\u0438:"})," \u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0439\u0442\u0435 Group ID (\u0432\u0456\u0434'\u0454\u043c\u043d\u0435 \u0447\u0438\u0441\u043b\u043e)"]})]}),(0,ft.jsxs)("div",{className:"flex items-start gap-2",children:[(0,ft.jsx)("span",{className:"text-purple-500",children:"\ud83e\uddf5"}),(0,ft.jsxs)("span",{children:[(0,ft.jsx)("strong",{children:"\u0413\u0456\u043b\u043a\u0438 (Topics):"})," \u0424\u043e\u0440\u043c\u0430\u0442 GROUP_ID:THREAD_ID"]})]}),(0,ft.jsxs)("div",{className:"flex items-start gap-2",children:[(0,ft.jsx)("span",{className:"text-orange-500",children:"\ud83d\udcf1"}),(0,ft.jsxs)("span",{children:[(0,ft.jsx)("strong",{children:"\u042f\u043a\u0456\u0441\u0442\u044c \u0444\u043e\u0442\u043e:"})," \u0427\u0456\u0442\u043a\u0456 \u0437\u043d\u0456\u043c\u043a\u0438 \u0434\u0430\u044e\u0442\u044c \u043a\u0440\u0430\u0449\u0438\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"]})]})]})]})]})]})]}),(0,ft.jsx)("footer",{className:"bg-white border-t border-gray-100 py-8 mt-16",children:(0,ft.jsx)("div",{className:"container mx-auto px-4 text-center text-gray-600",children:(0,ft.jsx)("p",{children:"\ud83e\udd16 Powered by Azure Computer Vision & Telegram Bot API"})})})]})},hF="https://quiet-water-a1ad.kairosost38500.workers.dev",fF=["\u041a\u043e\u043c\u0435\u0440\u0446\u0456\u0439\u043d\u0430 \u043f\u0440\u043e\u043f\u043e\u0437\u0438\u0446\u0456\u044f","\u0422\u0435\u0445\u043d\u0456\u0447\u043d\u0438\u0439 \u043f\u0440\u043e\u0454\u043a\u0442","\u0424\u043e\u0442\u043e\u0437\u0432\u0456\u0442","\u0424\u043e\u0442\u043e \u043e\u0431'\u0454\u043a\u0442\u0430","3D-\u0432\u0456\u0437\u0443\u0430\u043b\u0456\u0437\u0430\u0446\u0456\u044f","\u0427\u0435\u043a","\u041d\u0430\u043a\u043b\u0430\u0434\u043d\u0430","\u0410\u043a\u0442","\u0406\u043d\u0448\u0435"];function pF(e){let{project:n,onClose:r}=e;const[a,i]=(0,t.useState)([]),[s,o]=(0,t.useState)(!1),[l,c]=(0,t.useState)([]),[u,d]=(0,t.useState)(fF[0]),[h,f]=(0,t.useState)(""),[p,m]=(0,t.useState)(!1),[g,v]=(0,t.useState)(!1),[y,x]=(0,t.useState)(null),[b,w]=(0,t.useState)(null),j=(0,t.useRef)(null),k=(0,t.useCallback)(async()=>{if(n){o(!0);try{const e=await fetch(`${hF}/documents/${n.custom_id}`),t=await e.json();if("error"===t.status)throw new Error(t.message);i(t.documents||[])}catch(e){console.error(e)}finally{o(!1)}}},[n]);(0,t.useEffect)(()=>{k()},[k]);const N=e=>{if(e&&e.length>0){const t=Array.from(e);c(e=>[...e,...t])}};return(0,ft.jsx)(hc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-none md:backdrop-blur-sm z-[60] flex items-center justify-center p-4",onClick:r,children:(0,ft.jsxs)(hc.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white w-full max-w-4xl max-h-[90vh] rounded-2xl shadow-xl flex flex-col border border-gray-200 md:bg-white/95 md:backdrop-blur-xl",onClick:e=>e.stopPropagation(),children:[(0,ft.jsxs)("div",{className:"p-4 sm:p-6 border-b flex justify-between items-start bg-white/50 rounded-t-2xl",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsxs)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800 flex items-center gap-2",children:[(0,ft.jsx)(xu,{className:"text-indigo-500"})," \u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0438"]}),(0,ft.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[n.name," (#",n.custom_id,")"]})]}),(0,ft.jsx)("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition",children:(0,ft.jsx)(hd,{size:20})})]}),(0,ft.jsxs)("div",{className:"flex-grow overflow-y-auto p-4 sm:p-6 grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,ft.jsx)("div",{className:"lg:col-span-1",children:(0,ft.jsxs)("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 sticky top-0",children:[(0,ft.jsxs)("h4",{className:"font-bold text-slate-700 mb-3 text-xs uppercase tracking-wider flex items-center gap-2",children:[(0,ft.jsx)(Yc,{})," \u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f"]}),(0,ft.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),0===l.length)return;const t="\u0406\u043d\u0448\u0435"===u?h.trim():u;if(!t)return w({type:"error",msg:"\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u043d\u0430\u0437\u0432\u0443 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430"}),void setTimeout(()=>w(null),3e3);m(!0);const r=new FormData;r.append("object_number",n.custom_id),r.append("doc_type",t),l.forEach(e=>r.append("files",e));try{const e=await fetch(`${hF}/upload/`,{method:"POST",body:r}),t=await e.json();"success"===t.status?(w({type:"success",msg:`\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043e: ${t.count}`}),c([]),f(""),"\u0406\u043d\u0448\u0435"===u&&d(fF[0]),k()):w({type:"error",msg:t.message})}catch(a){w({type:"error",msg:"\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0437'\u0454\u0434\u043d\u0430\u043d\u043d\u044f"})}finally{m(!1),setTimeout(()=>w(null),3e3)}},className:"space-y-3",children:[(0,ft.jsx)("select",{value:u,onChange:e=>d(e.target.value),className:"w-full p-2.5 rounded-lg border border-gray-300 text-sm focus:ring-2 focus:ring-indigo-500 outline-none bg-white",children:fF.map(e=>(0,ft.jsx)("option",{value:e,children:e},e))}),"\u0406\u043d\u0448\u0435"===u&&(0,ft.jsx)(hc.input,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430...",value:h,onChange:e=>f(e.target.value),className:"w-full p-2.5 rounded-lg border border-indigo-300 bg-indigo-50/50 text-sm focus:bg-white outline-none",required:!0}),(0,ft.jsxs)("div",{className:"relative border-2 border-dashed rounded-xl p-4 transition-all text-center cursor-pointer "+(g?"border-indigo-500 bg-indigo-50":"border-gray-300 hover:border-indigo-400 hover:bg-white"),onDragOver:e=>{e.preventDefault(),v(!0)},onDragLeave:e=>{e.preventDefault(),v(!1)},onDrop:e=>{e.preventDefault(),v(!1),N(e.dataTransfer.files)},onClick:()=>{var e;return null===(e=j.current)||void 0===e?void 0:e.click()},children:[(0,ft.jsx)("input",{type:"file",multiple:!0,ref:j,onChange:e=>{N(e.target.files),j.current&&(j.current.value="")},className:"hidden"}),(0,ft.jsx)(Yc,{className:"mx-auto text-2xl mb-2 "+(g?"text-indigo-600":"text-gray-400")}),(0,ft.jsx)("p",{className:"text-xs text-gray-500 font-medium",children:"\u041d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c \u0430\u0431\u043e \u043f\u0435\u0440\u0435\u0442\u044f\u0433\u043d\u0456\u0442\u044c \u0444\u0430\u0439\u043b\u0438 \u0441\u044e\u0434\u0438"})]}),(0,ft.jsx)(Et,{children:l.length>0&&(0,ft.jsx)(hc.ul,{initial:{opacity:0},animate:{opacity:1},className:"bg-white border rounded-lg divide-y max-h-32 overflow-y-auto text-xs shadow-inner",children:l.map((e,t)=>(0,ft.jsxs)(hc.li,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},className:"p-2 flex justify-between items-center hover:bg-slate-50",children:[(0,ft.jsxs)("div",{className:"flex items-center gap-2 truncate",children:[(0,ft.jsx)(Ed,{className:"text-gray-400"}),(0,ft.jsx)("span",{className:"truncate text-slate-600 max-w-[150px]",children:e.name})]}),(0,ft.jsx)("button",{type:"button",onClick:()=>{return e=t,void c(t=>t.filter((t,n)=>n!==e));var e},className:"text-red-400 hover:text-red-600 p-1",children:(0,ft.jsx)(pd,{size:10})})]},`${e.name}-${t}`))})}),(0,ft.jsxs)("button",{type:"submit",disabled:p||0===l.length,className:"w-full py-2.5 bg-indigo-600 text-white rounded-lg text-sm font-bold shadow-md hover:bg-indigo-700 disabled:opacity-50 disabled:shadow-none flex justify-center items-center gap-2 transition-all active:scale-95",children:[p?(0,ft.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):(0,ft.jsx)(Yc,{}),p?"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f...":`\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 (${l.length})`]})]}),(0,ft.jsx)(Et,{children:b&&(0,ft.jsxs)(hc.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},className:"mt-3 p-2.5 rounded-lg text-xs flex items-center gap-2 font-medium "+("error"===b.type?"bg-red-100 text-red-700":"bg-green-100 text-green-700"),children:["error"===b.type?(0,ft.jsx)(su,{}):(0,ft.jsx)(Bc,{})," ",b.msg]})})]})}),(0,ft.jsxs)("div",{className:"lg:col-span-2",children:[(0,ft.jsx)("h4",{className:"font-bold text-slate-700 mb-3 text-xs uppercase tracking-wider pl-1",children:"\u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u0456 \u0444\u0430\u0439\u043b\u0438"}),(0,ft.jsx)("div",{className:"space-y-2",children:s?Array.from({length:3}).map((e,t)=>(0,ft.jsx)("div",{className:"h-14 bg-slate-50 rounded-xl animate-pulse border border-slate-100"},t)):0===a.length?(0,ft.jsxs)("div",{className:"text-center py-12 border-2 border-dashed border-slate-200 rounded-xl",children:[(0,ft.jsx)(xu,{className:"mx-auto text-4xl text-slate-200 mb-2"}),(0,ft.jsx)("p",{className:"text-slate-400 text-sm",children:"\u041f\u0430\u043f\u043a\u0430 \u043f\u043e\u0440\u043e\u0436\u043d\u044f"})]}):a.map(e=>{return(0,ft.jsxs)(hc.div,{layout:!0,className:"flex items-center justify-between p-3 bg-white border border-slate-200 rounded-xl hover:shadow-md hover:border-indigo-200 transition group",children:[(0,ft.jsxs)("div",{className:"flex items-center gap-3 min-w-0",children:[(0,ft.jsx)("div",{className:"w-10 h-10 flex items-center justify-center bg-slate-50 rounded-lg flex-shrink-0",children:(t=e.mimeType,t?t.includes("pdf")?(0,ft.jsx)(pu,{className:"text-red-500 text-xl"}):t.includes("image")?(0,ft.jsx)(hu,{className:"text-blue-500 text-xl"}):(0,ft.jsx)(uu,{className:"text-gray-500 text-xl"}):(0,ft.jsx)(uu,{className:"text-gray-400 text-xl"}))}),(0,ft.jsxs)("div",{className:"min-w-0",children:[(0,ft.jsx)("p",{className:"font-semibold text-gray-800 text-sm truncate w-full pr-4",title:e.name,children:e.name}),(0,ft.jsxs)("div",{className:"flex flex-wrap items-center gap-2 text-xs text-gray-400 mt-0.5",children:[(0,ft.jsx)("span",{className:"bg-slate-100 px-2 py-0.5 rounded text-slate-600 font-medium",children:e.docType||"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442"}),(0,ft.jsxs)("span",{children:["\u2022 ",new Date(e.createdTime).toLocaleDateString()]})]})]})]}),(0,ft.jsxs)("div",{className:"flex gap-1 pl-2",children:[(0,ft.jsx)("button",{onClick:()=>x(e.webViewLink),className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition",title:"\u041f\u0435\u0440\u0435\u0433\u043b\u044f\u0434",children:(0,ft.jsx)(cu,{})}),e.webContentLink&&(0,ft.jsx)("a",{href:e.webContentLink,className:"p-2 text-emerald-600 hover:bg-emerald-50 rounded-lg transition",title:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438",children:(0,ft.jsx)(tu,{})})]})]},e.id);var t})})]})]}),(0,ft.jsx)(Et,{children:y&&(0,ft.jsxs)(hc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[70] bg-black/90 p-2 sm:p-6 flex flex-col backdrop-blur-sm",children:[(0,ft.jsxs)("div",{className:"flex justify-between items-center text-white mb-4 px-2",children:[(0,ft.jsx)("h3",{className:"font-medium text-lg",children:"\u041f\u043e\u043f\u0435\u0440\u0435\u0434\u043d\u0456\u0439 \u043f\u0435\u0440\u0435\u0433\u043b\u044f\u0434"}),(0,ft.jsx)("button",{onClick:()=>x(null),className:"p-2 hover:bg-white/10 rounded-full transition",children:(0,ft.jsx)(hd,{size:24})})]}),(0,ft.jsx)("div",{className:"flex-grow bg-white rounded-xl overflow-hidden shadow-2xl",children:(0,ft.jsx)("iframe",{src:y.replace("/view","/preview"),className:"w-full h-full border-0",title:"Preview"})})]})})]})})}const mF=_p("https://logxutaepqzmvgsvscle.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxvZ3h1dGFlcHF6bXZnc3ZzY2xlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM5ODU4MDEsImV4cCI6MjA2OTU2MTgwMX0.NhbaKL5X48jHyPPxZ-6EadLcBfM-NMxMA8qbksT9VhE"),gF=e=>{let{project:n,onClose:r,showToast:a,setConfirmModal:i}=e;const[s,o]=(0,t.useState)([]),[l,c]=(0,t.useState)([]),[u,d]=(0,t.useState)(!0),[h,f]=(0,t.useState)(!1),[p,m]=(0,t.useState)({equipment_id:"",quantity:1,status:"\u0417\u0430\u043f\u043b\u0430\u043d\u043e\u0432\u0430\u043d\u043e",ttn_code:"",notes:""}),[g,v]=(0,t.useState)(""),[y,x]=(0,t.useState)(!1),b=((e,n)=>{const[r,a]=(0,t.useState)(e);return(0,t.useEffect)(()=>{const t=setTimeout(()=>a(e),n);return()=>clearTimeout(t)},[e,n]),r})(g,300),[w,j]=(0,t.useState)(null),[k,N]=(0,t.useState)({quantity:"",status:"",ttn_code:"",notes:""}),[_,S]=(0,t.useState)(!1),C=(0,t.useCallback)(async()=>{if(null===n||void 0===n||!n.custom_id)return;d(!0);const{data:e,error:t}=await mF.from("project_procurement").select("*, equipment:equipment(name, category)").eq("installation_custom_id",n.custom_id).order("created_at",{ascending:!1});t?a("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u043e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f","error"):o(e||[]),d(!1)},[n,a]);(0,t.useEffect)(()=>{C(),mF.from("equipment").select("id, name, category").then(e=>{let{data:t}=e;return c(t||[])})},[C]);const O=b?l.filter(e=>e.name.toLowerCase().includes(b.toLowerCase())):[],E=async()=>{x(!0);const{error:e}=await mF.from("project_procurement").update({quantity:k.quantity,status:k.status,ttn_code:k.ttn_code||null,notes:k.notes||null}).eq("id",w);e?a("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f","error"):(a("\u041f\u043e\u0437\u0438\u0446\u0456\u044e \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043e","success"),j(null),C()),x(!1)};return n?(0,ft.jsx)(hc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:r,children:(0,ft.jsxs)(hc.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white/95 backdrop-blur-xl rounded-2xl w-full max-w-lg md:max-w-4xl max-h-[90vh] shadow-2xl flex flex-col border border-gray-200/50",onClick:e=>e.stopPropagation(),children:[(0,ft.jsxs)("div",{className:"p-4 sm:p-6 border-b flex justify-between items-start",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800",children:"\u041e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f \u0434\u043b\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0443"}),(0,ft.jsx)("p",{className:"text-sm sm:text-base text-gray-500",children:n.name||`\u041f\u0440\u043e\u0435\u043a\u0442 #${n.custom_id}`})]}),(0,ft.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:(0,ft.jsx)(hd,{size:20})})]}),(0,ft.jsxs)("div",{className:"p-4 sm:p-6 flex-grow overflow-y-auto",children:[(0,ft.jsxs)("button",{onClick:()=>f(!h),className:"flex items-center gap-2 font-semibold text-indigo-600 mb-4 text-sm",children:[(0,ft.jsx)(Hu,{})," ",h?"\u0421\u0445\u043e\u0432\u0430\u0442\u0438 \u0444\u043e\u0440\u043c\u0443":"\u0414\u043e\u0434\u0430\u0442\u0438 \u043e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f"]}),(0,ft.jsx)(Et,{children:h&&(0,ft.jsx)(hc.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden mb-4",children:(0,ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border rounded-lg bg-slate-50",children:[(0,ft.jsxs)("div",{className:"md:col-span-2 relative",children:[(0,ft.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"\u041f\u043e\u0448\u0443\u043a \u043e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f"}),(0,ft.jsx)("input",{type:"text",placeholder:"\u041f\u043e\u0447\u043d\u0456\u0442\u044c \u0432\u0432\u043e\u0434\u0438\u0442\u0438 \u043d\u0430\u0437\u0432\u0443...",value:g,onChange:e=>{v(e.target.value),S(!0)},onBlur:()=>setTimeout(()=>S(!1),200),className:"w-full mt-1 border border-gray-300 rounded-xl px-4 py-2"}),_&&b&&(0,ft.jsx)("div",{className:"absolute z-10 w-full bg-white shadow-lg rounded-md mt-1 max-h-48 overflow-y-auto border",children:O.length>0?O.map(e=>(0,ft.jsx)("div",{onMouseDown:()=>{m({...p,equipment_id:e.id}),v(e.name),S(!1)},className:"p-2 hover:bg-slate-100 cursor-pointer",children:e.name},e.id)):(0,ft.jsxs)("div",{className:"p-2 text-center",children:[(0,ft.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:"\u041d\u0456\u0447\u043e\u0433\u043e \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e."}),(0,ft.jsx)("button",{onMouseDown:async()=>{if(!b.trim())return;x(!0);const{data:e,error:t}=await mF.from("equipment").insert({name:b.trim(),category:"\u0406\u043d\u0448\u0435"}).select().single();t?a(`\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f: ${t.message}`,"error"):(a(`\u041e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f "${e.name}" \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043e!`,"success"),c(t=>[...t,e]),m(t=>({...t,equipment_id:e.id})),v(e.name),S(!1)),x(!1)},disabled:y,className:"w-full px-4 py-2 bg-indigo-100 text-indigo-700 rounded-lg text-sm font-semibold hover:bg-indigo-200 disabled:opacity-50",children:y?"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f...":`\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438 "${b}"`})]})})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c"}),(0,ft.jsx)("input",{type:"number",value:p.quantity,min:"1",onChange:e=>m({...p,quantity:e.target.value}),className:"w-full mt-1 border border-gray-300 rounded-xl px-4 py-2"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),(0,ft.jsxs)("select",{value:p.status,onChange:e=>m({...p,status:e.target.value}),className:"w-full mt-1 border border-gray-300 rounded-xl px-4 py-2 bg-white",children:[(0,ft.jsx)("option",{children:"\u0417\u0430\u043f\u043b\u0430\u043d\u043e\u0432\u0430\u043d\u043e"}),(0,ft.jsx)("option",{children:"\u0417\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043e"}),(0,ft.jsx)("option",{children:"\u0412\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e"}),(0,ft.jsx)("option",{children:"\u041d\u0430 \u0441\u043a\u043b\u0430\u0434\u0456"}),(0,ft.jsx)("option",{children:"\u0412\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e"})]})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"\u0422\u0422\u041d"}),(0,ft.jsx)("input",{type:"text",value:p.ttn_code,onChange:e=>m({...p,ttn_code:e.target.value}),className:"w-full mt-1 border border-gray-300 rounded-xl px-4 py-2"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"\u041f\u0440\u0438\u043c\u0456\u0442\u043a\u0430"}),(0,ft.jsx)("input",{type:"text",value:p.notes,onChange:e=>m({...p,notes:e.target.value}),className:"w-full mt-1 border border-gray-300 rounded-xl px-4 py-2"})]}),(0,ft.jsx)("div",{className:"md:col-span-2 flex justify-end",children:(0,ft.jsx)("button",{onClick:async()=>{if(!p.equipment_id||p.quantity<=0)return void a("\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u043e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f \u0442\u0430 \u0432\u043a\u0430\u0436\u0456\u0442\u044c \u043a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c","error");x(!0);const{error:e}=await mF.from("project_procurement").insert([{...p,installation_custom_id:n.custom_id}]);e?a("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0434\u043e\u0434\u0430\u0432\u0430\u043d\u043d\u044f \u043e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f","error"):(a("\u041e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0434\u043e\u0434\u0430\u043d\u043e","success"),m({equipment_id:"",quantity:1,status:"\u0417\u0430\u043f\u043b\u0430\u043d\u043e\u0432\u0430\u043d\u043e",ttn_code:"",notes:""}),v(""),f(!1),C()),x(!1)},disabled:y,className:"px-5 py-2 bg-indigo-600 text-white rounded-lg font-semibold disabled:opacity-50 transition hover:bg-indigo-700",children:y?"\u0414\u043e\u0434\u0430\u0432\u0430\u043d\u043d\u044f...":"\u0414\u043e\u0434\u0430\u0442\u0438"})})]})})}),u?(0,ft.jsx)("div",{className:"text-center py-8",children:(0,ft.jsx)(Tc,{className:"animate-pulse text-3xl text-indigo-500 mx-auto"})}):0===s.length?(0,ft.jsx)("div",{className:"text-center text-slate-500 py-10",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f \u043f\u043e\u0440\u043e\u0436\u043d\u0456\u0439."}):(0,ft.jsx)("div",{className:"space-y-3",children:s.map(e=>{var t;return(0,ft.jsxs)("div",{className:"bg-slate-50 p-3 rounded-lg border flex flex-col sm:flex-row justify-between sm:items-center gap-3",children:[w===e.id?(0,ft.jsxs)("div",{className:"flex-grow grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"text-xs font-medium text-gray-600",children:"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c"}),(0,ft.jsx)("input",{type:"number",value:k.quantity,onChange:e=>N({...k,quantity:e.target.value}),className:"w-full border-gray-300 rounded-md px-2 py-1"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"text-xs font-medium text-gray-600",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),(0,ft.jsxs)("select",{value:k.status,onChange:e=>N({...k,status:e.target.value}),className:"w-full border-gray-300 rounded-md px-2 py-1 bg-white",children:[(0,ft.jsx)("option",{children:"\u0417\u0430\u043f\u043b\u0430\u043d\u043e\u0432\u0430\u043d\u043e"}),(0,ft.jsx)("option",{children:"\u0417\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043e"}),(0,ft.jsx)("option",{children:"\u0412\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e"}),(0,ft.jsx)("option",{children:"\u041d\u0430 \u0441\u043a\u043b\u0430\u0434\u0456"}),(0,ft.jsx)("option",{children:"\u0412\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e"})]})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"text-xs font-medium text-gray-600",children:"\u0422\u0422\u041d"}),(0,ft.jsx)("input",{type:"text",value:k.ttn_code,onChange:e=>N({...k,ttn_code:e.target.value}),className:"w-full border-gray-300 rounded-md px-2 py-1"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"text-xs font-medium text-gray-600",children:"\u041f\u0440\u0438\u043c\u0456\u0442\u043a\u0430"}),(0,ft.jsx)("input",{type:"text",value:k.notes,onChange:e=>N({...k,notes:e.target.value}),className:"w-full border-gray-300 rounded-md px-2 py-1"})]})]}):(0,ft.jsxs)("div",{className:"flex-grow",children:[(0,ft.jsx)("p",{className:"font-semibold text-gray-800",children:(null===(t=e.equipment)||void 0===t?void 0:t.name)||"\u041d\u0435\u0432\u0456\u0434\u043e\u043c\u043e"}),(0,ft.jsxs)("p",{className:"text-sm text-gray-500",children:["\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c: ",(0,ft.jsx)("span",{className:"font-medium text-gray-700",children:e.quantity})," | \u0421\u0442\u0430\u0442\u0443\u0441: ",(0,ft.jsx)("span",{className:"font-medium text-gray-700",children:e.status})]}),e.ttn_code&&(0,ft.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["\u0422\u0422\u041d: ",(0,ft.jsx)("span",{className:"font-mono bg-slate-200 px-1 rounded",children:e.ttn_code})]}),e.notes&&(0,ft.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["\u041f\u0440\u0438\u043c\u0456\u0442\u043a\u0430: ",(0,ft.jsx)("span",{className:"italic",children:e.notes})]})]}),(0,ft.jsx)("div",{className:"flex-shrink-0 flex items-center gap-2 self-end sm:self-center",children:w===e.id?(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)("button",{onClick:E,disabled:y,className:"p-2 text-green-600 hover:bg-green-100 rounded-md",children:(0,ft.jsx)(Bc,{})}),(0,ft.jsx)("button",{onClick:()=>j(null),className:"p-2 text-gray-600 hover:bg-gray-200 rounded-md",children:(0,ft.jsx)(hd,{})})]}):(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)("button",{onClick:()=>(e=>{j(e.id),N({quantity:e.quantity,status:e.status,ttn_code:e.ttn_code||"",notes:e.notes||""})})(e),className:"p-2 text-blue-500 hover:bg-blue-100 rounded-md",children:(0,ft.jsx)($u,{})}),(0,ft.jsx)("button",{onClick:()=>{var t;return((e,t)=>{i?i({isOpen:!0,title:"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f",message:`\u0412\u0438 \u0432\u043f\u0435\u0432\u043d\u0435\u043d\u0456, \u0449\u043e \u0445\u043e\u0447\u0435\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 "${t}" \u0437\u0456 \u0441\u043f\u0438\u0441\u043a\u0443 \u043e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f \u0446\u044c\u043e\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0443?`,onConfirm:async()=>{const{error:t}=await mF.from("project_procurement").delete().eq("id",e);t?a("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f","error"):(a("\u041f\u043e\u0437\u0438\u0446\u0456\u044e \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043e","success"),C())}}):window.confirm(`\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 "${t}"?`)&&mF.from("project_procurement").delete().eq("id",e).then(e=>{let{error:t}=e;t?a("\u041f\u043e\u043c\u0438\u043b\u043a\u0430","error"):(a("\u0412\u0438\u0434\u0430\u043b\u0435\u043d\u043e","success"),C())})})(e.id,(null===(t=e.equipment)||void 0===t?void 0:t.name)||"\u041f\u043e\u0437\u0438\u0446\u0456\u044f")},className:"p-2 text-red-500 hover:bg-red-100 rounded-md",children:(0,ft.jsx)(pd,{})})]})})]},e.id)})})]})]})}):null},vF=["\u041a\u0430\u0439\u0440\u043e\u0441","\u0420\u043e\u0437\u0443\u043c\u043d\u0435 \u0437\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043d\u044f \u0435\u043d\u0435\u0440\u0433\u0456\u0457"],yF=[{value:"survey",label:"\u0422\u0435\u0445. \u043e\u0433\u043b\u044f\u0434 (\u0437\u0430\u043c\u0456\u0440\u0438)",icon:Xu,color:"bg-indigo-50 text-indigo-700 border-indigo-200"},{value:"waiting_project",label:"\u041e\u0447\u0456\u043a\u0443\u0454\u043c\u043e \u043f\u0440\u043e\u0435\u043a\u0442",icon:Gc,color:"bg-yellow-50 text-yellow-700 border-yellow-200"},{value:"project_done",label:"\u041f\u0440\u043e\u0435\u043a\u0442 \u0437\u0440\u043e\u0431\u043b\u0435\u043d\u043e",icon:Gu,color:"bg-orange-50 text-orange-700 border-orange-200"},{value:"project_approved",label:"\u041f\u0440\u043e\u0435\u043a\u0442 \u043f\u043e\u0433\u043e\u0434\u0436\u0435\u043d\u043e",icon:Fc,color:"bg-orange-100 text-orange-800 border-orange-300"},{value:"kp_done",label:"\u041a\u041f \u0437\u0440\u043e\u0431\u043b\u0435\u043d\u043e",icon:du,color:"bg-fuchsia-50 text-fuchsia-700 border-fuchsia-200"},{value:"kp_approved",label:"\u041a\u041f \u043f\u043e\u0433\u043e\u0434\u0436\u0435\u043d\u043e",icon:mu,color:"bg-fuchsia-100 text-fuchsia-800 border-fuchsia-300"},{value:"advance_payment",label:"\u0410\u0432\u0430\u043d\u0441",icon:Sd,color:"bg-emerald-50 text-emerald-700 border-emerald-200"},{value:"equipment_order",label:"\u0417\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f",icon:Qu,color:"bg-amber-50 text-amber-700 border-amber-200"},{value:"waiting_equipment",label:"\u041e\u0447\u0456\u043a\u0443\u0454\u043c\u043e \u043e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f",icon:_u,color:"bg-amber-100 text-amber-700 border-amber-300"},{value:"materials_packing",label:"\u041a\u043e\u043c\u043f\u043b\u0435\u043a\u0442\u0430\u0446\u0456\u044f \u043c\u0430\u0442\u0435\u0440\u0456\u0430\u043b\u0456\u0432",icon:Ac,color:"bg-amber-100 text-amber-800 border-amber-300"},{value:"protection_packing",label:"\u041a\u043e\u043c\u043f\u043b. \u0435\u043b.\u0437\u0430\u0445\u0438\u0441\u0442\u0443",icon:Zu,color:"bg-amber-200 text-amber-900 border-amber-400"},{value:"installation_start",label:"\u0421\u0442\u0430\u0440\u0442 \u043c\u043e\u043d\u0442\u0430\u0436\u0443",icon:Vu,color:"bg-blue-50 text-blue-700 border-blue-200"},{value:"res_connection",label:"\u041e\u0447\u0456\u043a\u0443\u0454\u043c\u043e \u043f\u0456\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u044f \u0420\u0415\u0421",icon:Uu,color:"bg-purple-100 text-purple-800 border-purple-300"},{value:"final_settlement",label:"\u0420\u043e\u0437\u0440\u0430\u0445\u0443\u043d\u043e\u043a",icon:zc,color:"bg-green-100 text-green-800 border-green-300"},{value:"final_report",label:"\u0424\u043e\u0442\u043e\u0437\u0432\u0456\u0442 \u0442\u0430 \u0437\u0430\u043b\u0438\u0448\u043a\u0438",icon:$c,color:"bg-slate-100 text-slate-700 border-slate-300"},{value:"installation_finish",label:"\u041c\u043e\u043d\u0442\u0430\u0436 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e",icon:yu,color:"bg-cyan-50 text-cyan-800 border-cyan-300"}],xF=(0,t.memo)(e=>{let{message:n,type:r="success",isVisible:a,onClose:i}=e;(0,t.useEffect)(()=>{if(a){const e=setTimeout(i,4e3);return()=>clearTimeout(e)}},[a,i]);const s={success:"bg-green-600 text-white",error:"bg-red-600 text-white",info:"bg-blue-600 text-white"},o={success:(0,ft.jsx)(Bc,{}),error:(0,ft.jsx)(su,{}),info:(0,ft.jsx)(Cu,{})};return(0,ft.jsx)(Et,{children:a&&(0,ft.jsx)(hc.div,{initial:{opacity:0,x:300,scale:.8},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:300,scale:.8},className:"fixed top-20 right-4 z-[100] max-w-[90vw]",children:(0,ft.jsx)("div",{className:`${s[r]||s.info} rounded-lg shadow-lg p-4 min-w-[280px] border border-white/10`,children:(0,ft.jsxs)("div",{className:"flex items-center space-x-3",children:[o[r]||o.info,(0,ft.jsx)("span",{className:"font-medium text-sm",children:n}),(0,ft.jsx)("button",{onClick:i,className:"ml-auto text-white/80 hover:text-white transition-colors",children:(0,ft.jsx)(hd,{className:"text-sm"})})]})})})})}),bF=e=>{let{isOpen:t,onClose:n,onConfirm:r,title:a,message:i}=e;return(0,ft.jsx)(Et,{children:t&&(0,ft.jsx)(hc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[100] flex items-center justify-center p-4",onClick:n,children:(0,ft.jsxs)(hc.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl w-full max-w-md shadow-2xl p-6",onClick:e=>e.stopPropagation(),children:[(0,ft.jsxs)("div",{className:"flex items-start gap-4",children:[(0,ft.jsx)("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:(0,ft.jsx)(su,{className:"h-6 w-6 text-red-600"})}),(0,ft.jsxs)("div",{className:"mt-0 text-left",children:[(0,ft.jsx)("h3",{className:"text-lg leading-6 font-bold text-gray-900",children:a}),(0,ft.jsx)("div",{className:"mt-2",children:(0,ft.jsx)("p",{className:"text-sm text-gray-500",children:i})})]})]}),(0,ft.jsxs)("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse gap-3",children:[(0,ft.jsx)("button",{type:"button",className:"w-full inline-flex justify-center rounded-lg shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 sm:ml-3 sm:w-auto sm:text-sm",onClick:()=>{r(),n()},children:"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438"}),(0,ft.jsx)("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-lg border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 sm:mt-0 sm:w-auto sm:text-sm",onClick:n,children:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"})]})]})})})};function wF(){const[e,n]=(0,t.useState)([]),[r,a]=(0,t.useState)(!0),[i,s]=(0,t.useState)(""),o=((e,n)=>{const[r,a]=(0,t.useState)(e);return(0,t.useEffect)(()=>{const t=setTimeout(()=>a(e),n);return()=>clearTimeout(t)},[e,n]),r})(i,400),[l,c]=(0,t.useState)(null),[u,d]=(0,t.useState)("active"),[h,f]=(0,t.useState)("all"),[p,m]=(0,t.useState)("all"),[g,v]=(0,t.useState)(!1),[y,x]=(0,t.useState)(null),[b,w]=(0,t.useState)(!1),[j,k]=(0,t.useState)(!1),[N,_]=(0,t.useState)(null),[S,C]=(0,t.useState)(null),[O,E]=(0,t.useState)({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),[P,T]=(0,t.useState)([]),[A,M]=(0,t.useState)([]),[D,z]=(0,t.useState)(""),[I,L]=(0,t.useState)(""),R=re(),$={name:"",working_company:"",bank:"",client_id:"",gps_link:"",latitude:"",longitude:"",mount_type:"",station_type:"",capacity_kw:"",responsible_emp_id:"",start_date:"",end_date:"",total_cost:"",payment_status:"pending",paid_amount:"",status:"planning",workflow_stage:"survey",notes:"",creator_email:""},[F,B]=(0,t.useState)($),[V,U]=(0,t.useState)({}),[H,q]=(0,t.useState)(!1),[W,K]=(0,t.useState)(1),[G,Y]=(0,t.useState)(0),[X,J]=(0,t.useState)({isVisible:!1,message:"",type:"success"}),Z=(0,t.useCallback)(function(e){return J({isVisible:!0,message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"})},[]),Q=(0,t.useCallback)(()=>J(e=>({...e,isVisible:!1})),[]),ee=(e,t)=>{const n=parseFloat(e),r=parseFloat(t);if(!n||n<=0)return"pending";if(!r||r<0)return"pending";const a=r/n*100;return a>=100?"paid":a>0?"partial":"pending"};(0,t.useEffect)(()=>{(async()=>{const{data:{user:e}}=await Tp.auth.getUser();if(e&&e.email){const{data:t}=await Tp.from("employees").select("custom_id").eq("email",e.email).maybeSingle();t&&x(t.custom_id)}})()},[]),(0,t.useEffect)(()=>{(async()=>{try{const[e,t]=await Promise.all([Tp.from("clients").select("custom_id, name, company_name").order("name"),Tp.from("employees").select("custom_id, name, position, email").order("name")]);T(e.data||[]),M(t.data||[])}catch(e){Z("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0434\u043e\u0432\u0456\u0434\u043d\u0438\u043a\u0456\u0432","error")}})()},[Z]);const te=(0,t.useCallback)(async()=>{a(!0);try{const e=6*(W-1),t=e+6-1;let r=Tp.from("installations").select("*, client:clients(*), responsible_employee:employees(*)",{count:"exact"});if(b&&y&&(r=r.eq("responsible_emp_id",y)),o&&o.trim().length>0){const e=o.trim();r=/^\d+$/.test(e)?r.or(`custom_id.eq.${e},client_id.eq.${e}`):r.or(`name.ilike.%${e}%,notes.ilike.%${e}%,working_company.ilike.%${e}%`)}else"active"===u?r=r.in("status",["planning","in_progress","on_hold"]):"all"!==u&&(r=r.eq("status",u)),"all"!==h&&(r=r.eq("payment_status",h)),"all"!==p&&(r=r.eq("working_company",p));const{data:a,error:i,count:s}=await r.order("created_at",{ascending:!1}).range(e,t);if(i)throw i;n(a||[]),Y(s||0)}catch(e){Z(`\u041f\u043e\u043c\u0438\u043b\u043a\u0430: ${e.message}`,"error")}finally{a(!1)}},[W,u,h,p,o,Z,b,y]);(0,t.useEffect)(()=>{te()},[te]),(0,t.useEffect)(()=>{K(1)},[o,u,h,p,b]);const ne=()=>{k(!1),_(null),B($)},ae=(e,t)=>{B(n=>({...n,[e]:t}))},ie=D?P.filter(e=>{var t;return null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(D.toLowerCase())}):[],se=I?A.filter(e=>{var t;return null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(I.toLowerCase())}):[],oe=e=>{let{currentPage:t,totalCount:n,projectsPerPage:r,onPageChange:a}=e;const i=Math.ceil(n/r);return i<=1?null:(0,ft.jsxs)("div",{className:"flex items-center justify-center space-x-4 py-4",children:[(0,ft.jsx)("button",{onClick:()=>a(t-1),disabled:1===t,className:"p-2 disabled:opacity-50 bg-white rounded-md shadow-sm border border-gray-200",children:(0,ft.jsx)(Uc,{})}),(0,ft.jsxs)("span",{className:"font-medium text-gray-700",children:["\u0421\u0442\u043e\u0440\u0456\u043d\u043a\u0430 ",t," \u0437 ",i]}),(0,ft.jsx)("button",{onClick:()=>a(t+1),disabled:t===i,className:"p-2 disabled:opacity-50 bg-white rounded-md shadow-sm border border-gray-200",children:(0,ft.jsx)(Hc,{})})]})};return(0,ft.jsx)(Mp,{children:(0,ft.jsxs)("div",{className:"p-4 sm:p-8 space-y-6 max-w-[1600px] mx-auto pb-safe min-h-[calc(100vh-80px)] flex flex-col text-slate-800",children:[(0,ft.jsx)(xF,{message:X.message,type:X.type,isVisible:X.isVisible,onClose:Q}),(0,ft.jsx)(bF,{...O,onClose:()=>E({...O,isOpen:!1})}),(0,ft.jsxs)(Et,{children:[S&&(0,ft.jsx)(gF,{project:S,onClose:()=>C(null),showToast:Z,setConfirmModal:E}),l&&(0,ft.jsx)(pF,{project:l,onClose:()=>c(null)})]}),(0,ft.jsxs)("div",{className:"flex flex-col gap-4 flex-none",children:[(0,ft.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight",children:"\u041f\u0440\u043e\u0435\u043a\u0442\u0438"}),(0,ft.jsx)("p",{className:"text-slate-500 text-sm mt-1",children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0456\u043d\u043d\u044f \u043e\u0431'\u0454\u043a\u0442\u0430\u043c\u0438 \u0421\u0415\u0421"})]}),(0,ft.jsxs)("button",{onClick:()=>{B($),_(null),k(!0)},className:"flex items-center justify-center gap-2 px-5 py-2.5 bg-indigo-600 text-white rounded-xl font-bold shadow-lg hover:bg-indigo-700 active:scale-95 transition-all w-full sm:w-auto",children:[(0,ft.jsx)(Hu,{})," ",(0,ft.jsx)("span",{children:"\u041d\u043e\u0432\u0438\u0439 \u043f\u0440\u043e\u0435\u043a\u0442"})]})]}),(0,ft.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,ft.jsxs)("div",{className:"relative w-full",children:[(0,ft.jsx)(Xu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),(0,ft.jsx)("input",{type:"text",placeholder:"\u041f\u043e\u0448\u0443\u043a (\u041d\u0430\u0437\u0432\u0430 \u0430\u0431\u043e ID)...",value:i,onChange:e=>s(e.target.value),className:"w-full pl-11 pr-4 py-3 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 transition shadow-sm text-sm outline-none"})]}),(0,ft.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[y?(0,ft.jsxs)("div",{className:"bg-white p-1 rounded-xl border border-slate-200 flex items-center shadow-sm flex-1 sm:flex-none",children:[(0,ft.jsx)("button",{onClick:()=>w(!1),className:"flex-1 sm:flex-none px-4 py-2.5 rounded-lg text-sm font-bold transition-all "+(b?"text-slate-500 hover:text-slate-700":"bg-indigo-100 text-indigo-700 shadow-sm"),children:"\u0412\u0441\u0456"}),(0,ft.jsxs)("button",{onClick:()=>w(!0),className:"flex-1 sm:flex-none px-4 py-2.5 rounded-lg text-sm font-bold transition-all flex items-center justify-center gap-2 "+(b?"bg-indigo-600 text-white shadow-md":"text-slate-500 hover:text-slate-700"),children:[(0,ft.jsx)(kd,{className:b?"text-white":"text-slate-400"}),(0,ft.jsx)("span",{children:"\u041c\u043e\u0457"})]})]}):(0,ft.jsx)("div",{}),(0,ft.jsxs)("button",{onClick:()=>v(!g),className:"flex-shrink-0 flex items-center justify-center gap-2 px-4 py-3 rounded-xl font-semibold transition shadow-sm border "+(g?"bg-slate-800 text-white border-slate-800":"bg-white text-slate-700 border-slate-200 hover:bg-slate-50"),children:[(0,ft.jsx)(gu,{})," ",(0,ft.jsx)("span",{children:"\u0424\u0456\u043b\u044c\u0442\u0440\u0438"})]})]})]}),(0,ft.jsx)(Et,{children:g&&(0,ft.jsx)(hc.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:(0,ft.jsxs)("div",{className:"bg-white p-4 rounded-xl border border-slate-200 grid grid-cols-1 md:grid-cols-3 gap-4 shadow-sm",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("span",{className:"text-xs font-bold text-slate-400 uppercase mb-2 block",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),(0,ft.jsx)("div",{className:"flex flex-wrap gap-2",children:[{v:"active",l:"\u0410\u043a\u0442\u0438\u0432\u043d\u0456"},{v:"all",l:"\u0412\u0441\u0456"},{v:"planning",l:"\u041f\u043b\u0430\u043d"},{v:"in_progress",l:"\u0420\u043e\u0431\u043e\u0442\u0430"},{v:"on_hold",l:"\u041f\u0430\u0443\u0437\u0430"},{v:"completed",l:"\u0424\u0456\u043d\u0456\u0448"},{v:"cancelled",l:"\u0412\u0456\u0434\u043c\u0456\u043d\u0430"}].map(e=>(0,ft.jsx)("button",{onClick:()=>d(e.v),className:"px-3 py-1.5 rounded-lg text-xs font-bold transition-colors "+(u===e.v?"bg-indigo-100 text-indigo-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"),children:e.l},e.v))})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("span",{className:"text-xs font-bold text-slate-400 uppercase mb-2 block",children:"\u041e\u043f\u043b\u0430\u0442\u0430"}),(0,ft.jsx)("div",{className:"flex flex-wrap gap-2",children:[{v:"all",l:"\u0412\u0441\u0456"},{v:"pending",l:"\u041e\u0447\u0456\u043a\u0443\u0454"},{v:"partial",l:"\u0427\u0430\u0441\u0442\u043a\u043e\u0432\u043e"},{v:"paid",l:"\u0421\u043f\u043b\u0430\u0447\u0435\u043d\u043e"},{v:"overdue",l:"\u0411\u043e\u0440\u0433"}].map(e=>(0,ft.jsx)("button",{onClick:()=>f(e.v),className:"px-3 py-1.5 rounded-lg text-xs font-bold transition-colors "+(h===e.v?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"),children:e.l},e.v))})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("span",{className:"text-xs font-bold text-slate-400 uppercase mb-2 block",children:"\u041a\u043e\u043c\u043f\u0430\u043d\u0456\u044f"}),(0,ft.jsx)("div",{className:"flex flex-wrap gap-2",children:[{v:"all",l:"\u0412\u0441\u0456"},...vF.map(e=>({v:e,l:e}))].map(e=>(0,ft.jsx)("button",{onClick:()=>m(e.v),className:"px-3 py-1.5 rounded-lg text-xs font-bold transition-colors "+(p===e.v?"bg-purple-100 text-purple-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"),children:e.l},e.v))})]})]})})})]}),(0,ft.jsx)("div",{className:"flex-1 min-h-[300px]",children:r?(0,ft.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((e,t)=>(0,ft.jsx)("div",{className:"h-64 bg-white rounded-xl animate-pulse shadow-sm border border-slate-100"},t))}):0===e.length?(0,ft.jsxs)("div",{className:"text-center py-20 bg-white rounded-2xl border border-dashed border-slate-300",children:[(0,ft.jsx)(qu,{className:"mx-auto text-4xl text-slate-300 mb-3"}),(0,ft.jsx)("h3",{className:"text-lg font-bold text-slate-600",children:"\u041f\u0440\u043e\u0435\u043a\u0442\u0456\u0432 \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e"}),(0,ft.jsx)("p",{className:"text-slate-400 text-sm",children:"\u0421\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0437\u043c\u0456\u043d\u0438\u0442\u0438 \u0444\u0456\u043b\u044c\u0442\u0440\u0438"})]}):(0,ft.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>{var t,n,r;const a={planning:{label:"\u041f\u043b\u0430\u043d\u0443\u0432\u0430\u043d\u043d\u044f",color:"bg-blue-500",icon:Gc},in_progress:{label:"\u0412\u0438\u043a\u043e\u043d\u0443\u0454\u0442\u044c\u0441\u044f",color:"bg-yellow-500",icon:fd},on_hold:{label:"\u041f\u0440\u0438\u0437\u0443\u043f\u0438\u043d\u0435\u043d\u043e",color:"bg-orange-500",icon:Lu},completed:{label:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e",color:"bg-green-500",icon:Fc},cancelled:{label:"\u0421\u043a\u0430\u0441\u043e\u0432\u0430\u043d\u043e",color:"bg-red-500",icon:su}}[e.status]||{label:"\u041d\u0435\u0432\u0456\u0434\u043e\u043c\u043e",color:"bg-gray-500",icon:Cu};const i={pending:{label:"\u041e\u0447\u0456\u043a\u0443\u0454 \u043e\u043f\u043b\u0430\u0442\u0438",color:"text-orange-600 bg-orange-50 border-orange-100"},partial:{label:"\u0427\u0430\u0441\u0442\u043a\u043e\u0432\u0430 \u043e\u043f\u043b\u0430\u0442\u0430",color:"text-blue-600 bg-blue-50 border-blue-100"},paid:{label:"\u041e\u043f\u043b\u0430\u0447\u0435\u043d\u043e",color:"text-green-600 bg-green-50 border-green-100"},overdue:{label:"\u041f\u0440\u043e\u0441\u0442\u0440\u043e\u0447\u0435\u043d\u043e",color:"text-red-600 bg-red-50 border-red-100"}}[e.payment_status]||{label:"\u041d\u0435\u0432\u0456\u0434\u043e\u043c\u043e",color:"text-gray-600 bg-gray-50 border-gray-100"};const s=(o=e.workflow_stage,yF.find(e=>e.value===o)||{label:o,color:"bg-gray-50 text-gray-500 border border-gray-200",icon:Cu});var o;const l=a.icon,u=s.icon||Cu,d=A.find(t=>t.email===e.creator_email),h=d?d.name:e.creator_email;return(0,ft.jsxs)(hc.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-white border border-slate-200 rounded-xl p-5 shadow-sm flex flex-col justify-between hover:shadow-md transition-all hover:-translate-y-1",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsxs)("div",{className:"flex justify-between items-start gap-3 mb-4",children:[(0,ft.jsxs)("div",{className:"pr-1 flex-1 min-w-0",children:[(0,ft.jsx)("h3",{className:"text-lg font-bold text-slate-800 leading-tight line-clamp-2",title:e.name,children:e.name||(null===(t=e.client)||void 0===t?void 0:t.company_name)||"\u0411\u0435\u0437 \u043d\u0430\u0437\u0432\u0438"}),(0,ft.jsxs)("span",{className:"text-xs font-mono font-medium text-slate-400 bg-slate-100 px-1.5 py-0.5 rounded mt-1 inline-block",children:["#",e.custom_id]})]}),(0,ft.jsxs)("div",{className:"flex flex-col items-end gap-2 min-w-[140px] flex-shrink-0",children:[(0,ft.jsxs)("div",{title:a.label,className:`flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-bold text-white shadow-sm ${a.color}`,children:[(0,ft.jsx)(l,{className:"text-[10px]"}),(0,ft.jsx)("span",{children:a.label})]}),(0,ft.jsxs)("div",{className:`flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-bold border shadow-sm ${s.color}`,children:[(0,ft.jsx)(u,{className:"text-[10px]"}),(0,ft.jsx)("span",{className:"truncate max-w-[130px]",children:s.label})]})]})]}),(0,ft.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,ft.jsxs)("div",{className:"flex items-center gap-3 text-sm text-slate-600",children:[(0,ft.jsx)("div",{className:"w-5 flex justify-center text-slate-400",children:(0,ft.jsx)(wd,{size:16})}),(0,ft.jsx)("span",{className:"font-medium truncate",children:(null===(n=e.client)||void 0===n?void 0:n.name)||"\u0411\u0435\u0437 \u043a\u043b\u0456\u0454\u043d\u0442\u0430"})]}),(0,ft.jsxs)("div",{className:"flex items-center gap-3 text-sm text-slate-600",children:[(0,ft.jsx)("div",{className:"w-5 flex justify-center text-amber-500",children:(0,ft.jsx)(Tc,{size:16})}),(0,ft.jsxs)("span",{children:["\u041f\u043e\u0442\u0443\u0436\u043d\u0456\u0441\u0442\u044c: ",(0,ft.jsx)("span",{className:"font-bold text-slate-800",children:e.capacity_kw?`${e.capacity_kw} \u043a\u0412\u0442`:"N/A"})]})]}),(0,ft.jsxs)("div",{className:"flex items-center gap-3 text-sm text-slate-600",children:[(0,ft.jsx)("div",{className:"w-5 flex justify-center text-indigo-500",children:(0,ft.jsx)(ju,{size:16})}),(0,ft.jsxs)("span",{children:["\u0412\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0430\u043b\u044c\u043d\u0438\u0439: ",(0,ft.jsx)("span",{className:"font-bold text-slate-800",children:(null===(r=e.responsible_employee)||void 0===r?void 0:r.name)||"\u041d\u0435 \u043f\u0440\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u043e"})]})]}),e.creator_email&&(0,ft.jsxs)("div",{className:"flex items-center gap-3 text-xs text-slate-400 mt-2 pt-2 border-t border-slate-100",children:[(0,ft.jsx)("div",{className:"w-5 flex justify-center",children:(0,ft.jsx)(bd,{size:14})}),(0,ft.jsxs)("span",{children:["\u0414\u043e\u0434\u0430\u0432: ",h]})]})]})]}),(0,ft.jsxs)("div",{className:"border-t border-slate-100 pt-4 flex justify-between items-center",children:[(0,ft.jsx)("div",{className:`text-xs font-bold px-3 py-1.5 rounded-lg border ${i.color}`,children:i.label}),(0,ft.jsxs)("div",{className:"flex items-center gap-1",children:[(0,ft.jsx)("button",{onClick:()=>(e=>R(`/project/${e.custom_id}`))(e),className:"w-9 h-9 flex items-center justify-center hover:bg-slate-100 rounded-lg text-slate-500 hover:text-blue-600 transition-colors",children:(0,ft.jsx)(Od,{size:18})}),(0,ft.jsx)("button",{onClick:()=>C(e),className:"w-9 h-9 flex items-center justify-center hover:bg-slate-100 rounded-lg text-slate-500 transition-colors",children:(0,ft.jsx)(md,{})}),(0,ft.jsx)("button",{onClick:()=>c(e),className:"w-9 h-9 flex items-center justify-center hover:bg-slate-100 rounded-lg text-slate-500 transition-colors",children:(0,ft.jsx)(xu,{className:"text-indigo-500"})}),(0,ft.jsx)("button",{onClick:()=>{return t=e.custom_id,n=e.name,void E({isOpen:!0,title:"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f",message:`\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u043f\u0440\u043e\u0435\u043a\u0442 "${n}"?`,onConfirm:async()=>{const{error:e}=await Tp.from("installations").delete().eq("custom_id",t);e||(Z("\u0412\u0438\u0434\u0430\u043b\u0435\u043d\u043e","success"),te())}});var t,n},className:"w-9 h-9 flex items-center justify-center hover:bg-red-50 rounded-lg text-red-500 transition-colors",children:(0,ft.jsx)(pd,{})})]})]})]},e.custom_id)})})}),(0,ft.jsx)("div",{className:"relative pt-4 border-t border-slate-200",children:(0,ft.jsx)(oe,{currentPage:W,totalCount:G,projectsPerPage:6,onPageChange:K})}),(0,ft.jsx)(Et,{children:j&&(0,ft.jsx)(hc.div,{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:ne,children:(0,ft.jsxs)(hc.div,{className:"bg-white rounded-2xl p-4 sm:p-8 w-full max-w-lg md:max-w-4xl shadow-2xl border border-gray-200 my-8 max-h-[90vh] flex flex-col",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:e=>e.stopPropagation(),children:[(0,ft.jsx)("div",{className:"mb-6",children:(0,ft.jsx)("h2",{className:"text-2xl sm:text-3xl font-bold text-slate-800",children:N?"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438":"\u041d\u043e\u0432\u0438\u0439 \u043f\u0440\u043e\u0435\u043a\u0442"})}),(0,ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4 overflow-y-auto pr-2 flex-grow",children:[(0,ft.jsxs)("div",{className:"md:col-span-2 relative",children:[(0,ft.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["\u041a\u043b\u0456\u0454\u043d\u0442 ",(0,ft.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ft.jsx)("input",{type:"text",value:D,onChange:e=>{z(e.target.value),F.client_id&&ae("client_id","")},placeholder:"\u041f\u043e\u0448\u0443\u043a...",className:"w-full border rounded-xl px-4 py-3 "+(V.client_id?"border-red-500":"border-gray-300")}),D&&ie.length>0&&!F.client_id&&(0,ft.jsx)("div",{className:"absolute z-20 w-full bg-white border border-gray-300 rounded-lg mt-1 shadow-lg max-h-60 overflow-y-auto",children:ie.map(e=>(0,ft.jsxs)("button",{type:"button",onClick:()=>(e=>{B(t=>({...t,client_id:e.custom_id})),z(`${e.company_name||e.name} (ID: ${e.custom_id})`)})(e),className:"w-full px-4 py-3 text-left hover:bg-gray-50 border-b last:border-b-0",children:[(0,ft.jsx)("div",{className:"font-medium",children:e.company_name||e.name}),(0,ft.jsxs)("div",{className:"text-xs text-gray-500",children:["ID: ",e.custom_id]})]},e.custom_id))})]}),(0,ft.jsxs)("div",{className:"md:col-span-2",children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u041d\u0430\u0437\u0432\u0430"}),(0,ft.jsx)("input",{type:"text",value:F.name||"",onChange:e=>ae("name",e.target.value),className:"w-full border border-gray-300 rounded-xl px-4 py-3"})]}),(0,ft.jsxs)("div",{className:"md:col-span-2 bg-slate-50 p-4 rounded-xl border border-slate-200 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),(0,ft.jsxs)("select",{value:F.status||"",onChange:e=>ae("status",e.target.value),className:"w-full border border-gray-300 rounded-xl px-4 py-3 bg-white",children:[(0,ft.jsx)("option",{value:"planning",children:"\u041f\u043b\u0430\u043d\u0443\u0432\u0430\u043d\u043d\u044f"}),(0,ft.jsx)("option",{value:"in_progress",children:"\u0412\u0438\u043a\u043e\u043d\u0443\u0454\u0442\u044c\u0441\u044f"}),(0,ft.jsx)("option",{value:"on_hold",children:"\u041f\u0440\u0438\u0437\u0443\u043f\u0438\u043d\u0435\u043d\u043e"}),(0,ft.jsx)("option",{value:"completed",children:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e"}),(0,ft.jsx)("option",{value:"cancelled",children:"\u0421\u043a\u0430\u0441\u043e\u0432\u0430\u043d\u043e"})]})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0415\u0442\u0430\u043f"}),(0,ft.jsx)("select",{value:F.workflow_stage||"survey",onChange:e=>ae("workflow_stage",e.target.value),className:"w-full border border-gray-300 rounded-xl px-4 py-3 bg-white text-indigo-900 font-medium",children:yF.map(e=>(0,ft.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u041a\u043e\u043c\u043f\u0430\u043d\u0456\u044f"}),(0,ft.jsxs)("select",{value:F.working_company||"",onChange:e=>ae("working_company",e.target.value),className:"w-full border border-gray-300 rounded-xl px-4 py-3 bg-white",children:[(0,ft.jsx)("option",{value:"",children:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c..."}),vF.map(e=>(0,ft.jsx)("option",{value:e,children:e},e))]})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0411\u0430\u043d\u043a?"}),(0,ft.jsxs)("select",{value:F.bank||"",onChange:e=>ae("bank",e.target.value),className:"w-full border border-gray-300 rounded-xl px-4 py-3 bg-white",children:[(0,ft.jsx)("option",{value:"",children:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c..."}),(0,ft.jsx)("option",{value:"\u0422\u0430\u043a",children:"\u0422\u0430\u043a"}),(0,ft.jsx)("option",{value:"\u041d\u0456",children:"\u041d\u0456"})]})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"GPS"}),(0,ft.jsx)("input",{type:"url",value:F.gps_link||"",onChange:e=>ae("gps_link",e.target.value),className:"w-full border border-gray-300 rounded-xl px-4 py-3"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u041a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442\u0438"}),(0,ft.jsxs)("div",{className:"flex space-x-2",children:[(0,ft.jsx)("input",{type:"number",step:"any",value:F.latitude||"",onChange:e=>ae("latitude",e.target.value),className:"w-1/2 border border-gray-300 rounded-xl px-4 py-3",placeholder:"\u0428\u0438\u0440\u043e\u0442\u0430"}),(0,ft.jsx)("input",{type:"number",step:"any",value:F.longitude||"",onChange:e=>ae("longitude",e.target.value),className:"w-1/2 border border-gray-300 rounded-xl px-4 py-3",placeholder:"\u0414\u043e\u0432\u0433\u043e\u0442\u0430"})]})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0422\u0438\u043f \u043c\u043e\u043d\u0442\u0430\u0436\u0443"}),(0,ft.jsxs)("select",{value:F.mount_type||"",onChange:e=>ae("mount_type",e.target.value),className:"w-full border border-gray-300 rounded-xl px-4 py-3 bg-white",children:[(0,ft.jsx)("option",{value:"",children:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c..."}),(0,ft.jsx)("option",{value:"\u0414\u0430\u0445\u043e\u0432\u0435 \u043a\u0440\u0456\u043f\u043b\u0435\u043d\u043d\u044f (\u0421\u043a\u0430\u0442\u043d\u0438\u0439 \u0434\u0430\u0445)",children:"\u0414\u0430\u0445\u043e\u0432\u0435 \u043a\u0440\u0456\u043f\u043b\u0435\u043d\u043d\u044f (\u0421\u043a\u0430\u0442\u043d\u0438\u0439 \u0434\u0430\u0445)"}),(0,ft.jsx)("option",{value:"\u0414\u0430\u0445\u043e\u0432\u0435 \u043a\u0440\u0456\u043f\u043b\u0435\u043d\u043d\u044f (\u041f\u043b\u043e\u0441\u043a\u0438\u0439 \u0434\u0430\u0445)",children:"\u0414\u0430\u0445\u043e\u0432\u0435 \u043a\u0440\u0456\u043f\u043b\u0435\u043d\u043d\u044f (\u041f\u043b\u043e\u0441\u043a\u0438\u0439 \u0434\u0430\u0445)"}),(0,ft.jsx)("option",{value:"\u041d\u0430\u0437\u0435\u043c\u043d\u0435 \u043a\u0440\u0456\u043f\u043b\u0435\u043d\u043d\u044f",children:"\u041d\u0430\u0437\u0435\u043c\u043d\u0435 \u043a\u0440\u0456\u043f\u043b\u0435\u043d\u043d\u044f"}),(0,ft.jsx)("option",{value:"\u0422\u0440\u0435\u043a\u0435\u0440\u043d\u0430 \u0441\u0438\u0441\u0442\u0435\u043c\u0430",children:"\u0422\u0440\u0435\u043a\u0435\u0440\u043d\u0430 \u0441\u0438\u0441\u0442\u0435\u043c\u0430"}),(0,ft.jsx)("option",{value:"\u0414\u0430\u0445/\u0417\u0435\u043c\u043b\u044f",children:"\u0414\u0430\u0445/\u0417\u0435\u043c\u043b\u044f"}),(0,ft.jsx)("option",{value:"\u0415\u043b\u0435\u043a\u0442\u0440\u043e\u043c\u043e\u043d\u0442\u0430\u0436",children:"\u0415\u043b\u0435\u043a\u0442\u0440\u043e\u043c\u043e\u043d\u0442\u0430\u0436"}),(0,ft.jsx)("option",{value:"\u0406\u043d\u0448\u0435",children:"\u0406\u043d\u0448\u0435"})]})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0422\u0438\u043f \u0441\u0442\u0430\u043d\u0446\u0456\u0457"}),(0,ft.jsxs)("select",{value:F.station_type||"",onChange:e=>ae("station_type",e.target.value),className:"w-full border border-gray-300 rounded-xl px-4 py-3 bg-white",children:[(0,ft.jsx)("option",{value:"",children:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c..."}),(0,ft.jsx)("option",{value:"\u041c\u0435\u0440\u0435\u0436\u0435\u0432\u0430",children:"\u041c\u0435\u0440\u0435\u0436\u0435\u0432\u0430"}),(0,ft.jsx)("option",{value:"\u0410\u0432\u0442\u043e\u043d\u043e\u043c\u043d\u0430",children:"\u0410\u0432\u0442\u043e\u043d\u043e\u043c\u043d\u0430"}),(0,ft.jsx)("option",{value:"\u0413\u0456\u0431\u0440\u0438\u0434\u043d\u0430",children:"\u0413\u0456\u0431\u0440\u0438\u0434\u043d\u0430"})]})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u041f\u043e\u0442\u0443\u0436\u043d\u0456\u0441\u0442\u044c (\u043a\u0412\u0442)"}),(0,ft.jsx)("input",{type:"number",step:"0.1",min:"0",value:F.capacity_kw||"",onChange:e=>ae("capacity_kw",e.target.value),className:"w-full border border-gray-300 rounded-xl px-4 py-3"})]}),(0,ft.jsxs)("div",{className:"relative",children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0412\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0430\u043b\u044c\u043d\u0438\u0439"}),(0,ft.jsx)("input",{type:"text",value:I,onChange:e=>{L(e.target.value),F.responsible_emp_id&&ae("responsible_emp_id","")},placeholder:"\u041f\u043e\u0448\u0443\u043a...",className:"w-full border border-gray-300 rounded-xl px-4 py-3"}),I&&se.length>0&&!F.responsible_emp_id&&(0,ft.jsx)("div",{className:"absolute z-10 w-full bg-white border rounded-lg mt-1 shadow-lg max-h-60 overflow-y-auto",children:se.map(e=>(0,ft.jsxs)("button",{type:"button",onClick:()=>{return t=e,B(e=>({...e,responsible_emp_id:t.custom_id})),void L(`${t.name} (ID: ${t.custom_id})`);var t},className:"w-full px-4 py-3 text-left hover:bg-gray-50 border-b",children:[(0,ft.jsx)("div",{className:"font-medium",children:e.name}),(0,ft.jsxs)("div",{className:"text-xs text-gray-500",children:["ID: ",e.custom_id]})]},e.custom_id))})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0421\u0442\u0430\u0440\u0442"}),(0,ft.jsx)("input",{type:"date",value:F.start_date||"",onChange:e=>ae("start_date",e.target.value),className:"w-full border border-gray-300 rounded-xl px-4 py-3"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0424\u0456\u043d\u0456\u0448"}),(0,ft.jsx)("input",{type:"date",value:F.end_date||"",onChange:e=>ae("end_date",e.target.value),className:"w-full border border-gray-300 rounded-xl px-4 py-3"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0412\u0430\u0440\u0442\u0456\u0441\u0442\u044c (USD)"}),(0,ft.jsx)("input",{type:"number",min:"0",step:"0.01",value:F.total_cost||"",onChange:e=>ae("total_cost",e.target.value),className:"w-full border border-gray-300 rounded-xl px-4 py-3"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0421\u043f\u043b\u0430\u0447\u0435\u043d\u043e (USD)"}),(0,ft.jsx)("input",{type:"number",min:"0",step:"0.01",value:F.paid_amount||"",onChange:e=>ae("paid_amount",e.target.value),className:"w-full border border-gray-300 rounded-xl px-4 py-3"})]}),(0,ft.jsxs)("div",{className:"md:col-span-2",children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u041f\u0440\u0438\u043c\u0456\u0442\u043a\u0438"}),(0,ft.jsx)("textarea",{rows:"3",value:F.notes||"",onChange:e=>ae("notes",e.target.value),className:"w-full border border-gray-300 rounded-xl px-4 py-3 resize-none"})]})]}),(0,ft.jsxs)("div",{className:"flex justify-end gap-3 pt-6 border-t border-gray-200 mt-6 flex-shrink-0",children:[(0,ft.jsx)("button",{type:"button",onClick:ne,disabled:H,className:"px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-xl font-medium transition",children:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"}),(0,ft.jsx)("button",{type:"button",onClick:async()=>{if(F.client_id){q(!0);try{const{client:e,responsible_employee:t,...n}=F,r={...n,payment_status:ee(n.total_cost,n.paid_amount)};for(let a in r)""===r[a]&&(r[a]=null);if(N)await Tp.from("installations").update(r).eq("custom_id",N.custom_id);else{const{data:{user:e}}=await Tp.auth.getUser();e&&(r.creator_email=e.email),await Tp.from("installations").insert([r])}Z("\u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043e","success"),ne(),te()}catch(vV){Z(vV.message,"error")}finally{q(!1)}}else U({client_id:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u043a\u043b\u0456\u0454\u043d\u0442\u0430"})},disabled:H,className:"px-6 py-3 bg-indigo-600 text-white rounded-xl font-medium transition hover:bg-indigo-700 flex items-center space-x-2",children:H?(0,ft.jsx)("span",{children:"\u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043d\u044f..."}):(0,ft.jsx)("span",{children:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"})})]})]})})})]})})}const jF=_p("https://logxutaepqzmvgsvscle.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxvZ3h1dGFlcHF6bXZnc3ZzY2xlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM5ODU4MDEsImV4cCI6MjA2OTU2MTgwMX0.NhbaKL5X48jHyPPxZ-6EadLcBfM-NMxMA8qbksT9VhE"),kF=(0,t.memo)(e=>{let{notifications:t,removeNotification:n}=e;return(0,ft.jsx)("div",{className:"fixed top-20 right-5 z-[9999] w-full max-w-sm pointer-events-none",children:(0,ft.jsx)(Et,{children:t.map(e=>(0,ft.jsxs)(hc.div,{layout:!0,initial:{opacity:0,y:-20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,x:100,scale:.9},className:"pointer-events-auto p-4 rounded-xl shadow-xl text-white font-medium text-sm flex items-center gap-3 mb-3\n              "+("success"===e.type?"bg-emerald-500":"bg-red-500"),children:["success"===e.type?(0,ft.jsx)(Bc,{}):(0,ft.jsx)(hd,{}),(0,ft.jsx)("span",{children:e.message}),(0,ft.jsx)("button",{onClick:()=>n(e.id),className:"ml-auto opacity-70 hover:opacity-100",children:(0,ft.jsx)(hd,{})})]},e.id))})})}),NF=(0,t.memo)(e=>{let{client:t,onEdit:n}=e;const r={"\u041f\u0440\u0438\u0432\u0430\u0442\u043d\u0438\u0439 \u0431\u0443\u0434\u0438\u043d\u043e\u043a":{icon:Dc,color:"text-blue-600 bg-blue-50",label:"\u041f\u0440\u0438\u0432\u0430\u0442\u043d\u0438\u0439"},"\u041f\u0440\u043e\u043c\u0438\u0441\u043b\u043e\u0432\u0435 \u043f\u0456\u0434\u043f\u0440\u0438\u0454\u043c\u0441\u0442\u0432\u043e":{icon:Su,color:"text-purple-600 bg-purple-50",label:"\u041f\u0440\u043e\u043c\u0438\u0441\u043b\u043e\u0432\u0456\u0441\u0442\u044c"},"\u041e\u0444\u0456\u0441\u043d\u0430 \u0431\u0443\u0434\u0456\u0432\u043b\u044f":{icon:kd,color:"text-green-600 bg-green-50",label:"\u041e\u0444\u0456\u0441"},"\u041a\u043e\u043c\u0435\u0440\u0446\u0456\u0439\u043d\u0438\u0439 \u043e\u0431'\u0454\u043a\u0442":{icon:wu,color:"text-orange-600 bg-orange-50",label:"\u041a\u043e\u043c\u0435\u0440\u0446\u0456\u044f"}},{icon:a,color:i,label:s}=r[t.object_type]||{icon:Dc,color:"text-gray-600 bg-gray-50",label:t.object_type||"\u0406\u043d\u0448\u0435"};return(0,ft.jsxs)("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-slate-200 hover:shadow-md transition-shadow flex flex-col h-full",children:[(0,ft.jsxs)("div",{className:"flex-grow",children:[(0,ft.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,ft.jsxs)("div",{className:"flex-1 min-w-0 pr-2",children:[(0,ft.jsx)("h3",{className:"font-bold text-slate-800 text-lg truncate leading-tight",title:t.company_name||t.name,children:t.company_name||t.name}),t.company_name&&(0,ft.jsx)("p",{className:"text-sm text-slate-500 truncate mt-0.5",children:t.name})]}),(0,ft.jsxs)("span",{className:"text-[10px] text-slate-500 bg-slate-100 px-2 py-1 rounded-md font-mono flex-shrink-0 border border-slate-200",children:["#",t.custom_id]})]}),(0,ft.jsxs)("div",{className:"space-y-2.5 text-sm",children:[(0,ft.jsxs)("div",{className:`flex items-center gap-2 p-1.5 rounded-lg w-fit ${i}`,children:[(0,ft.jsx)(a,{className:"w-3.5 h-3.5"})," ",(0,ft.jsx)("span",{className:"font-semibold text-xs",children:s})]}),(0,ft.jsxs)("div",{className:"flex items-center gap-2 text-slate-600",children:[(0,ft.jsx)(Mu,{className:"text-slate-400 flex-shrink-0 text-xs"}),(0,ft.jsx)("span",{className:"truncate text-xs sm:text-sm",children:[t.populated_place,t.oblast].filter(Boolean).join(", ")||"---"})]}),(0,ft.jsxs)("div",{className:"flex items-center gap-2 text-slate-600",children:[(0,ft.jsx)(Fu,{className:"text-slate-400 flex-shrink-0 text-xs"}),(0,ft.jsx)("a",{href:`tel:${t.phone}`,className:"hover:text-indigo-600 truncate text-xs sm:text-sm font-medium",children:t.phone||"---"})]})]})]}),(0,ft.jsxs)("div",{className:"mt-4 pt-3 border-t border-slate-100 flex justify-between items-center",children:[(0,ft.jsxs)("span",{className:"text-[10px] text-slate-400",children:["\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043e: ",(o=t.created_at,o?new Date(o).toLocaleDateString("uk-UA"):"N/A")]}),(0,ft.jsxs)("button",{onClick:()=>n(t),className:"flex items-center gap-1.5 px-3 py-1.5 bg-slate-50 hover:bg-indigo-50 text-slate-600 hover:text-indigo-700 rounded-lg text-xs font-bold transition-colors border border-slate-200 hover:border-indigo-200",children:[(0,ft.jsx)(nu,{})," \u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438"]})]})]});var o}),_F=(0,t.memo)(e=>{let{currentPage:t,totalPages:n,onPageChange:r}=e;return n<=1?null:(0,ft.jsxs)("div",{className:"flex items-center justify-center gap-2 mt-8 pb-8",children:[(0,ft.jsx)("button",{onClick:()=>r(t-1),disabled:1===t,className:"w-8 h-8 flex items-center justify-center bg-white rounded-lg border border-slate-200 disabled:opacity-50 text-slate-600 hover:bg-slate-50 transition",children:(0,ft.jsx)(Uc,{size:12})}),(0,ft.jsxs)("span",{className:"text-sm font-medium text-slate-600 px-2",children:["\u0421\u0442\u043e\u0440. ",t," \u0437 ",n]}),(0,ft.jsx)("button",{onClick:()=>r(t+1),disabled:t===n,className:"w-8 h-8 flex items-center justify-center bg-white rounded-lg border border-slate-200 disabled:opacity-50 text-slate-600 hover:bg-slate-50 transition",children:(0,ft.jsx)(Hc,{size:12})})]})});function SF(){const[e,n]=(0,t.useState)([]),[r,a]=(0,t.useState)(!0),[i,s]=(0,t.useState)(""),o=((e,n)=>{const[r,a]=(0,t.useState)(e);return(0,t.useEffect)(()=>{const t=setTimeout(()=>a(e),n);return()=>clearTimeout(t)},[e,n]),r})(i,300),[l,c]=(0,t.useState)({type:"all",subcontract:"all",company:"all"}),[u,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)(1),[p]=(0,t.useState)(9),[m,g]=(0,t.useState)(0),[v,y]=(0,t.useState)(!1),[x,b]=(0,t.useState)(null),[w,j]=(0,t.useState)([]),[k,N]=(0,t.useState)({name:"",oblast:"",populated_place:"",phone:"+380",object_type:"",company_name:"",is_subcontract:!1,contractor_company:"",first_contact:"",notes:"",working_company:""}),[_,S]=(0,t.useState)({}),[C,O]=(0,t.useState)(!1),E=(0,t.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4e3;const r=Date.now();j(n=>[...n,{id:r,message:e,type:t}]),setTimeout(()=>j(e=>e.filter(e=>e.id!==r)),n)},[]),P=(0,t.useCallback)(e=>{j(t=>t.filter(t=>t.id!==e))},[]),T=(0,t.useCallback)(async e=>{a(!0);try{const t=(e-1)*p;let r=jF.from("clients").select("*",{count:"exact"});if(o){const e=o.trim(),t=[`name.ilike.%${e}%`,`company_name.ilike.%${e}%`,`phone.ilike.%${e}%`];/^\d+$/.test(e)&&t.push(`custom_id.eq.${e}`),r=r.or(t.join(","))}"private"===l.type?r=r.eq("object_type","\u041f\u0440\u0438\u0432\u0430\u0442\u043d\u0438\u0439 \u0431\u0443\u0434\u0438\u043d\u043e\u043a"):"business"===l.type&&(r=r.not("object_type","eq","\u041f\u0440\u0438\u0432\u0430\u0442\u043d\u0438\u0439 \u0431\u0443\u0434\u0438\u043d\u043e\u043a")),"all"!==l.subcontract&&(r=r.eq("is_subcontract","subcontract"===l.subcontract)),"all"!==l.company&&(r=r.eq("working_company",l.company));const{data:a,error:i,count:s}=await r.order("created_at",{ascending:!1}).range(t,t+p-1);if(i)throw i;n(a||[]),g(s||0)}catch(t){E("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445","error")}finally{a(!1)}},[p,o,l,E]);(0,t.useEffect)(()=>{f(1)},[o,l]),(0,t.useEffect)(()=>{T(h)},[h,T]);const A=e=>{b(e),N({name:e.name||"",oblast:e.oblast||"",populated_place:e.populated_place||"",phone:e.phone||"+380",object_type:e.object_type||"",company_name:e.company_name||"",is_subcontract:e.is_subcontract||!1,contractor_company:e.contractor_company||"",first_contact:e.first_contact?new Date(e.first_contact).toISOString().split("T")[0]:"",notes:e.notes||"",working_company:e.working_company||""}),y(!0)},M=(e,t)=>{"phone"===e&&(t.startsWith("+380")||(t="+380"+t.replace(/^\+380/,"").replace(/[^\d]/g,"")),t.length>13&&(t=t.substring(0,13))),N(n=>({...n,[e]:t})),_[e]&&S(t=>({...t,[e]:""}))},D=async e=>{e.preventDefault();const t={};if(k.name.trim()||(t.name="\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0456\u043c'\u044f"),k.working_company||(t.working_company="\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u043a\u043e\u043c\u043f\u0430\u043d\u0456\u044e"),Object.keys(t).length>0)S(t);else{O(!0);try{const e={...k,first_contact:k.first_contact||null};let t;if(t=x?await jF.from("clients").update({...e,updated_at:(new Date).toISOString()}).eq("custom_id",x.custom_id):await jF.from("clients").insert([e]),t.error)throw t.error;E(x?"\u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043e!":"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043e!","success"),y(!1),T(h)}catch(n){E("\u041f\u043e\u043c\u0438\u043b\u043a\u0430: "+n.message,"error")}finally{O(!1)}}};return(0,ft.jsxs)(Mp,{children:[(0,ft.jsxs)("div",{className:"p-4 sm:p-8 space-y-6 max-w-[1600px] mx-auto pb-safe",children:[(0,ft.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,ft.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 tracking-tight",children:"\u041a\u043b\u0456\u0454\u043d\u0442\u0438"}),(0,ft.jsx)("p",{className:"text-slate-500 text-sm mt-1",children:"\u0411\u0430\u0437\u0430 \u0437\u0430\u043c\u043e\u0432\u043d\u0438\u043a\u0456\u0432 \u0442\u0430 \u043e\u0431'\u0454\u043a\u0442\u0456\u0432"})]}),(0,ft.jsxs)("button",{onClick:()=>{b(null),N({name:"",oblast:"",populated_place:"",phone:"+380",object_type:"",company_name:"",is_subcontract:!1,contractor_company:"",first_contact:"",notes:"",working_company:""}),y(!0)},className:"flex items-center justify-center gap-2 px-5 py-2.5 bg-indigo-600 text-white rounded-xl font-bold shadow-lg shadow-indigo-200 hover:bg-indigo-700 active:scale-95 transition-all w-full sm:w-auto",children:[(0,ft.jsx)(Hu,{})," ",(0,ft.jsx)("span",{children:"\u041d\u043e\u0432\u0438\u0439 \u043a\u043b\u0456\u0454\u043d\u0442"})]})]}),(0,ft.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,ft.jsxs)("div",{className:"relative flex-grow",children:[(0,ft.jsx)(Xu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),(0,ft.jsx)("input",{type:"text",placeholder:"\u041f\u043e\u0448\u0443\u043a \u043a\u043b\u0456\u0454\u043d\u0442\u0430...",value:i,onChange:e=>s(e.target.value),className:"w-full pl-11 pr-4 py-3 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition shadow-sm text-sm"})]}),(0,ft.jsxs)("button",{onClick:()=>d(!u),className:"flex-shrink-0 flex items-center justify-center gap-2 px-4 py-3 rounded-xl font-semibold transition shadow-sm border "+(u?"bg-slate-800 text-white border-slate-800":"bg-white text-slate-700 border-slate-200 hover:bg-slate-50"),children:[(0,ft.jsx)(gu,{})," ",(0,ft.jsx)("span",{className:"hidden sm:inline",children:"\u0424\u0456\u043b\u044c\u0442\u0440\u0438"})]})]}),(0,ft.jsx)(Et,{children:u&&(0,ft.jsx)(hc.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:(0,ft.jsx)("div",{className:"bg-white p-4 rounded-xl border border-slate-200 grid grid-cols-1 md:grid-cols-3 gap-4 shadow-sm",children:[{label:"\u041a\u043e\u043c\u043f\u0430\u043d\u0456\u044f",key:"company",opts:[{v:"all",l:"\u0412\u0441\u0456"},{v:"\u041a\u0430\u0439\u0440\u043e\u0441",l:"\u041a\u0430\u0439\u0440\u043e\u0441"},{v:"\u0420\u043e\u0437\u0443\u043c\u043d\u0435 \u0437\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043d\u044f \u0435\u043d\u0435\u0440\u0433\u0456\u0457",l:"\u0420\u0417\u0415"}]},{label:"\u0422\u0438\u043f \u043e\u0431'\u0454\u043a\u0442\u0430",key:"type",opts:[{v:"all",l:"\u0412\u0441\u0456"},{v:"private",l:"\u041f\u0440\u0438\u0432\u0430\u0442\u043d\u0438\u0439"},{v:"business",l:"\u0411\u0456\u0437\u043d\u0435\u0441"}]},{label:"\u0421\u043f\u0456\u0432\u043f\u0440\u0430\u0446\u044f",key:"subcontract",opts:[{v:"all",l:"\u0412\u0441\u0456"},{v:"direct",l:"\u041f\u0440\u044f\u043c\u0456"},{v:"subcontract",l:"\u0421\u0443\u0431\u043f\u0456\u0434\u0440\u044f\u0434"}]}].map((e,t)=>(0,ft.jsxs)("div",{children:[(0,ft.jsx)("span",{className:"text-xs font-bold text-slate-400 uppercase mb-2 block",children:e.label}),(0,ft.jsx)("div",{className:"flex flex-wrap gap-2",children:e.opts.map(t=>(0,ft.jsx)("button",{onClick:()=>c(n=>({...n,[e.key]:t.v})),className:"px-3 py-1.5 rounded-lg text-xs font-bold transition-colors "+(l[e.key]===t.v?"bg-indigo-100 text-indigo-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"),children:t.l},t.v))})]},t))})})})]}),(0,ft.jsx)("div",{className:"min-h-[300px]",children:r?(0,ft.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:Array.from({length:6}).map((e,t)=>(0,ft.jsx)("div",{className:"bg-white h-40 rounded-2xl animate-pulse border border-slate-100"},t))}):0===e.length?(0,ft.jsxs)("div",{className:"text-center py-20 bg-white rounded-2xl border border-dashed border-slate-300",children:[(0,ft.jsx)(_d,{className:"mx-auto text-4xl text-slate-300 mb-3"}),(0,ft.jsx)("h3",{className:"text-lg font-bold text-slate-600",children:"\u041a\u043b\u0456\u0454\u043d\u0442\u0456\u0432 \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e"}),(0,ft.jsx)("p",{className:"text-slate-400 text-sm",children:"\u0421\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0437\u043c\u0456\u043d\u0438\u0442\u0438 \u0444\u0456\u043b\u044c\u0442\u0440\u0438"})]}):(0,ft.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:e.map(e=>(0,ft.jsx)(NF,{client:e,onEdit:A},e.custom_id))})}),!r&&m>p&&(0,ft.jsx)(_F,{currentPage:h,totalPages:Math.ceil(m/p),onPageChange:f})]}),(0,ft.jsx)(kF,{notifications:w,removeNotification:P}),(0,ft.jsx)(Et,{children:v&&(0,ft.jsxs)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 sm:p-6",onClick:()=>y(!1),children:[(0,ft.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm"})," ",(0,ft.jsxs)(hc.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},className:"bg-white rounded-2xl w-full max-w-3xl max-h-[90vh] shadow-2xl flex flex-col relative z-10 overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,ft.jsxs)("div",{className:"p-5 border-b border-slate-100 flex justify-between items-center bg-white sticky top-0 z-20",children:[(0,ft.jsx)("h2",{className:"text-xl font-bold text-slate-800",children:x?"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043d\u043d\u044f":"\u041d\u043e\u0432\u0438\u0439 \u043a\u043b\u0456\u0454\u043d\u0442"}),(0,ft.jsx)("button",{onClick:()=>y(!1),className:"p-2 bg-slate-50 rounded-full hover:bg-slate-100 text-slate-400 hover:text-slate-600 transition",children:(0,ft.jsx)(hd,{})})]}),(0,ft.jsxs)("form",{onSubmit:D,className:"p-6 overflow-y-auto custom-scrollbar",children:[(0,ft.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-5",children:[(0,ft.jsxs)("div",{className:"sm:col-span-2",children:[(0,ft.jsxs)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5",children:["\u0406\u043c'\u044f / \u041d\u0430\u0437\u0432\u0430 ",(0,ft.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ft.jsx)("input",{type:"text",value:k.name,onChange:e=>M("name",e.target.value),className:"w-full border rounded-xl px-4 py-3 bg-slate-50 focus:bg-white transition-colors outline-none focus:ring-2 focus:ring-indigo-500 "+(_.name?"border-red-500":"border-slate-200"),placeholder:"\u041f\u0406\u0411 \u0430\u0431\u043e \u043d\u0430\u0437\u0432\u0430"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsxs)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5",children:["\u041a\u043e\u043c\u043f\u0430\u043d\u0456\u044f-\u0432\u0438\u043a\u043e\u043d\u0430\u0432\u0435\u0446\u044c ",(0,ft.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ft.jsxs)("select",{value:k.working_company,onChange:e=>M("working_company",e.target.value),className:"w-full border rounded-xl px-4 py-3 bg-slate-50 focus:bg-white outline-none "+(_.working_company?"border-red-500":"border-slate-200"),children:[(0,ft.jsx)("option",{value:"",children:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c..."}),(0,ft.jsx)("option",{value:"\u041a\u0430\u0439\u0440\u043e\u0441",children:"\u041a\u0430\u0439\u0440\u043e\u0441"}),(0,ft.jsx)("option",{value:"\u0420\u043e\u0437\u0443\u043c\u043d\u0435 \u0437\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043d\u044f \u0435\u043d\u0435\u0440\u0433\u0456\u0457",children:"\u0420\u0417\u0415"})]})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5",children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"}),(0,ft.jsx)("input",{type:"tel",value:k.phone,onChange:e=>M("phone",e.target.value),className:"w-full border border-slate-200 rounded-xl px-4 py-3 bg-slate-50 focus:bg-white outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"+380..."})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5",children:"\u0422\u0438\u043f \u043e\u0431'\u0454\u043a\u0442\u0430"}),(0,ft.jsxs)("select",{value:k.object_type,onChange:e=>M("object_type",e.target.value),className:"w-full border border-slate-200 rounded-xl px-4 py-3 bg-slate-50 focus:bg-white outline-none",children:[(0,ft.jsx)("option",{value:"",children:"\u041d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u043e"}),(0,ft.jsx)("option",{value:"\u041f\u0440\u0438\u0432\u0430\u0442\u043d\u0438\u0439 \u0431\u0443\u0434\u0438\u043d\u043e\u043a",children:"\u041f\u0440\u0438\u0432\u0430\u0442\u043d\u0438\u0439 \u0431\u0443\u0434\u0438\u043d\u043e\u043a"}),(0,ft.jsx)("option",{value:"\u041f\u0440\u043e\u043c\u0438\u0441\u043b\u043e\u0432\u0435 \u043f\u0456\u0434\u043f\u0440\u0438\u0454\u043c\u0441\u0442\u0432\u043e",children:"\u041f\u0440\u043e\u043c\u0438\u0441\u043b\u043e\u0432\u0435 \u043f\u0456\u0434\u043f\u0440\u0438\u0454\u043c\u0441\u0442\u0432\u043e"}),(0,ft.jsx)("option",{value:"\u041e\u0444\u0456\u0441\u043d\u0430 \u0431\u0443\u0434\u0456\u0432\u043b\u044f",children:"\u041e\u0444\u0456\u0441\u043d\u0430 \u0431\u0443\u0434\u0456\u0432\u043b\u044f"}),(0,ft.jsx)("option",{value:"\u041a\u043e\u043c\u0435\u0440\u0446\u0456\u0439\u043d\u0438\u0439 \u043e\u0431'\u0454\u043a\u0442",children:"\u041a\u043e\u043c\u0435\u0440\u0446\u0456\u0439\u043d\u0438\u0439 \u043e\u0431'\u0454\u043a\u0442"})]})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5",children:"\u041d\u0430\u0437\u0432\u0430 \u043a\u043e\u043c\u043f\u0430\u043d\u0456\u0457 (\u044f\u043a\u0449\u043e \u0454)"}),(0,ft.jsx)("input",{type:"text",value:k.company_name,onChange:e=>M("company_name",e.target.value),className:"w-full border border-slate-200 rounded-xl px-4 py-3 bg-slate-50 focus:bg-white outline-none",placeholder:"\u0422\u041e\u0412..."})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5",children:"\u041e\u0431\u043b\u0430\u0441\u0442\u044c"}),(0,ft.jsx)("input",{type:"text",value:k.oblast,onChange:e=>M("oblast",e.target.value),className:"w-full border border-slate-200 rounded-xl px-4 py-3 bg-slate-50 focus:bg-white outline-none"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5",children:"\u041d\u0430\u0441\u0435\u043b\u0435\u043d\u0438\u0439 \u043f\u0443\u043d\u043a\u0442"}),(0,ft.jsx)("input",{type:"text",value:k.populated_place,onChange:e=>M("populated_place",e.target.value),className:"w-full border border-slate-200 rounded-xl px-4 py-3 bg-slate-50 focus:bg-white outline-none"})]})]}),(0,ft.jsxs)("div",{className:"mt-5 p-4 bg-slate-50 rounded-xl border border-slate-100",children:[(0,ft.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,ft.jsx)("input",{type:"checkbox",id:"subcontract",checked:k.is_subcontract,onChange:e=>M("is_subcontract",e.target.checked),className:"w-5 h-5 text-indigo-600 rounded focus:ring-indigo-500"}),(0,ft.jsx)("label",{htmlFor:"subcontract",className:"text-sm font-bold text-slate-700 select-none",children:"\u0421\u0443\u0431\u043f\u0456\u0434\u0440\u044f\u0434"})]}),k.is_subcontract&&(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5",children:"\u041d\u0430\u0437\u0432\u0430 \u043f\u0456\u0434\u0440\u044f\u0434\u043d\u0438\u043a\u0430"}),(0,ft.jsx)("input",{type:"text",value:k.contractor_company,onChange:e=>M("contractor_company",e.target.value),className:"w-full border border-slate-200 rounded-xl px-4 py-3 bg-white outline-none",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u0430\u0437\u0432\u0443..."})]})]}),(0,ft.jsxs)("div",{className:"mt-5",children:[(0,ft.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5",children:"\u041f\u0440\u0438\u043c\u0456\u0442\u043a\u0438"}),(0,ft.jsx)("textarea",{rows:"3",value:k.notes,onChange:e=>M("notes",e.target.value),className:"w-full border border-slate-200 rounded-xl px-4 py-3 bg-slate-50 focus:bg-white outline-none resize-none",placeholder:"\u0414\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u0430 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f..."})]})]}),(0,ft.jsxs)("div",{className:"p-5 border-t border-slate-100 bg-slate-50 flex justify-end gap-3 sticky bottom-0 z-20",children:[(0,ft.jsx)("button",{type:"button",onClick:()=>y(!1),className:"px-6 py-3 bg-white border border-slate-200 text-slate-600 rounded-xl font-bold hover:bg-slate-100 transition",children:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"}),(0,ft.jsx)("button",{type:"submit",onClick:D,disabled:C,className:"px-6 py-3 bg-indigo-600 text-white rounded-xl font-bold shadow-lg hover:shadow-xl hover:bg-indigo-700 active:scale-95 transition-all disabled:opacity-50 flex items-center gap-2",children:C?"\u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043d\u044f...":x?"\u041e\u043d\u043e\u0432\u0438\u0442\u0438":"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438"})]})]})]})})]})}const CF=e=>{const t=new Date(e),n=t.getTimezoneOffset();return new Date(t.getTime()-60*n*1e3).toISOString().split("T")[0]},OF=e=>{let{employee:t,status:n,onClick:r}=e;const a=(e=>{if(!e)return null;const t=new Date,n=new Date(e);let r=t.getFullYear()-n.getFullYear();const a=t.getMonth()-n.getMonth();return(a<0||0===a&&t.getDate()<n.getDate())&&r--,r})(t.date_birth),i=(e=>{if(!e)return"??";const t=e.trim().split(" ");return 1===t.length?t[0].substring(0,2).toUpperCase():(t[0][0]+t[1][0]).toUpperCase()})(t.name),s=(o=t.department)&&0!==o.length?o.includes("\u041e\u0444\u0456\u0441")?"bg-purple-600":o.includes("\u041c\u043e\u043d\u0442\u0430\u0436")?"bg-blue-600":o.includes("\u0412\u043e\u0434\u0456\u0457")?"bg-orange-500":o.includes("\u041f\u0440\u043e\u0435\u043a\u0442\u0443\u0432\u0430\u043d\u043d\u044f")?"bg-teal-600":"bg-indigo-500":"bg-slate-500";var o;const l="OFF"!==n&&"VACATION"!==n&&"SICK_LEAVE"!==n,c=t.department&&t.department.length>0?t.department.join(", "):"";return(0,ft.jsxs)(hc.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},transition:{duration:.15},onClick:()=>r(t),className:"bg-white rounded-2xl p-4 shadow-sm border border-gray-100 relative overflow-visible flex items-center gap-4 active:scale-[0.98] transition-transform cursor-pointer group",children:[(0,ft.jsxs)("div",{className:"relative",children:[(0,ft.jsx)("div",{className:`w-14 h-14 rounded-2xl ${s} flex items-center justify-center text-white font-bold text-xl shadow-sm flex-shrink-0`,children:i}),(0,ft.jsx)("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-white "+(l?"bg-green-500":"bg-red-500")})]}),(0,ft.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ft.jsx)("div",{className:"flex justify-between items-start",children:(0,ft.jsxs)("h3",{className:"font-bold text-gray-800 truncate text-base pr-6",children:[t.name,(0,ft.jsxs)("span",{className:"text-gray-400 font-normal ml-1 text-sm",children:["#",t.custom_id]})]})}),(0,ft.jsxs)("div",{className:"text-xs text-gray-500 font-medium truncate mb-1",children:[t.position||"\u041f\u043e\u0441\u0430\u0434\u0430 \u043d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u0430",c&&(0,ft.jsx)("span",{className:"text-gray-400 mx-1",children:"\u2022"}),(0,ft.jsx)("span",{className:"text-indigo-500",children:c})]}),(0,ft.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mt-1.5",children:[t.phone&&(0,ft.jsxs)("a",{href:`tel:${t.phone}`,onClick:e=>e.stopPropagation(),className:"text-xs text-slate-600 bg-slate-100 px-2 py-1 rounded-lg flex items-center gap-1 hover:bg-slate-200 transition-colors",children:[(0,ft.jsx)(Fu,{className:"text-[10px]"})," ",t.phone]}),null!==a&&(0,ft.jsxs)("span",{className:"text-xs text-slate-500 flex items-center gap-1 bg-slate-50 px-2 py-1 rounded-lg border border-slate-100",children:[(0,ft.jsx)(Pc,{className:"text-pink-400 text-[10px]"})," ",a," \u0440."]})]})]}),(0,ft.jsx)("button",{onClick:e=>{e.stopPropagation(),r(t)},className:"absolute top-4 right-4 p-2 -mr-2 -mt-2 text-gray-300 hover:text-gray-600 transition-colors",children:(0,ft.jsx)(ru,{size:16})})]})},EF=e=>{let{isOpen:n,onClose:r,employee:a,onSave:i}=e;const[s,o]=(0,t.useState)({name:"",phone:"+380",position:"",department:[],skills:[],date_birth:"",notes:""}),[l,c]=(0,t.useState)(""),[u,d]=(0,t.useState)(!1);(0,t.useEffect)(()=>{o(a?{name:a.name||"",phone:a.phone||"+380",position:a.position||"",department:a.department||[],skills:a.skills||[],date_birth:a.date_birth||"",notes:a.notes||""}:{name:"",phone:"+380",position:"",department:[],skills:[],date_birth:"",notes:""})},[a,n]);const h=()=>{l.trim()&&!s.skills.includes(l.trim())&&(o(e=>({...e,skills:[...e.skills,l.trim()]})),c(""))};return n?(0,ft.jsx)("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-black/40 backdrop-blur-sm p-0 sm:p-6",onClick:r,children:(0,ft.jsxs)(hc.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"tween",ease:"easeOut",duration:.25},className:"bg-white w-full max-w-lg rounded-t-2xl sm:rounded-2xl shadow-2xl flex flex-col max-h-[90vh]",onClick:e=>e.stopPropagation(),children:[(0,ft.jsxs)("div",{className:"p-5 border-b border-gray-100 flex justify-between items-center bg-white rounded-t-2xl",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:a?"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043d\u043d\u044f":"\u041d\u043e\u0432\u0438\u0439 \u043f\u0440\u0430\u0446\u0456\u0432\u043d\u0438\u043a"}),a&&(0,ft.jsxs)("p",{className:"text-xs text-gray-400",children:["#",a.custom_id]})]}),(0,ft.jsx)("button",{onClick:r,className:"p-2 bg-gray-50 rounded-full hover:bg-gray-100 transition",children:(0,ft.jsx)(hd,{className:"text-gray-500"})})]}),(0,ft.jsxs)("div",{className:"p-5 overflow-y-auto space-y-6",children:[(0,ft.jsxs)("div",{className:"space-y-3",children:[(0,ft.jsx)("label",{className:"text-sm font-bold text-gray-700 block",children:"\u041f\u0406\u0411 *"}),(0,ft.jsxs)("div",{className:"relative",children:[(0,ft.jsx)(Nd,{className:"absolute top-3.5 left-3 text-gray-400"}),(0,ft.jsx)("input",{type:"text",value:s.name,onChange:e=>o({...s,name:e.target.value}),className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none transition-all",placeholder:"\u0406\u0432\u0430\u043d \u0406\u0432\u0430\u043d\u043e\u0432"})]})]}),(0,ft.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ft.jsxs)("div",{className:"space-y-2",children:[(0,ft.jsx)("label",{className:"text-sm font-bold text-gray-700 block",children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"}),(0,ft.jsx)("input",{type:"tel",value:s.phone,onChange:e=>o({...s,phone:e.target.value}),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-indigo-500 outline-none"})]}),(0,ft.jsxs)("div",{className:"space-y-2",children:[(0,ft.jsx)("label",{className:"text-sm font-bold text-gray-700 block",children:"\u0414\u0430\u0442\u0430 \u043d\u0430\u0440\u043e\u0434\u0436\u0435\u043d\u043d\u044f"}),(0,ft.jsx)("input",{type:"date",value:s.date_birth,onChange:e=>o({...s,date_birth:e.target.value}),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-indigo-500 outline-none"})]})]}),(0,ft.jsxs)("div",{className:"p-4 bg-slate-50 rounded-xl space-y-5 border border-slate-100",children:[(0,ft.jsxs)("div",{className:"space-y-2",children:[(0,ft.jsx)("label",{className:"text-sm font-bold text-gray-700",children:"\u041f\u043e\u0441\u0430\u0434\u0430"}),(0,ft.jsxs)("div",{className:"relative",children:[(0,ft.jsx)(kd,{className:"absolute top-3.5 left-3 text-gray-400"}),(0,ft.jsx)("input",{type:"text",value:s.position,onChange:e=>o({...s,position:e.target.value}),className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 focus:border-indigo-500 outline-none bg-white",placeholder:"\u041d\u0430\u043f\u0440. \u0413\u043e\u043b\u043e\u0432\u043d\u0438\u0439 \u0456\u043d\u0436\u0435\u043d\u0435\u0440"})]})]}),(0,ft.jsxs)("div",{className:"space-y-2",children:[(0,ft.jsx)("label",{className:"text-sm font-bold text-gray-700",children:"\u0412\u0456\u0434\u0434\u0456\u043b"}),(0,ft.jsx)("div",{className:"flex flex-wrap gap-2",children:["\u041c\u043e\u043d\u0442\u0430\u0436","\u041e\u0444\u0456\u0441","\u0412\u043e\u0434\u0456\u0457","\u041f\u0440\u043e\u0435\u043a\u0442\u0443\u0432\u0430\u043d\u043d\u044f","\u0421\u043a\u043b\u0430\u0434"].map(e=>{const t=s.department.includes(e);return(0,ft.jsx)("button",{onClick:()=>(e=>{o(t=>{const n=t.department.includes(e);return{...t,department:n?t.department.filter(t=>t!==e):[...t.department,e]}})})(e),className:"px-3 py-1.5 rounded-lg text-xs font-bold uppercase tracking-wider border transition-all "+(t?"bg-indigo-600 text-white border-indigo-600 shadow-md":"bg-white text-gray-500 border-gray-200 hover:border-indigo-300"),children:e},e)})})]}),(0,ft.jsxs)("div",{className:"space-y-2",children:[(0,ft.jsxs)("label",{className:"text-sm font-bold text-gray-700 flex items-center gap-2",children:[(0,ft.jsx)(cd,{className:"text-indigo-500"})," \u041d\u0430\u0432\u0438\u0447\u043a\u0438"]}),(0,ft.jsxs)("div",{className:"flex gap-2",children:[(0,ft.jsx)("input",{type:"text",value:l,onChange:e=>c(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),h())},className:"flex-1 px-4 py-2 rounded-xl border border-gray-200 focus:border-indigo-500 outline-none bg-white text-sm",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0442\u0430 \u043d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c +"}),(0,ft.jsx)("button",{onClick:h,className:"bg-indigo-600 text-white px-4 rounded-xl text-sm font-bold hover:bg-indigo-700 transition",children:(0,ft.jsx)(Hu,{})})]}),(0,ft.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:s.skills.map((e,t)=>(0,ft.jsxs)("span",{className:"bg-indigo-100 text-indigo-700 px-3 py-1 rounded-lg text-sm font-medium flex items-center gap-2",children:[e,(0,ft.jsx)("button",{onClick:()=>{return t=e,void o(e=>({...e,skills:e.skills.filter(e=>e!==t)}));var t},className:"text-indigo-400 hover:text-indigo-900",children:(0,ft.jsx)(hd,{size:12})})]},t))})]})]}),(0,ft.jsxs)("div",{className:"pt-2",children:[(0,ft.jsx)("label",{className:"text-xs font-bold text-gray-400 uppercase mb-1 block",children:"\u0414\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u0456 \u043d\u043e\u0442\u0430\u0442\u043a\u0438"}),(0,ft.jsx)("textarea",{rows:"2",value:s.notes,onChange:e=>o({...s,notes:e.target.value}),className:"w-full p-3 rounded-xl border border-gray-200 focus:border-indigo-500 outline-none resize-none text-sm bg-gray-50 focus:bg-white transition-colors",placeholder:"\u0406\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f..."})]})]}),(0,ft.jsxs)("div",{className:"p-5 border-t border-gray-100 flex gap-3 bg-white",children:[(0,ft.jsx)("button",{onClick:r,className:"flex-1 py-3 rounded-xl font-medium text-gray-600 bg-gray-100 hover:bg-gray-200 transition",children:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"}),(0,ft.jsx)("button",{onClick:async()=>{s.name.trim()&&(d(!0),await i({...s,id:null===a||void 0===a?void 0:a.id,custom_id:null===a||void 0===a?void 0:a.custom_id}),d(!1),r())},disabled:u,className:"flex-1 py-3 rounded-xl font-bold text-white bg-indigo-600 hover:bg-indigo-700 shadow-lg shadow-indigo-200 transition flex items-center justify-center gap-2",children:u?"\u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043d\u044f...":(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)(Yu,{})," \u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"]})})]})]})}):null};function PF(){const[e,n]=(0,t.useState)([]),[r,a]=(0,t.useState)([]),[i,s]=(0,t.useState)(!0),[o,l]=(0,t.useState)(""),[c,u]=(0,t.useState)("\u0412\u0441\u0456"),[d,h]=(0,t.useState)(new Date),[f,p]=(0,t.useState)(!1),[m,g]=(0,t.useState)(null),v=async()=>{try{const{data:e}=await Tp.from("employees").select("*").order("name"),t=new Date,r=new Date;r.setMonth(r.getMonth()+1);const{data:i}=await Tp.from("attendance").select("*").gte("work_date",CF(t)).lte("work_date",CF(r));n(e||[]),a(i||[])}catch(e){console.error("Error:",e)}finally{s(!1)}};(0,t.useEffect)(()=>{v()},[]);const y=e=>{g(e),p(!0)},x=(0,t.useMemo)(()=>e.filter(e=>{const t=o.toLowerCase();if(!(e.name.toLowerCase().includes(t)||e.phone&&e.phone.includes(t)||e.position&&e.position.toLowerCase().includes(t)||e.custom_id&&e.custom_id.toString().includes(t)))return!1;if("\u0412\u0441\u0456"===c)return!0;const n=e.department||[];return"\u0406\u043d\u0448\u0435"===c?0===n.length:n.includes(c)}),[e,o,c]),b=(0,t.useMemo)(()=>{const t=CF(d),n=e.filter(e=>{if("\u0412\u0441\u0456"===c)return!0;const t=e.department||[];return"\u0406\u043d\u0448\u0435"===c?0===t.length:t.includes(c)}),a=new Set(n.map(e=>e.custom_id)),i=r.filter(e=>e.work_date===t&&a.has(e.employee_custom_id)),s=n.length,o=i.length;return{totalAvailable:Math.max(0,s-o),totalOff:o}},[e,r,d,c]),w=CF(d)===CF(new Date),j=e=>{const t=CF(new Date),n=r.find(n=>n.employee_custom_id===e&&n.work_date===t);return n?n.status:"ACTIVE"},k=[{id:"\u0412\u0441\u0456",icon:Nd},{id:"\u041c\u043e\u043d\u0442\u0430\u0436",icon:ju},{id:"\u041e\u0444\u0456\u0441",icon:kd},{id:"\u0406\u043d\u0448\u0435",icon:Dc}];return(0,ft.jsxs)("div",{className:"min-h-screen bg-slate-50 pb-24",children:[(0,ft.jsxs)("header",{className:"sticky top-0 z-30 bg-white/95 backdrop-blur-md border-b border-gray-200/50 shadow-sm",children:[(0,ft.jsxs)("div",{className:"px-4 pt-4 pb-2",children:[(0,ft.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,ft.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"\u041a\u043e\u043c\u0430\u043d\u0434\u0430"}),(0,ft.jsx)("button",{onClick:()=>{const e=new Date,t=new Date(e);t.setDate(t.getDate()+1),CF(d)===CF(e)?h(t):h(e)},className:"flex items-center gap-3 px-3 py-2 rounded-xl transition-all border active:scale-95 "+(w?"bg-indigo-50 border-indigo-200":"bg-orange-50 border-orange-200"),children:(0,ft.jsxs)("div",{className:"text-left",children:[(0,ft.jsxs)("div",{className:"text-[10px] font-bold uppercase tracking-wider text-gray-500 flex items-center gap-1",children:[w?(0,ft.jsx)(Lc,{}):(0,ft.jsx)(Rc,{}),w?"\u041f\u043b\u0430\u043d \u043d\u0430 \u0441\u044c\u043e\u0433\u043e\u0434\u043d\u0456":"\u041f\u043b\u0430\u043d \u043d\u0430 \u0437\u0430\u0432\u0442\u0440\u0430"]}),(0,ft.jsxs)("div",{className:"flex items-center gap-2 text-sm font-semibold",children:[(0,ft.jsx)("span",{className:"text-green-600",children:b.totalAvailable}),(0,ft.jsx)("span",{className:"text-gray-300",children:"/"}),(0,ft.jsx)("span",{className:"text-red-500",children:b.totalOff})]})]})})]}),(0,ft.jsxs)("div",{className:"relative mb-2",children:[(0,ft.jsx)(Xu,{className:"absolute left-3.5 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,ft.jsx)("input",{type:"text",placeholder:"\u041f\u043e\u0448\u0443\u043a (\u0456\u043c'\u044f, ID, \u043f\u043e\u0441\u0430\u0434\u0430)...",value:o,onChange:e=>l(e.target.value),className:"w-full bg-slate-100 border-none rounded-xl pl-10 pr-4 py-3 text-sm focus:ring-2 focus:ring-indigo-500 focus:bg-white transition-all shadow-inner"}),o&&(0,ft.jsx)("button",{onClick:()=>l(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:(0,ft.jsx)(hd,{})})]})]}),(0,ft.jsx)("div",{className:"px-4 pb-2",children:(0,ft.jsx)("div",{className:"flex w-full bg-slate-100 p-1 rounded-xl",children:k.map(e=>{const t=c===e.id;return(0,ft.jsxs)("button",{onClick:()=>u(e.id),className:`\n                                        flex-1 flex flex-col sm:flex-row items-center justify-center gap-1 sm:gap-2 py-2 rounded-lg text-[10px] sm:text-xs font-bold transition-all duration-200\n                                        ${t?"bg-white text-indigo-600 shadow-sm ring-1 ring-black/5":"text-gray-500 hover:text-gray-700 hover:bg-slate-200/50"}\n                                    `,children:[(0,ft.jsx)(e.icon,{className:t?"text-indigo-600":"text-gray-400",size:14}),(0,ft.jsx)("span",{children:e.id})]},e.id)})})})]}),(0,ft.jsx)("main",{className:"p-4",children:i?(0,ft.jsx)("div",{className:"space-y-3",children:Array.from({length:6}).map((e,t)=>(0,ft.jsx)("div",{className:"h-20 bg-white rounded-2xl animate-pulse shadow-sm"},t))}):0===x.length?(0,ft.jsx)("div",{className:"text-center py-12",children:(0,ft.jsx)("h3",{className:"text-lg font-medium text-gray-600",children:"\u041d\u0456\u043a\u043e\u0433\u043e \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e"})}):(0,ft.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:(0,ft.jsx)(Et,{children:x.map(e=>(0,ft.jsx)(OF,{employee:e,status:j(e.custom_id),onClick:y},e.id))})})}),(0,ft.jsx)("button",{onClick:()=>{g(null),p(!0)},className:"fixed bottom-6 right-6 w-14 h-14 bg-indigo-600 text-white rounded-full shadow-2xl shadow-indigo-400/50 flex items-center justify-center hover:bg-indigo-700 active:scale-90 transition-all z-40",children:(0,ft.jsx)(Hu,{size:24})}),(0,ft.jsx)(Et,{children:f&&(0,ft.jsx)(EF,{isOpen:f,onClose:()=>p(!1),employee:m,onSave:async e=>{try{const t={name:e.name,phone:e.phone,position:e.position,department:e.department,skills:e.skills,date_birth:e.date_birth||null,notes:e.notes};e.id?await Tp.from("employees").update(t).eq("id",e.id):await Tp.from("employees").insert([t]),v()}catch(vV){alert("\u041f\u043e\u043c\u0438\u043b\u043a\u0430: "+vV.message)}}})})]})}const TF=e=>{const t=new Date(e),n=t.getTimezoneOffset();return new Date(t.getTime()-60*n*1e3).toISOString().split("T")[0]},AF=e=>{const t=new Date(e),n=t.getDay(),r=t.getDate()-n+(0===n?-6:1);return new Date(t.setDate(r))},MF=(e,t)=>{const n=new Date(e);return n.setDate(n.getDate()+t),n},DF=e=>{let{options:n,value:r,onChange:a,placeholder:i,icon:s,disabledItems:o=[],error:l}=e;const[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(""),f=(0,t.useMemo)(()=>{const e=d.toLowerCase();return n.filter(t=>!o.includes(t.value)&&(t.label.toLowerCase().includes(e)||t.subLabel&&t.subLabel.toLowerCase().includes(e)))},[n,d,o]),p=n.find(e=>e.value===r);return(0,ft.jsxs)("div",{className:"relative",children:[(0,ft.jsx)("button",{onClick:()=>u(!c),className:"w-full flex items-center justify-between bg-white border rounded-xl px-4 py-3 text-sm font-medium text-gray-700 shadow-sm active:bg-gray-50 transition-all "+(l?"border-red-500 ring-1 ring-red-500":"border-gray-300 hover:border-gray-400"),children:(0,ft.jsxs)("span",{className:"flex items-center gap-2 truncate",children:[s&&(0,ft.jsx)(s,{className:"flex-shrink-0 "+(l?"text-red-500":"text-indigo-500")}),(0,ft.jsx)("span",{className:"truncate",children:p?p.label:(0,ft.jsx)("span",{className:"text-gray-400",children:i})})]})}),(0,ft.jsx)(Et,{children:c&&(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>u(!1)}),(0,ft.jsxs)(hc.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"absolute z-[100] w-full mt-2 bg-white border border-gray-200 rounded-xl shadow-xl overflow-hidden max-h-60 overflow-y-auto",children:[(0,ft.jsx)("div",{className:"p-2 border-b border-gray-100 sticky top-0 bg-white z-10",children:(0,ft.jsxs)("div",{className:"relative",children:[(0,ft.jsx)(Xu,{className:"absolute left-3 top-2.5 text-gray-400 text-xs"}),(0,ft.jsx)("input",{autoFocus:!0,type:"text",className:"w-full pl-8 pr-3 py-2 bg-gray-50 rounded-lg text-sm outline-none focus:ring-2 focus:ring-indigo-100 transition-all",placeholder:"\u041f\u043e\u0448\u0443\u043a...",value:d,onChange:e=>h(e.target.value)})]})}),(0,ft.jsx)("div",{children:f.length>0?f.map(e=>(0,ft.jsx)("button",{onClick:()=>{a(e.value),u(!1),h("")},className:"w-full text-left px-4 py-3 text-sm hover:bg-indigo-50 transition-colors border-b border-gray-50 last:border-0",children:(0,ft.jsx)("div",{className:"font-medium text-gray-800",children:e.label})},e.value)):(0,ft.jsx)("div",{className:"p-4 text-center text-xs text-gray-400",children:"\u041d\u0456\u0447\u043e\u0433\u043e \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e"})})]})]})}),l&&(0,ft.jsx)("p",{className:"text-red-500 text-xs mt-1 ml-1",children:l})]})},zF=e=>{let{employees:t}=e;return t&&0!==t.length?(0,ft.jsxs)("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[(0,ft.jsxs)("h4",{className:"text-xs font-bold text-red-400 uppercase tracking-wider mb-3 flex items-center gap-2",children:[(0,ft.jsx)(Ec,{})," \u0412\u0438\u0445\u0456\u0434\u043d\u0456 \u0441\u044c\u043e\u0433\u043e\u0434\u043d\u0456 (",t.length,")"]}),(0,ft.jsx)("div",{className:"space-y-2",children:t.map(e=>(0,ft.jsxs)("div",{className:"flex justify-between items-center text-sm p-2 bg-red-50 rounded-lg text-red-700 border border-red-100",children:[(0,ft.jsx)("span",{children:e.name}),(0,ft.jsx)("span",{className:"text-xs font-bold px-2 py-0.5 bg-white rounded-md border border-red-200",children:"OFF"===e.status?"\u0412\u0438\u0445\u0456\u0434\u043d\u0438\u0439":"VACATION"===e.status?"\u0412\u0456\u0434\u043f\u0443\u0441\u0442\u043a\u0430":"\u041b\u0456\u043a\u0430\u0440\u043d\u044f\u043d\u0438\u0439"})]},e.id))})]}):null},IF=e=>{let{schedule:t,employees:n,installations:r,isPreviewMode:a,onEdit:i,onSave:s,onCancel:o,isSaving:l,absentEmployees:c}=e;return(0,ft.jsxs)("div",{className:"flex flex-col h-full bg-slate-50",children:[(0,ft.jsxs)("div",{className:"p-4 border-b flex items-center justify-between bg-white rounded-t-2xl shadow-sm z-20",children:[(0,ft.jsx)("h3",{className:"font-bold text-lg text-gray-800",children:a?"\u041f\u043e\u043f\u0435\u0440\u0435\u0434\u043d\u0456\u0439 \u043f\u0435\u0440\u0435\u0433\u043b\u044f\u0434":"\u041f\u043b\u0430\u043d \u0440\u043e\u0431\u0456\u0442"}),(0,ft.jsx)("button",{onClick:o,className:"p-2 bg-gray-100 rounded-full text-gray-500 hover:text-gray-800",children:(0,ft.jsx)(hd,{})})]}),(0,ft.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[0===t.length?(0,ft.jsxs)("div",{className:"text-center py-10 text-gray-400",children:[(0,ft.jsx)(Ic,{className:"mx-auto text-4xl mb-3 opacity-20"}),(0,ft.jsx)("p",{children:"\u041d\u0435\u043c\u0430\u0454 \u0437\u0430\u043f\u043b\u0430\u043d\u043e\u0432\u0430\u043d\u0438\u0445 \u0440\u043e\u0431\u0456\u0442"})]}):t.map(e=>{var t;const a="custom"===e.installationId,i=a?e.notes||"\u041a\u0430\u0441\u0442\u043e\u043c\u043d\u0435 \u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f":e.installationId?(null===(t=r.find(t=>{var n,r;return(null===(n=t.custom_id)||void 0===n?void 0:n.toString())===(null===(r=e.installationId)||void 0===r?void 0:r.toString())}))||void 0===t?void 0:t.name)||`\u041e\u0431'\u0454\u043a\u0442 #${e.installationId}`:"\u041d\u0435 \u043e\u0431\u0440\u0430\u043d\u043e",s=!a&&e.installationId?`#${e.installationId}`:"";return(0,ft.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:[(0,ft.jsxs)("div",{className:"flex items-start gap-3 mb-3 border-b border-gray-100 pb-3",children:[(0,ft.jsx)("div",{className:"p-2 rounded-lg "+(a?"bg-amber-100 text-amber-600":"bg-blue-100 text-blue-600"),children:a?(0,ft.jsx)(ud,{}):(0,ft.jsx)(Mc,{})}),(0,ft.jsxs)("div",{className:"flex-1",children:[(0,ft.jsxs)("h4",{className:"font-bold text-gray-800 text-sm",children:[i," ",(0,ft.jsx)("span",{className:"text-gray-400 font-normal ml-1",children:s})]}),a&&(0,ft.jsx)("span",{className:"text-xs text-amber-500 font-medium",children:"\u0420\u0443\u0447\u043d\u0435 \u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f"})]})]}),e.notes&&!a&&(0,ft.jsxs)("div",{className:"mb-3 text-xs text-gray-500 bg-gray-50 p-2 rounded-lg italic",children:['"',e.notes,'"']}),(0,ft.jsxs)("div",{className:"space-y-2",children:[0===e.workers.length&&(0,ft.jsx)("p",{className:"text-xs text-red-400 italic",children:"\u041f\u0440\u0430\u0446\u0456\u0432\u043d\u0438\u043a\u0456\u0432 \u043d\u0435 \u043f\u0440\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u043e"}),e.workers.map(e=>{var t;const r=n.find(t=>t.custom_id===e);return(0,ft.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,ft.jsx)("div",{className:"w-8 h-8 rounded-full bg-indigo-50 text-indigo-600 flex items-center justify-center font-bold text-xs",children:null===r||void 0===r||null===(t=r.name)||void 0===t?void 0:t.charAt(0)}),(0,ft.jsx)("span",{className:"text-gray-700 font-medium",children:null===r||void 0===r?void 0:r.name})]},e)})]})]},e.id)}),(0,ft.jsx)(zF,{employees:c})]}),(0,ft.jsx)("div",{className:"p-4 border-t bg-white shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] space-y-3",children:a?(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)("button",{onClick:s,disabled:l,className:"w-full py-3 bg-indigo-600 text-white rounded-xl font-bold shadow-lg active:scale-95 transition-all flex items-center justify-center gap-2",children:l?"\u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043d\u044f...":(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)(Yu,{})," \u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u0437\u043c\u0456\u043d\u0438"]})}),(0,ft.jsx)("button",{onClick:i,className:"w-full py-3 bg-gray-100 text-gray-700 rounded-xl font-medium hover:bg-gray-200 transition-colors",children:"\u041f\u043e\u0432\u0435\u0440\u043d\u0443\u0442\u0438\u0441\u044c \u0434\u043e \u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043d\u043d\u044f"})]}):(0,ft.jsxs)("button",{onClick:i,className:"w-full py-3 bg-indigo-600 text-white rounded-xl font-bold shadow-lg active:scale-95 transition-all flex items-center justify-center gap-2",children:[(0,ft.jsx)($u,{})," \u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u043f\u043b\u0430\u043d"]})})]})};function LF(){const e=(()=>{const[e,n]=(0,t.useState)(window.innerWidth>=768);return(0,t.useEffect)(()=>{const e=()=>n(window.innerWidth>=768);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),e})(),[n,r]=(0,t.useState)(AF(new Date)),[a,i]=(0,t.useState)({}),[s,o]=(0,t.useState)(null),[l,c]=(0,t.useState)([]),[u,d]=(0,t.useState)("view"),[h,f]=(0,t.useState)({}),[p,m]=(0,t.useState)([]),[g,v]=(0,t.useState)([]),[y,x]=(0,t.useState)({}),[b,w]=(0,t.useState)(!0),[j,k]=(0,t.useState)(!1),N=(0,t.useRef)(null),_=(0,t.useRef)(null),S=(0,t.useCallback)(async()=>{w(!0);const e=TF(n),t=TF(MF(n,6));try{const{data:n}=await Tp.from("installations").select("custom_id, name, status").neq("status","completed").neq("status","cancelled").order("created_at",{ascending:!1}),{data:r}=await Tp.from("employees").select("custom_id, name, department, position").order("name"),{data:a}=await Tp.from("attendance").select("employee_custom_id, work_date, status").gte("work_date",e).lte("work_date",t).in("status",["OFF","VACATION","SICK_LEAVE"]),{data:s}=await Tp.from("installation_workers").select("installation_custom_id, employee_custom_id, work_date, notes").gte("work_date",e).lte("work_date",t);m(n||[]),v(r||[]);const o={};null===a||void 0===a||a.forEach(e=>{o[e.work_date]||(o[e.work_date]={}),o[e.work_date][e.employee_custom_id]=e.status}),x(o);const l={};s&&s.forEach(e=>{const t=e.work_date;l[t]||(l[t]=[]);const n=e.installation_custom_id||"custom_"+e.notes;let r=l[t].find(e=>e._groupKey===n);r||(r={id:Date.now()+Math.random(),_groupKey:n,installationId:e.installation_custom_id||"custom",notes:e.notes,workers:[]},l[t].push(r)),e.employee_custom_id&&r.workers.push(e.employee_custom_id)}),i(l)}catch(r){console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430:",r)}finally{w(!1)}},[n]);(0,t.useEffect)(()=>{S()},[S]),(0,t.useEffect)(()=>{!b&&N.current&&N.current.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})},[b,n]);const C=()=>{o(null),c([]),d("view"),f({})},O=e=>{const t=new Set,n=new Set;l.forEach((r,a)=>{a!==e?r.workers.forEach(e=>t.add(e)):r.workers.forEach(e=>n.add(e))});const r=TF(s),a=y[r]||{};return g.filter(e=>{const r=e.department||[],i=(e.position||"").toLowerCase();return!r.includes("\u041f\u0440\u043e\u0435\u043a\u0442\u0443\u0432\u0430\u043d\u043d\u044f")&&!i.includes("\u043f\u0440\u043e\u0435\u043a\u0442\u0430\u043d\u0442")&&(!(r.includes("\u041e\u0444\u0456\u0441")&&!r.some(e=>["\u041c\u043e\u043d\u0442\u0430\u0436","\u0412\u043e\u0434\u0456\u0439"].includes(e)))&&(!a.hasOwnProperty(e.custom_id)&&(!t.has(e.custom_id)&&!n.has(e.custom_id))))}).map(e=>({value:e.custom_id,label:e.name,subLabel:`${e.position||""} #${e.custom_id}`}))},E=(e,t,n)=>{const r=[...l];r[e][t]=n,"installationId"===t&&"custom"===n&&(r[e].notes=""),c(r),h[e]&&h[e][t]&&f(n=>({...n,[e]:{...n[e],[t]:null}}))},P=(0,t.useMemo)(()=>[{value:"custom",label:"\u26a1 \u0406\u043d\u0448\u0435 / \u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0432\u0440\u0443\u0447\u043d\u0443",subLabel:"\u0414\u043b\u044f \u0440\u043e\u0431\u0456\u0442 \u043f\u043e\u0437\u0430 \u0431\u0430\u0437\u043e\u044e"},...p.map(e=>({value:e.custom_id,label:`${e.name} (#${e.custom_id})`,subLabel:`ID: ${e.custom_id}`}))],[p]),T=(0,t.useMemo)(()=>Array.from({length:7}).map((e,t)=>MF(n,t)),[n]),A=(()=>{if(!s)return[];const e=TF(s),t=y[e]||{};return g.filter(e=>t.hasOwnProperty(e.custom_id)).map(e=>({...e,status:t[e.custom_id]}))})();return(0,ft.jsxs)("div",{className:"min-h-screen bg-slate-100 pb-20",children:[(0,ft.jsx)("div",{className:"bg-white sticky top-0 z-30 shadow-sm border-b border-gray-200",children:(0,ft.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:[(0,ft.jsx)("button",{onClick:()=>r(e=>MF(e,-7)),className:"p-2 hover:bg-gray-100 rounded-full text-gray-600",children:(0,ft.jsx)(Nc,{})}),(0,ft.jsx)("div",{className:"flex-1 flex justify-center",children:(0,ft.jsxs)("div",{onClick:()=>{try{_.current&&(_.current.showPicker?_.current.showPicker():(_.current.focus(),_.current.click()))}catch(vV){console.error("Error opening date picker:",vV)}},className:"relative group cursor-pointer px-4 py-2 rounded-xl hover:bg-gray-50 transition-colors",children:[(0,ft.jsx)("input",{ref:_,type:"date",onChange:e=>{const t=new Date(e.target.value);isNaN(t)||r(AF(t))},className:"absolute top-0 left-0 w-0 h-0 opacity-0"}),(0,ft.jsxs)("div",{className:"text-center",children:[(0,ft.jsxs)("h2",{className:"text-lg font-bold text-gray-800 flex items-center justify-center gap-2 group-hover:text-indigo-600 transition-colors",children:[(0,ft.jsx)(Cd,{className:"text-indigo-500"}),(0,ft.jsxs)("span",{className:"whitespace-nowrap",children:[T[0].toLocaleDateString("uk-UA",{day:"numeric",month:"short"})," \u2014 ",T[6].toLocaleDateString("uk-UA",{day:"numeric",month:"short"})]})]}),(0,ft.jsx)("p",{className:"text-xs text-gray-500 font-medium",children:T[0].getFullYear()})]})]})}),(0,ft.jsx)("button",{onClick:()=>r(e=>MF(e,7)),className:"p-2 hover:bg-gray-100 rounded-full text-gray-600",children:(0,ft.jsx)(_c,{})})]})}),(0,ft.jsx)("div",{className:"max-w-7xl mx-auto p-2 sm:p-4 overflow-x-auto",children:(0,ft.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-7 gap-3 min-w-[300px]",children:b?Array.from({length:7}).map((e,t)=>(0,ft.jsxs)("div",{className:"min-h-[120px] bg-white rounded-xl border border-gray-100 p-3 flex flex-col gap-2 animate-pulse",children:[(0,ft.jsxs)("div",{className:"flex justify-between items-center pb-2 border-b border-gray-50",children:[(0,ft.jsx)("div",{className:"h-4 w-10 bg-gray-200 rounded"}),(0,ft.jsx)("div",{className:"h-4 w-6 bg-gray-200 rounded-full"})]}),(0,ft.jsxs)("div",{className:"space-y-2 mt-2",children:[(0,ft.jsx)("div",{className:"h-6 w-full bg-gray-100 rounded-lg"}),(0,ft.jsx)("div",{className:"h-6 w-3/4 bg-gray-100 rounded-lg"})]})]},t)):T.map(e=>{const t=TF(e),n=t===TF(new Date),r=a[t]||[],i=Object.keys(y[t]||{}).length;return(0,ft.jsxs)("div",{ref:n?N:null,onClick:()=>(e=>{const t=TF(e),n=a[t]?JSON.parse(JSON.stringify(a[t])):[];c(n),o(e),f({}),0===n.length?(c([{id:Date.now(),installationId:null,workers:[],notes:""}]),d("edit")):d("view")})(e),className:`\n                                        min-h-[120px] bg-white rounded-xl border p-3 flex flex-col gap-2 cursor-pointer transition-all active:scale-[0.98] hover:shadow-md\n                                        ${n?"border-indigo-500 ring-2 ring-indigo-100":"border-gray-200 hover:border-indigo-300"}\n                                    `,children:[(0,ft.jsxs)("div",{className:"flex justify-between items-center pb-2 border-b border-gray-50",children:[(0,ft.jsx)("span",{className:"text-sm font-bold "+(n?"text-indigo-600":"text-gray-700"),children:e.toLocaleDateString("uk-UA",{weekday:"short"}).toUpperCase()}),(0,ft.jsx)("span",{className:"text-xs px-2 py-0.5 rounded-full "+(n?"bg-indigo-100 text-indigo-700":"bg-gray-100 text-gray-500"),children:e.getDate()})]}),(0,ft.jsx)("div",{className:"flex-1 space-y-1.5 overflow-hidden",children:r.length>0?r.map((e,t)=>{var n;const r="custom"===e.installationId,a=r?e.notes||"\u0411\u0435\u0437 \u043d\u0430\u0437\u0432\u0438":e.installationId?(null===(n=p.find(t=>{var n,r;return(null===(n=t.custom_id)||void 0===n?void 0:n.toString())===(null===(r=e.installationId)||void 0===r?void 0:r.toString())}))||void 0===n?void 0:n.name)||`\u041e\u0431'\u0454\u043a\u0442 #${e.installationId}`:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f...";return(0,ft.jsxs)("div",{className:"text-xs px-2 py-1.5 rounded-lg truncate font-medium flex items-center gap-1.5 "+(r?"bg-amber-50 text-amber-700":"bg-blue-50 text-blue-700"),children:[r?(0,ft.jsx)(ud,{size:10}):(0,ft.jsx)(Mc,{size:10}),(0,ft.jsx)("span",{className:"truncate",children:a}),(0,ft.jsx)("span",{className:"opacity-60 ml-auto text-[10px]",children:e.workers.length})]},t)}):(0,ft.jsx)("div",{className:"h-full flex items-center justify-center text-gray-300 text-xs",children:(0,ft.jsx)(Hu,{})})}),i>0&&(0,ft.jsxs)("div",{className:"mt-auto pt-2 text-[10px] text-red-400 font-medium flex items-center gap-1",children:[(0,ft.jsx)(su,{size:10})," ",i," \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u0456"]})]},t)})})}),(0,ft.jsx)(Et,{children:s&&(0,ft.jsx)(hc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/30 flex justify-center items-end md:justify-end md:items-start",onClick:C,children:(0,ft.jsxs)(hc.div,{initial:e?{x:"100%"}:{y:"100%"},animate:e?{x:0}:{y:0},exit:e?{x:"100%"}:{y:"100%"},transition:{type:"tween",ease:"easeOut",duration:.25},className:"bg-white w-full h-full md:w-[600px] shadow-2xl flex flex-col md:rounded-l-2xl",onClick:e=>e.stopPropagation(),children:[("view"===u||"preview"===u)&&(0,ft.jsx)(IF,{schedule:l,employees:g,installations:p,isPreviewMode:"preview"===u,onEdit:()=>d("edit"),onSave:async()=>{k(!0);const e=TF(s),t=[];for(const n of l)n.installationId&&("custom"!==n.installationId||n.notes.trim())&&n.workers.length>0&&n.workers.forEach(r=>{t.push({work_date:e,installation_custom_id:"custom"===n.installationId?null:n.installationId,employee_custom_id:r,notes:n.notes,work_hours:8})});try{if(await Tp.from("installation_workers").delete().eq("work_date",e),t.length>0){const{error:e}=await Tp.from("installation_workers").insert(t);if(e)throw e}await S(),C()}catch(vV){alert("\u041f\u043e\u043c\u0438\u043b\u043a\u0430: "+vV.message)}finally{k(!1)}},onCancel:C,isSaving:j,absentEmployees:A}),"edit"===u&&(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsxs)("div",{className:"p-4 border-b flex items-center justify-between bg-white sticky top-0 z-20 md:rounded-tl-2xl",children:[(0,ft.jsx)("button",{onClick:C,className:"p-2 -ml-2 text-gray-600 hover:bg-gray-100 rounded-full md:hidden",children:(0,ft.jsx)(Uc,{size:20})}),(0,ft.jsxs)("div",{className:"text-center flex-1 md:text-left md:flex-none",children:[(0,ft.jsx)("h3",{className:"font-bold text-lg text-gray-800",children:s.toLocaleDateString("uk-UA",{day:"numeric",month:"long"})}),(0,ft.jsx)("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043d\u043d\u044f"})]}),(0,ft.jsx)("button",{onClick:C,className:"p-2 bg-gray-100 rounded-full text-gray-500 hover:text-gray-800 shadow-sm hidden md:block",children:(0,ft.jsx)(hd,{})}),(0,ft.jsx)("div",{className:"w-10 md:hidden"})]}),(0,ft.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 bg-slate-50 space-y-4",children:[l.map((e,t)=>{var n,r,a,i;return(0,ft.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow-sm border relative "+(h[t]?"border-red-300 ring-1 ring-red-100":"border-gray-200"),children:[(0,ft.jsx)("button",{onClick:()=>(e=>{const t=l.filter((t,n)=>n!==e);c(t),f({})})(t),className:"absolute top-2 right-2 text-gray-300 hover:text-red-500 p-2",children:(0,ft.jsx)(pd,{size:14})}),(0,ft.jsxs)("div",{className:"mb-3 pr-6",children:[(0,ft.jsx)("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-1 block",children:"\u0417\u0430\u0432\u0434\u0430\u043d\u043d\u044f"}),(0,ft.jsx)(DF,{options:P,value:e.installationId,onChange:e=>E(t,"installationId",e),placeholder:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u043e\u0431'\u0454\u043a\u0442...",icon:Mc,disabledItems:l.filter((e,n)=>n!==t).map(e=>e.installationId),error:null===(n=h[t])||void 0===n?void 0:n.installationId})]}),"custom"===e.installationId&&(0,ft.jsxs)("div",{className:"mb-3",children:[(0,ft.jsxs)("label",{className:"text-[10px] font-bold text-amber-500 uppercase tracking-wider mb-1 block flex items-center gap-1",children:[(0,ft.jsx)(Ru,{size:10})," \u041d\u0430\u0437\u0432\u0430 \u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f"]}),(0,ft.jsx)("input",{type:"text",placeholder:"\u041d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434: \u041f\u0440\u0438\u0431\u0438\u0440\u0430\u043d\u043d\u044f \u0441\u043a\u043b\u0430\u0434\u0443...",value:e.notes,onChange:e=>E(t,"notes",e.target.value),className:"w-full border rounded-lg px-3 py-2 text-sm focus:ring-2 outline-none "+(null!==(r=h[t])&&void 0!==r&&r.notes?"border-red-500 ring-red-100":"border-amber-200 bg-amber-50/50 focus:ring-amber-200"),autoFocus:!0}),(null===(a=h[t])||void 0===a?void 0:a.notes)&&(0,ft.jsx)("p",{className:"text-red-500 text-xs mt-1",children:h[t].notes})]}),e.installationId&&(0,ft.jsxs)("div",{children:[(0,ft.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:e.workers.map(e=>{const n=g.find(t=>t.custom_id===e);return(0,ft.jsxs)("span",{className:"inline-flex items-center gap-2 px-2 py-1 bg-indigo-50 text-indigo-700 rounded-lg text-xs font-medium border border-indigo-100",children:[(0,ft.jsx)(Nd,{size:10})," ",(null===n||void 0===n?void 0:n.name)||e,(0,ft.jsx)("button",{onClick:()=>((e,t)=>{const n=[...l];n[e].workers=n[e].workers.filter(e=>e!==t),c(n)})(t,e),className:"text-indigo-300 hover:text-red-500",children:(0,ft.jsx)(hd,{size:10})})]},e)})}),(0,ft.jsx)(DF,{options:O(t),onChange:e=>((e,t)=>{var n;const r=[...l];r[e].workers.includes(t)||r[e].workers.push(t),c(r),null!==(n=h[e])&&void 0!==n&&n.workers&&f(t=>({...t,[e]:{...t[e],workers:null}}))})(t,e),placeholder:"\u0414\u043e\u0434\u0430\u0442\u0438 \u043f\u0440\u0430\u0446\u0456\u0432\u043d\u0438\u043a\u0430...",icon:jd,value:null}),(null===(i=h[t])||void 0===i?void 0:i.workers)&&(0,ft.jsx)("p",{className:"text-red-500 text-xs mt-1",children:h[t].workers})]})]},e.id)}),(0,ft.jsxs)("button",{onClick:()=>c([...l,{id:Date.now(),installationId:null,workers:[],notes:""}]),className:"w-full py-3 border-2 border-dashed border-gray-300 rounded-xl text-gray-500 text-sm font-medium hover:border-indigo-400 hover:text-indigo-600 transition-colors flex items-center justify-center gap-2",children:[(0,ft.jsx)(Hu,{})," \u0414\u043e\u0434\u0430\u0442\u0438 \u0449\u0435 \u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f"]}),(0,ft.jsx)(zF,{employees:A})]}),(0,ft.jsx)("div",{className:"p-4 border-t bg-white sticky bottom-0 z-20 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] rounded-b-none md:rounded-b-2xl",children:(0,ft.jsxs)("button",{onClick:()=>{const e={};let t=!1;l.forEach((n,r)=>{n.installationId||(e[r]||(e[r]={}),e[r].installationId="\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u043e\u0431'\u0454\u043a\u0442 \u0430\u0431\u043e \u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f",t=!0),"custom"!==n.installationId||n.notes.trim()||(e[r]||(e[r]={}),e[r].notes="\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u0430\u0437\u0432\u0443 \u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f",t=!0),n.installationId&&0===n.workers.length&&(e[r]||(e[r]={}),e[r].workers="\u0414\u043e\u0434\u0430\u0439\u0442\u0435 \u043f\u0440\u0430\u0446\u0456\u0432\u043d\u0438\u043a\u0456\u0432",t=!0)}),t?f(e):d("preview")},className:"w-full py-3.5 bg-indigo-600 text-white rounded-xl font-bold shadow-lg active:scale-95 transition-all flex items-center justify-center gap-2 text-lg hover:bg-indigo-700",children:[(0,ft.jsx)(cu,{})," \u041f\u043e\u043f\u0435\u0440\u0435\u0434\u043d\u0456\u0439 \u043f\u0435\u0440\u0435\u0433\u043b\u044f\u0434"]})})]})]})})})]})}const RF=e=>{const t=new Date(e),n=t.getTimezoneOffset();return new Date(t.getTime()-60*n*1e3).toISOString().split("T")[0]},$F=e=>{let{options:n,value:r,onChange:a,placeholder:i,icon:s}=e;const[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(""),d=(0,t.useMemo)(()=>{if(""===c.trim())return[];const e=c.toLowerCase();return n.filter(t=>t.label.toLowerCase().includes(e)||String(t.value).includes(e))},[n,c]),h=n.find(e=>e.value===r);return(0,ft.jsxs)("div",{className:"relative",children:[(0,ft.jsx)("button",{onClick:()=>l(!o),className:"w-full flex items-center justify-between bg-white border border-gray-300 rounded-xl px-4 py-3 text-sm font-medium text-gray-700 shadow-sm active:bg-gray-50 transition-all",children:(0,ft.jsxs)("span",{className:"flex items-center gap-2 truncate",children:[s&&(0,ft.jsx)(s,{className:"text-indigo-500"}),(0,ft.jsx)("span",{className:"truncate flex items-center gap-2",children:h?(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)("span",{className:"bg-gray-100 text-gray-500 px-1.5 py-0.5 rounded text-xs font-mono",children:h.value}),h.label]}):(0,ft.jsx)("span",{className:"text-gray-400",children:i})})]})}),(0,ft.jsx)(Et,{children:o&&(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>l(!1)}),(0,ft.jsxs)(hc.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},className:"absolute z-50 w-full mt-2 bg-white border border-gray-200 rounded-xl shadow-xl overflow-hidden max-h-60 overflow-y-auto",children:[(0,ft.jsx)("div",{className:"p-2 border-b border-gray-100 sticky top-0 bg-white z-10",children:(0,ft.jsxs)("div",{className:"relative",children:[(0,ft.jsx)(Xu,{className:"absolute left-3 top-2.5 text-gray-400 text-xs"}),(0,ft.jsx)("input",{autoFocus:!0,type:"text",className:"w-full pl-8 pr-3 py-2 bg-gray-50 rounded-lg text-sm outline-none focus:ring-2 focus:ring-indigo-100 transition-all",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0456\u043c'\u044f \u0430\u0431\u043e ID...",value:c,onChange:e=>u(e.target.value)})]})}),(0,ft.jsx)("div",{children:""===c?(0,ft.jsxs)("div",{className:"p-8 text-center text-gray-400 text-sm",children:[(0,ft.jsx)(Eu,{className:"mx-auto mb-2 text-2xl opacity-20"}),"\u041f\u043e\u0447\u043d\u0456\u0442\u044c \u0432\u0432\u043e\u0434\u0438\u0442\u0438 \u0456\u043c'\u044f \u0430\u0431\u043e ID..."]}):d.length>0?d.map(e=>(0,ft.jsx)("button",{onClick:()=>{a(e.value),l(!1),u("")},className:"w-full text-left px-4 py-3 text-sm hover:bg-indigo-50 transition-colors border-b border-gray-50 last:border-0",children:(0,ft.jsxs)("div",{className:"font-medium text-gray-800 flex items-center gap-3",children:[(0,ft.jsx)("span",{className:"bg-gray-100 text-gray-500 px-1.5 py-0.5 rounded text-xs font-mono w-8 text-center",children:e.value}),e.label]})},e.value)):(0,ft.jsx)("div",{className:"p-4 text-center text-xs text-gray-400",children:"\u041d\u0456\u0447\u043e\u0433\u043e \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e"})})]})]})})]})},FF=e=>{let{isOpen:t,onClose:n,onConfirm:r}=e;return t?(0,ft.jsx)(Et,{children:(0,ft.jsx)(hc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/40 backdrop-blur-sm p-4",onClick:n,children:(0,ft.jsxs)(hc.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:e=>e.stopPropagation(),className:"bg-white w-full max-w-sm rounded-2xl shadow-2xl overflow-hidden",children:[(0,ft.jsxs)("div",{className:"p-6 text-center",children:[(0,ft.jsx)("div",{className:"w-16 h-16 bg-red-100 text-red-500 rounded-full flex items-center justify-center mx-auto mb-4 text-2xl",children:(0,ft.jsx)(su,{})}),(0,ft.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0437\u0430\u043f\u0438\u0441?"}),(0,ft.jsx)("p",{className:"text-gray-500 text-sm",children:"\u0426\u044e \u0434\u0456\u044e \u043d\u0435\u043c\u043e\u0436\u043b\u0438\u0432\u043e \u0441\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438. \u0412\u0438 \u0432\u043f\u0435\u0432\u043d\u0435\u043d\u0456, \u0449\u043e \u0445\u043e\u0447\u0435\u0442\u0435 \u043f\u0440\u043e\u0434\u043e\u0432\u0436\u0438\u0442\u0438?"})]}),(0,ft.jsxs)("div",{className:"flex border-t border-gray-100",children:[(0,ft.jsx)("button",{onClick:n,className:"flex-1 py-4 text-sm font-medium text-gray-600 hover:bg-gray-50 transition-colors",children:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"}),(0,ft.jsx)("div",{className:"w-px bg-gray-100"}),(0,ft.jsx)("button",{onClick:r,className:"flex-1 py-4 text-sm font-bold text-red-600 hover:bg-red-50 transition-colors",children:"\u0422\u0430\u043a, \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438"})]})]})})}):null};function BF(){const e=(()=>{const[e,n]=(0,t.useState)(window.innerWidth>=768);return(0,t.useEffect)(()=>{const e=()=>n(window.innerWidth>=768);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),e})(),[n,r]=(0,t.useState)(!1);(0,t.useEffect)(()=>{r(!!e)},[e]);const[a,i]=(0,t.useState)([]),[s,o]=(0,t.useState)([]),[l,c]=(0,t.useState)(!0),[u,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)({show:!1,id:null}),[p,m]=(0,t.useState)("RANGE"),[g,v]=(0,t.useState)([]),[y,x]=(0,t.useState)(RF(new Date)),[b,w]=(0,t.useState)({employeeId:null,type:"OFF",startDate:RF(new Date),endDate:RF(new Date),notes:""}),j=async()=>{c(!0);const e=new Date,t=new Date;t.setDate(e.getDate()+10);const n=RF(e),r=RF(t);try{const{data:e}=await Tp.from("employees").select("custom_id, name").order("name");i(e||[]);const{data:t}=await Tp.from("attendance").select("*").gte("work_date",n).lte("work_date",r).order("work_date",{ascending:!0});o(t||[])}catch(a){console.error(a)}finally{c(!1)}};(0,t.useEffect)(()=>{j()},[]);const k=(0,t.useMemo)(()=>{const e={};return s.forEach(t=>{e[t.work_date]||(e[t.work_date]=[]),e[t.work_date].push(t)}),e},[s]),N=()=>{!e&&n&&r(!1)},_=(0,t.useMemo)(()=>a.map(e=>({value:e.custom_id,label:e.name})),[a]);return(0,ft.jsxs)("div",{className:"min-h-screen bg-slate-100 flex flex-col md:flex-row h-screen overflow-hidden",children:[(0,ft.jsx)(FF,{isOpen:h.show,onClose:()=>f({show:!1,id:null}),onConfirm:async()=>{if(h.id)try{await Tp.from("attendance").delete().eq("id",h.id),await j()}catch(vV){alert("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f")}finally{f({show:!1,id:null})}}}),(0,ft.jsxs)("div",{className:"bg-white border-b md:border-b-0 md:border-r border-gray-200 md:w-[400px] flex-shrink-0 z-20 shadow-md md:h-full transition-all overflow-y-auto custom-scrollbar relative",children:[(0,ft.jsxs)("div",{onClick:()=>!e&&r(!n),className:"p-6 flex justify-between items-center cursor-pointer md:cursor-default sticky top-0 bg-white z-10 border-b border-gray-50",children:[(0,ft.jsxs)("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[(0,ft.jsx)(Hu,{className:"text-indigo-600"})," \u041d\u043e\u0432\u0438\u0439 \u0437\u0430\u043f\u0438\u0441"]}),!e&&(0,ft.jsx)("div",{className:"text-gray-400",children:n?(0,ft.jsx)(qc,{}):(0,ft.jsx)(Vc,{})})]}),(0,ft.jsx)(Et,{children:n&&(0,ft.jsx)(hc.div,{initial:e?{opacity:1,height:"auto"}:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:(0,ft.jsxs)("div",{className:"px-6 pb-6 space-y-5 pt-2",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase mb-1 block",children:"\u041f\u0440\u0430\u0446\u0456\u0432\u043d\u0438\u043a"}),(0,ft.jsx)($F,{options:_,value:b.employeeId,onChange:e=>w({...b,employeeId:e}),placeholder:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0437\u0456 \u0441\u043f\u0438\u0441\u043a\u0443...",icon:Nd})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase mb-1 block",children:"\u041f\u0440\u0438\u0447\u0438\u043d\u0430"}),(0,ft.jsx)("div",{className:"grid grid-cols-3 gap-2",children:[{id:"OFF",label:"\u0412\u0438\u0445\u0456\u0434\u043d\u0438\u0439",icon:Ec,color:"red"},{id:"VACATION",label:"\u0412\u0456\u0434\u043f\u0443\u0441\u0442\u043a\u0430",icon:Bu,color:"blue"},{id:"SICK_LEAVE",label:"\u041b\u0456\u043a\u0430\u0440\u043d\u044f\u043d\u0438\u0439",icon:Iu,color:"orange"}].map(e=>(0,ft.jsxs)("button",{onClick:()=>w({...b,type:e.id}),className:`\n                                                    flex flex-col items-center justify-center p-3 rounded-xl border-2 transition-all\n                                                    ${b.type===e.id?`bg-${e.color}-50 border-${e.color}-500 text-${e.color}-700`:"bg-white border-gray-100 text-gray-400 hover:border-gray-300"}\n                                                `,children:[(0,ft.jsx)(e.icon,{size:18,className:"mb-1"}),(0,ft.jsx)("span",{className:"text-[10px] font-bold uppercase",children:e.label})]},e.id))})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase mb-1 block",children:"\u0420\u0435\u0436\u0438\u043c \u0432\u0438\u0431\u043e\u0440\u0443 \u0434\u0430\u0442"}),(0,ft.jsxs)("div",{className:"bg-gray-100 p-1 rounded-xl flex text-sm font-medium",children:[(0,ft.jsxs)("button",{onClick:()=>m("RANGE"),className:"flex-1 py-2 rounded-lg flex items-center justify-center gap-2 transition-all "+("RANGE"===p?"bg-white text-indigo-600 shadow-sm":"text-gray-400"),children:[(0,ft.jsx)(Sc,{})," \u041f\u0435\u0440\u0456\u043e\u0434"]}),(0,ft.jsxs)("button",{onClick:()=>m("DATES"),className:"flex-1 py-2 rounded-lg flex items-center justify-center gap-2 transition-all "+("DATES"===p?"bg-white text-indigo-600 shadow-sm":"text-gray-400"),children:[(0,ft.jsx)(Tu,{})," \u041e\u043a\u0440\u0435\u043c\u0456 \u0434\u0430\u0442\u0438"]})]})]}),"RANGE"===p?(0,ft.jsxs)("div",{className:"grid grid-cols-2 gap-3 animate-fadeIn",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase mb-1 block",children:"\u0417 \u0434\u0430\u0442\u0438"}),(0,ft.jsx)("input",{type:"date",value:b.startDate,onChange:e=>w({...b,startDate:e.target.value,endDate:e.target.value>b.endDate?e.target.value:b.endDate}),className:"w-full p-3 rounded-xl border border-gray-300 text-sm focus:ring-2 focus:ring-indigo-500 outline-none font-medium"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase mb-1 block",children:"\u041f\u043e \u0434\u0430\u0442\u0443"}),(0,ft.jsx)("input",{type:"date",value:b.endDate,min:b.startDate,onChange:e=>w({...b,endDate:e.target.value}),className:"w-full p-3 rounded-xl border border-gray-300 text-sm focus:ring-2 focus:ring-indigo-500 outline-none font-medium"})]})]}):(0,ft.jsxs)("div",{className:"space-y-3 animate-fadeIn",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase mb-1 block",children:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0434\u0430\u0442\u0443 \u0434\u043e \u0441\u043f\u0438\u0441\u043a\u0443"}),(0,ft.jsxs)("div",{className:"flex gap-2",children:[(0,ft.jsx)("input",{type:"date",value:y,onChange:e=>x(e.target.value),className:"flex-1 p-3 rounded-xl border border-gray-300 text-sm focus:ring-2 focus:ring-indigo-500 outline-none font-medium"}),(0,ft.jsx)("button",{onClick:()=>{y&&(g.includes(y)||v([...g,y].sort()))},className:"w-12 bg-gray-800 text-white rounded-xl flex items-center justify-center hover:bg-black transition-colors",children:(0,ft.jsx)(Hu,{})})]})]}),g.length>0&&(0,ft.jsxs)("div",{className:"bg-gray-50 p-3 rounded-xl border border-gray-200",children:[(0,ft.jsxs)("div",{className:"text-xs font-bold text-gray-400 mb-2 uppercase flex justify-between",children:[(0,ft.jsxs)("span",{children:["\u0412\u0438\u0431\u0440\u0430\u043d\u0456 \u0434\u0430\u0442\u0438 (",g.length,")"]}),(0,ft.jsx)("button",{onClick:()=>v([]),className:"text-red-400 hover:text-red-600",children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u0438"})]}),(0,ft.jsx)("div",{className:"flex flex-wrap gap-2",children:g.map(e=>(0,ft.jsxs)("div",{className:"bg-white border border-gray-300 px-3 py-1.5 rounded-lg text-sm font-mono flex items-center gap-2 shadow-sm",children:[e,(0,ft.jsx)("button",{onClick:()=>{return t=e,void v(g.filter(e=>e!==t));var t},className:"text-red-400 hover:text-red-600",children:(0,ft.jsx)(hd,{size:10})})]},e))})]})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase mb-1 block",children:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440"}),(0,ft.jsx)("input",{type:"text",value:b.notes,onChange:e=>w({...b,notes:e.target.value}),placeholder:"\u041d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434: \u0421\u0456\u043c\u0435\u0439\u043d\u0456 \u043e\u0431\u0441\u0442\u0430\u0432\u0438\u043d\u0438",className:"w-full p-3 rounded-xl border border-gray-300 text-sm focus:ring-2 focus:ring-indigo-500 outline-none"})]}),(0,ft.jsx)("button",{onClick:async()=>{if(!b.employeeId)return void alert("\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u043f\u0440\u0430\u0446\u0456\u0432\u043d\u0438\u043a\u0430");let t=[];if("RANGE"===p){const e=new Date(b.startDate),n=new Date(b.endDate);if(n<e)return void alert("\u0414\u0430\u0442\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044f \u043d\u0435 \u043c\u043e\u0436\u0435 \u0431\u0443\u0442\u0438 \u0440\u0430\u043d\u0456\u0448\u0435 \u0434\u0430\u0442\u0438 \u043f\u043e\u0447\u0430\u0442\u043a\u0443");for(let r=new Date(e);r<=n;r.setDate(r.getDate()+1))t.push(RF(r))}else{if(0===g.length)return void alert("\u0414\u043e\u0434\u0430\u0439\u0442\u0435 \u0445\u043e\u0447\u0430 \u0431 \u043e\u0434\u043d\u0443 \u0434\u0430\u0442\u0443");t=[...g]}d(!0);const n=t.map(e=>({work_date:e,employee_custom_id:b.employeeId,status:b.type,notes:b.notes}));try{const{error:t}=await Tp.from("attendance").upsert(n,{onConflict:"employee_custom_id, work_date"});if(t)throw t;await j(),w(e=>({...e,employeeId:null,notes:""})),v([]),e||r(!1)}catch(vV){alert("\u041f\u043e\u043c\u0438\u043b\u043a\u0430: "+vV.message)}finally{d(!1)}},disabled:u,className:"w-full py-4 bg-indigo-600 text-white rounded-xl font-bold shadow-lg shadow-indigo-200 hover:bg-indigo-700 active:scale-95 transition-all flex items-center justify-center gap-2",children:u?"\u041e\u0431\u0440\u043e\u0431\u043a\u0430...":(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)(Bc,{})," \u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"]})})]})})})]}),(0,ft.jsx)("div",{className:"flex-1 bg-slate-50 overflow-y-auto p-4 md:p-8",onScroll:N,onClick:N,children:(0,ft.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,ft.jsxs)("h2",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:[(0,ft.jsx)(Ic,{className:"text-indigo-500"})," \u0413\u0440\u0430\u0444\u0456\u043a \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u043e\u0441\u0442\u0456",(0,ft.jsx)("span",{className:"text-sm font-normal text-gray-400 ml-2 bg-white px-2 py-1 rounded-lg border",children:"\u041d\u0430\u0439\u0431\u043b\u0438\u0436\u0447\u0456 10 \u0434\u043d\u0456\u0432"})]}),l?(0,ft.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,ft.jsx)("div",{className:"h-24 bg-white rounded-2xl animate-pulse"},e))}):0===s.length?(0,ft.jsxs)("div",{className:"text-center py-20 bg-white rounded-3xl border border-dashed border-gray-300",children:[(0,ft.jsx)(Ec,{className:"text-gray-300 text-5xl mx-auto mb-4"}),(0,ft.jsx)("p",{className:"text-gray-500 font-medium",children:"\u0412\u0441\u0456 \u0432 \u0441\u0442\u0440\u043e\u044e!"}),(0,ft.jsx)("p",{className:"text-sm text-gray-400",children:"\u041d\u0430 \u043d\u0430\u0439\u0431\u043b\u0438\u0436\u0447\u0456 10 \u0434\u043d\u0456\u0432 \u0437\u0430\u043f\u043b\u0430\u043d\u043e\u0432\u0430\u043d\u0438\u0445 \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u043e\u0441\u0442\u0435\u0439 \u043d\u0435\u043c\u0430\u0454."})]}):(0,ft.jsx)("div",{className:"space-y-6",children:Object.keys(k).map(e=>{const t=k[e],n=(e=>{const t=new Date,n=new Date(t);n.setDate(n.getDate()+1);const r=new Date(e),a=RF(t),i=RF(n);return e===a?"\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456":e===i?"\u0417\u0430\u0432\u0442\u0440\u0430":r.toLocaleDateString("uk-UA",{weekday:"long",day:"numeric",month:"long"})})(e),r="\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456"===n;return(0,ft.jsxs)("div",{className:"relative",children:[(0,ft.jsxs)("div",{className:"sticky top-0 z-10 py-2 mb-2 flex items-center gap-3 "+(r?"text-indigo-600":"text-gray-500"),children:[(0,ft.jsx)("div",{className:"font-bold text-lg "+(r?"bg-indigo-50 px-3 py-1 rounded-lg":"bg-slate-100/80 backdrop-blur px-3 py-1 rounded-lg"),children:n}),(0,ft.jsx)("div",{className:"h-px bg-gray-200 flex-1"}),(0,ft.jsx)("div",{className:"text-xs font-mono opacity-50",children:e})]}),(0,ft.jsx)("div",{className:"grid grid-cols-1 gap-3 pl-2 border-l-2 border-gray-100 ml-4",children:t.map(e=>{const t=a.find(t=>t.custom_id===e.employee_custom_id);let n={icon:Ec,text:"\u0412\u0438\u0445\u0456\u0434\u043d\u0438\u0439",bg:"bg-red-50",border:"border-red-100",textCol:"text-red-700"};return"VACATION"===e.status&&(n={icon:Bu,text:"\u0412\u0456\u0434\u043f\u0443\u0441\u0442\u043a\u0430",bg:"bg-blue-50",border:"border-blue-100",textCol:"text-blue-700"}),"SICK_LEAVE"===e.status&&(n={icon:Iu,text:"\u041b\u0456\u043a\u0430\u0440\u043d\u044f\u043d\u0438\u0439",bg:"bg-orange-50",border:"border-orange-100",textCol:"text-orange-700"}),(0,ft.jsxs)(hc.div,{layout:!0,initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:`bg-white p-4 rounded-xl border ${n.border} shadow-sm flex justify-between items-center group`,children:[(0,ft.jsxs)("div",{className:"flex items-center gap-4",children:[(0,ft.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${n.bg} ${n.textCol}`,children:(0,ft.jsx)(n.icon,{})}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("h4",{className:"font-bold text-gray-800 text-sm md:text-base",children:(null===t||void 0===t?void 0:t.name)||"\u041d\u0435\u0432\u0456\u0434\u043e\u043c\u0438\u0439"}),(0,ft.jsxs)("div",{className:"flex items-center gap-2 mt-0.5",children:[(0,ft.jsx)("span",{className:`text-[10px] font-bold uppercase px-1.5 py-0.5 rounded ${n.bg} ${n.textCol}`,children:n.text}),e.notes&&(0,ft.jsx)("span",{className:"text-xs text-gray-400 italic truncate max-w-[150px]",children:e.notes})]})]})]}),(0,ft.jsx)("button",{onClick:t=>{t.stopPropagation(),(e=>{f({show:!0,id:e})})(e.id)},className:"p-2 text-gray-300 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors opacity-0 group-hover:opacity-100 focus:opacity-100",children:(0,ft.jsx)(pd,{})})]},e.id)})})]},e)})})]})})]})}function VF(){const[e,n]=(0,t.useState)("team"),r=[{id:"team",label:"\u041e\u0433\u043b\u044f\u0434",icon:_d},{id:"planning",label:"\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440",icon:Ic},{id:"timeoff",label:"\u0412\u0438\u0445\u0456\u0434\u043d\u0456",icon:gd}];return(0,ft.jsx)(Mp,{children:(0,ft.jsxs)("div",{className:"flex flex-col min-h-full bg-slate-50",children:[(0,ft.jsx)("div",{className:"sticky top-0 z-30 bg-white border-b border-slate-200 shadow-sm",children:(0,ft.jsx)("div",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 py-4",children:(0,ft.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsxs)("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight flex items-center gap-2",children:[(0,ft.jsx)(kd,{className:"text-indigo-600"}),"\u0423\u043f\u0440\u0430\u0432\u043b\u0456\u043d\u043d\u044f \u043a\u043e\u043c\u0430\u043d\u0434\u043e\u044e"]}),(0,ft.jsx)("p",{className:"text-xs text-slate-500 mt-1 font-medium",children:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u043b, \u043f\u043b\u0430\u043d\u0443\u0432\u0430\u043d\u043d\u044f \u0442\u0430 \u043e\u0431\u043b\u0456\u043a \u0447\u0430\u0441\u0443"})]}),(0,ft.jsx)("div",{className:"grid grid-cols-3 bg-slate-100 p-1 rounded-xl w-full md:w-auto",children:r.map(t=>{const r=e===t.id;return(0,ft.jsxs)("button",{onClick:()=>n(t.id),className:`\n                                                flex items-center justify-center gap-2 px-2 md:px-6 py-2.5 rounded-lg text-sm font-bold transition-all duration-200 whitespace-nowrap\n                                                ${r?"bg-white text-indigo-600 shadow-sm ring-1 ring-black/5":"text-slate-500 hover:text-slate-700 hover:bg-slate-200/50"}\n                                            `,children:[(0,ft.jsx)(t.icon,{className:r?"text-indigo-600":"text-slate-400"}),(0,ft.jsx)("span",{children:t.label})]},t.id)})})]})})}),(0,ft.jsx)("div",{className:"flex-1 w-full max-w-[1600px] mx-auto",children:(0,ft.jsx)(Et,{mode:"wait",children:(0,ft.jsxs)(hc.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"h-full",children:["team"===e&&(0,ft.jsx)("div",{className:"pb-safe",children:(0,ft.jsx)(PF,{})}),"planning"===e&&(0,ft.jsx)("div",{className:"h-full",children:(0,ft.jsx)(LF,{})}),"timeoff"===e&&(0,ft.jsx)("div",{className:"h-full",children:(0,ft.jsx)(BF,{})})]},e)})})]})})}const UF=e=>{let{status:t}=e;const n={"\u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043e":"bg-emerald-100 text-emerald-800 border-emerald-200","\u0432 \u043f\u0440\u043e\u0446\u0435\u0441\u0456":"bg-blue-100 text-blue-800 border-blue-200","\u043d\u043e\u0432\u0435":"bg-amber-100 text-amber-800 border-amber-200","\u0441\u043a\u0430\u0441\u043e\u0432\u0430\u043d\u043e":"bg-slate-100 text-slate-600 border-slate-200",default:"bg-slate-100 text-slate-800 border-slate-200"};return(0,ft.jsx)("span",{className:`px-2.5 py-1 rounded-full text-xs font-bold border ${n[t]||n.default}`,children:t})},HF=()=>(0,ft.jsx)("div",{className:"flex-1 flex items-center justify-center min-h-[50vh]",children:(0,ft.jsxs)("div",{className:"text-center",children:[(0,ft.jsx)("div",{className:"w-16 h-16 bg-indigo-50 text-indigo-600 rounded-2xl flex items-center justify-center shadow-sm mb-4 animate-pulse mx-auto border border-indigo-100",children:(0,ft.jsx)(ud,{className:"text-3xl"})}),(0,ft.jsx)("p",{className:"text-slate-500 font-medium",children:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0437\u0430\u0434\u0430\u0447..."})]})}),qF=e=>{let{tasks:t,filter:n,setFilter:r}=e;const a=[{id:"\u0432\u0441\u0456",label:"\u0412\u0441\u0456",color:"indigo",icon:ud},{id:"\u043d\u043e\u0432\u0435",label:"\u041d\u043e\u0432\u0456",color:"amber",icon:Hu},{id:"\u0432 \u043f\u0440\u043e\u0446\u0435\u0441\u0456",label:"\u0412 \u0440\u043e\u0431\u043e\u0442\u0456",color:"blue",icon:Gc},{id:"\u043f\u0440\u043e\u0441\u0442\u0440\u043e\u0447\u0435\u043d\u043e",label:"\u0413\u043e\u0440\u044f\u0442\u044c",color:"red",icon:vu},{id:"\u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043e",label:"\u0413\u043e\u0442\u043e\u0432\u043e",color:"emerald",icon:Bc},{id:"\u0441\u043a\u0430\u0441\u043e\u0432\u0430\u043d\u043e",label:"\u0421\u043a\u0430\u0441\u043e\u0432\u0430\u043d\u043e",color:"slate",icon:hd}];return(0,ft.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3 mb-6",children:a.map(e=>{const a=(e=>{if("\u0432\u0441\u0456"===e)return t.length;if("\u043f\u0440\u043e\u0441\u0442\u0440\u043e\u0447\u0435\u043d\u043e"===e){const e=(new Date).setHours(0,0,0,0);return t.filter(t=>t.due_date&&new Date(t.due_date)<e&&"\u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043e"!==t.status&&"\u0441\u043a\u0430\u0441\u043e\u0432\u0430\u043d\u043e"!==t.status).length}return t.filter(t=>t.status===e).length})(e.id),i=n===e.id,s={indigo:i?"bg-indigo-50 border-indigo-500 text-indigo-700":"border-l-indigo-500 hover:bg-indigo-50/50",amber:i?"bg-amber-50 border-amber-500 text-amber-700":"border-l-amber-500 hover:bg-amber-50/50",blue:i?"bg-blue-50 border-blue-500 text-blue-700":"border-l-blue-500 hover:bg-blue-50/50",red:i?"bg-red-50 border-red-500 text-red-700":"border-l-red-500 hover:bg-red-50/50",emerald:i?"bg-emerald-50 border-emerald-500 text-emerald-700":"border-l-emerald-500 hover:bg-emerald-50/50",slate:i?"bg-slate-100 border-slate-500 text-slate-700":"border-l-slate-400 hover:bg-slate-50"}[e.color];return(0,ft.jsxs)("div",{onClick:()=>r(e.id),className:`\n                        relative overflow-hidden cursor-pointer rounded-xl p-3 sm:p-4 border shadow-sm transition-all duration-200 active:scale-95\n                        bg-white border-slate-100 border-l-4 ${s}\n                        ${i?"shadow-md ring-1 ring-black/5":""}\n                    `,children:[(0,ft.jsx)(e.icon,{className:"absolute -right-2 -bottom-2 text-4xl opacity-10 "+(i?"scale-110":"scale-100")}),(0,ft.jsxs)("div",{className:"relative z-10",children:[(0,ft.jsx)("p",{className:"text-xs font-bold uppercase tracking-wider opacity-70 mb-1",children:e.label}),(0,ft.jsx)("p",{className:"text-2xl font-extrabold",children:a})]})]},e.id)})})},WF=e=>{let{task:t,employees:n,onEdit:r,onDelete:a,onUpdateStatus:i,formatDateTime:s,formatDate:o,isOverdue:l}=e;const c=n.find(e=>e.email===t.creator_email),u=c?c.name:t.creator_email,d=n.find(e=>e.custom_id===t.assigned_to),h=d?d.name:null;return(0,ft.jsxs)(hc.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},className:"group bg-white rounded-xl shadow-sm border border-slate-200 hover:shadow-md transition-all flex flex-col md:flex-row overflow-hidden",children:[(0,ft.jsxs)("div",{className:"p-4 flex-1",children:[(0,ft.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,ft.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ft.jsxs)("span",{className:"font-mono font-bold text-slate-500 bg-slate-100 px-1.5 py-0.5 rounded text-xs border border-slate-200",children:["#",t.custom_id]}),(0,ft.jsx)(UF,{status:t.status})]}),(0,ft.jsxs)("div",{className:"flex md:hidden items-center gap-2",children:["\u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043e"!==t.status&&(0,ft.jsx)("button",{onClick:()=>i(t.custom_id,"\u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043e"),className:"p-2 text-emerald-600 bg-emerald-50 rounded-lg",children:(0,ft.jsx)(Bc,{size:14})}),(0,ft.jsx)("button",{onClick:()=>r(t),className:"p-2 text-blue-600 bg-blue-50 rounded-lg",children:(0,ft.jsx)(nu,{size:14})})]})]}),(0,ft.jsx)("p",{className:"font-bold text-slate-800 text-lg mb-3 leading-snug",children:t.task_text}),t.installation&&(0,ft.jsxs)("div",{className:"mb-3 inline-flex items-center gap-1.5 text-xs font-bold text-indigo-700 bg-indigo-50 px-2.5 py-1.5 rounded-lg border border-indigo-100",children:[(0,ft.jsx)(Pu,{size:10}),(0,ft.jsxs)("span",{children:[t.installation.name," ",(0,ft.jsxs)("span",{className:"opacity-70",children:["#",t.installation.custom_id]})]})]}),(0,ft.jsxs)("div",{className:"flex flex-wrap gap-4 text-xs text-slate-500 border-t border-slate-100 pt-3 mt-1",children:[(0,ft.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,ft.jsx)(Gc,{className:"text-slate-400"}),(0,ft.jsxs)("span",{children:["\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043e: ",(0,ft.jsx)("span",{className:"font-medium text-slate-700",children:s(t.created_at)})]})]}),t.due_date&&(0,ft.jsxs)("div",{className:"flex items-center gap-1.5 "+(l(t.due_date,t.status)?"text-red-600 bg-red-50 px-2 py-0.5 rounded font-bold":""),children:[l(t.due_date,t.status)?(0,ft.jsx)(vu,{className:"text-red-500"}):(0,ft.jsx)(Ic,{className:"text-slate-400"}),(0,ft.jsxs)("span",{children:["\u0414\u0435\u0434\u043b\u0430\u0439\u043d: ",(0,ft.jsx)("span",{className:"font-medium text-slate-700",children:o(t.due_date)})]})]})]})]}),(0,ft.jsxs)("div",{className:"bg-slate-50/50 p-4 border-t md:border-t-0 md:border-l border-slate-200 w-full md:w-64 flex flex-col justify-center gap-3",children:[(0,ft.jsxs)("div",{className:"flex items-start gap-2",children:[(0,ft.jsx)("div",{className:"mt-0.5 p-1.5 bg-white rounded-full shadow-sm text-slate-400 border border-slate-100",children:(0,ft.jsx)(bd,{size:10})}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("p",{className:"text-[10px] uppercase tracking-wider text-slate-400 font-bold",children:"\u0412\u0456\u0434 \u043a\u043e\u0433\u043e"}),(0,ft.jsx)("p",{className:"text-xs font-bold text-slate-700",children:u||"\u041d\u0435\u0432\u0456\u0434\u043e\u043c\u043e"})]})]}),(0,ft.jsxs)("div",{className:"flex items-start gap-2",children:[(0,ft.jsx)("div",{className:"mt-0.5 p-1.5 rounded-full shadow-sm border "+(h?"bg-indigo-100 text-indigo-600 border-indigo-200":"bg-white text-slate-300 border-slate-100"),children:(0,ft.jsx)(kd,{size:10})}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("p",{className:"text-[10px] uppercase tracking-wider text-slate-400 font-bold",children:"\u0414\u043b\u044f \u043a\u043e\u0433\u043e"}),(0,ft.jsx)("p",{className:"text-xs font-bold "+(h?"text-indigo-700":"text-slate-400 italic"),children:h||"\u041d\u0435 \u043f\u0440\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u043e"})]})]}),(0,ft.jsxs)("div",{className:"hidden md:flex items-center justify-end gap-2 mt-auto pt-2",children:["\u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043e"!==t.status&&(0,ft.jsx)("button",{onClick:()=>i(t.custom_id,"\u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043e"),className:"p-2 text-emerald-600 hover:bg-emerald-100 rounded-lg transition-colors border border-transparent hover:border-emerald-200",title:"\u0412\u0438\u043a\u043e\u043d\u0430\u043d\u043e",children:(0,ft.jsx)(Bc,{})}),(0,ft.jsx)("button",{onClick:()=>r(t),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-lg transition-colors border border-transparent hover:border-blue-200",title:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",children:(0,ft.jsx)(nu,{})}),(0,ft.jsx)("button",{onClick:()=>a(t.custom_id),className:"p-2 text-red-600 hover:bg-red-100 rounded-lg transition-colors border border-transparent hover:border-red-200",title:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438",children:(0,ft.jsx)(pd,{})})]})]})]})},KF=e=>{let{installations:n,selectedId:r,onChange:a}=e;const[i,s]=(0,t.useState)(""),[o,l]=(0,t.useState)(!1),c=(0,t.useMemo)(()=>{var e;return(null===(e=n.find(e=>e.id===r))||void 0===e?void 0:e.name)||"\u041d\u0435 \u0432\u0438\u0431\u0440\u0430\u043d\u043e"},[r,n]),u=(0,t.useMemo)(()=>{if(!i)return n;const e=i.toLowerCase();return n.filter(t=>t.name.toLowerCase().includes(e)||t.custom_id.toString().includes(e))},[i,n]);return(0,ft.jsxs)("div",{className:"relative",children:[(0,ft.jsxs)("button",{type:"button",onClick:()=>l(!o),className:"w-full border border-slate-300 rounded-xl p-3 text-left bg-white flex justify-between items-center text-sm outline-none focus:ring-2 focus:ring-indigo-500",children:[(0,ft.jsx)("span",{className:r?"":"text-slate-500",children:c}),(0,ft.jsx)(Vc,{className:"transition-transform text-slate-400 "+(o?"rotate-180":"")})]}),(0,ft.jsx)(Et,{children:o&&(0,ft.jsxs)(hc.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute z-10 w-full mt-1 bg-white border border-slate-200 rounded-xl shadow-xl max-h-60 overflow-y-auto",children:[(0,ft.jsx)("div",{className:"p-2 sticky top-0 bg-white border-b border-slate-100",children:(0,ft.jsxs)("div",{className:"relative",children:[(0,ft.jsx)(Xu,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),(0,ft.jsx)("input",{type:"text",placeholder:"\u041f\u043e\u0448\u0443\u043a...",value:i,onChange:e=>s(e.target.value),className:"w-full pl-9 pr-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none",autoFocus:!0})]})}),(0,ft.jsxs)("ul",{children:[(0,ft.jsx)("li",{onClick:()=>{a(""),l(!1)},className:"px-4 py-2 hover:bg-slate-50 cursor-pointer text-sm text-slate-500 italic",children:"\u041d\u0435 \u0432\u0438\u0431\u0440\u0430\u043d\u043e"}),u.map(e=>(0,ft.jsxs)("li",{onClick:()=>{a(e.id),l(!1)},className:"px-4 py-2 hover:bg-indigo-50 cursor-pointer text-sm border-b border-slate-50 last:border-0",children:[e.name," ",(0,ft.jsxs)("span",{className:"text-slate-400 text-xs",children:["(#",e.custom_id,")"]})]},e.id)),0===u.length&&(0,ft.jsx)("li",{className:"px-4 py-3 text-sm text-slate-400 text-center",children:"\u041d\u0456\u0447\u043e\u0433\u043e \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e"})]})]})})]})},GF=e=>{let{employees:n,selectedCustomId:r,onChange:a}=e;const[i,s]=(0,t.useState)(""),[o,l]=(0,t.useState)(!1),c=(0,t.useMemo)(()=>n.find(e=>e.custom_id===r),[r,n]),u=c?c.name:"\u041d\u0435 \u043f\u0440\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u043e",d=(0,t.useMemo)(()=>{if(!i)return n;const e=i.toLowerCase();return n.filter(t=>t.name.toLowerCase().includes(e)||t.custom_id.toString().includes(e))},[i,n]);return(0,ft.jsxs)("div",{className:"relative",children:[(0,ft.jsxs)("button",{type:"button",onClick:()=>l(!o),className:"w-full border border-slate-300 rounded-xl p-3 text-left bg-white flex justify-between items-center text-sm outline-none focus:ring-2 focus:ring-indigo-500",children:[(0,ft.jsx)("span",{className:r?"":"text-slate-500",children:u}),(0,ft.jsx)(Vc,{className:"transition-transform text-slate-400 "+(o?"rotate-180":"")})]}),(0,ft.jsx)(Et,{children:o&&(0,ft.jsxs)(hc.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute z-10 w-full mt-1 bg-white border border-slate-200 rounded-xl shadow-xl max-h-60 overflow-y-auto",children:[(0,ft.jsx)("div",{className:"p-2 sticky top-0 bg-white border-b border-slate-100",children:(0,ft.jsxs)("div",{className:"relative",children:[(0,ft.jsx)(Xu,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),(0,ft.jsx)("input",{type:"text",placeholder:"\u0406\u043c'\u044f \u0430\u0431\u043e ID...",value:i,onChange:e=>s(e.target.value),className:"w-full pl-9 pr-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none",autoFocus:!0})]})}),(0,ft.jsxs)("ul",{children:[(0,ft.jsx)("li",{onClick:()=>{a(""),l(!1)},className:"px-4 py-2 hover:bg-slate-50 cursor-pointer text-sm text-slate-500 italic",children:"\u041d\u0435 \u043f\u0440\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u043e"}),d.map(e=>(0,ft.jsxs)("li",{onClick:()=>{a(e.custom_id),l(!1)},className:"px-4 py-2 hover:bg-indigo-50 cursor-pointer text-sm border-b border-slate-50 last:border-0",children:[e.name," ",(0,ft.jsxs)("span",{className:"text-slate-400 text-xs",children:["(ID: ",e.custom_id,")"]})]},e.id)),0===d.length&&(0,ft.jsx)("li",{className:"px-4 py-3 text-sm text-slate-400 text-center",children:"\u041d\u0456\u0447\u043e\u0433\u043e \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e"})]})]})})]})},YF=e=>{if(!e)return"";const t=new Date(e);return new Date(t.getTime()+6e4*t.getTimezoneOffset()).toISOString().split("T")[0]},XF=e=>{let{isOpen:n,onClose:r,onSubmit:a,task:i,installations:s,employees:o,submitting:l}=e;const[c,u]=(0,t.useState)({task_text:"",due_date:"",status:"\u043d\u043e\u0432\u0435",installation_id:"",assigned_to:""});(0,t.useEffect)(()=>{n&&u(i?{task_text:i.task_text||"",due_date:i.due_date?YF(i.due_date):"",status:i.status||"\u043d\u043e\u0432\u0435",installation_id:i.installation_id||"",assigned_to:i.assigned_to||""}:{task_text:"",due_date:"",status:"\u043d\u043e\u0432\u0435",installation_id:"",assigned_to:""})},[i,n]);const d=e=>{const{name:t,value:n}=e.target;u(e=>({...e,[t]:n}))};return(0,ft.jsx)(Et,{children:n&&(0,ft.jsx)(hc.div,{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-start sm:items-center justify-center p-4 z-50 overflow-y-auto",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:r,children:(0,ft.jsxs)(hc.div,{className:"bg-white rounded-2xl p-6 sm:p-8 w-full max-w-xl shadow-2xl relative my-8",initial:{scale:.95,y:20,opacity:0},animate:{scale:1,y:0,opacity:1},exit:{scale:.95,y:20,opacity:0},onClick:e=>e.stopPropagation(),children:[(0,ft.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ft.jsx)("h2",{className:"text-xl font-bold text-slate-800",children:i?"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0437\u0430\u0434\u0430\u0447\u0443":"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0437\u0430\u0434\u0430\u0447\u0443"}),(0,ft.jsx)("button",{onClick:r,className:"p-2 text-slate-400 hover:bg-slate-100 rounded-full",children:(0,ft.jsx)(hd,{})})]}),(0,ft.jsxs)("form",{onSubmit:e=>{e.preventDefault(),c.task_text.trim()&&a(c)},className:"space-y-5",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsxs)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5",children:["\u041e\u043f\u0438\u0441 \u0437\u0430\u0434\u0430\u0447\u0456 ",(0,ft.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ft.jsx)("textarea",{name:"task_text",value:c.task_text,onChange:d,rows:"4",required:!0,className:"w-full border border-slate-300 rounded-xl p-3 focus:ring-2 focus:ring-indigo-500 outline-none resize-none",placeholder:"\u0429\u043e \u0442\u0440\u0435\u0431\u0430 \u0437\u0440\u043e\u0431\u0438\u0442\u0438?"})]}),(0,ft.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-5",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5",children:"\u041f\u0440\u0438\u0432'\u044f\u0437\u0430\u0442\u0438 \u0434\u043e \u043e\u0431'\u0454\u043a\u0442\u0430"}),(0,ft.jsx)(KF,{installations:s,selectedId:c.installation_id,onChange:e=>u(t=>({...t,installation_id:e}))})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5",children:"\u0412\u0438\u043a\u043e\u043d\u0430\u0432\u0435\u0446\u044c"}),(0,ft.jsx)(GF,{employees:o,selectedCustomId:c.assigned_to,onChange:e=>u(t=>({...t,assigned_to:e}))})]})]}),(0,ft.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-5",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5",children:"\u0414\u0435\u0434\u043b\u0430\u0439\u043d"}),(0,ft.jsx)("input",{type:"date",name:"due_date",value:c.due_date,onChange:d,className:"w-full border border-slate-300 rounded-xl p-3 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),(0,ft.jsxs)("select",{name:"status",value:c.status,onChange:d,className:"w-full border border-slate-300 rounded-xl p-3 focus:ring-2 focus:ring-indigo-500 bg-white outline-none",children:[(0,ft.jsx)("option",{value:"\u043d\u043e\u0432\u0435",children:"\u041d\u043e\u0432\u0435"}),(0,ft.jsx)("option",{value:"\u0432 \u043f\u0440\u043e\u0446\u0435\u0441\u0456",children:"\u0412 \u043f\u0440\u043e\u0446\u0435\u0441\u0456"}),(0,ft.jsx)("option",{value:"\u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043e",children:"\u0412\u0438\u043a\u043e\u043d\u0430\u043d\u043e"}),i&&(0,ft.jsx)("option",{value:"\u0441\u043a\u0430\u0441\u043e\u0432\u0430\u043d\u043e",children:"\u0421\u043a\u0430\u0441\u043e\u0432\u0430\u043d\u043e"})]})]})]}),(0,ft.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-100 mt-4",children:[(0,ft.jsx)("button",{type:"button",onClick:r,className:"px-5 py-2.5 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl font-bold transition-all",children:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"}),(0,ft.jsx)("button",{type:"submit",disabled:l,className:"px-5 py-2.5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-bold transition-all shadow-lg active:scale-95 disabled:opacity-60",children:l?"\u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043d\u044f...":i?"\u041e\u043d\u043e\u0432\u0438\u0442\u0438":"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438"})]})]})]})})})},JF=e=>{let{message:t,type:n,onClose:r}=e;const a="error"===n;return(0,ft.jsxs)(hc.div,{layout:!0,initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.9},className:"fixed top-20 right-5 z-[100] flex items-center p-4 rounded-xl shadow-xl text-white "+(a?"bg-red-500":"bg-emerald-500"),children:[(0,ft.jsx)("div",{className:"text-xl",children:a?(0,ft.jsx)(su,{}):(0,ft.jsx)(Bc,{})}),(0,ft.jsx)("p",{className:"ml-3 font-bold text-sm",children:t}),(0,ft.jsx)("button",{onClick:r,className:"ml-4 p-1 rounded-full hover:bg-white/20",children:(0,ft.jsx)(hd,{})})]})},ZF=e=>{let{isOpen:t,onClose:n,onConfirm:r,title:a,message:i}=e;return(0,ft.jsx)(Et,{children:t&&(0,ft.jsx)(hc.div,{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-[90]",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:n,children:(0,ft.jsxs)(hc.div,{className:"bg-white rounded-2xl p-6 w-full max-w-sm shadow-2xl relative",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:e=>e.stopPropagation(),children:[(0,ft.jsxs)("div",{className:"flex items-start gap-4",children:[(0,ft.jsx)("div",{className:"flex-shrink-0 flex items-center justify-center h-10 w-10 rounded-full bg-red-100 text-red-600",children:(0,ft.jsx)(su,{})}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("h3",{className:"text-lg font-bold text-slate-800",children:a}),(0,ft.jsx)("p",{className:"text-sm text-slate-500 mt-1",children:i})]})]}),(0,ft.jsxs)("div",{className:"mt-6 flex flex-row-reverse gap-3",children:[(0,ft.jsx)("button",{onClick:r,type:"button",className:"w-full inline-flex justify-center rounded-xl px-4 py-2 bg-red-600 text-sm font-bold text-white hover:bg-red-700 shadow-lg",children:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"}),(0,ft.jsx)("button",{onClick:n,type:"button",className:"w-full inline-flex justify-center rounded-xl border border-slate-200 px-4 py-2 bg-white text-sm font-bold text-slate-700 hover:bg-slate-50",children:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"})]})]})})})};function QF(){const[e,n]=(0,t.useState)([]),[r,a]=(0,t.useState)(!0),[i,s]=(0,t.useState)(!1),[o,l]=(0,t.useState)(null),[c,u]=(0,t.useState)("\u0432\u0441\u0456"),[d,h]=(0,t.useState)("all"),[f,p]=(0,t.useState)("created_at"),[m,g]=(0,t.useState)("desc"),[v,y]=(0,t.useState)(""),[x,b]=(0,t.useState)(!1),[w,j]=(0,t.useState)([]),[k,N]=(0,t.useState)([]),[_,S]=(0,t.useState)(null),[C,O]=(0,t.useState)(null),[E,P]=(0,t.useState)(null),[T,A]=(0,t.useState)(null),M=(re(),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;const r=Date.now();P({id:r,message:e,type:t}),setTimeout(()=>{P(null)},n)}),D=(0,t.useCallback)(async()=>{a(!0);try{const{data:{user:e}}=await Tp.auth.getUser(),t=null===e||void 0===e?void 0:e.email;S(t);const[r,a,i]=await Promise.all([Tp.from("microtasks").select("*, installations(id, name, custom_id)").order("created_at",{ascending:!1}),Tp.from("installations").select("id, name, custom_id"),Tp.from("employees").select("id, custom_id, name, email, position")]);if(r.error)throw r.error;if(a.error)throw a.error;if(i.error)throw i.error;if(t&&i.data){const e=i.data.find(e=>e.email===t);e&&O(e.custom_id)}const s=r.data.map(e=>({...e,installation:e.installations}));n(s||[]),j(a.data||[]),N(i.data||[])}catch(e){M(`\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f: ${e.message}`,"error")}finally{a(!1)}},[]);(0,t.useEffect)(()=>{D()},[D]);const z=(0,t.useMemo)(()=>{let t=[...e];if("\u043f\u0440\u043e\u0441\u0442\u0440\u043e\u0447\u0435\u043d\u043e"===c){const e=(new Date).setHours(0,0,0,0);t=t.filter(t=>t.due_date&&new Date(t.due_date)<e&&"\u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043e"!==t.status&&"\u0441\u043a\u0430\u0441\u043e\u0432\u0430\u043d\u043e"!==t.status)}else"\u0432\u0441\u0456"!==c&&(t=t.filter(e=>e.status===c));if("created_by_me"===d?t=t.filter(e=>e.creator_email===_):"assigned_to_me"===d&&(t=C?t.filter(e=>e.assigned_to===C):[]),v){const e=v.toLowerCase();t=t.filter(t=>t.task_text.toLowerCase().includes(e)||t.custom_id&&t.custom_id.toString().includes(e)||t.installation&&(t.installation.name.toLowerCase().includes(e)||t.installation.custom_id.toString().includes(e)))}return t.sort((e,t)=>{let n=e[f]||"",r=t[f]||"";return"created_at"!==f&&"due_date"!==f||(n=new Date(n),r=new Date(r)),"asc"===m?n>r?1:-1:n<r?1:-1}),t},[e,c,d,f,m,v,_,C]),I=e=>{A(e)},L=async(e,t)=>{try{const{data:r,error:a}=await Tp.from("microtasks").update({status:t}).eq("custom_id",e).select("*, installations(id, name, custom_id)").single();if(a)throw a;const i={...r,installation:r.installations};n(t=>t.map(t=>t.custom_id===e?i:t)),M("\u0421\u0442\u0430\u0442\u0443\u0441 \u0437\u0430\u0434\u0430\u0447\u0456 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043e.")}catch(r){M(`\u041f\u043e\u043c\u0438\u043b\u043a\u0430: ${r.message}`,"error")}},R=e=>{l(e),s(!0)},$=()=>{l(null),s(!0)},F=()=>{s(!1)},B=e=>e?new Date(e).toLocaleString("uk-UA",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}):"\u041d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u043e",V=e=>e?new Date(e).toLocaleDateString("uk-UA",{day:"2-digit",month:"2-digit",year:"numeric"}):"\u041d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u043e",U=(e,t)=>"\u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043e"!==t&&e&&new Date(e).setHours(0,0,0,0)<(new Date).setHours(0,0,0,0);return(0,ft.jsx)(Mp,{children:(0,ft.jsxs)("div",{className:"p-4 sm:p-8 space-y-6 max-w-[1600px] mx-auto pb-safe min-h-[calc(100dvh-80px)] flex flex-col",children:[(0,ft.jsxs)("div",{className:"flex flex-col gap-4 flex-none",children:[(0,ft.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 tracking-tight",children:"\u041c\u0456\u043a\u0440\u043e\u0437\u0430\u0434\u0430\u0447\u0456"}),(0,ft.jsx)("p",{className:"text-slate-500 text-sm mt-1",children:"\u0428\u0432\u0438\u0434\u043a\u0456 \u0434\u043e\u0440\u0443\u0447\u0435\u043d\u043d\u044f \u0442\u0430 \u043d\u043e\u0442\u0430\u0442\u043a\u0438"})]}),(0,ft.jsxs)("button",{onClick:$,className:"hidden sm:flex items-center justify-center gap-2 px-5 py-2.5 bg-indigo-600 text-white rounded-xl font-bold shadow-lg hover:bg-indigo-700 active:scale-95 transition-all w-full sm:w-auto",children:[(0,ft.jsx)(Hu,{})," ",(0,ft.jsx)("span",{children:"\u041d\u043e\u0432\u0430 \u0437\u0430\u0434\u0430\u0447\u0430"})]})]}),(0,ft.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,ft.jsxs)("div",{className:"flex bg-slate-100 p-1 rounded-xl w-full sm:w-fit",children:[(0,ft.jsx)("button",{onClick:()=>h("all"),className:"flex-1 sm:flex-none px-4 py-2 rounded-lg text-sm font-bold transition-all "+("all"===d?"bg-white text-indigo-700 shadow-sm":"text-slate-500 hover:text-slate-700"),children:"\u0412\u0441\u0456"}),(0,ft.jsxs)("button",{onClick:()=>h("created_by_me"),className:"flex-1 sm:flex-none px-4 py-2 rounded-lg text-sm font-bold transition-all flex items-center justify-center gap-2 "+("created_by_me"===d?"bg-white text-indigo-700 shadow-sm":"text-slate-500 hover:text-slate-700"),children:[(0,ft.jsx)(bd,{className:"text-xs"})," \u0412\u0456\u0434 \u043c\u0435\u043d\u0435"]}),(0,ft.jsxs)("button",{onClick:()=>h("assigned_to_me"),className:"flex-1 sm:flex-none px-4 py-2 rounded-lg text-sm font-bold transition-all flex items-center justify-center gap-2 "+("assigned_to_me"===d?"bg-white text-indigo-700 shadow-sm":"text-slate-500 hover:text-slate-700"),children:[(0,ft.jsx)(kd,{className:"text-xs"})," \u0414\u043b\u044f \u043c\u0435\u043d\u0435"]})]}),(0,ft.jsx)(qF,{tasks:e,filter:c,setFilter:u}),(0,ft.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,ft.jsxs)("div",{className:"relative flex-grow",children:[(0,ft.jsx)(Xu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),(0,ft.jsx)("input",{type:"text",value:v,onChange:e=>y(e.target.value),placeholder:"\u041f\u043e\u0448\u0443\u043a...",className:"w-full pl-11 pr-4 py-3 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 transition shadow-sm text-sm outline-none"})]}),(0,ft.jsxs)("div",{className:"flex gap-2",children:[(0,ft.jsxs)("div",{className:"relative flex-grow sm:flex-grow-0",children:[(0,ft.jsx)("select",{value:f,onChange:e=>p(e.target.value),className:"w-full sm:w-auto pl-4 pr-8 py-3 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm appearance-none font-bold text-slate-700",children:[{value:"created_at",label:"\u0417\u0430 \u0434\u0430\u0442\u043e\u044e \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f"},{value:"due_date",label:"\u0417\u0430 \u0434\u0435\u0434\u043b\u0430\u0439\u043d\u043e\u043c"},{value:"status",label:"\u0417\u0430 \u0441\u0442\u0430\u0442\u0443\u0441\u043e\u043c"}].map(e=>(0,ft.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,ft.jsx)(Vc,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none",size:12})]}),(0,ft.jsx)("button",{onClick:()=>g(e=>"asc"===e?"desc":"asc"),className:"p-3 bg-white border border-slate-200 rounded-xl hover:bg-slate-50 transition shadow-sm",children:"asc"===m?(0,ft.jsx)(ad,{className:"text-slate-600"}):(0,ft.jsx)(rd,{className:"text-slate-600"})})]})]})]})]}),(0,ft.jsx)("div",{className:"flex-1",children:r?(0,ft.jsx)(HF,{}):0===z.length?(0,ft.jsxs)("div",{className:"text-center py-16 bg-white rounded-2xl border border-dashed border-slate-300",children:[(0,ft.jsx)(ud,{className:"text-slate-300 text-5xl mx-auto mb-4"}),(0,ft.jsx)("p",{className:"text-slate-500 font-bold",children:"\u0417\u0430\u0434\u0430\u0447 \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e"}),"all"!==d&&(0,ft.jsx)("p",{className:"text-slate-400 text-xs mt-1",children:"\u0417\u043c\u0456\u043d\u0456\u0442\u044c \u0444\u0456\u043b\u044c\u0442\u0440 \u0440\u043e\u043b\u0435\u0439"})]}):(0,ft.jsx)("div",{className:"space-y-3",children:(0,ft.jsx)(Et,{children:z.map(e=>(0,ft.jsx)(WF,{task:e,employees:k,onEdit:R,onDelete:I,onUpdateStatus:L,formatDateTime:B,formatDate:V,isOverdue:U},e.custom_id))})})}),(0,ft.jsx)("div",{className:"sm:hidden fixed bottom-6 right-6 z-40",children:(0,ft.jsx)("button",{onClick:$,className:"w-14 h-14 bg-indigo-600 hover:bg-indigo-700 text-white rounded-full flex items-center justify-center shadow-2xl shadow-indigo-400 active:scale-90 transition-transform",children:(0,ft.jsx)(Hu,{size:24})})}),(0,ft.jsx)(XF,{isOpen:i,onClose:F,onSubmit:async e=>{b(!0);try{let t;const r={task_text:e.task_text,status:e.status,due_date:e.due_date||null,installation_id:e.installation_id||null,assigned_to:e.assigned_to||null};if(o)t=await Tp.from("microtasks").update(r).eq("custom_id",o.custom_id).select("*, installations(id, name, custom_id)").single();else{const{data:{user:e}}=await Tp.auth.getUser();e&&e.email&&(r.creator_email=e.email),t=await Tp.from("microtasks").insert(r).select("*, installations(id, name, custom_id)").single()}if(t.error)throw t.error;const a={...t.data,installation:t.data.installations};n(e=>o?e.map(e=>e.custom_id===o.custom_id?a:e):[a,...e]),F(),M(o?"\u0417\u0430\u0434\u0430\u0447\u0443 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043e!":"\u0417\u0430\u0434\u0430\u0447\u0443 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043e!"),o||(u("\u0432\u0441\u0456"),h("all"))}catch(t){M(`\u041f\u043e\u043c\u0438\u043b\u043a\u0430: ${t.message}`,"error")}finally{b(!1)}},task:o,installations:w,employees:k,submitting:x}),(0,ft.jsx)(ZF,{isOpen:!!T,onClose:()=>A(null),onConfirm:async()=>{if(T)try{const{error:e}=await Tp.from("microtasks").delete().eq("custom_id",T);if(e)throw e;n(e=>e.filter(e=>e.custom_id!==T)),M("\u0417\u0430\u0434\u0430\u0447\u0443 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043e.")}catch(e){M(`\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f: ${e.message}`,"error")}finally{A(null)}},title:"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f",message:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0446\u044e \u0437\u0430\u0434\u0430\u0447\u0443 \u0431\u0435\u0437\u043f\u043e\u0432\u043e\u0440\u043e\u0442\u043d\u043e?"}),(0,ft.jsx)(Et,{children:E&&(0,ft.jsx)(JF,{message:E.message,type:E.type,onClose:()=>P(null)},E.id)})]})})}const eB=X$("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),tB=X$("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),nB=X$("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),rB=X$("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),aB=()=>{const[e,n]=(0,t.useState)(""),[r,a]=(0,t.useState)(!1),[i,s]=(0,t.useState)(""),[o,l]=(0,t.useState)(null),[c,u]=(0,t.useState)({client:!0,object:!0,equipment:!0,workers:!0,payments:!0,summary:!0}),d="https://logxutaepqzmvgsvscle.supabase.co",h="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxvZ3h1dGFlcHF6bXZnc3ZzY2xlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM5ODU4MDEsImV4cCI6MjA2OTU2MTgwMX0.NhbaKL5X48jHyPPxZ-6EadLcBfM-NMxMA8qbksT9VhE",f=(e,t)=>{var n,r,a,i,s,o,l,c;const{installation:u,installedEquipment:d,workers:h,payments:f}=e,p=(new Date).toLocaleDateString("uk-UA"),m=e=>e?new Date(e).toLocaleDateString("uk-UA"):"\u041d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u043e",g=e=>null!=e?`${e.toLocaleString("uk-UA")} \u0433\u0440\u043d`:"0 \u0433\u0440\u043d",v=h.reduce((e,t)=>{var n;const r=t.work_date?m(t.work_date):"\u0414\u0430\u0442\u0430 \u043d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u0430";return e[r]||(e[r]=[]),e[r].push((null===(n=t.employees)||void 0===n?void 0:n.name)||"\u0406\u043c'\u044f \u043d\u0435\u0432\u0456\u0434\u043e\u043c\u0435"),e},{});return`\n<!DOCTYPE html>\n<html lang="uk">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>\u0417\u0432\u0456\u0442 \u043f\u043e \u043e\u0431'\u0454\u043a\u0442\u0443 \u2116 ${u.custom_id}</title>\n    <style>\n        body { font-family: 'Helvetica Neue', Arial, sans-serif; line-height: 1.6; color: #333; max-width: 800px; margin: 20px auto; padding: 20px; background: #f9fafb; }\n        .report-container { background: white; padding: 30px; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }\n        h1 { text-align: center; color: #1a274d; border-bottom: 2px solid #3b82f6; padding-bottom: 10px; margin-bottom: 30px; font-weight: 600; }\n        h2 { color: #1a274d; border-bottom: 1px solid #e5e7eb; padding-bottom: 8px; margin-top: 30px; margin-bottom: 15px; font-size: 1.4em; }\n        .header-info { text-align: center; margin-bottom: 30px; background: #f3f4f6; padding: 15px; border-radius: 8px; border: 1px solid #e5e7eb; }\n        .info-section { margin-bottom: 25px; }\n        .info-section p { margin: 6px 0; padding: 6px 12px; border-left: 3px solid #3b82f6; background-color: #f9fafb; border-radius: 0 4px 4px 0; }\n        table { width: 100%; border-collapse: collapse; margin-bottom: 20px; font-size: 14px; }\n        th, td { padding: 12px; text-align: left; border: 1px solid #e5e7eb; vertical-align: top; }\n        th { background-color: #f3f4f6; font-weight: 600; color: #1f2937; }\n        tr:nth-child(even) { background-color: #f9fafb; }\n        .summary-table { background: #f3f4f6; border: 2px solid #3b82f6; border-radius: 8px; overflow: hidden; margin-top: 20px; }\n        .summary-table th { background: #3b82f6; color: white; }\n        .signature-section { margin-top: 50px; padding-top: 20px; border-top: 1px solid #e5e7eb; }\n        .no-data { text-align: center; color: #6b7280; font-style: italic; padding: 20px; background: #f9fafb; border-radius: 8px; }\n        .credentials { font-size: 0.9em; color: #4b5563; line-height: 1.4; }\n        @media print { body { margin: 0; padding: 10px; background: white; } .report-container { box-shadow: none; border-radius: 0; } }\n    </style>\n</head>\n<body>\n<div class="report-container">\n    <h1>\u0417\u0432\u0456\u0442 \u043f\u043e \u043e\u0431'\u0454\u043a\u0442\u0443 \u2116 ${u.custom_id}</h1>\n    \n    <div class="header-info">\n        <h3>${u.name||"\u041d\u0430\u0437\u0432\u0430 \u043e\u0431'\u0454\u043a\u0442\u0430 \u043d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u0430"}</h3>\n        <p><strong>\u0414\u0430\u0442\u0430 \u0444\u043e\u0440\u043c\u0443\u0432\u0430\u043d\u043d\u044f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430:</strong> ${p}</p>\n    </div>\n\n    ${t.client?`\n    <h2>\u0406\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f \u043f\u0440\u043e \u043a\u043b\u0456\u0454\u043d\u0442\u0430</h2>\n    <div class="info-section">\n        <p><strong>\u041a\u043e\u043c\u043f\u0430\u043d\u0456\u044f/\u041f\u0406\u0411:</strong> ${(null===(n=u.clients)||void 0===n?void 0:n.company_name)||(null===(r=u.clients)||void 0===r?void 0:r.name)||"\u041d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u043e"}</p>\n        ${null!==(a=u.clients)&&void 0!==a&&a.oblast?`<p><strong>\u041e\u0431\u043b\u0430\u0441\u0442\u044c:</strong> ${u.clients.oblast}</p>`:""}\n        ${null!==(i=u.clients)&&void 0!==i&&i.populated_place?`<p><strong>\u041d\u0430\u0441\u0435\u043b\u0435\u043d\u0438\u0439 \u043f\u0443\u043d\u043a\u0442:</strong> ${u.clients.populated_place}</p>`:""}\n        ${null!==(s=u.clients)&&void 0!==s&&s.phone?`<p><strong>\u0422\u0435\u043b\u0435\u0444\u043e\u043d:</strong> ${u.clients.phone}</p>`:""}\n        ${null!==(o=u.clients)&&void 0!==o&&o.notes?`<p><strong>\u041f\u0440\u0438\u043c\u0456\u0442\u043a\u0438 \u043f\u043e \u043a\u043b\u0456\u0454\u043d\u0442\u0443:</strong> ${u.clients.notes}</p>`:""}\n    </div>\n    `:""}\n\n    ${t.object?`\n    <h2>\u0406\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f \u043f\u0440\u043e \u043e\u0431'\u0454\u043a\u0442</h2>\n    <div class="info-section">\n        ${u.station_type?`<p><strong>\u0422\u0438\u043f \u0441\u0442\u0430\u043d\u0446\u0456\u0457:</strong> ${x=u.station_type,{hybrid:"\u0413\u0456\u0431\u0440\u0438\u0434\u043d\u0430",grid_tied:"\u041c\u0435\u0440\u0435\u0436\u0435\u0432\u0430",off_grid:"\u0410\u0432\u0442\u043e\u043d\u043e\u043c\u043d\u0430"}[x]||x||"\u041d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u043e"}</p>`:""}\n        ${u.mount_type?`<p><strong>\u0422\u0438\u043f \u043c\u043e\u043d\u0442\u0430\u0436\u0443:</strong> ${(e=>({ground:"\u041d\u0430\u0437\u0435\u043c\u043d\u0430",roof:"\u0414\u0430\u0445\u043e\u0432\u0430",facade:"\u0424\u0430\u0441\u0430\u0434\u043d\u0430"}[e]||e||"\u041d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u043e"))(u.mount_type)}</p>`:""}\n        ${u.capacity_kw?`<p><strong>\u041f\u043e\u0442\u0443\u0436\u043d\u0456\u0441\u0442\u044c:</strong> ${u.capacity_kw} \u043a\u0412\u0442</p>`:""}\n        ${u.gps_link?`<p><strong>GPS:</strong> <a href="${u.gps_link}" target="_blank">${u.gps_link}</a></p>`:""}\n        ${u.latitude&&u.longitude?`<p><strong>\u041a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442\u0438:</strong> ${u.latitude}, ${u.longitude}</p>`:""}\n        ${u.start_date?`<p><strong>\u0414\u0430\u0442\u0430 \u043f\u043e\u0447\u0430\u0442\u043a\u0443 \u0440\u043e\u0431\u0456\u0442:</strong> ${m(u.start_date)}</p>`:""}\n        ${u.end_date?`<p><strong>\u0414\u0430\u0442\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044f \u0440\u043e\u0431\u0456\u0442:</strong> ${m(u.end_date)}</p>`:""}\n        ${null!==(l=u.employees)&&void 0!==l&&l.name?`<p><strong>\u0412\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0430\u043b\u044c\u043d\u0438\u0439 \u043f\u0440\u0430\u0446\u0456\u0432\u043d\u0438\u043a:</strong> ${u.employees.name}</p>`:""}\n        ${u.status?`<p><strong>\u0421\u0442\u0430\u0442\u0443\u0441 \u043e\u0431'\u0454\u043a\u0442\u0443:</strong> ${y=u.status,{planned:"\u0417\u0430\u043f\u043b\u0430\u043d\u043e\u0432\u0430\u043d\u043e",in_progress:"\u0412 \u0440\u043e\u0431\u043e\u0442\u0456",completed:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e",paused:"\u041f\u0440\u0438\u0437\u0443\u043f\u0438\u043d\u0435\u043d\u043e",cancelled:"\u0421\u043a\u0430\u0441\u043e\u0432\u0430\u043d\u043e"}[y]||y||"\u041d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u043e"}</p>`:""}\n        ${u.notes?`<p><strong>\u041f\u0440\u0438\u043c\u0456\u0442\u043a\u0438 \u043f\u043e \u043e\u0431'\u0454\u043a\u0442\u0443:</strong> ${u.notes}</p>`:""}\n    </div>\n    `:""}\n\n    ${t.equipment&&d.length>0?`\n    <h2>\u0412\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0435 \u043e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f</h2>\n    <table>\n        <thead>\n            <tr>\n                <th>\u041d\u0430\u0437\u0432\u0430 / \u041a-\u0441\u0442\u044c</th>\n                <th>\u0421\u0435\u0440\u0456\u0439\u043d\u0438\u0439 \u043d\u043e\u043c\u0435\u0440</th>\n                <th>\u041e\u0431\u043b\u0456\u043a\u043e\u0432\u0456 \u0434\u0430\u043d\u0456</th>\n                <th>\u0412\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0430\u043b\u044c\u043d\u0438\u0439 \u0437\u0430 \u043c\u043e\u043d\u0442\u0430\u0436</th>\n            </tr>\n        </thead>\n        <tbody>\n            ${d.map(e=>{var t,n;return`\n            <tr>\n                <td>\n                    <strong>${(null===(t=e.equipment)||void 0===t?void 0:t.name)||"\u041d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u043e"}</strong>\n                    <br>\n                    <span>\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c: ${e.quantity||1} \u0448\u0442.</span>\n                </td>\n                <td>${e.serial_number||"\u041d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u043e"}</td>\n                <td class="credentials">\n                    ${e.login?`\u041b\u043e\u0433\u0456\u043d: ${e.login}`:""}\n                    ${e.password?`<br>\u041f\u0430\u0440\u043e\u043b\u044c: ${e.password}`:""}\n                    ${e.login||e.password?"":"\u041d\u0435\u043c\u0430\u0454"}\n                </td>\n                <td>${(null===(n=e.employees)||void 0===n?void 0:n.name)||"\u041d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u043e"}</td>\n            </tr>\n            `}).join("")}\n        </tbody>\n    </table>\n    `:t.equipment?'<div class="no-data">\u041e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f \u043d\u0435 \u0434\u043e\u0434\u0430\u043d\u043e</div>':""}\n\n    ${t.workers&&Object.keys(v).length>0?`\n    <h2>\u041f\u0440\u0430\u0446\u0456\u0432\u043d\u0438\u043a\u0438 \u043d\u0430 \u043e\u0431'\u0454\u043a\u0442\u0456</h2>\n    <table>\n        <thead>\n            <tr>\n                <th>\u0414\u0430\u0442\u0430 \u0440\u043e\u0431\u043e\u0442\u0438</th>\n                <th>\u041f\u0440\u0430\u0446\u0456\u0432\u043d\u0438\u043a\u0438</th>\n            </tr>\n        </thead>\n        <tbody>\n            ${Object.entries(v).map(e=>{let[t,n]=e;return`\n            <tr>\n                <td><strong>${t}</strong></td>\n                <td>${n.join(", ")}</td>\n            </tr>\n            `}).join("")}\n        </tbody>\n    </table>\n    `:t.workers?'<div class="no-data">\u041f\u0440\u0430\u0446\u0456\u0432\u043d\u0438\u043a\u0438 \u043d\u0435 \u0434\u043e\u0434\u0430\u043d\u0456</div>':""}\n    \n    ${t.payments&&f.length>0?`\n    <h2>\u0406\u0441\u0442\u043e\u0440\u0456\u044f \u043f\u043b\u0430\u0442\u0435\u0436\u0456\u0432</h2>\n    <table>\n        <thead>\n            <tr>\n                <th>\u0414\u0430\u0442\u0430</th>\n                <th>\u0421\u0443\u043c\u0430</th>\n                <th>\u041c\u0435\u0442\u043e\u0434 \u043e\u043f\u043b\u0430\u0442\u0438</th>\n                <th>\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440</th>\n            </tr>\n        </thead>\n        <tbody>\n            ${f.map(e=>{return`\n            <tr>\n                <td>${m(e.paid_at)}</td>\n                <td>${g(e.amount)}</td>\n                <td>${t=e.payment_method,{cash:"\u0413\u043e\u0442\u0456\u0432\u043a\u0430",bank_transfer:"\u0411\u0435\u0437\u0433\u043e\u0442\u0456\u0432\u043a\u043e\u0432\u0438\u0439 \u0440\u043e\u0437\u0440\u0430\u0445\u0443\u043d\u043e\u043a",card:"\u041e\u043f\u043b\u0430\u0442\u0430 \u043a\u0430\u0440\u0442\u043e\u044e"}[t]||t||"\u041d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u043e"}</td>\n                <td>${e.comment||""}</td>\n            </tr>\n            `;var t}).join("")}\n        </tbody>\n    </table>\n    `:t.payments?'<div class="no-data">\u0406\u0441\u0442\u043e\u0440\u0456\u044f \u043f\u043b\u0430\u0442\u0435\u0436\u0456\u0432 \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u044f</div>':""}\n\n    ${t.summary?`\n    <table class="summary-table">\n        <thead>\n            <tr>\n                <th>\u0424\u0456\u043d\u0430\u043d\u0441\u043e\u0432\u0430 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f</th>\n                <th>\u0421\u0443\u043c\u0430</th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr>\n                <td><strong>\u0417\u0430\u0433\u0430\u043b\u044c\u043d\u0430 \u0432\u0430\u0440\u0442\u0456\u0441\u0442\u044c</strong></td>\n                <td><strong>${g(u.total_cost)}</strong></td>\n            </tr>\n            <tr>\n                <td><strong>\u0421\u043f\u043b\u0430\u0447\u0435\u043d\u043e</strong></td>\n                <td><strong>${g(u.paid_amount)}</strong></td>\n            </tr>\n            <tr>\n                <td><strong>\u0421\u0442\u0430\u0442\u0443\u0441 \u043f\u043b\u0430\u0442\u0435\u0436\u0443</strong></td>\n                <td><strong>${(e=>({paid:"\u0421\u043f\u043b\u0430\u0447\u0435\u043d\u043e",partially_paid:"\u0427\u0430\u0441\u0442\u043a\u043e\u0432\u043e \u0441\u043f\u043b\u0430\u0447\u0435\u043d\u043e",unpaid:"\u041d\u0435 \u0441\u043f\u043b\u0430\u0447\u0435\u043d\u043e",overpaid:"\u041f\u0435\u0440\u0435\u043f\u043b\u0430\u0442\u0430"}[e]||e||"\u041d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u043e"))(u.payment_status)}</strong></td>\n            </tr>\n        </tbody>\n    </table>\n    `:""}\n\n    <div class="signature-section">\n        <h3>\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0435\u043d\u043d\u044f</h3>\n        <p>\u0412\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0430\u043b\u044c\u043d\u0430 \u043e\u0441\u043e\u0431\u0430: ${(null===(c=u.employees)||void 0===c?void 0:c.name)||"_____________________"}</p>\n        <br>\n        <p>\u041f\u0456\u0434\u043f\u0438\u0441: _____________________</p>\n        <br>\n        <p>\u0414\u0430\u0442\u0430: _____________________</p>\n        <p style="margin-top: 20px; font-size: 12px; color: #6b7280;">\n            \u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u0437\u0433\u0435\u043d\u0435\u0440\u043e\u0432\u0430\u043d\u043e \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u043d\u043e ${p}\n        </p>\n    </div>\n</div>\n</body>\n</html>`;var y,x},p=async()=>{if(e.trim()){a(!0),s("");try{const t=await(async e=>{try{const t={"Content-Type":"application/json",apikey:h,Authorization:`Bearer ${h}`},n=await fetch(`${d}/rest/v1/installations?custom_id=eq.${e}&select=*,clients(*),employees(*)`,{headers:t});if(!n.ok)throw new Error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445 \u043e\u0431'\u0454\u043a\u0442\u0430");const r=await n.json();if(0===r.length)throw new Error("\u041e\u0431'\u0454\u043a\u0442 \u0437 \u0442\u0430\u043a\u0438\u043c ID \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e");const a=r[0],i=await fetch(`${d}/rest/v1/installed_equipment?installation_custom_id=eq.${e}&select=*,equipment:equipment_id(name),employees:employee_custom_id(name,phone)`,{headers:t}),s=await i.json(),o=await fetch(`${d}/rest/v1/installation_workers?installation_custom_id=eq.${e}&select=*,employees(*)&order=work_date.asc`,{headers:t}),l=await o.json(),c=await fetch(`${d}/rest/v1/payment_history?installation_custom_id=eq.${e}&order=paid_at.asc`,{headers:t});return{installation:a,installedEquipment:s,workers:l,payments:await c.json()}}catch(i){throw new Error(`\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445: ${i.message}`)}})(e.trim());l(t)}catch(t){s(t.message),l(null)}finally{a(!1)}}else s("\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0432\u0432\u0435\u0434\u0456\u0442\u044c ID \u043e\u0431'\u0454\u043a\u0442\u0430")},m=e=>{const{name:t,checked:n}=e.target;u(e=>({...e,[t]:n}))};return(0,ft.jsxs)("div",{className:"max-w-2xl mx-auto p-6 bg-white rounded-lg shadow-lg",children:[(0,ft.jsxs)("div",{className:"text-center mb-8",children:[(0,ft.jsx)(eB,{className:"mx-auto h-12 w-12 text-blue-600 mb-4"}),(0,ft.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"\u0413\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440 \u0437\u0432\u0456\u0442\u0456\u0432"}),(0,ft.jsx)("p",{className:"text-gray-600",children:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c ID \u043e\u0431'\u0454\u043a\u0442\u0430 \u0434\u043b\u044f \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0437\u0432\u0456\u0442\u0443"})]}),(0,ft.jsxs)("div",{className:"mb-4",children:[(0,ft.jsx)("label",{htmlFor:"objectId",className:"block text-sm font-medium text-gray-700 mb-2",children:"ID \u043e\u0431'\u0454\u043a\u0442\u0430"}),(0,ft.jsxs)("div",{className:"flex gap-3",children:[(0,ft.jsx)("input",{id:"objectId",type:"text",value:e,onChange:e=>n(e.target.value),onKeyPress:e=>"Enter"===e.key&&p(),placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c custom_id \u043e\u0431'\u0454\u043a\u0442\u0430",className:"flex-1 px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",disabled:r}),(0,ft.jsxs)("button",{onClick:p,disabled:r,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 transition-colors",children:[r?(0,ft.jsx)(oF,{className:"h-4 w-4 animate-spin"}):(0,ft.jsx)(eB,{className:"h-4 w-4"}),r?"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f...":"\u0413\u0435\u043d\u0435\u0440\u0443\u0432\u0430\u0442\u0438"]})]})]}),(0,ft.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 border border-gray-200 rounded-md",children:[(0,ft.jsxs)("h3",{className:"text-md font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[(0,ft.jsx)(tB,{className:"h-5 w-5 text-gray-600"}),"\u041d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0437\u0432\u0456\u0442\u0443"]}),(0,ft.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-x-4 gap-y-2 text-sm",children:Object.keys(c).map(e=>(0,ft.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,ft.jsx)("input",{type:"checkbox",name:e,checked:c[e],onChange:m,className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,ft.jsx)("span",{className:"text-gray-700",children:{client:"\u0406\u043d\u0444\u043e \u043f\u0440\u043e \u043a\u043b\u0456\u0454\u043d\u0442\u0430",object:"\u0406\u043d\u0444\u043e \u043f\u0440\u043e \u043e\u0431'\u0454\u043a\u0442",equipment:"\u041e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f",workers:"\u041f\u0440\u0430\u0446\u0456\u0432\u043d\u0438\u043a\u0438",payments:"\u041f\u043b\u0430\u0442\u0435\u0436\u0456",summary:"\u0424\u0456\u043d\u0430\u043d\u0441\u0438"}[e]})]},e))})]}),i&&(0,ft.jsxs)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-md flex items-start gap-3",children:[(0,ft.jsx)(J$,{className:"h-5 w-5 text-red-500 flex-shrink-0 mt-0.5"}),(0,ft.jsx)("p",{className:"text-red-700",children:i})]}),o&&(0,ft.jsxs)("div",{className:"border-t pt-6",children:[(0,ft.jsxs)("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-md",children:[(0,ft.jsxs)("h3",{className:"text-lg font-semibold text-green-800 mb-2",children:["\u0417\u0432\u0456\u0442 \u0433\u043e\u0442\u043e\u0432\u0438\u0439 \u0434\u043b\u044f \u043e\u0431'\u0454\u043a\u0442\u0430 \u2116 ",o.installation.custom_id]}),(0,ft.jsx)("p",{className:"text-green-700",children:o.installation.name||"\u041d\u0430\u0437\u0432\u0430 \u043e\u0431'\u0454\u043a\u0442\u0430 \u043d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u0430"})]}),(0,ft.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[(0,ft.jsxs)("button",{onClick:()=>{if(!o)return;const e=f(o,c),t=window.open("","_blank","width=800,height=600,scrollbars=yes,resizable=yes");t.document.write(e),t.document.close()},className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors flex items-center justify-center gap-2",children:[(0,ft.jsx)(nB,{className:"h-4 w-4"}),"\u041f\u0435\u0440\u0435\u0433\u043b\u044f\u043d\u0443\u0442\u0438"]}),(0,ft.jsxs)("button",{onClick:()=>{if(!o)return;const e=f(o,c),t=window.open("","_blank");t.document.write(e),t.document.close(),t.onload=()=>{setTimeout(()=>{t.print()},250)}},className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors flex items-center justify-center gap-2",children:[(0,ft.jsx)(rB,{className:"h-4 w-4"}),"PDF (\u0414\u0440\u0443\u043a)"]}),(0,ft.jsxs)("button",{onClick:()=>{if(!o)return;const e=f(o,c),t=new Blob([e],{type:"text/html;charset=utf-8"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download=`zvit_object_${o.installation.custom_id}.html`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[(0,ft.jsx)(rB,{className:"h-4 w-4"}),"HTML \u0444\u0430\u0439\u043b"]})]})]})]})},iB=e=>({solar_panel:{icon:nd,name:"\u0421\u043e\u043d\u044f\u0447\u043d\u0430 \u043f\u0430\u043d\u0435\u043b\u044c",color:"text-amber-600 bg-amber-50",border:"border-amber-200"},battery:{icon:Oc,name:"\u0410\u043a\u0443\u043c\u0443\u043b\u044f\u0442\u043e\u0440",color:"text-emerald-600 bg-emerald-50",border:"border-emerald-200"},inverter:{icon:Du,name:"\u0406\u043d\u0432\u0435\u0440\u0442\u043e\u0440",color:"text-blue-600 bg-blue-50",border:"border-blue-200"},logger:{icon:Ju,name:"\u041b\u043e\u0433\u0435\u0440",color:"text-purple-600 bg-purple-50",border:"border-purple-200"}}[e]||{icon:Xc,name:"\u0406\u043d\u0448\u0435",color:"text-slate-600 bg-slate-50",border:"border-slate-200"}),sB=(0,t.memo)(e=>{let{children:t,closeModal:n,size:r="md"}=e;return(0,ft.jsx)(Et,{children:(0,ft.jsx)(hc.div,{className:"fixed inset-0 bg-black/60 z-[100] flex items-center justify-center p-4 sm:p-6",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:n,children:(0,ft.jsx)(hc.div,{className:`bg-white rounded-2xl w-full ${{sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"}[r]} shadow-xl flex flex-col max-h-[90dvh] overflow-hidden`,initial:{scale:.95,opacity:0,y:10},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:10},transition:{duration:.2},onClick:e=>e.stopPropagation(),children:t})})})}),oB=(0,t.memo)(e=>{let{icon:t,label:n,error:r,showPassword:a,onTogglePassword:i,...s}=e;return(0,ft.jsxs)("div",{children:[n&&(0,ft.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5 ml-1",children:n}),(0,ft.jsxs)("div",{className:"relative",children:[t&&(0,ft.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none text-lg",children:t}),(0,ft.jsx)("input",{...s,className:`w-full border rounded-xl ${t?"pl-12":"pl-4"} pr-4 py-3.5 text-base sm:text-sm focus:ring-2 focus:ring-indigo-500 outline-none transition bg-white border-slate-200 ${s.disabled?"bg-slate-50 text-slate-400":""} ${r?"border-red-500 focus:ring-red-200":""}`}),"password"===s.type&&i&&(0,ft.jsx)("button",{type:"button",onClick:i,className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 p-2",children:a?(0,ft.jsx)(lu,{size:18}):(0,ft.jsx)(cu,{size:18})})]}),r&&(0,ft.jsx)("p",{className:"text-red-500 text-xs mt-1 font-bold ml-1",children:r})]})}),lB=(0,t.memo)(e=>{let{icon:t,label:n,children:r,error:a,...i}=e;return(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5 ml-1",children:n}),(0,ft.jsxs)("div",{className:"relative",children:[(0,ft.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none text-lg",children:t}),(0,ft.jsx)("select",{...i,className:"w-full appearance-none border rounded-xl pl-12 pr-10 py-3.5 text-base sm:text-sm focus:ring-2 focus:ring-indigo-500 outline-none bg-white border-slate-200",children:r}),(0,ft.jsx)(Vc,{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400"})]}),a&&(0,ft.jsx)("p",{className:"text-red-500 text-xs mt-1 ml-1",children:a})]})}),cB=(0,t.memo)(e=>{let{options:n,value:r,onChange:a,icon:i,label:s,placeholder:o="\u041e\u0431\u0435\u0440\u0456\u0442\u044c...",disabled:l=!1}=e;const[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(""),f=(0,t.useRef)(null),p=n.find(e=>e.value===r),m=n.filter(e=>e.label.toLowerCase().includes(d.toLowerCase()));return(0,t.useEffect)(()=>{const e=e=>{f.current&&!f.current.contains(e.target)&&u(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,ft.jsxs)("div",{ref:f,className:l?"opacity-50 pointer-events-none":"",children:[s&&(0,ft.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5 ml-1",children:s}),(0,ft.jsxs)("div",{className:"relative",children:[(0,ft.jsxs)("button",{type:"button",onClick:()=>u(!c),className:"w-full border border-slate-200 rounded-xl pl-12 pr-10 py-3.5 text-base sm:text-sm text-left bg-white flex items-center justify-between focus:ring-2 focus:ring-indigo-500 outline-none",children:[(0,ft.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 text-lg",children:i}),(0,ft.jsx)("span",{className:"truncate "+(p?"text-slate-800":"text-slate-500"),children:p?p.label:o}),(0,ft.jsx)(Vc,{className:`transition-transform ${c?"rotate-180":""} text-slate-400 flex-shrink-0`})]}),(0,ft.jsx)(Et,{children:c&&(0,ft.jsxs)(hc.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute z-20 top-full mt-2 w-full bg-white border border-slate-200 rounded-xl shadow-xl overflow-hidden max-h-60 overflow-y-auto",children:[(0,ft.jsx)("div",{className:"p-2 sticky top-0 bg-white border-b border-slate-100",children:(0,ft.jsx)("input",{type:"text",autoFocus:!0,placeholder:"\u041f\u043e\u0448\u0443\u043a...",value:d,onChange:e=>h(e.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-base sm:text-sm outline-none focus:border-indigo-500"})}),(0,ft.jsx)("ul",{children:m.length>0?m.map(e=>(0,ft.jsx)("li",{onClick:()=>{return t=e.value,a({target:{name:"equipment_id",value:t}}),u(!1),void h("");var t},className:"px-4 py-3 hover:bg-indigo-50 cursor-pointer text-sm text-slate-700 border-b border-slate-50 last:border-0",children:e.label},e.value)):(0,ft.jsx)("li",{className:"px-4 py-3 text-sm text-slate-400 text-center",children:"\u041d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e"})})]})})]})]})}),uB=e=>{let{serials:n,onChange:r,max:a}=e;const[i,s]=(0,t.useState)(""),o=()=>{if(!i.trim())return;if(n.length>=a)return;const e=[...n,i.trim()];r(e),s("")};return(0,ft.jsxs)("div",{children:[(0,ft.jsxs)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5 ml-1",children:["\u0421\u0435\u0440\u0456\u0439\u043d\u0456 \u043d\u043e\u043c\u0435\u0440\u0438 (",n.length," / ",a,")"]}),(0,ft.jsxs)("div",{className:"border border-slate-200 rounded-xl bg-white p-2 focus-within:ring-2 focus-within:ring-indigo-500 focus-within:border-transparent transition-all",children:[(0,ft.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:n.map((e,t)=>(0,ft.jsxs)("span",{className:"bg-indigo-50 text-indigo-700 px-2 py-1 rounded-lg text-xs font-bold flex items-center gap-1 border border-indigo-100",children:[e,(0,ft.jsx)("button",{type:"button",onClick:()=>(e=>{const t=n.filter((t,n)=>n!==e);r(t)})(t),className:"text-indigo-400 hover:text-indigo-900",children:(0,ft.jsx)(hd,{size:10})})]},t))}),n.length<a&&(0,ft.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ft.jsx)(ld,{className:"text-slate-400 ml-2"}),(0,ft.jsx)("input",{type:"text",value:i,onChange:e=>s(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),o())},placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c S/N \u0456 \u043d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c +",className:"flex-1 text-base sm:text-sm outline-none py-1 text-slate-700 placeholder:text-slate-400"}),(0,ft.jsx)("button",{type:"button",onClick:o,disabled:!i.trim(),className:"p-2 bg-slate-100 text-slate-600 rounded-lg hover:bg-slate-200 disabled:opacity-50",children:(0,ft.jsx)(Hu,{size:12})})]})]}),n.length<a&&(0,ft.jsxs)("p",{className:"text-[10px] text-amber-500 mt-1 ml-1 font-medium",children:["\u0429\u0435 \u043c\u043e\u0436\u043d\u0430 \u0434\u043e\u0434\u0430\u0442\u0438 ",a-n.length," \u0448\u0442. (\u043d\u0435 \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u043e)"]})]})},dB=e=>{let{notification:n,onDismiss:r}=e;return(0,t.useEffect)(()=>{if(n.message){const e=setTimeout(r,4e3);return()=>clearTimeout(e)}},[n,r]),(0,ft.jsx)(Et,{children:n.message&&(0,ft.jsxs)(hc.div,{initial:{opacity:0,y:-50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-50,scale:.9},className:`\n                        fixed z-[200] flex items-center gap-3 p-4 rounded-xl shadow-2xl text-white font-medium\n                        top-4 left-4 right-4  /* \u041c\u043e\u0431\u0456\u043b\u044c\u043d\u0438\u0439: \u0437\u0432\u0435\u0440\u0445\u0443, \u043d\u0430 \u0432\u0441\u044e \u0448\u0438\u0440\u0438\u043d\u0443 */\n                        sm:left-auto sm:right-6 sm:w-auto sm:min-w-[300px] /* \u041f\u041a: \u0441\u043f\u0440\u0430\u0432\u0430 \u0437\u0432\u0435\u0440\u0445\u0443 */\n                        ${"error"===n.type?"bg-red-500":"bg-emerald-500"}\n                    `,children:[(0,ft.jsx)("div",{className:"flex-shrink-0 text-xl",children:"error"===n.type?(0,ft.jsx)(dd,{}):(0,ft.jsx)(Fc,{})}),(0,ft.jsx)("p",{className:"text-sm flex-1",children:n.message}),(0,ft.jsx)("button",{onClick:r,className:"opacity-80 hover:opacity-100 p-1",children:(0,ft.jsx)(hd,{})})]})})},hB=e=>{let{isOpen:t,onClose:n,onConfirm:r,title:a,children:i}=e;return t?(0,ft.jsx)(sB,{closeModal:n,size:"sm",children:(0,ft.jsxs)("div",{className:"p-6 text-center",children:[(0,ft.jsx)("div",{className:"mx-auto w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mb-4",children:(0,ft.jsx)(su,{className:"text-red-500 text-xl"})}),(0,ft.jsx)("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:a}),(0,ft.jsx)("p",{className:"text-slate-500 text-sm mb-6",children:i}),(0,ft.jsxs)("div",{className:"flex justify-center gap-3",children:[(0,ft.jsx)("button",{onClick:n,className:"px-5 py-2.5 bg-slate-100 text-slate-700 rounded-xl font-bold hover:bg-slate-200",children:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"}),(0,ft.jsx)("button",{onClick:r,className:"px-5 py-2.5 bg-red-500 text-white rounded-xl font-bold hover:bg-red-600",children:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"})]})]})}):null};function fB(){re();const[e,n]=(0,t.useState)("installations"),[r,a]=(0,t.useState)({type:null,data:null}),[i,s]=(0,t.useState)(!0),[o,l]=(0,t.useState)({message:null,type:"success"}),[c,u]=(0,t.useState)({isOpen:!1}),[d,h]=(0,t.useState)("all"),[f,p]=(0,t.useState)([]),[m,g]=(0,t.useState)([]),[v,y]=(0,t.useState)([]),[x,b]=(0,t.useState)([]),[w,j]=(0,t.useState)(""),[k,N]=(0,t.useState)(1),_=(0,t.useCallback)(function(e){return l({message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"})},[]),S=(0,t.useCallback)(async()=>{s(!0);try{const[e,t,n,r]=await Promise.all([Tp.from("equipment").select("*").order("name"),Tp.from("installations").select("*, clients!inner(name)").order("created_at",{ascending:!1}),Tp.from("installed_equipment").select("*, equipment:equipment_id(*), employees:employee_custom_id(name, phone)").order("created_at",{ascending:!1}),Tp.from("employees").select("custom_id, name, phone").order("name")]);if(e.error)throw e.error;if(t.error)throw t.error;if(n.error)throw n.error;if(r.error)throw r.error;p(e.data),y(t.data),g(n.data),b(r.data)}catch(vV){_(vV.message,"error")}finally{s(!1)}},[_]);(0,t.useEffect)(()=>{S()},[S]);const C=(0,t.useMemo)(()=>{const e=new Map(v.map(e=>[e.custom_id,{...e,equipment:[]}]));return m.forEach(t=>{e.has(t.installation_custom_id)&&e.get(t.installation_custom_id).equipment.push(t)}),Array.from(e.values())},[v,m]),O=(0,t.useMemo)(()=>{const e=w.toLowerCase();return C.filter(t=>{var n,r,a;return(null===(n=t.name)||void 0===n?void 0:n.toLowerCase().includes(e))||(null===(r=t.clients)||void 0===r||null===(a=r.name)||void 0===a?void 0:a.toLowerCase().includes(e))||t.custom_id.toString().includes(e)})},[C,w]),E=(0,t.useMemo)(()=>{let e=f;return"all"!==d&&(e=e.filter(e=>e.category===d)),e},[f,d]),P=(0,t.useMemo)(()=>{const e=9*(k-1);return O.slice(e,e+9)},[O,k]),T=async(e,t)=>{s(!0);const{error:n}=await e;n?_(n.message,"error"):(_(t),a({type:null}),S()),s(!1)},A=e=>{u({isOpen:!0,title:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0442\u0438\u043f?",message:"\u0426\u0435 \u0432\u043f\u043b\u0438\u043d\u0435 \u043d\u0430 \u0432\u0441\u0456 \u0437\u0430\u043f\u0438\u0441\u0438.",onConfirm:()=>{u({isOpen:!1}),T(Tp.from("equipment").delete().eq("id",e),"\u0412\u0438\u0434\u0430\u043b\u0435\u043d\u043e")}})};return(0,ft.jsx)(Mp,{children:(0,ft.jsxs)("div",{className:"p-4 sm:p-8 space-y-6 max-w-[1600px] mx-auto pb-safe min-h-[calc(100dvh-80px)] flex flex-col",children:[(0,ft.jsx)(dB,{notification:o,onDismiss:()=>l({message:null})}),(0,ft.jsx)(hB,{...c,onClose:()=>u({isOpen:!1})}),(0,ft.jsxs)("div",{className:"flex flex-col gap-4 flex-none",children:[(0,ft.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsxs)("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 tracking-tight flex items-center gap-2",children:[(0,ft.jsx)(Tc,{className:"text-indigo-600"})," \u041e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f"]}),(0,ft.jsx)("p",{className:"text-slate-500 text-sm mt-1",children:"\u041e\u0431\u043b\u0456\u043a \u0442\u0430 \u0440\u043e\u0437\u043f\u043e\u0434\u0456\u043b \u043f\u043e \u043e\u0431'\u0454\u043a\u0442\u0430\u0445"})]}),(0,ft.jsxs)("div",{className:"flex bg-slate-100 p-1 rounded-xl w-full sm:w-auto",children:[(0,ft.jsx)("button",{onClick:()=>n("installations"),className:"flex-1 sm:flex-none px-6 py-2.5 rounded-lg text-sm font-bold transition-all "+("installations"===e?"bg-white text-indigo-700 shadow-sm":"text-slate-500 hover:text-slate-700"),children:"\u041e\u0431'\u0454\u043a\u0442\u0438"}),(0,ft.jsx)("button",{onClick:()=>n("catalog"),className:"flex-1 sm:flex-none px-6 py-2.5 rounded-lg text-sm font-bold transition-all "+("catalog"===e?"bg-white text-indigo-700 shadow-sm":"text-slate-500 hover:text-slate-700"),children:"\u0414\u043e\u0432\u0456\u0434\u043d\u0438\u043a"})]})]}),"installations"===e&&(0,ft.jsxs)("div",{className:"relative",children:[(0,ft.jsx)(Xu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),(0,ft.jsx)("input",{type:"text",placeholder:"\u041f\u043e\u0448\u0443\u043a \u043e\u0431'\u0454\u043a\u0442\u0430...",value:w,onChange:e=>{j(e.target.value),N(1)},className:"w-full pl-11 pr-4 py-3 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none text-base sm:text-sm shadow-sm"})]}),"catalog"===e&&(0,ft.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,ft.jsx)("div",{className:"flex bg-white border border-slate-200 p-1 rounded-xl overflow-x-auto no-scrollbar flex-1",children:[{id:"all",l:"\u0412\u0441\u0456"},{id:"inverter",l:"\u0406\u043d\u0432\u0435\u0440\u0442\u043e\u0440\u0438"},{id:"battery",l:"\u0410\u041a\u0411"},{id:"solar_panel",l:"\u041f\u0430\u043d\u0435\u043b\u0456"},{id:"logger",l:"\u041b\u043e\u0433\u0435\u0440\u0438"}].map(e=>(0,ft.jsx)("button",{onClick:()=>h(e.id),className:"px-4 py-2 rounded-lg text-xs font-bold whitespace-nowrap transition-all "+(d===e.id?"bg-slate-800 text-white shadow":"text-slate-600 hover:bg-slate-50"),children:e.l},e.id))}),(0,ft.jsxs)("button",{onClick:()=>a({type:"addType",data:null}),className:"w-full sm:w-auto self-end flex items-center justify-center gap-2 py-2.5 px-5 bg-indigo-600 text-white rounded-xl font-bold shadow-lg hover:bg-indigo-700 active:scale-95 transition-all text-sm",children:[(0,ft.jsx)(Hu,{})," ",(0,ft.jsx)("span",{children:"\u0414\u043e\u0434\u0430\u0442\u0438"})]})]})]}),(0,ft.jsx)("div",{className:"flex-1",children:(0,ft.jsx)(Et,{mode:"wait",children:"installations"===e?(0,ft.jsx)(hc.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"grid grid-cols-1 lg:grid-cols-2 2xl:grid-cols-3 gap-6",children:i?(0,ft.jsx)("div",{className:"col-span-full text-center py-20 text-slate-400",children:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f..."}):0===P.length?(0,ft.jsx)("div",{className:"col-span-full text-center py-20 text-slate-400 bg-white rounded-2xl border border-dashed border-slate-200",children:"\u041d\u0456\u0447\u043e\u0433\u043e \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e"}):P.map(e=>{var t;return(0,ft.jsxs)("div",{className:"bg-white border border-slate-200 rounded-2xl p-5 shadow-sm hover:shadow-md transition-all flex flex-col",children:[(0,ft.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("h3",{className:"font-bold text-lg text-slate-800 line-clamp-1",children:e.name||"\u0411\u0435\u0437 \u043d\u0430\u0437\u0432\u0438"}),(0,ft.jsx)("p",{className:"text-xs text-slate-500 font-medium",children:null===(t=e.clients)||void 0===t?void 0:t.name})]}),(0,ft.jsxs)("span",{className:"text-xs font-mono font-bold bg-slate-100 text-slate-500 px-2 py-1 rounded",children:["#",e.custom_id]})]}),(0,ft.jsx)("div",{className:"flex-1 space-y-2 mb-4 overflow-y-auto max-h-60 pr-1 custom-scrollbar",children:e.equipment.length>0?e.equipment.map(e=>{var t,n,r;const{icon:i,color:s}=iB(null===(t=e.equipment)||void 0===t?void 0:t.category);let o="S/N ---";try{const t=JSON.parse(e.serial_number);Array.isArray(t)&&t.length>0?o=`${t[0]}...`:e.serial_number&&(o=e.serial_number)}catch(vV){e.serial_number&&(o=e.serial_number.substring(0,10)+"...")}return(0,ft.jsxs)("div",{className:"flex items-center justify-between p-2.5 bg-slate-50 rounded-xl border border-slate-100",children:[(0,ft.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ft.jsx)("div",{className:`p-2 rounded-lg ${s}`,children:(0,ft.jsx)(i,{})}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("p",{className:"text-sm font-bold text-slate-700",children:null===(n=e.equipment)||void 0===n?void 0:n.name}),(0,ft.jsx)("p",{className:"text-[10px] text-slate-400 font-mono",children:"solar_panel"===(null===(r=e.equipment)||void 0===r?void 0:r.category)?"\u041f\u0430\u043d\u0435\u043b\u044c":o})]})]}),(0,ft.jsxs)("div",{className:"flex items-center gap-1",children:[(0,ft.jsxs)("span",{className:"text-xs font-bold text-slate-600 mr-2",children:["x",e.quantity]}),(0,ft.jsx)("button",{onClick:()=>a({type:"viewDetails",data:e}),className:"p-1.5 text-blue-500 hover:bg-blue-50 rounded-lg",children:(0,ft.jsx)(cu,{})}),(0,ft.jsx)("button",{onClick:()=>a({type:"editDetails",data:e}),className:"p-1.5 text-amber-500 hover:bg-amber-50 rounded-lg",children:(0,ft.jsx)($u,{})}),(0,ft.jsx)("button",{onClick:()=>(e=>{u({isOpen:!0,title:"\u0417\u043d\u044f\u0442\u0438 \u043e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f?",message:"\u0412\u0438 \u0432\u043f\u0435\u0432\u043d\u0435\u043d\u0456?",onConfirm:()=>{u({isOpen:!1}),T(Tp.from("installed_equipment").delete().eq("id",e),"\u0417\u043d\u044f\u0442\u043e")}})})(e.id),className:"p-1.5 text-red-500 hover:bg-red-50 rounded-lg",children:(0,ft.jsx)(pd,{})})]})]},e.id)}):(0,ft.jsx)("p",{className:"text-sm text-slate-400 italic text-center py-4",children:"\u041e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u0454"})}),(0,ft.jsxs)("button",{onClick:()=>a({type:"assign",data:e}),className:"w-full py-2.5 border-2 border-dashed border-indigo-200 text-indigo-600 rounded-xl font-bold hover:bg-indigo-50 transition-colors flex items-center justify-center gap-2",children:[(0,ft.jsx)(Hu,{})," \u0414\u043e\u0434\u0430\u0442\u0438"]})]},e.custom_id)})},"installations"):(0,ft.jsxs)(hc.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:[(0,ft.jsx)("div",{className:"hidden md:block bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:(0,ft.jsx)("div",{className:"overflow-x-auto",children:(0,ft.jsxs)("table",{className:"w-full text-left",children:[(0,ft.jsx)("thead",{className:"bg-slate-50 border-b border-slate-200",children:(0,ft.jsxs)("tr",{children:[(0,ft.jsx)("th",{className:"p-4 text-xs font-bold text-slate-500 uppercase",children:"\u041d\u0430\u0437\u0432\u0430"}),(0,ft.jsx)("th",{className:"p-4 text-xs font-bold text-slate-500 uppercase",children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044f"}),(0,ft.jsx)("th",{className:"p-4 text-xs font-bold text-slate-500 uppercase",children:"\u041f\u043e\u0442\u0443\u0436\u043d\u0456\u0441\u0442\u044c"}),(0,ft.jsx)("th",{className:"p-4 text-xs font-bold text-slate-500 uppercase",children:"\u0412\u0438\u0440\u043e\u0431\u043d\u0438\u043a"}),(0,ft.jsx)("th",{className:"p-4 text-xs font-bold text-slate-500 uppercase text-right",children:"\u0414\u0456\u0457"})]})}),(0,ft.jsx)("tbody",{className:"divide-y divide-slate-100",children:E.map(e=>{const{name:t,color:n}=iB(e.category);return(0,ft.jsxs)("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[(0,ft.jsx)("td",{className:"p-4 text-sm font-bold text-slate-700",children:e.name}),(0,ft.jsx)("td",{className:"p-4",children:(0,ft.jsx)("span",{className:`px-2.5 py-1 rounded-full text-xs font-bold ${n}`,children:t})}),(0,ft.jsx)("td",{className:"p-4 text-sm text-slate-600",children:e.power_kw?`${e.power_kw} \u043a\u0412\u0442`:"\u2014"}),(0,ft.jsx)("td",{className:"p-4 text-sm text-slate-600",children:e.manufacturer||"\u2014"}),(0,ft.jsxs)("td",{className:"p-4 text-right",children:[(0,ft.jsx)("button",{onClick:()=>a({type:"editType",data:e}),className:"p-2 text-slate-400 hover:text-indigo-600",children:(0,ft.jsx)(nu,{})}),(0,ft.jsx)("button",{onClick:()=>A(e.id),className:"p-2 text-slate-400 hover:text-red-600",children:(0,ft.jsx)(pd,{})})]})]},e.id)})})]})})}),(0,ft.jsx)("div",{className:"md:hidden space-y-3",children:E.map(e=>{const{name:t,color:n,icon:r}=iB(e.category);return(0,ft.jsxs)("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm flex flex-col gap-3",children:[(0,ft.jsxs)("div",{className:"flex justify-between items-start",children:[(0,ft.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ft.jsx)("div",{className:`p-2.5 rounded-lg ${n}`,children:(0,ft.jsx)(r,{})}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("h4",{className:"font-bold text-slate-800 text-sm",children:e.name}),(0,ft.jsx)("span",{className:"text-xs text-slate-500 font-medium",children:t})]})]}),(0,ft.jsxs)("div",{className:"flex gap-1",children:[(0,ft.jsx)("button",{onClick:()=>a({type:"editType",data:e}),className:"p-2 text-slate-400 hover:text-indigo-600 bg-slate-50 rounded-lg",children:(0,ft.jsx)(nu,{})}),(0,ft.jsx)("button",{onClick:()=>A(e.id),className:"p-2 text-slate-400 hover:text-red-600 bg-slate-50 rounded-lg",children:(0,ft.jsx)(pd,{})})]})]}),(0,ft.jsxs)("div",{className:"flex justify-between text-xs pt-2 border-t border-slate-100 text-slate-500",children:[(0,ft.jsx)("span",{children:e.manufacturer||"\u0412\u0438\u0440\u043e\u0431\u043d\u0438\u043a \u043d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u0438\u0439"}),(0,ft.jsx)("span",{children:e.power_kw?`${e.power_kw} \u043a\u0412\u0442`:""})]})]},e.id)})})]},"catalog")})}),(0,ft.jsxs)(Et,{children:["assign"===r.type&&(0,ft.jsx)(pB,{closeModal:()=>a({type:null}),installation:r.data,onAssign:e=>{const t={...e,equipment_id:parseInt(e.equipment_id),quantity:parseInt(e.quantity)};T(Tp.from("installed_equipment").insert([t]),"\u0414\u043e\u0434\u0430\u043d\u043e \u043d\u0430 \u043e\u0431'\u0454\u043a\u0442")},equipmentCatalog:f,showNotification:_}),("addType"===r.type||"editType"===r.type)&&(0,ft.jsx)(mB,{closeModal:()=>a({type:null}),onSubmit:e=>{var t,n;const a={...e,power_kw:e.power_kw?parseFloat(e.power_kw):null},i=null!==(t=r.data)&&void 0!==t&&t.id?Tp.from("equipment").update(a).eq("id",r.data.id):Tp.from("equipment").insert([a]);T(i,null!==(n=r.data)&&void 0!==n&&n.id?"\u041e\u043d\u043e\u0432\u043b\u0435\u043d\u043e":"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043e")},initialData:r.data,loading:i}),"viewDetails"===r.type&&(0,ft.jsx)(gB,{closeModal:()=>a({type:null}),item:r.data}),"editDetails"===r.type&&(0,ft.jsx)(vB,{closeModal:()=>a({type:null}),onSubmit:e=>{const{id:t,...n}=e;n.employee_custom_id=n.employee_custom_id?parseInt(n.employee_custom_id):null,n.serial_number&&Array.isArray(n.serial_number)&&(n.serial_number=JSON.stringify(n.serial_number)),T(Tp.from("installed_equipment").update(n).eq("id",t),"\u041e\u043d\u043e\u0432\u043b\u0435\u043d\u043e")},initialData:r.data,employees:x,loading:i})]})]})})}function pB(e){let{closeModal:n,installation:r,onAssign:a,equipmentCatalog:i,showNotification:s}=e;const[o,l]=(0,t.useState)({installation_custom_id:r.custom_id,equipment_id:"",serial_number:"",quantity:1}),[c,u]=(0,t.useState)(""),d=(0,t.useMemo)(()=>{let e=i;return c&&(e=e.filter(e=>e.category===c)),e.map(e=>({value:e.id,label:e.name}))},[i,c]);return(0,ft.jsx)(sB,{closeModal:n,size:"md",children:(0,ft.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!o.equipment_id)return s("\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0442\u0438\u043f","error");a(o)},className:"flex flex-col h-full overflow-hidden",children:[(0,ft.jsxs)("div",{className:"flex-none p-6 border-b border-slate-100",children:[(0,ft.jsx)("h3",{className:"text-xl font-bold text-slate-800",children:"\u0414\u043e\u0434\u0430\u0442\u0438 \u043d\u0430 \u043e\u0431'\u0454\u043a\u0442"}),(0,ft.jsx)("p",{className:"text-sm text-indigo-600",children:r.name})]}),(0,ft.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5 ml-1",children:"\u0424\u0456\u043b\u044c\u0442\u0440 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u0439"}),(0,ft.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,ft.jsx)("button",{type:"button",onClick:()=>u(""),className:"px-3 py-1.5 rounded-lg text-xs font-bold "+(c?"bg-slate-100 text-slate-600":"bg-slate-800 text-white"),children:"\u0412\u0441\u0456"}),[{id:"solar_panel",l:"\u041f\u0430\u043d\u0435\u043b\u0456"},{id:"inverter",l:"\u0406\u043d\u0432\u0435\u0440\u0442\u043e\u0440\u0438"},{id:"battery",l:"\u0410\u041a\u0411"},{id:"logger",l:"\u041b\u043e\u0433\u0435\u0440\u0438"},{id:"other",l:"\u0406\u043d\u0448\u0435"}].map(e=>(0,ft.jsx)("button",{type:"button",onClick:()=>u(e.id),className:"px-3 py-1.5 rounded-lg text-xs font-bold "+(c===e.id?"bg-indigo-600 text-white":"bg-slate-100 text-slate-600"),children:e.l},e.id))]})]}),(0,ft.jsx)(cB,{label:"\u041c\u043e\u0434\u0435\u043b\u044c \u043e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f",icon:(0,ft.jsx)(Ac,{}),options:d,value:o.equipment_id,onChange:e=>l({...o,equipment_id:e.target.value}),placeholder:c?"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0437\u0456 \u0441\u043f\u0438\u0441\u043a\u0443...":"\u0421\u043f\u043e\u0447\u0430\u0442\u043a\u0443 \u043e\u0431\u0435\u0440\u0456\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044e \u0430\u0431\u043e \u0448\u0443\u043a\u0430\u0439\u0442\u0435..."}),(0,ft.jsx)("div",{className:"grid grid-cols-2 gap-4",children:(0,ft.jsx)(oB,{label:"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c",type:"number",min:"1",icon:(0,ft.jsx)(ku,{}),value:o.quantity,onChange:e=>l({...o,quantity:e.target.value})})}),(0,ft.jsx)("p",{className:"text-xs text-slate-400 italic",children:"\u0414\u0435\u0442\u0430\u043b\u0456 (S/N, \u043b\u043e\u0433\u0456\u043d\u0438) \u0434\u043e\u0434\u0430\u044e\u0442\u044c\u0441\u044f \u0447\u0435\u0440\u0435\u0437 \u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043d\u043d\u044f."})]}),(0,ft.jsxs)("div",{className:"flex-none p-6 flex justify-end gap-3 bg-slate-50 border-t border-slate-100 pb-safe",children:[(0,ft.jsx)("button",{type:"button",onClick:n,className:"px-4 py-2 bg-white border border-slate-200 rounded-lg font-bold text-slate-600",children:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"}),(0,ft.jsx)("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg font-bold shadow-lg",children:"\u0414\u043e\u0434\u0430\u0442\u0438"})]})]})})}function mB(e){let{closeModal:n,onSubmit:r,initialData:a,loading:i}=e;const[s,o]=(0,t.useState)(a||{name:"",category:"",power_kw:"",manufacturer:""});return(0,ft.jsx)(sB,{closeModal:n,size:"md",children:(0,ft.jsxs)("form",{onSubmit:e=>{e.preventDefault(),r(s)},className:"flex flex-col h-full overflow-hidden",children:[(0,ft.jsx)("div",{className:"flex-none p-6 border-b border-slate-100",children:(0,ft.jsx)("h3",{className:"text-xl font-bold text-slate-800",children:a?"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0442\u0438\u043f":"\u041d\u043e\u0432\u0438\u0439 \u0442\u0438\u043f"})}),(0,ft.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[(0,ft.jsx)(oB,{label:"\u041d\u0430\u0437\u0432\u0430",icon:(0,ft.jsx)(ld,{}),value:s.name,onChange:e=>o({...s,name:e.target.value}),required:!0}),(0,ft.jsxs)(lB,{label:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044f",icon:(0,ft.jsx)(gu,{}),value:s.category,onChange:e=>o({...s,category:e.target.value}),children:[(0,ft.jsx)("option",{value:"",children:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c..."}),(0,ft.jsx)("option",{value:"solar_panel",children:"\u041f\u0430\u043d\u0435\u043b\u044c"}),(0,ft.jsx)("option",{value:"inverter",children:"\u0406\u043d\u0432\u0435\u0440\u0442\u043e\u0440"}),(0,ft.jsx)("option",{value:"battery",children:"\u0410\u041a\u0411"}),(0,ft.jsx)("option",{value:"logger",children:"\u041b\u043e\u0433\u0435\u0440"})]}),(0,ft.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ft.jsx)(oB,{label:"\u041f\u043e\u0442\u0443\u0436\u043d\u0456\u0441\u0442\u044c (\u043a\u0412\u0442)",type:"number",step:"0.01",icon:(0,ft.jsx)(Tc,{}),value:s.power_kw,onChange:e=>o({...s,power_kw:e.target.value})}),(0,ft.jsx)(oB,{label:"\u0412\u0438\u0440\u043e\u0431\u043d\u0438\u043a",icon:(0,ft.jsx)(Dc,{}),value:s.manufacturer,onChange:e=>o({...s,manufacturer:e.target.value})})]})]}),(0,ft.jsxs)("div",{className:"flex-none p-6 flex justify-end gap-3 bg-slate-50 border-t border-slate-100 pb-safe",children:[(0,ft.jsx)("button",{type:"button",onClick:n,className:"px-4 py-2 bg-white border border-slate-200 rounded-lg font-bold text-slate-600",children:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"}),(0,ft.jsx)("button",{type:"submit",disabled:i,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg font-bold shadow-lg",children:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"})]})]})})}function gB(e){var n,r,a,i,s;let{closeModal:o,item:l}=e;const[c,u]=(0,t.useState)(!1);let d="---";try{const e=JSON.parse(l.serial_number);d=Array.isArray(e)?e.join(", "):l.serial_number||"---"}catch(vV){d=l.serial_number||"---"}return(0,ft.jsx)(sB,{closeModal:o,size:"sm",children:(0,ft.jsxs)("div",{className:"flex flex-col h-full overflow-hidden",children:[(0,ft.jsx)("div",{className:"flex-none p-6 border-b border-slate-100",children:(0,ft.jsx)("h3",{className:"text-lg font-bold text-slate-800",children:null===(n=l.equipment)||void 0===n?void 0:n.name})}),(0,ft.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:["solar_panel"!==(null===(r=l.equipment)||void 0===r?void 0:r.category)&&(0,ft.jsxs)("div",{className:"flex flex-col border-b pb-4 gap-2",children:[(0,ft.jsx)("span",{className:"text-slate-500 text-sm",children:"\u0421\u0435\u0440\u0456\u0439\u043d\u0456 \u043d\u043e\u043c\u0435\u0440\u0438"}),(0,ft.jsx)("div",{className:"flex flex-wrap gap-2",children:d.split(", ").map((e,t)=>(0,ft.jsx)("span",{className:"bg-slate-100 text-slate-700 px-2 py-1 rounded text-xs font-mono border border-slate-200",children:e},t))})]}),"solar_panel"!==(null===(a=l.equipment)||void 0===a?void 0:a.category)&&"battery"!==(null===(i=l.equipment)||void 0===i?void 0:i.category)&&(l.login||l.password)&&(0,ft.jsxs)("div",{className:"bg-slate-50 p-3 rounded-lg space-y-2 border border-slate-100",children:[(0,ft.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,ft.jsx)("span",{className:"text-slate-500",children:"\u041b\u043e\u0433\u0456\u043d"}),(0,ft.jsx)("span",{className:"font-bold",children:l.login})]}),(0,ft.jsxs)("div",{className:"flex justify-between text-sm items-center",children:[(0,ft.jsx)("span",{className:"text-slate-500",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),(0,ft.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,ft.jsx)("span",{className:"font-mono",children:c?l.password:"\u2022\u2022\u2022\u2022\u2022\u2022"}),(0,ft.jsx)("button",{onClick:()=>u(!c),className:"text-slate-400",children:(0,ft.jsx)(cu,{})})]})]})]}),(0,ft.jsxs)("div",{className:"flex justify-between items-start pt-2 gap-4",children:[(0,ft.jsx)("span",{className:"text-slate-500 text-sm whitespace-nowrap",children:"\u0412\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0430\u043b\u044c\u043d\u0438\u0439"}),(0,ft.jsx)("span",{className:"font-bold text-indigo-600 text-right",children:(null===(s=l.employees)||void 0===s?void 0:s.name)||"---"})]})]}),(0,ft.jsx)("div",{className:"flex-none p-4 bg-slate-50 text-right pb-safe",children:(0,ft.jsx)("button",{onClick:o,className:"px-4 py-2 bg-white border border-slate-200 rounded-lg font-bold text-slate-600",children:"\u0417\u0430\u043a\u0440\u0438\u0442\u0438"})})]})})}function vB(e){let{closeModal:n,onSubmit:r,initialData:a,employees:i,loading:s}=e,o=[];try{const e=JSON.parse(a.serial_number);Array.isArray(e)?o=e:a.serial_number&&(o=[a.serial_number])}catch(vV){a.serial_number&&(o=[a.serial_number])}const[l,c]=(0,t.useState)({id:a.id,login:a.login||"",password:a.password||"",employee_custom_id:a.employee_custom_id||""}),[u,d]=(0,t.useState)(o),[h,f]=(0,t.useState)(!1),p=a.equipment,m=null===p||void 0===p?void 0:p.category,g=a.quantity||1,v="solar_panel"===m,y="inverter"===m||"logger"===m,x=(0,t.useCallback)(e=>{const{name:t,value:n}=e.target;c(e=>({...e,[t]:n}))},[]),b=(0,t.useCallback)(e=>{e.preventDefault();const t={...l,serial_number:JSON.stringify(u)};r(t)},[l,r,u]);return(0,ft.jsx)(sB,{closeModal:n,size:"lg",children:(0,ft.jsxs)("form",{onSubmit:b,className:"flex flex-col h-full overflow-hidden",children:[(0,ft.jsxs)("div",{className:"flex-none p-6 md:p-8 border-b border-slate-100",children:[(0,ft.jsx)("h3",{className:"text-xl font-bold text-slate-800 mb-1",children:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0434\u0435\u0442\u0430\u043b\u0456"}),(0,ft.jsxs)("div",{className:"flex items-center gap-2 text-sm text-indigo-600 font-medium",children:[(0,ft.jsx)("span",{className:"bg-indigo-50 px-2 py-0.5 rounded",children:null===p||void 0===p?void 0:p.name}),(0,ft.jsxs)("span",{className:"text-slate-400",children:["x",g," \u0448\u0442."]})]})]}),(0,ft.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 space-y-6",children:[!v&&(0,ft.jsx)(uB,{serials:u,onChange:d,max:g}),y&&(0,ft.jsxs)("div",{className:"bg-blue-50/50 p-4 rounded-xl border border-blue-100 space-y-4",children:[(0,ft.jsx)("p",{className:"font-bold text-blue-800 text-xs uppercase tracking-wider",children:"\u041e\u0431\u043b\u0456\u043a\u043e\u0432\u0456 \u0434\u0430\u043d\u0456"}),(0,ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ft.jsx)(oB,{name:"login",label:"\u041b\u043e\u0433\u0456\u043d",icon:(0,ft.jsx)(yd,{}),value:l.login,onChange:x}),(0,ft.jsx)(oB,{name:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c",icon:(0,ft.jsx)(Ou,{}),type:h?"text":"password",value:l.password,onChange:x,showPassword:h,onTogglePassword:()=>f(!h)})]})]}),(0,ft.jsxs)(lB,{name:"employee_custom_id",label:"\u0412\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0430\u043b\u044c\u043d\u0438\u0439 \u043f\u0440\u0430\u0446\u0456\u0432\u043d\u0438\u043a",icon:(0,ft.jsx)(kd,{}),value:l.employee_custom_id,onChange:x,children:[(0,ft.jsx)("option",{value:"",children:"\u041d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u043e"}),i.map(e=>(0,ft.jsx)("option",{value:e.custom_id,children:e.name},e.custom_id))]})]}),(0,ft.jsxs)("div",{className:"flex-none flex justify-end gap-3 p-6 bg-slate-50/50 rounded-b-2xl border-t border-slate-100 pb-safe",children:[(0,ft.jsx)("button",{type:"button",onClick:n,className:"px-5 py-2.5 bg-white border border-slate-200 text-slate-600 rounded-xl font-bold hover:bg-slate-50 transition",children:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"}),(0,ft.jsx)("button",{type:"submit",disabled:s,className:"px-5 py-2.5 rounded-xl font-bold shadow-lg transition flex items-center gap-2 bg-indigo-600 text-white hover:bg-indigo-700 hover:shadow-xl",children:s?"\u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043d\u044f...":"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"})]})]})})}const yB=e=>"number"!==typeof e?"$0.00":e.toLocaleString("en-US",{style:"currency",currency:"USD"}),xB=e=>{switch(e){case"Bank Transfer":return(0,ft.jsx)(vd,{className:"text-blue-500"});case"Cash":return(0,ft.jsx)(zu,{className:"text-green-500"});case"Card":return(0,ft.jsx)(Qc,{className:"text-purple-500"});default:return(0,ft.jsx)(Wu,{className:"text-gray-400"})}},bB=e=>{let{title:t,value:n,icon:r,color:a,isCurrency:i=!0}=e;return(0,ft.jsxs)("div",{className:`p-5 rounded-2xl border ${{red:"bg-red-50 text-red-600 border-red-100",green:"bg-emerald-50 text-emerald-600 border-emerald-100",indigo:"bg-indigo-50 text-indigo-600 border-indigo-100"}[a]} shadow-sm flex items-center gap-4`,children:[(0,ft.jsx)("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center text-white shadow-md ${{red:"bg-red-500",green:"bg-emerald-500",indigo:"bg-indigo-500"}[a]}`,children:(0,ft.jsx)(r,{className:"text-xl"})}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("p",{className:"text-xs font-bold uppercase tracking-wider opacity-70 mb-0.5",children:t}),(0,ft.jsx)("p",{className:"text-2xl font-extrabold",children:i?yB(n):n})]})]})},wB=e=>{let{installation:t}=e;const n=(null===t||void 0===t?void 0:t.total_cost)||0,r=(null===t||void 0===t?void 0:t.paid_amount)||0;let a={text:"\u041d\u0435\u0432\u0456\u0434\u043e\u043c\u043e",className:"bg-slate-100 text-slate-600"};return a=n-r<=0?{text:"\u041e\u043f\u043b\u0430\u0447\u0435\u043d\u043e",className:"bg-emerald-100 text-emerald-700 border-emerald-200"}:r>0?{text:"\u0427\u0430\u0441\u0442\u043a\u043e\u0432\u043e",className:"bg-blue-100 text-blue-700 border-blue-200"}:{text:"\u0411\u043e\u0440\u0433",className:"bg-red-100 text-red-700 border-red-200"},(0,ft.jsx)("span",{className:`px-2.5 py-1 rounded-full text-xs font-bold border ${a.className}`,children:a.text})},jB=e=>{var t,n;let{payment:r,onClick:a}=e;const i=r.installation,s=((null===i||void 0===i?void 0:i.total_cost)||0)-((null===i||void 0===i?void 0:i.paid_amount)||0);return(0,ft.jsxs)("div",{onClick:a,className:"bg-white rounded-xl shadow-sm border border-slate-200 p-4 flex flex-col gap-3 active:scale-[0.98] transition-transform cursor-pointer",children:[(0,ft.jsxs)("div",{className:"flex justify-between items-start",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("h4",{className:"font-bold text-slate-800 text-lg",children:yB(r.amount)}),(0,ft.jsxs)("p",{className:"text-xs text-slate-500 font-medium flex items-center gap-1 mt-1",children:[(0,ft.jsx)(Ic,{})," ",new Date(r.paid_at).toLocaleDateString("uk-UA")]})]}),(0,ft.jsx)(wB,{installation:i})]}),(0,ft.jsxs)("div",{className:"bg-slate-50 rounded-lg p-3 border border-slate-100",children:[(0,ft.jsx)("p",{className:"text-sm font-bold text-slate-700 mb-1",children:(null===(t=i.client)||void 0===t?void 0:t.company_name)||(null===(n=i.client)||void 0===n?void 0:n.name)}),(0,ft.jsxs)("p",{className:"text-xs text-slate-500",children:["\u041f\u0440\u043e\u0435\u043a\u0442: ",(0,ft.jsxs)("span",{className:"font-mono",children:[i.name||"---"," (#",i.custom_id,")"]})]})]}),(0,ft.jsxs)("div",{className:"flex justify-between items-center text-xs pt-2 border-t border-slate-100",children:[(0,ft.jsx)("span",{className:"text-slate-400",children:"\u0417\u0430\u0433\u0430\u043b\u044c\u043d\u0438\u0439 \u0431\u043e\u0440\u0433:"}),(0,ft.jsx)("span",{className:"font-bold "+(s>0?"text-red-500":"text-emerald-500"),children:s>0?yB(s):"0.00"})]}),r.comment&&(0,ft.jsxs)("div",{className:"flex items-start gap-2 text-xs text-slate-500 bg-yellow-50/50 p-2 rounded border border-yellow-100",children:[(0,ft.jsx)(Jc,{className:"mt-0.5 text-yellow-500 flex-shrink-0"}),(0,ft.jsx)("span",{className:"line-clamp-2",children:r.comment})]})]})},kB=e=>{var t,n;let{onClose:r,payment:a}=e;const i=a.installation,s=(null===i||void 0===i?void 0:i.total_cost)||0,o=s-((null===i||void 0===i?void 0:i.paid_amount)||0);return(0,ft.jsx)(hc.div,{className:"fixed inset-0 bg-black/60 z-[100] flex items-center justify-center p-4 sm:p-6",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:r,children:(0,ft.jsxs)(hc.div,{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl flex flex-col max-h-[85dvh] overflow-hidden relative",initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},onClick:e=>e.stopPropagation(),children:[(0,ft.jsxs)("div",{className:"flex-none p-5 border-b border-slate-100 flex justify-between items-start bg-slate-50/50",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("h3",{className:"text-xl font-bold text-slate-800",children:"\u0414\u0435\u0442\u0430\u043b\u0456 \u043f\u043b\u0430\u0442\u0435\u0436\u0443"}),(0,ft.jsx)("p",{className:"text-sm text-slate-500",children:new Date(a.paid_at).toLocaleDateString("uk-UA")})]}),(0,ft.jsx)("button",{onClick:r,className:"p-2 bg-white text-slate-400 hover:text-slate-600 rounded-full shadow-sm",children:(0,ft.jsx)(hd,{})})]}),(0,ft.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 overscroll-contain",children:[(0,ft.jsxs)("div",{className:"text-center",children:[(0,ft.jsx)("p",{className:"text-xs text-slate-500 uppercase font-bold tracking-wider mb-1",children:"\u0421\u0443\u043c\u0430 \u043f\u043b\u0430\u0442\u0435\u0436\u0443"}),(0,ft.jsx)("h2",{className:"text-4xl font-extrabold text-emerald-600",children:yB(a.amount)}),(0,ft.jsxs)("div",{className:"flex items-center justify-center gap-2 mt-3 text-sm text-slate-700 bg-slate-100 py-1.5 px-4 rounded-full w-fit mx-auto border border-slate-200",children:[xB(a.payment_method),(0,ft.jsx)("span",{className:"font-medium",children:(l=a.payment_method,{"Bank Transfer":"\u0411\u0430\u043d\u043a\u0456\u0432\u0441\u044c\u043a\u0438\u0439 \u043f\u0435\u0440\u0435\u043a\u0430\u0437",Cash:"\u0413\u043e\u0442\u0456\u0432\u043a\u0430",Card:"\u041a\u0430\u0440\u0442\u043a\u0430",Other:"\u0406\u043d\u0448\u0435"}[l]||l||"\u041d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u043e")})]})]}),(0,ft.jsx)("div",{className:"border-t border-slate-100"}),(0,ft.jsxs)("div",{className:"space-y-3",children:[(0,ft.jsxs)("h4",{className:"font-bold text-slate-800 text-xs uppercase flex items-center gap-2 tracking-wider",children:[(0,ft.jsx)(fu,{})," \u041f\u0440\u043e\u0435\u043a\u0442"]}),(0,ft.jsxs)("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-100 space-y-2",children:[(0,ft.jsxs)("div",{className:"flex justify-between",children:[(0,ft.jsx)("span",{className:"text-slate-500 text-sm",children:"\u041a\u043b\u0456\u0454\u043d\u0442"}),(0,ft.jsx)("span",{className:"font-bold text-slate-700 text-right",children:(null===(t=i.client)||void 0===t?void 0:t.company_name)||(null===(n=i.client)||void 0===n?void 0:n.name)})]}),(0,ft.jsxs)("div",{className:"flex justify-between",children:[(0,ft.jsx)("span",{className:"text-slate-500 text-sm",children:"\u041e\u0431'\u0454\u043a\u0442"}),(0,ft.jsxs)("span",{className:"font-medium text-slate-700 text-right",children:[i.name," (#",i.custom_id,")"]})]})]})]}),(0,ft.jsxs)("div",{className:"space-y-3",children:[(0,ft.jsxs)("h4",{className:"font-bold text-slate-800 text-xs uppercase flex items-center gap-2 tracking-wider",children:[(0,ft.jsx)(Qc,{})," \u0411\u0430\u043b\u0430\u043d\u0441 \u043f\u0440\u043e\u0435\u043a\u0442\u0443"]}),(0,ft.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,ft.jsxs)("div",{className:"p-3 bg-slate-50 rounded-xl border border-slate-100 text-center",children:[(0,ft.jsx)("p",{className:"text-[10px] uppercase text-slate-400 font-bold mb-1",children:"\u0412\u0441\u044c\u043e\u0433\u043e"}),(0,ft.jsx)("p",{className:"font-bold text-slate-800",children:yB(s)})]}),(0,ft.jsxs)("div",{className:"p-3 bg-red-50 rounded-xl border border-red-100 text-center",children:[(0,ft.jsx)("p",{className:"text-[10px] uppercase text-red-400 font-bold mb-1",children:"\u0411\u043e\u0440\u0433"}),(0,ft.jsx)("p",{className:"font-bold text-red-600",children:yB(o>0?o:0)})]})]})]}),a.comment&&(0,ft.jsxs)("div",{className:"space-y-2",children:[(0,ft.jsxs)("h4",{className:"font-bold text-slate-800 text-xs uppercase flex items-center gap-2 tracking-wider",children:[(0,ft.jsx)(Jc,{})," \u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440"]}),(0,ft.jsx)("div",{className:"bg-yellow-50 p-4 rounded-xl border border-yellow-100 text-slate-700 text-sm italic leading-relaxed whitespace-pre-wrap",children:a.comment})]})]}),(0,ft.jsx)("div",{className:"flex-none p-4 border-t border-slate-100 bg-slate-50 pb-safe",children:(0,ft.jsx)("button",{onClick:r,className:"w-full py-3.5 bg-white border border-slate-200 text-slate-700 font-bold rounded-xl shadow-sm hover:bg-slate-50 active:scale-95 transition-transform",children:"\u0417\u0430\u043a\u0440\u0438\u0442\u0438"})})]})});var l},NB=e=>{let{onClose:n,installations:r,onSuccess:a,showToast:i}=e;const[s,o]=(0,t.useState)({installation_custom_id:"",amount:"",paid_at:(new Date).toISOString().split("T")[0],payment_method:"Bank Transfer",comment:""}),[l,c]=(0,t.useState)(""),[u,d]=(0,t.useState)({}),[h,f]=(0,t.useState)(!1),p=(0,t.useMemo)(()=>{if(!l)return[];const e=l.toLowerCase();return r.filter(t=>{var n;return t.custom_id.toString().includes(e)||t.name&&t.name.toLowerCase().includes(e)||(null===(n=t.client)||void 0===n?void 0:n.name)&&t.client.name.toLowerCase().includes(e)})},[r,l]);return(0,ft.jsx)(hc.div,{className:"fixed inset-0 bg-black/60 z-[100] flex items-center justify-center p-4 sm:p-6",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:n,children:(0,ft.jsxs)(hc.div,{className:"bg-white rounded-2xl w-full max-w-lg shadow-2xl flex flex-col max-h-[90dvh] overflow-hidden",initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},onClick:e=>e.stopPropagation(),children:[(0,ft.jsxs)("div",{className:"flex-none p-5 border-b border-slate-100 flex justify-between items-center bg-white",children:[(0,ft.jsx)("h2",{className:"text-xl font-bold text-slate-800",children:"\u041d\u043e\u0432\u0438\u0439 \u043f\u043b\u0430\u0442\u0456\u0436"}),(0,ft.jsx)("button",{onClick:n,className:"p-2 bg-slate-50 text-slate-400 hover:text-slate-600 rounded-full",children:(0,ft.jsx)(hd,{})})]}),(0,ft.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-5 bg-slate-50/30",children:[(0,ft.jsxs)("div",{className:"relative",children:[(0,ft.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5 ml-1",children:"\u041e\u0431'\u0454\u043a\u0442"}),(0,ft.jsxs)("div",{className:"relative",children:[(0,ft.jsx)(Xu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),(0,ft.jsx)("input",{type:"text",value:l,onChange:e=>{c(e.target.value),s.installation_custom_id&&o(e=>({...e,installation_custom_id:""}))},placeholder:"\u041f\u043e\u0448\u0443\u043a (ID, \u041d\u0430\u0437\u0432\u0430, \u041a\u043b\u0456\u0454\u043d\u0442)...",className:"w-full border rounded-xl pl-11 pr-4 py-3.5 text-base sm:text-sm focus:ring-2 focus:ring-indigo-500 outline-none transition bg-white "+(u.installation_custom_id?"border-red-500":"border-slate-200")})]}),l&&!s.installation_custom_id&&(0,ft.jsx)("div",{className:"absolute z-20 w-full bg-white border border-slate-200 rounded-xl mt-1 shadow-xl max-h-48 overflow-y-auto",children:p.length>0?p.map(e=>{var t,n;return(0,ft.jsxs)("button",{type:"button",onClick:()=>(e=>{o(t=>({...t,installation_custom_id:e.custom_id})),c(`#${e.custom_id} - ${e.name||"\u0411\u0435\u0437 \u043d\u0430\u0437\u0432\u0438"}`),d(e=>({...e,installation_custom_id:""}))})(e),className:"w-full px-4 py-3 text-left hover:bg-indigo-50 border-b border-slate-50 last:border-0",children:[(0,ft.jsxs)("div",{className:"font-bold text-slate-800 text-sm",children:["#",e.custom_id," - ",e.name]}),(0,ft.jsx)("div",{className:"text-xs text-slate-500",children:(null===(t=e.client)||void 0===t?void 0:t.company_name)||(null===(n=e.client)||void 0===n?void 0:n.name)})]},e.custom_id)}):(0,ft.jsx)("div",{className:"p-4 text-sm text-slate-400 text-center",children:"\u041d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e"})}),u.installation_custom_id&&(0,ft.jsx)("p",{className:"text-red-500 text-xs mt-1 font-bold ml-1",children:u.installation_custom_id})]}),(0,ft.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5 ml-1",children:"\u0421\u0443\u043c\u0430 ($)"}),(0,ft.jsxs)("div",{className:"relative",children:[(0,ft.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none",children:"$"}),(0,ft.jsx)("input",{type:"number",min:"0",step:"0.01",value:s.amount,onChange:e=>o(t=>({...t,amount:e.target.value})),className:"w-full border rounded-xl pl-8 pr-4 py-3.5 text-base sm:text-sm outline-none focus:ring-2 focus:ring-indigo-500 "+(u.amount?"border-red-500":"border-slate-200"),placeholder:"0.00"})]})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5 ml-1",children:"\u0414\u0430\u0442\u0430"}),(0,ft.jsx)("input",{type:"date",value:s.paid_at,onChange:e=>o(t=>({...t,paid_at:e.target.value})),className:"w-full border border-slate-200 rounded-xl px-4 py-3.5 text-base sm:text-sm outline-none focus:ring-2 focus:ring-indigo-500 bg-white"})]})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5 ml-1",children:"\u041c\u0435\u0442\u043e\u0434 \u043e\u043f\u043b\u0430\u0442\u0438"}),(0,ft.jsxs)("select",{value:s.payment_method,onChange:e=>o(t=>({...t,payment_method:e.target.value})),className:"w-full border border-slate-200 rounded-xl px-4 py-3.5 text-base sm:text-sm outline-none focus:ring-2 focus:ring-indigo-500 bg-white appearance-none",children:[(0,ft.jsx)("option",{value:"Bank Transfer",children:"\u0411\u0430\u043d\u043a\u0456\u0432\u0441\u044c\u043a\u0438\u0439 \u043f\u0435\u0440\u0435\u043a\u0430\u0437"}),(0,ft.jsx)("option",{value:"Cash",children:"\u0413\u043e\u0442\u0456\u0432\u043a\u0430"}),(0,ft.jsx)("option",{value:"Card",children:"\u041a\u0430\u0440\u0442\u043a\u0430"}),(0,ft.jsx)("option",{value:"Other",children:"\u0406\u043d\u0448\u0435"})]})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5 ml-1",children:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440"}),(0,ft.jsx)("textarea",{rows:"3",value:s.comment,onChange:e=>o(t=>({...t,comment:e.target.value})),className:"w-full border border-slate-200 rounded-xl p-4 text-base sm:text-sm focus:ring-2 focus:ring-indigo-500 outline-none resize-none bg-white",placeholder:"\u041f\u0440\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f \u043f\u043b\u0430\u0442\u0435\u0436\u0443..."})]})]}),(0,ft.jsxs)("div",{className:"flex-none p-6 bg-white border-t border-slate-100 flex justify-end gap-3 pb-safe",children:[(0,ft.jsx)("button",{type:"button",onClick:n,disabled:h,className:"px-5 py-2.5 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl font-bold transition",children:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"}),(0,ft.jsxs)("button",{type:"button",onClick:async e=>{e.preventDefault();const t={};if(s.installation_custom_id||(t.installation_custom_id="\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u043e\u0431'\u0454\u043a\u0442"),(!s.amount||parseFloat(s.amount)<=0)&&(t.amount="\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0441\u0443\u043c\u0443"),Object.keys(t).length>0)d(t);else{f(!0);try{const{error:e}=await Tp.from("payment_history").insert([{installation_custom_id:parseInt(s.installation_custom_id),amount:parseFloat(s.amount),paid_at:s.paid_at,payment_method:s.payment_method,comment:s.comment||null}]);if(e)throw e;i("\u041f\u043b\u0430\u0442\u0456\u0436 \u0434\u043e\u0434\u0430\u043d\u043e!","success"),a(),n()}catch(r){i(r.message,"error")}finally{f(!1)}}},disabled:h,className:"px-5 py-2.5 bg-emerald-600 hover:bg-emerald-700 text-white rounded-xl font-bold shadow-lg transition flex items-center gap-2",children:[h?(0,ft.jsx)(sd,{className:"animate-spin"}):(0,ft.jsx)(Hu,{})," ",(0,ft.jsx)("span",{children:"\u0414\u043e\u0434\u0430\u0442\u0438"})]})]})]})})},_B=e=>{let{message:n,type:r,onClose:a}=e;return(0,t.useEffect)(()=>{const e=setTimeout(a,4e3);return()=>clearTimeout(e)},[a]),(0,ft.jsxs)(hc.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},className:"fixed top-4 left-4 right-4 sm:left-auto sm:right-6 sm:w-auto z-[200] flex items-center gap-3 p-4 rounded-xl shadow-2xl text-white font-medium "+("error"===r?"bg-red-500":"bg-emerald-500"),children:[(0,ft.jsx)("div",{className:"text-xl",children:"error"===r?(0,ft.jsx)(iu,{}):(0,ft.jsx)(Fc,{})}),(0,ft.jsx)("p",{className:"text-sm flex-1",children:n}),(0,ft.jsx)("button",{onClick:a,className:"opacity-80 hover:opacity-100",children:(0,ft.jsx)(hd,{})})]})};function SB(){re();const[e,n]=(0,t.useState)([]),[r,a]=(0,t.useState)([]),[i,s]=(0,t.useState)(!0),[o,l]=(0,t.useState)(""),[c,u]=(0,t.useState)("all"),[d,h]=(0,t.useState)({start:"",end:""}),[f,p]=(0,t.useState)({key:"paid_at",direction:"descending"}),[m,g]=(0,t.useState)(!1),[v,y]=(0,t.useState)(null),[x,b]=(0,t.useState)(null),w=(0,t.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";return b({id:Date.now(),message:e,type:t})},[]),j=(0,t.useCallback)(async()=>{s(!0);try{const[e,t]=await Promise.all([Tp.from("payment_history").select("*, installation:installations!inner(custom_id, name, total_cost, paid_amount, notes, client:clients(name, company_name))").order("paid_at",{ascending:!1}),Tp.from("installations").select("custom_id, name, client:clients(name, company_name)")]);if(e.error)throw e.error;if(t.error)throw t.error;n(e.data||[]),a(t.data||[])}catch(e){w(`\u041f\u043e\u043c\u0438\u043b\u043a\u0430: ${e.message}`,"error")}finally{s(!1)}},[w]);(0,t.useEffect)(()=>{j()},[j]);const k=(0,t.useMemo)(()=>{let t=e.filter(e=>{var t,n,r,a,i,s,l,u,h;const f=o.toLowerCase(),p=(null===(t=e.installation)||void 0===t||null===(n=t.client)||void 0===n?void 0:n.name)||"",m=(null===(r=e.installation)||void 0===r||null===(a=r.client)||void 0===a?void 0:a.company_name)||"",g=(null===(i=e.installation)||void 0===i?void 0:i.name)||"",v=(null===(s=e.installation)||void 0===s||null===(l=s.custom_id)||void 0===l?void 0:l.toString())||"",y=p.toLowerCase().includes(f)||m.toLowerCase().includes(f)||g.toLowerCase().includes(f)||v.includes(f),x=new Date(e.paid_at),b=d.start?new Date(d.start):null,w=d.end?new Date(d.end):null;w&&w.setHours(23,59,59,999);const j=(!b||x>=b)&&(!w||x<=w),k=((null===(u=e.installation)||void 0===u?void 0:u.total_cost)||0)-((null===(h=e.installation)||void 0===h?void 0:h.paid_amount)||0);let N=!0;return"debtors"===c&&(N=k>0),"paid"===c&&(N=k<=0),y&&j&&N});return f.key&&t.sort((e,t)=>{let n=e[f.key],r=t[f.key];var a,i,s,o,l,c,u,d;"client"===f.key&&(n=(null===(a=e.installation)||void 0===a||null===(i=a.client)||void 0===i?void 0:i.company_name)||(null===(s=e.installation)||void 0===s||null===(o=s.client)||void 0===o?void 0:o.name),r=(null===(l=t.installation)||void 0===l||null===(c=l.client)||void 0===c?void 0:c.company_name)||(null===(u=t.installation)||void 0===u||null===(d=u.client)||void 0===d?void 0:d.name));return n<r?"ascending"===f.direction?-1:1:n>r?"ascending"===f.direction?1:-1:0}),t},[e,o,c,d,f]),N=(0,t.useMemo)(()=>{const e=new Map;let t=0;k.forEach(n=>{t+=n.amount,n.installation&&e.set(n.installation.custom_id,n.installation)});let n=0;return e.forEach(e=>{const t=(e.total_cost||0)-(e.paid_amount||0);t>0&&(n+=t)}),{count:k.length,totalPaid:t,totalDebt:n}},[k]),_=e=>{p(t=>({key:e,direction:t.key===e&&"ascending"===t.direction?"descending":"ascending"}))};return(0,ft.jsx)(Mp,{children:(0,ft.jsxs)("div",{className:"p-4 sm:p-8 space-y-6 max-w-[1600px] mx-auto pb-safe min-h-[calc(100dvh-80px)] flex flex-col",children:[(0,ft.jsxs)("div",{className:"flex flex-col gap-4 flex-none",children:[(0,ft.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsxs)("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 tracking-tight flex items-center gap-2",children:[(0,ft.jsx)(Qc,{className:"text-emerald-600"})," \u0424\u0456\u043d\u0430\u043d\u0441\u0438"]}),(0,ft.jsx)("p",{className:"text-slate-500 text-sm mt-1",children:"\u0406\u0441\u0442\u043e\u0440\u0456\u044f \u043d\u0430\u0434\u0445\u043e\u0434\u0436\u0435\u043d\u044c \u0442\u0430 \u0437\u0430\u0431\u043e\u0440\u0433\u043e\u0432\u0430\u043d\u0456\u0441\u0442\u044c"})]}),(0,ft.jsxs)("button",{onClick:()=>g(!0),className:"hidden sm:flex items-center justify-center gap-2 px-5 py-2.5 bg-emerald-600 text-white rounded-xl font-bold shadow-lg hover:bg-emerald-700 active:scale-95 transition-all w-full sm:w-auto",children:[(0,ft.jsx)(Hu,{})," ",(0,ft.jsx)("span",{children:"\u041d\u043e\u0432\u0438\u0439 \u043f\u043b\u0430\u0442\u0456\u0436"})]})]}),(0,ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ft.jsx)(bB,{title:"\u041d\u0430\u0434\u0445\u043e\u0434\u0436\u0435\u043d\u043d\u044f (\u0412\u0438\u0431\u0456\u0440\u043a\u0430)",value:N.totalPaid,icon:eu,color:"green"}),(0,ft.jsx)(bB,{title:"\u0417\u0430\u0433\u0430\u043b\u044c\u043d\u0438\u0439 \u0431\u043e\u0440\u0433 (\u0412\u0438\u0431\u0456\u0440\u043a\u0430)",value:N.totalDebt,icon:fu,color:"red"}),(0,ft.jsx)(bB,{title:"\u0422\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0456\u0439",value:N.count,icon:Ku,color:"indigo",isCurrency:!1})]}),(0,ft.jsxs)("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-slate-200 space-y-4",children:[(0,ft.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 justify-between",children:[(0,ft.jsxs)("div",{className:"relative flex-grow max-w-md",children:[(0,ft.jsx)(Xu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),(0,ft.jsx)("input",{type:"text",placeholder:"\u041f\u043e\u0448\u0443\u043a (\u041a\u043b\u0456\u0454\u043d\u0442, ID, \u0421\u0443\u043c\u0430)...",value:o,onChange:e=>l(e.target.value),className:"w-full pl-11 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-emerald-500 outline-none text-sm transition-all"})]}),(0,ft.jsx)("div",{className:"flex bg-slate-100 p-1 rounded-xl w-full md:w-auto",children:[{id:"all",l:"\u0412\u0441\u0456"},{id:"debtors",l:"\u0411\u043e\u0440\u0436\u043d\u0438\u043a\u0438"},{id:"paid",l:"\u041e\u043f\u043b\u0430\u0447\u0435\u043d\u0456"}].map(e=>(0,ft.jsx)("button",{onClick:()=>u(e.id),className:"flex-1 px-4 py-2 rounded-lg text-xs font-bold transition-all "+(c===e.id?"bg-white text-emerald-700 shadow-sm":"text-slate-500 hover:text-slate-700"),children:e.l},e.id))})]}),(0,ft.jsxs)("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-3 text-sm text-slate-600 border-t border-slate-100 pt-4",children:[(0,ft.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ft.jsx)("span",{className:"font-bold text-slate-700",children:"\u041f\u0435\u0440\u0456\u043e\u0434:"}),(0,ft.jsx)("input",{type:"date",value:d.start,onChange:e=>h(t=>({...t,start:e.target.value})),className:"border border-slate-200 rounded-lg px-3 py-1.5 bg-white outline-none focus:border-emerald-500 text-xs"}),(0,ft.jsx)("span",{className:"text-slate-400",children:"\u2014"}),(0,ft.jsx)("input",{type:"date",value:d.end,onChange:e=>h(t=>({...t,end:e.target.value})),className:"border border-slate-200 rounded-lg px-3 py-1.5 bg-white outline-none focus:border-emerald-500 text-xs"})]}),(d.start||d.end)&&(0,ft.jsx)("button",{onClick:()=>h({start:"",end:""}),className:"text-red-600 hover:bg-red-50 px-3 py-1.5 rounded-lg text-xs font-bold transition-colors ml-auto sm:ml-0 bg-red-50/50 border border-red-100",children:"\u0421\u043a\u0438\u043d\u0443\u0442\u0438"})]})]})]}),(0,ft.jsx)("div",{className:"flex-1",children:i?(0,ft.jsx)("div",{className:"text-center py-20 text-slate-400",children:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f..."}):0===k.length?(0,ft.jsx)("div",{className:"text-center py-20 text-slate-400 bg-white rounded-2xl border border-dashed border-slate-200",children:"\u041f\u043b\u0430\u0442\u0435\u0436\u0456\u0432 \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e"}):(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)("div",{className:"hidden md:block bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:(0,ft.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,ft.jsx)("thead",{className:"bg-slate-50 border-b border-slate-200 text-xs uppercase text-slate-500 font-bold",children:(0,ft.jsxs)("tr",{children:[(0,ft.jsxs)("th",{className:"p-4 cursor-pointer hover:bg-slate-100",onClick:()=>_("paid_at"),children:["\u0414\u0430\u0442\u0430 ",(0,ft.jsx)(id,{className:"inline ml-1"})]}),(0,ft.jsxs)("th",{className:"p-4 cursor-pointer hover:bg-slate-100",onClick:()=>_("client"),children:["\u041a\u043b\u0456\u0454\u043d\u0442 ",(0,ft.jsx)(id,{className:"inline ml-1"})]}),(0,ft.jsxs)("th",{className:"p-4 cursor-pointer hover:bg-slate-100",onClick:()=>_("amount"),children:["\u0421\u0443\u043c\u0430 ",(0,ft.jsx)(id,{className:"inline ml-1"})]}),(0,ft.jsx)("th",{className:"p-4",children:"\u041f\u0440\u043e\u0435\u043a\u0442"}),(0,ft.jsx)("th",{className:"p-4 text-center",children:"\u0421\u0442\u0430\u0442\u0443\u0441 \u0431\u043e\u0440\u0433\u0443"}),(0,ft.jsx)("th",{className:"p-4 text-center",children:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440"})]})}),(0,ft.jsx)("tbody",{className:"divide-y divide-slate-100 text-sm",children:k.map(e=>{var t,n,r,a,i,s;return(0,ft.jsxs)("tr",{onClick:()=>y(e),className:"hover:bg-slate-50/50 transition-colors cursor-pointer",children:[(0,ft.jsx)("td",{className:"p-4 text-slate-600 font-mono",children:new Date(e.paid_at).toLocaleDateString("uk-UA")}),(0,ft.jsx)("td",{className:"p-4 font-bold text-slate-800",children:(null===(t=e.installation)||void 0===t||null===(n=t.client)||void 0===n?void 0:n.company_name)||(null===(r=e.installation)||void 0===r||null===(a=r.client)||void 0===a?void 0:a.name)}),(0,ft.jsx)("td",{className:"p-4 font-bold text-emerald-600",children:yB(e.amount)}),(0,ft.jsxs)("td",{className:"p-4 text-slate-600",children:[(0,ft.jsx)("div",{children:null===(i=e.installation)||void 0===i?void 0:i.name}),(0,ft.jsxs)("div",{className:"text-xs text-slate-400 font-mono",children:["#",null===(s=e.installation)||void 0===s?void 0:s.custom_id]})]}),(0,ft.jsx)("td",{className:"p-4 text-center",children:(0,ft.jsx)(wB,{installation:e.installation})}),(0,ft.jsx)("td",{className:"p-4 text-center",children:e.comment&&(0,ft.jsx)(Jc,{className:"inline text-slate-400"})})]},e.id)})})]})}),(0,ft.jsx)("div",{className:"md:hidden space-y-3",children:k.map(e=>(0,ft.jsx)(jB,{payment:e,onClick:()=>y(e)},e.id))})]})}),(0,ft.jsx)("div",{className:"sm:hidden fixed bottom-6 right-6 z-40",children:(0,ft.jsx)("button",{onClick:()=>g(!0),className:"w-14 h-14 bg-emerald-600 hover:bg-emerald-700 text-white rounded-full flex items-center justify-center shadow-2xl active:scale-90 transition-transform",children:(0,ft.jsx)(Hu,{size:24})})}),(0,ft.jsxs)(Et,{children:[m&&(0,ft.jsx)(NB,{onClose:()=>g(!1),installations:r,onSuccess:j,showToast:w}),v&&(0,ft.jsx)(kB,{onClose:()=>y(null),payment:v}),x&&(0,ft.jsx)(_B,{...x,onClose:()=>b(null)},x.id)]})]})})}const CB=X$("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),OB=X$("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),EB=X$("coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]),PB=X$("battery-charging",[["path",{d:"m11 7-3 5h4l-3 5",key:"b4a64w"}],["path",{d:"M14.856 6H16a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.935",key:"lre1cr"}],["path",{d:"M22 14v-4",key:"14q9d5"}],["path",{d:"M5.14 18H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2.936",key:"13q5k0"}]]),TB=X$("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),AB=X$("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),MB=X$("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),DB=X$("rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]),zB=X$("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),IB=X$("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),LB=X$("brain-circuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]),RB=X$("leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]),$B=X$("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),FB=_p("https://dymcoyjwtytfiszvncrn.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR5bWNveWp3dHl0ZmlzenZuY3JuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc2NjEzMDAsImV4cCI6MjA3MzIzNzMwMH0.FGNCLp94xkq-Rdr0NOUCX2YCe1-1y_RpEEww43QzV8s"),BB=[41.74,53.67,95.43,143.36,145.98,157.96,157.96,154.97,130.85,65.61,47.63,35.83],VB=["\u0421\u0456\u0447","\u041b\u044e\u0442","\u0411\u0435\u0440","\u041a\u0432\u0456","\u0422\u0440\u0430","\u0427\u0435\u0440","\u041b\u0438\u043f","\u0421\u0435\u0440","\u0412\u0435\u0440","\u0416\u043e\u0432","\u041b\u0438\u0441","\u0413\u0440\u0443"],UB=4.32,HB=8.96,qB=.13,WB=47,KB=["\u0412\u0456\u043d\u043d\u0438\u0446\u044c\u043a\u0430 \u043e\u0431\u043b.","\u0412\u043e\u043b\u0438\u043d\u0441\u044c\u043a\u0430 \u043e\u0431\u043b.","\u0414\u043d\u0456\u043f\u0440\u043e\u043f\u0435\u0442\u0440\u043e\u0432\u0441\u044c\u043a\u0430 \u043e\u0431\u043b.","\u0414\u043e\u043d\u0435\u0446\u044c\u043a\u0430 \u043e\u0431\u043b.","\u0416\u0438\u0442\u043e\u043c\u0438\u0440\u0441\u044c\u043a\u0430 \u043e\u0431\u043b.","\u0417\u0430\u043a\u0430\u0440\u043f\u0430\u0442\u0441\u044c\u043a\u0430 \u043e\u0431\u043b.","\u0417\u0430\u043f\u043e\u0440\u0456\u0437\u044c\u043a\u0430 \u043e\u0431\u043b.","\u0406\u0432\u0430\u043d\u043e-\u0424\u0440\u0430\u043d\u043a\u0456\u0432\u0441\u044c\u043a\u0430 \u043e\u0431\u043b.","\u041a\u0438\u0457\u0432\u0441\u044c\u043a\u0430 \u043e\u0431\u043b.","\u041a\u0456\u0440\u043e\u0432\u043e\u0433\u0440\u0430\u0434\u0441\u044c\u043a\u0430 \u043e\u0431\u043b.","\u041b\u0443\u0433\u0430\u043d\u0441\u044c\u043a\u0430 \u043e\u0431\u043b.","\u041b\u044c\u0432\u0456\u0432\u0441\u044c\u043a\u0430 \u043e\u0431\u043b.","\u041c\u0438\u043a\u043e\u043b\u0430\u0457\u0432\u0441\u044c\u043a\u0430 \u043e\u0431\u043b.","\u041e\u0434\u0435\u0441\u044c\u043a\u0430 \u043e\u0431\u043b.","\u041f\u043e\u043b\u0442\u0430\u0432\u0441\u044c\u043a\u0430 \u043e\u0431\u043b.","\u0420\u0456\u0432\u043d\u0435\u043d\u0441\u044c\u043a\u0430 \u043e\u0431\u043b.","\u0421\u0443\u043c\u0441\u044c\u043a\u0430 \u043e\u0431\u043b.","\u0422\u0435\u0440\u043d\u043e\u043f\u0456\u043b\u044c\u0441\u044c\u043a\u0430 \u043e\u0431\u043b.","\u0425\u0430\u0440\u043a\u0456\u0432\u0441\u044c\u043a\u0430 \u043e\u0431\u043b.","\u0425\u0435\u0440\u0441\u043e\u043d\u0441\u044c\u043a\u0430 \u043e\u0431\u043b.","\u0425\u043c\u0435\u043b\u044c\u043d\u0438\u0446\u044c\u043a\u0430 \u043e\u0431\u043b.","\u0427\u0435\u0440\u043a\u0430\u0441\u044c\u043a\u0430 \u043e\u0431\u043b.","\u0427\u0435\u0440\u043d\u0456\u0432\u0435\u0446\u044c\u043a\u0430 \u043e\u0431\u043b.","\u0427\u0435\u0440\u043d\u0456\u0433\u0456\u0432\u0441\u044c\u043a\u0430 \u043e\u0431\u043b.","\u043c. \u041a\u0438\u0457\u0432"],GB=e=>{let{children:t,...n}=e;return(0,ft.jsxs)("div",{className:"relative",children:[(0,ft.jsx)("select",{...n,className:"w-full p-3 border border-gray-300 rounded-lg appearance-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white transition-colors",children:t}),(0,ft.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:(0,ft.jsx)("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:(0,ft.jsx)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})},YB=t.memo(e=>{let{label:t,error:n,children:r}=e;return(0,ft.jsxs)("div",{className:"space-y-1.5",children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:t}),r,n&&(0,ft.jsxs)("p",{className:"text-sm text-red-600 flex items-center gap-1.5 pt-1",children:[(0,ft.jsx)(J$,{size:16}),n]})]})}),XB=e=>{let{text:t}=e;return(0,ft.jsxs)("div",{className:"group relative flex items-center",children:[(0,ft.jsx)(CB,{size:16,className:"text-white/70 cursor-pointer hover:text-white transition-colors"}),(0,ft.jsx)("div",{className:"absolute bottom-full right-0 mb-2 w-64 p-2 bg-gray-800 text-white text-xs rounded-md opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10 pointer-events-none",children:t})]})},JB=e=>{let{icon:t,title:n,value:r,unit:a,gradient:i,infoText:s,isInfoCard:o=!1,children:l,className:c=""}=e;return(0,ft.jsxs)("div",{className:`p-6 rounded-xl text-white shadow-lg flex flex-col h-full transition-all hover:scale-105 hover:shadow-xl ${i} ${c}`,children:[(0,ft.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,ft.jsx)("div",{className:"w-fit bg-white/20 p-3 rounded-full backdrop-blur-sm",children:t}),s&&(0,ft.jsx)(XB,{text:s})]}),(0,ft.jsxs)("div",{className:"flex-grow flex flex-col justify-center text-center",children:[(0,ft.jsx)("p",{className:"text-base font-medium opacity-90 mb-2",children:n}),o?(0,ft.jsx)("div",{className:"mt-2 text-sm opacity-90",children:l}):(0,ft.jsxs)("p",{className:"text-3xl font-bold",children:[r," ",(0,ft.jsx)("span",{className:"text-xl font-normal opacity-80",children:a})]})]})]})},ZB=e=>{let{value:t,onChange:n,error:r}=e;return(0,ft.jsx)(YB,{label:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443",error:r,children:(0,ft.jsxs)("div",{className:"flex items-center",children:[(0,ft.jsx)("span",{className:"p-3 border border-r-0 border-gray-300 bg-gray-50 rounded-l-lg text-gray-600 font-medium",children:"+380"}),(0,ft.jsx)("input",{type:"tel",value:t,onChange:n,placeholder:"XX XXX XX XX",className:"w-full p-3 border border-gray-300 rounded-r-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",maxLength:"9"})]})})},QB=e=>{let{cx:t,cy:n,midAngle:r,outerRadius:a,percent:i,name:s,value:o}=e;if(i<.05)return null;const l=Math.PI/180,c=1.4*a,u=t+c*Math.cos(-r*l),d=n+c*Math.sin(-r*l);return(0,ft.jsxs)("text",{x:u,y:d,fill:"#374151",textAnchor:u>t?"start":"end",dominantBaseline:"central",className:"text-xs font-medium",children:[(0,ft.jsx)("tspan",{x:u,dy:"0em",className:"font-bold text-sm",children:`${(100*i).toFixed(0)}%`}),(0,ft.jsx)("tspan",{x:u,dy:"1.2em",className:"text-xs",children:s}),(0,ft.jsx)("tspan",{x:u,dy:"2.2em",className:"text-xs opacity-80",children:`${Math.round(o)} \u043a\u0412\u0442\u22c5\u0433\u043e\u0434`})]})},eV=e=>{let{stationType:t,greenTariff:n,results:r}=e;const a=`${t}-${n}`,i={"\u041c\u0435\u0440\u0435\u0436\u0435\u0432\u0430-\u041d\u0456":{title:"\u041f\u0435\u0440\u0435\u0432\u0430\u0433\u0438 \u043c\u0435\u0440\u0435\u0436\u0435\u0432\u043e\u0457 \u0441\u0442\u0430\u043d\u0446\u0456\u0457 \u0434\u043b\u044f \u0441\u0435\u0431\u0435",icon:(0,ft.jsx)(OB,{className:"inline-block mr-2 text-blue-600"}),text:"\u0422\u0430\u043a\u0430 \u0441\u0442\u0430\u043d\u0446\u0456\u044f \u043f\u0440\u0430\u0446\u044e\u0454 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e \u0437 \u043c\u0435\u0440\u0435\u0436\u0435\u044e, \u0449\u043e\u0431 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e \u043f\u043e\u043a\u0440\u0438\u0442\u0438 \u0432\u0430\u0448\u0435 \u0432\u043b\u0430\u0441\u043d\u0435 \u0441\u043f\u043e\u0436\u0438\u0432\u0430\u043d\u043d\u044f \u0432\u0434\u0435\u043d\u044c. \u0426\u0435 \u043d\u0430\u0439\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0456\u0448\u0438\u0439 \u0441\u043f\u043e\u0441\u0456\u0431 \u0441\u0443\u0442\u0442\u0454\u0432\u043e \u0437\u043c\u0435\u043d\u0448\u0438\u0442\u0438 \u0440\u0430\u0445\u0443\u043d\u043a\u0438 \u0437\u0430 \u0435\u043b\u0435\u043a\u0442\u0440\u043e\u0435\u043d\u0435\u0440\u0433\u0456\u044e, \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u044e\u0447\u0438 \u0441\u043e\u043d\u044f\u0447\u043d\u0443 \u0435\u043d\u0435\u0440\u0433\u0456\u044e \u0432 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u043c\u0443 \u0447\u0430\u0441\u0456.",color:"from-blue-500 to-cyan-500"},"\u041c\u0435\u0440\u0435\u0436\u0435\u0432\u0430-\u0422\u0430\u043a":{title:"\u041f\u0435\u0440\u0435\u0432\u0430\u0433\u0438 \u043c\u0435\u0440\u0435\u0436\u0435\u0432\u043e\u0457 \u0441\u0442\u0430\u043d\u0446\u0456\u0457 \u0437 '\u0437\u0435\u043b\u0435\u043d\u0438\u043c \u0442\u0430\u0440\u0438\u0444\u043e\u043c'",icon:(0,ft.jsx)(EB,{className:"inline-block mr-2 text-green-600"}),text:"\u0426\u0435 \u0432\u0430\u0448 \u0448\u043b\u044f\u0445 \u0434\u043e \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0457 \u0444\u0456\u043d\u0430\u043d\u0441\u043e\u0432\u043e\u0457 \u0432\u0456\u0434\u0434\u0430\u0447\u0456. \u0421\u0442\u0430\u043d\u0446\u0456\u044f \u043d\u0435 \u0442\u0456\u043b\u044c\u043a\u0438 \u043f\u043e\u043a\u0440\u0438\u0432\u0430\u0454 \u0432\u0430\u0448\u0435 \u0441\u043f\u043e\u0436\u0438\u0432\u0430\u043d\u043d\u044f, \u0430\u043b\u0435 \u0439 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u043d\u043e \u043f\u0440\u043e\u0434\u0430\u0454 \u0432\u0441\u0456 \u043d\u0430\u0434\u043b\u0438\u0448\u043a\u0438 \u0432 \u043c\u0435\u0440\u0435\u0436\u0443. \u0406\u0434\u0435\u0430\u043b\u044c\u043d\u0438\u0439 \u0432\u0438\u0431\u0456\u0440 \u0434\u043b\u044f \u0448\u0432\u0438\u0434\u043a\u043e\u0457 \u043e\u043a\u0443\u043f\u043d\u043e\u0441\u0442\u0456 \u0442\u0430 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u043f\u0430\u0441\u0438\u0432\u043d\u043e\u0433\u043e \u0434\u043e\u0445\u043e\u0434\u0443.",color:"from-green-500 to-emerald-500"},"\u0413\u0456\u0431\u0440\u0438\u0434\u043d\u0430-\u041d\u0456":{title:"\u041f\u0435\u0440\u0435\u0432\u0430\u0433\u0438 \u0433\u0456\u0431\u0440\u0438\u0434\u043d\u043e\u0457 \u0441\u0442\u0430\u043d\u0446\u0456\u0457 \u0434\u043b\u044f \u0435\u043d\u0435\u0440\u0433\u043e\u043d\u0435\u0437\u0430\u043b\u0435\u0436\u043d\u043e\u0441\u0442\u0456",icon:(0,ft.jsx)(PB,{className:"inline-block mr-2 text-purple-600"}),text:"\u0412\u0430\u0448\u0430 \u043e\u0441\u043e\u0431\u0438\u0441\u0442\u0430 \u0444\u043e\u0440\u0442\u0435\u0446\u044f \u0435\u043d\u0435\u0440\u0433\u0456\u0457. \u0410\u043a\u0443\u043c\u0443\u043b\u044f\u0442\u043e\u0440\u0438 \u043d\u0430\u043a\u043e\u043f\u0438\u0447\u0443\u044e\u0442\u044c \u043d\u0430\u0434\u043b\u0438\u0448\u043a\u0438 \u0434\u043b\u044f \u0436\u0438\u0432\u043b\u0435\u043d\u043d\u044f \u0431\u0443\u0434\u0438\u043d\u043a\u0443 \u0432\u043d\u043e\u0447\u0456 \u0430\u0431\u043e \u043f\u0456\u0434 \u0447\u0430\u0441 \u0432\u0456\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u044c \u0441\u0432\u0456\u0442\u043b\u0430. \u0412\u0438 \u043e\u0442\u0440\u0438\u043c\u0443\u0454\u0442\u0435 \u043a\u043e\u043c\u0444\u043e\u0440\u0442, \u0431\u0435\u0437\u043f\u0435\u043a\u0443 \u0442\u0430 \u043d\u0435\u0437\u0430\u043b\u0435\u0436\u043d\u0456\u0441\u0442\u044c \u0432\u0456\u0434 \u0437\u0430\u0433\u0430\u043b\u044c\u043d\u043e\u0457 \u043c\u0435\u0440\u0435\u0436\u0456.",color:"from-purple-500 to-indigo-500"},"\u0413\u0456\u0431\u0440\u0438\u0434\u043d\u0430-\u0422\u0430\u043a":{title:"\u041c\u0430\u043a\u0441\u0438\u043c\u0443\u043c \u043c\u043e\u0436\u043b\u0438\u0432\u043e\u0441\u0442\u0435\u0439: \u0433\u0456\u0431\u0440\u0438\u0434\u043d\u0430 \u0441\u0442\u0430\u043d\u0446\u0456\u044f \u0437 '\u0437\u0435\u043b\u0435\u043d\u0438\u043c \u0442\u0430\u0440\u0438\u0444\u043e\u043c'",icon:(0,ft.jsx)(TB,{className:"inline-block mr-2 text-amber-600"}),text:"\u041d\u0430\u0439\u043a\u0440\u0430\u0449\u0435 \u0437 \u0434\u0432\u043e\u0445 \u0441\u0432\u0456\u0442\u0456\u0432: \u0432\u0438 \u043e\u0442\u0440\u0438\u043c\u0443\u0454\u0442\u0435 \u0435\u043d\u0435\u0440\u0433\u0435\u0442\u0438\u0447\u043d\u0443 \u043d\u0435\u0437\u0430\u043b\u0435\u0436\u043d\u0456\u0441\u0442\u044c \u0437\u0430\u0432\u0434\u044f\u043a\u0438 \u0430\u043a\u0443\u043c\u0443\u043b\u044f\u0442\u043e\u0440\u0430\u043c \u0456 \u0432\u043e\u0434\u043d\u043e\u0447\u0430\u0441 \u0437\u0430\u0440\u043e\u0431\u043b\u044f\u0454\u0442\u0435, \u043f\u0440\u043e\u0434\u0430\u044e\u0447\u0438 \u043d\u0430\u0434\u043b\u0438\u0448\u043a\u0438 \u0432 \u043c\u0435\u0440\u0435\u0436\u0443. \u0426\u0435 \u043a\u043e\u043c\u043f\u043b\u0435\u043a\u0441\u043d\u0435 \u0440\u0456\u0448\u0435\u043d\u043d\u044f \u0434\u043b\u044f \u043f\u043e\u0432\u043d\u043e\u0457 \u0430\u0432\u0442\u043e\u043d\u043e\u043c\u0456\u0457 \u0442\u0430 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043f\u0440\u0438\u0431\u0443\u0442\u043a\u0443.",color:"from-amber-500 to-orange-500"}}[a]||{title:"\u0427\u043e\u043c\u0443 \u0441\u043e\u043d\u044f\u0447\u043d\u0430 \u0435\u043d\u0435\u0440\u0433\u0456\u044f \u2014 \u0446\u0435 \u0432\u0438\u0433\u0456\u0434\u043d\u043e?",icon:(0,ft.jsx)(Z$,{className:"inline-block mr-2 text-yellow-600"}),text:"\u0421\u043e\u043d\u044f\u0447\u043d\u0456 \u0441\u0442\u0430\u043d\u0446\u0456\u0457 \u0434\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0442\u044c \u0441\u0443\u0442\u0442\u0454\u0432\u043e \u0437\u043c\u0435\u043d\u0448\u0438\u0442\u0438 \u0440\u0430\u0445\u0443\u043d\u043a\u0438 \u0437\u0430 \u0435\u043b\u0435\u043a\u0442\u0440\u043e\u0435\u043d\u0435\u0440\u0433\u0456\u044e. \u0417\u0430\u043b\u0435\u0436\u043d\u043e \u0432\u0456\u0434 \u0442\u0438\u043f\u0443 \u0441\u0442\u0430\u043d\u0446\u0456\u0457, \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u0435\u043d\u0435\u0440\u0433\u043e\u043d\u0435\u0437\u0430\u043b\u0435\u0436\u043d\u0456\u0441\u0442\u044c \u0430\u0431\u043e \u043d\u0430\u0432\u0456\u0442\u044c \u0441\u0442\u0430\u0431\u0456\u043b\u044c\u043d\u0438\u0439 \u043f\u0430\u0441\u0438\u0432\u043d\u0438\u0439 \u0434\u043e\u0445\u0456\u0434.",color:"from-yellow-500 to-orange-500"},s=(()=>{if(!r)return[];const e=[],a=parseFloat(r.annualGeneration),i=parseFloat(r.savings),s=parseFloat(r.netProfit);if("\u041c\u0435\u0440\u0435\u0436\u0435\u0432\u0430"===t&&"\u041d\u0456"===n&&a>0){const t=Math.max(0,a-i/UB)/a;t>.3&&e.push({icon:(0,ft.jsx)(eF,{className:"text-green-600"}),title:"\u0420\u043e\u0437\u0433\u043b\u044f\u043d\u044c\u0442\u0435 \u0437\u0435\u043b\u0435\u043d\u0438\u0439 \u0442\u0430\u0440\u0438\u0444",text:`\u0423 \u0432\u0430\u0441 ${(100*t).toFixed(0)}% \u043d\u0435\u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043e\u0457 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0456\u0457. \u0417 \u0437\u0435\u043b\u0435\u043d\u0438\u043c \u0442\u0430\u0440\u0438\u0444\u043e\u043c \u0432\u0438 \u043c\u043e\u0433\u043b\u0438 \u0431 \u0437\u0430\u0440\u043e\u0431\u043b\u044f\u0442\u0438 \u0434\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u043e \u0431\u043b\u0438\u0437\u044c\u043a\u043e ${(a*t*qB*WB*.77).toFixed(0)} \u0433\u0440\u043d/\u0440\u0456\u043a.`})}return s>1e4&&e.push({icon:(0,ft.jsx)(AB,{className:"text-purple-600"}),title:"\u0412\u0456\u0434\u043c\u0456\u043d\u043d\u0438\u0439 \u0432\u0438\u0431\u0456\u0440 \u0434\u043b\u044f \u0456\u043d\u0432\u0435\u0441\u0442\u0438\u0446\u0456\u0457",text:"\u0412\u0430\u0448 \u0440\u0456\u0447\u043d\u0438\u0439 \u0447\u0438\u0441\u0442\u0438\u0439 \u043f\u0440\u0438\u0431\u0443\u0442\u043e\u043a \u0441\u043a\u043b\u0430\u0434\u0430\u0454 \u043f\u043e\u043d\u0430\u0434 10,000 \u0433\u0440\u043d. \u0426\u0435 \u0447\u0443\u0434\u043e\u0432\u0430 \u0434\u043e\u0432\u0433\u043e\u0441\u0442\u0440\u043e\u043a\u043e\u0432\u0430 \u0456\u043d\u0432\u0435\u0441\u0442\u0438\u0446\u0456\u044f \u0437 \u0441\u0442\u0430\u0431\u0456\u043b\u044c\u043d\u0438\u043c \u0434\u043e\u0445\u043e\u0434\u043e\u043c."}),"\u041c\u0435\u0440\u0435\u0436\u0435\u0432\u0430"===t&&i>15e3&&e.push({icon:(0,ft.jsx)(PB,{className:"text-indigo-600"}),title:"\u0420\u043e\u0437\u0433\u043b\u044f\u043d\u044c\u0442\u0435 \u0433\u0456\u0431\u0440\u0438\u0434\u043d\u0443 \u0441\u0438\u0441\u0442\u0435\u043c\u0443",text:"\u0417 \u0442\u0430\u043a\u043e\u044e \u0432\u0438\u0441\u043e\u043a\u043e\u044e \u0435\u043a\u043e\u043d\u043e\u043c\u0456\u0454\u044e \u0432\u0430\u0440\u0442\u043e \u043f\u043e\u0434\u0443\u043c\u0430\u0442\u0438 \u043f\u0440\u043e \u0434\u043e\u0434\u0430\u0432\u0430\u043d\u043d\u044f \u0430\u043a\u0443\u043c\u0443\u043b\u044f\u0442\u043e\u0440\u0456\u0432 \u0434\u043b\u044f \u043f\u043e\u0432\u043d\u043e\u0457 \u0435\u043d\u0435\u0440\u0433\u043e\u043d\u0435\u0437\u0430\u043b\u0435\u0436\u043d\u043e\u0441\u0442\u0456."}),e})();return(0,ft.jsxs)("section",{className:"mt-12 space-y-8",children:[(0,ft.jsx)("div",{className:`bg-gradient-to-r ${i.color} p-8 rounded-2xl shadow-xl text-white`,children:(0,ft.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[(0,ft.jsxs)("div",{className:"space-y-6",children:[(0,ft.jsxs)("h3",{className:"text-3xl font-bold flex items-center",children:[i.icon,i.title]}),(0,ft.jsx)("p",{className:"text-lg leading-relaxed opacity-90",children:i.text})]}),(0,ft.jsxs)("div",{className:"bg-white/20 backdrop-blur-sm p-6 rounded-xl border border-white/30",children:[(0,ft.jsx)("h4",{className:"text-2xl font-bold mb-4 text-center",children:"\u0427\u043e\u043c\u0443 \u0432\u0430\u0440\u0442\u043e \u043e\u0431\u0440\u0430\u0442\u0438 \u0420\u0411\u041f \u0413\u0440\u0443\u043f \u041a\u0430\u0439\u0440\u043e\u0441?"}),(0,ft.jsxs)("div",{className:"space-y-4",children:[(0,ft.jsxs)("div",{className:"flex items-start gap-4",children:[(0,ft.jsx)(MB,{className:"w-8 h-8 mt-1 flex-shrink-0"}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("h5",{className:"font-semibold text-lg",children:"\u0414\u043e\u0441\u0432\u0456\u0434 \u0442\u0430 \u043d\u0430\u0434\u0456\u0439\u043d\u0456\u0441\u0442\u044c"}),(0,ft.jsx)("p",{className:"text-sm opacity-90",children:"8+ \u0440\u043e\u043a\u0456\u0432 \u043d\u0430 \u0440\u0438\u043d\u043a\u0443, 450+ \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0440\u0435\u0430\u043b\u0456\u0437\u043e\u0432\u0430\u043d\u0438\u0445 \u043f\u0440\u043e\u0454\u043a\u0442\u0456\u0432."})]})]}),(0,ft.jsxs)("div",{className:"flex items-start gap-4",children:[(0,ft.jsx)(DB,{className:"w-8 h-8 mt-1 flex-shrink-0"}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("h5",{className:"font-semibold text-lg",children:"\u0428\u0432\u0438\u0434\u043a\u0456\u0441\u0442\u044c \u0442\u0430 \u044f\u043a\u0456\u0441\u0442\u044c"}),(0,ft.jsx)("p",{className:"text-sm opacity-90",children:'\u0412\u0438\u043a\u043e\u043d\u0443\u0454\u043c\u043e \u043f\u0440\u043e\u0454\u043a\u0442\u0438 "\u043f\u0456\u0434 \u043a\u043b\u044e\u0447", \u0433\u0430\u0440\u0430\u043d\u0442\u0443\u044e\u0447\u0438 \u044f\u043a\u0456\u0441\u0442\u044c \u043d\u0430 \u043a\u043e\u0436\u043d\u043e\u043c\u0443 \u0435\u0442\u0430\u043f\u0456.'})]})]}),(0,ft.jsxs)("div",{className:"flex items-start gap-4",children:[(0,ft.jsx)(zB,{className:"w-8 h-8 mt-1 flex-shrink-0"}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("h5",{className:"font-semibold text-lg",children:"\u0414\u043e\u0432\u0456\u0440\u0430 \u043a\u043b\u0456\u0454\u043d\u0442\u0456\u0432"}),(0,ft.jsx)("p",{className:"text-sm opacity-90",children:"\u0421\u0435\u0440\u0435\u0434 \u043d\u0430\u0448\u0438\u0445 \u043a\u043b\u0456\u0454\u043d\u0442\u0456\u0432 \u2014 \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u0456 \u0434\u043e\u043c\u043e\u0433\u043e\u0441\u043f\u043e\u0434\u0430\u0440\u0441\u0442\u0432\u0430, \u0431\u0456\u0437\u043d\u0435\u0441 \u0442\u0430 \u0434\u0435\u0440\u0436\u0430\u0432\u043d\u0456 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438."})]})]})]})]})]})}),s.length>0&&(0,ft.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm p-8 rounded-2xl shadow-xl border border-white/20",children:[(0,ft.jsxs)("h3",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center",children:[(0,ft.jsx)(IB,{className:"mr-3 text-amber-500"}),"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u0456 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0456\u0457 \u0434\u043b\u044f \u0432\u0430\u0441"]}),(0,ft.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.map((e,t)=>(0,ft.jsx)("div",{className:"bg-gradient-to-r from-gray-50 to-blue-50 p-6 rounded-xl border border-blue-100",children:(0,ft.jsxs)("div",{className:"flex items-start gap-4",children:[(0,ft.jsx)("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center shadow-md",children:e.icon}),(0,ft.jsxs)("div",{className:"flex-1",children:[(0,ft.jsx)("h4",{className:"font-semibold text-gray-800 mb-2",children:e.title}),(0,ft.jsx)("p",{className:"text-gray-600 text-sm leading-relaxed",children:e.text})]})]})},t))})]})]})},tV=()=>{const[e,n]=(0,t.useState)({objectType:"",stationType:"",region:"",powerCapacity:"",greenTariff:"\u0422\u0430\u043a",months:Array(12).fill("")}),[r,a]=(0,t.useState)({firstName:"",phone:""}),[i,s]=(0,t.useState)(null),[o,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(!1),[f,p]=(0,t.useState)(!1),[m,g]=(0,t.useState)({}),[v,y]=(0,t.useState)({}),x=(0,t.useRef)(null);(0,t.useEffect)(()=>{c&&x.current&&x.current.scrollIntoView({behavior:"smooth",block:"start"})},[c]);const b=(0,t.useMemo)(()=>e.months.reduce((e,t)=>e+(parseFloat(t)||0),0),[e.months]),w=(0,t.useCallback)(e=>n(t=>({...t,[e.target.name]:e.target.value})),[]),j=(0,t.useCallback)((t,r)=>{const a=[...e.months];a[t]=r,n(e=>({...e,months:a}))},[e.months]),k=(0,t.useCallback)(()=>{if(b>0){const e=BB.reduce((e,t)=>e+t,0),t=1.1*b/e;n(e=>({...e,powerCapacity:t.toFixed(1)}))}},[b]);return(0,ft.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:(0,ft.jsxs)("div",{className:"container mx-auto px-4 py-6 sm:py-10 max-w-7xl",children:[(0,ft.jsxs)("header",{className:"text-center mb-12 animate-in fade-in slide-in-from-top duration-1000",children:[(0,ft.jsxs)("div",{className:"inline-flex items-center justify-center gap-3 mb-6",children:[(0,ft.jsxs)("div",{className:"relative",children:[(0,ft.jsx)(Z$,{className:"text-yellow-500 w-12 h-12 sm:w-16 sm:h-16 animate-pulse"}),(0,ft.jsx)("div",{className:"absolute inset-0 bg-yellow-400 rounded-full blur-xl opacity-30 animate-pulse"})]}),(0,ft.jsx)("h1",{className:"text-2xl sm:text-4xl md:text-5xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-green-600 bg-clip-text text-transparent",children:"\u041a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440 \u0441\u043e\u043d\u044f\u0447\u043d\u043e\u0457 \u0441\u0442\u0430\u043d\u0446\u0456\u0457"})]}),(0,ft.jsx)("p",{className:"text-sm sm:text-base text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"\u041e\u0446\u0456\u043d\u0456\u0442\u044c \u043f\u043e\u0442\u0435\u043d\u0446\u0456\u0439\u043d\u0443 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0456\u044e, \u0435\u043a\u043e\u043d\u043e\u043c\u0456\u044e \u0442\u0430 \u043f\u0440\u0438\u0431\u0443\u0442\u043e\u043a \u0432\u0456\u0434 \u0432\u043b\u0430\u0441\u043d\u043e\u0457 \u0421\u0415\u0421. \u041e\u0442\u0440\u0438\u043c\u0430\u0439\u0442\u0435 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u0456 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0456\u0457 \u0434\u043b\u044f \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0457 \u0435\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0456."})]}),(0,ft.jsxs)("main",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8",children:[(0,ft.jsxs)("div",{className:"lg:col-span-3 space-y-8",children:[(0,ft.jsxs)("section",{className:"bg-white/70 backdrop-blur-sm p-4 sm:p-8 rounded-2xl shadow-xl border border-white/20 transition-all hover:shadow-2xl",children:[(0,ft.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,ft.jsx)(Q$,{className:"text-blue-600",size:28}),(0,ft.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"1. \u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0438 \u0441\u0438\u0441\u0442\u0435\u043c\u0438"})]}),(0,ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ft.jsx)(YB,{label:"\u0422\u0438\u043f \u043e\u0431'\u0454\u043a\u0442\u0430",error:m.objectType,children:(0,ft.jsxs)(GB,{name:"objectType",value:e.objectType,onChange:w,children:[(0,ft.jsx)("option",{value:"",children:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c..."}),(0,ft.jsx)("option",{value:"\u041f\u0440\u0438\u0432\u0430\u0442\u043d\u0438\u0439",children:"\ud83c\udfe0 \u041f\u0440\u0438\u0432\u0430\u0442\u043d\u0438\u0439 \u0431\u0443\u0434\u0438\u043d\u043e\u043a"}),(0,ft.jsx)("option",{value:"\u0411\u0456\u0437\u043d\u0435\u0441",children:"\ud83c\udfe2 \u0411\u0456\u0437\u043d\u0435\u0441"})]})}),(0,ft.jsx)(YB,{label:"\u0422\u0438\u043f \u0441\u0442\u0430\u043d\u0446\u0456\u0457",error:m.stationType,children:(0,ft.jsxs)(GB,{name:"stationType",value:e.stationType,onChange:w,children:[(0,ft.jsx)("option",{value:"",children:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c..."}),(0,ft.jsx)("option",{value:"\u041c\u0435\u0440\u0435\u0436\u0435\u0432\u0430",children:"\u26a1 \u041c\u0435\u0440\u0435\u0436\u0435\u0432\u0430 (\u0431\u0435\u0437 \u0410\u041a\u0411)"}),(0,ft.jsx)("option",{value:"\u0413\u0456\u0431\u0440\u0438\u0434\u043d\u0430",children:"\ud83d\udd0b \u0413\u0456\u0431\u0440\u0438\u0434\u043d\u0430 (\u0437 \u0410\u041a\u0411)"})]})}),(0,ft.jsx)(YB,{label:"\u0412\u0430\u0448 \u0440\u0435\u0433\u0456\u043e\u043d",error:m.region,children:(0,ft.jsxs)(GB,{name:"region",value:e.region,onChange:w,children:[(0,ft.jsx)("option",{value:"",children:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u043e\u0431\u043b\u0430\u0441\u0442\u044c..."}),KB.map(e=>(0,ft.jsx)("option",{value:e,children:e},e))]})}),(0,ft.jsx)(YB,{label:"\u041f\u0440\u043e\u0434\u0430\u0436 \u0437\u0430 '\u0437\u0435\u043b\u0435\u043d\u0438\u043c \u0442\u0430\u0440\u0438\u0444\u043e\u043c'?",error:m.greenTariff,children:(0,ft.jsxs)(GB,{name:"greenTariff",value:e.greenTariff,onChange:w,children:[(0,ft.jsx)("option",{value:"\u0422\u0430\u043a",children:"\u2705 \u0422\u0430\u043a, \u043f\u0440\u043e\u0434\u0430\u0432\u0430\u0442\u0438"}),(0,ft.jsx)("option",{value:"\u041d\u0456",children:"\u274c \u041d\u0456, \u0434\u043b\u044f \u0441\u0435\u0431\u0435"})]})}),(0,ft.jsx)("div",{className:"md:col-span-2",children:(0,ft.jsx)(YB,{label:"\u041f\u043e\u0442\u0443\u0436\u043d\u0456\u0441\u0442\u044c \u0441\u0442\u0430\u043d\u0446\u0456\u0457 (\u043a\u0412\u0442)",error:m.powerCapacity,children:(0,ft.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ft.jsx)("input",{type:"number",name:"powerCapacity",value:e.powerCapacity,onChange:w,placeholder:"\u041d\u0430\u043f\u0440., 10",min:"0",step:"0.1",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"}),(0,ft.jsx)("button",{onClick:k,disabled:!b,title:"\u0410\u0432\u0442\u043e-\u043f\u0456\u0434\u0431\u0456\u0440 \u043f\u043e\u0442\u0443\u0436\u043d\u043e\u0441\u0442\u0456",className:"p-3 bg-blue-100 text-blue-700 rounded-lg disabled:opacity-50 hover:bg-blue-200 transition-all hover:scale-105 disabled:hover:scale-100",children:(0,ft.jsx)(LB,{size:20})})]})})})]})]}),(0,ft.jsxs)("section",{className:"bg-white/70 backdrop-blur-sm p-4 sm:p-8 rounded-2xl shadow-xl border border-white/20 transition-all hover:shadow-2xl",children:[(0,ft.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,ft.jsx)(eF,{className:"text-green-600",size:28}),(0,ft.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"2. \u0412\u0430\u0448\u0435 \u0441\u043f\u043e\u0436\u0438\u0432\u0430\u043d\u043d\u044f (\u043a\u0412\u0442\u22c5\u0433\u043e\u0434)"})]}),(0,ft.jsxs)("p",{className:"text-sm text-gray-600 mb-6 bg-blue-50 p-4 rounded-lg border border-blue-100",children:[(0,ft.jsx)(CB,{className:"inline mr-2",size:16}),"\u041d\u0435\u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u043e, \u0430\u043b\u0435 \u0434\u043e\u043f\u043e\u043c\u0430\u0433\u0430\u0454 \u0440\u043e\u0437\u0440\u0430\u0445\u0443\u0432\u0430\u0442\u0438 \u0440\u043e\u0437\u043f\u043e\u0434\u0456\u043b \u0435\u043d\u0435\u0440\u0433\u0456\u0457 \u0442\u0430 \u0435\u043a\u043e\u043d\u043e\u043c\u0456\u044e. \u0414\u0430\u043d\u0456 \u043c\u043e\u0436\u043d\u0430 \u0437\u043d\u0430\u0439\u0442\u0438 \u0432 \u0440\u0430\u0445\u0443\u043d\u043a\u0430\u0445 \u0437\u0430 \u0435\u043b\u0435\u043a\u0442\u0440\u043e\u0435\u043d\u0435\u0440\u0433\u0456\u044e."]}),(0,ft.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-x-3 gap-y-4 sm:gap-4",children:VB.map((t,n)=>(0,ft.jsx)(YB,{label:t,children:(0,ft.jsx)("input",{type:"number",value:e.months[n],onChange:e=>j(n,e.target.value),placeholder:"0",min:"0",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"})},t))}),b>0&&(0,ft.jsx)("div",{className:"mt-4 p-4 bg-green-50 rounded-lg border border-green-200",children:(0,ft.jsxs)("p",{className:"text-green-800 font-medium",children:["\u0417\u0430\u0433\u0430\u043b\u044c\u043d\u0435 \u0440\u0456\u0447\u043d\u0435 \u0441\u043f\u043e\u0436\u0438\u0432\u0430\u043d\u043d\u044f: ",(0,ft.jsxs)("span",{className:"font-bold",children:[b.toFixed(0)," \u043a\u0412\u0442\u22c5\u0433\u043e\u0434"]})]})})]})]}),(0,ft.jsx)("aside",{className:"lg:col-span-2",children:(0,ft.jsxs)("div",{className:"sticky top-8 bg-gradient-to-br from-purple-600 via-blue-600 to-cyan-600 p-8 rounded-2xl shadow-2xl text-white text-center relative overflow-hidden",children:[(0,ft.jsx)("div",{className:"absolute inset-0 bg-white/10 backdrop-blur-sm"}),(0,ft.jsxs)("div",{className:"relative z-10",children:[(0,ft.jsx)("div",{className:"bg-white/20 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 backdrop-blur-sm",children:(0,ft.jsx)(tF,{className:"w-8 h-8"})}),(0,ft.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"3. \u0420\u043e\u0437\u0440\u0430\u0445\u0443\u043d\u043e\u043a \u0432\u0438\u0433\u043e\u0434\u0438"}),(0,ft.jsx)("p",{className:"mb-6 opacity-90 leading-relaxed",children:"\u0417\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u043f\u043e\u043b\u044f \u0442\u0430 \u043d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c \u043a\u043d\u043e\u043f\u043a\u0443, \u0449\u043e\u0431 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u0432\u0430\u0448 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u0438\u0439 \u0440\u043e\u0437\u0440\u0430\u0445\u0443\u043d\u043e\u043a \u0437 \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u043e\u044e \u0432\u0456\u0437\u0443\u0430\u043b\u0456\u0437\u0430\u0446\u0456\u0454\u044e \u0442\u0430 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0456\u044f\u043c\u0438."}),(0,ft.jsxs)("button",{onClick:()=>{(()=>{const t={};return e.objectType||(t.objectType="\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0442\u0438\u043f \u043e\u0431'\u0454\u043a\u0442\u0430"),e.stationType||(t.stationType="\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0442\u0438\u043f \u0441\u0442\u0430\u043d\u0446\u0456\u0457"),e.region||(t.region="\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0432\u0430\u0448 \u0440\u0435\u0433\u0456\u043e\u043d"),(!e.powerCapacity||parseFloat(e.powerCapacity)<=0)&&(t.powerCapacity="\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043f\u043e\u0442\u0443\u0436\u043d\u0456\u0441\u0442\u044c"),g(t),0===Object.keys(t).length})()?h(!0):(u(!1),s(null))},className:"w-full inline-flex items-center justify-center gap-3 px-5 py-3 sm:px-6 sm:py-4 bg-white text-blue-600 font-bold text-base sm:text-lg rounded-xl hover:bg-gray-50 hover:shadow-xl hover:scale-105 transition-all duration-300",children:[(0,ft.jsx)(Q$,{size:22}),"\u0420\u043e\u0437\u0440\u0430\u0445\u0443\u0432\u0430\u0442\u0438 \u0432\u0438\u0433\u043e\u0434\u0443"]}),(0,ft.jsxs)("div",{className:"mt-6 grid grid-cols-3 gap-4 text-center",children:[(0,ft.jsxs)("div",{className:"bg-white/20 rounded-lg p-3 backdrop-blur-sm",children:[(0,ft.jsx)(RB,{className:"w-6 h-6 mx-auto mb-2"}),(0,ft.jsx)("p",{className:"text-xs opacity-90",children:"\u0415\u043a\u043e\u043b\u043e\u0433\u0456\u0447\u043d\u043e"})]}),(0,ft.jsxs)("div",{className:"bg-white/20 rounded-lg p-3 backdrop-blur-sm",children:[(0,ft.jsx)(nF,{className:"w-6 h-6 mx-auto mb-2"}),(0,ft.jsx)("p",{className:"text-xs opacity-90",children:"\u0412\u0438\u0433\u0456\u0434\u043d\u043e"})]}),(0,ft.jsxs)("div",{className:"bg-white/20 rounded-lg p-3 backdrop-blur-sm",children:[(0,ft.jsx)(MB,{className:"w-6 h-6 mx-auto mb-2"}),(0,ft.jsx)("p",{className:"text-xs opacity-90",children:"\u041d\u0430\u0434\u0456\u0439\u043d\u043e"})]})]})]})]})})]}),(0,ft.jsxs)("div",{ref:x,children:[c&&(0,ft.jsx)(eV,{stationType:e.stationType,greenTariff:e.greenTariff,results:i}),c&&o&&(0,ft.jsx)("section",{className:"bg-gradient-to-r from-amber-50 to-orange-50 border border-amber-200 p-6 rounded-xl shadow-lg mt-8 animate-in fade-in duration-700",children:(0,ft.jsxs)("div",{className:"flex items-start gap-4",children:[(0,ft.jsx)("div",{className:"bg-amber-100 p-3 rounded-full",children:(0,ft.jsx)(IB,{className:"text-amber-600 w-8 h-8"})}),(0,ft.jsxs)("div",{className:"flex-1",children:[(0,ft.jsx)("h3",{className:"text-xl font-bold text-amber-800 mb-2",children:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u0430 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0456\u044f"}),(0,ft.jsx)("p",{className:"text-amber-700",children:o})]})]})}),c&&i&&(0,ft.jsxs)("section",{className:"bg-white/70 backdrop-blur-sm p-4 sm:p-8 rounded-2xl shadow-xl border border-white/20 mt-8 animate-in slide-in-from-bottom duration-500",children:[(0,ft.jsxs)("h2",{className:"text-3xl font-bold text-center text-gray-800 mb-8 flex items-center justify-center gap-3",children:[(0,ft.jsx)(TB,{className:"text-purple-600"}),"\ud83d\udcca \u0412\u0430\u0448\u0456 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u0456 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0438"]}),(0,ft.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-6 mb-8",children:[(0,ft.jsx)(JB,{icon:(0,ft.jsx)(tF,{size:32}),title:"\u0420\u0456\u0447\u043d\u0430 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0456\u044f",value:i.annualGeneration,unit:"\u043a\u0412\u0442\u22c5\u0433\u043e\u0434",gradient:"bg-gradient-to-br from-blue-500 via-blue-600 to-cyan-600"}),(0,ft.jsx)(JB,{icon:(0,ft.jsx)(nF,{size:32}),title:"\u0415\u043a\u043e\u043d\u043e\u043c\u0456\u044f",value:i.savings,unit:"\u0433\u0440\u043d/\u0440\u0456\u043a",gradient:"bg-gradient-to-br from-green-500 via-emerald-600 to-teal-600",infoText:i.savingsInfoText}),"\u0422\u0430\u043a"===e.greenTariff?(0,ft.jsx)(JB,{icon:(0,ft.jsx)(eF,{size:32}),title:"\u0427\u0438\u0441\u0442\u0438\u0439 \u043f\u0440\u0438\u0431\u0443\u0442\u043e\u043a",value:i.netProfit,unit:"\u0433\u0440\u043d/\u0440\u0456\u043a",gradient:"bg-gradient-to-br from-amber-500 via-orange-500 to-red-500",infoText:i.netProfitInfoText}):(0,ft.jsx)(JB,{icon:(0,ft.jsx)(eF,{size:32}),title:"\u0427\u0438\u0441\u0442\u0438\u0439 \u043f\u0440\u0438\u0431\u0443\u0442\u043e\u043a",gradient:"bg-gradient-to-br from-gray-400 to-gray-500",isInfoCard:!0,children:(0,ft.jsx)("p",{children:'\u0420\u043e\u0437\u0440\u0430\u0445\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u043b\u0438\u0448\u0435 \u043f\u0440\u0438 \u043f\u0456\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u0456 "\u0437\u0435\u043b\u0435\u043d\u043e\u0433\u043e \u0442\u0430\u0440\u0438\u0444\u0443".'})}),(0,ft.jsx)(JB,{icon:(0,ft.jsx)(rF,{size:32}),title:"\u0417\u0430\u0433\u0430\u043b\u044c\u043d\u0430 \u0432\u0438\u0433\u043e\u0434\u0430",value:i.totalBenefit,unit:"\u0433\u0440\u043d/\u0440\u0456\u043a",gradient:"bg-gradient-to-br from-purple-500 via-pink-500 to-rose-500",infoText:"\u0421\u0443\u043c\u0430 \u0432\u0430\u0448\u043e\u0457 \u0435\u043a\u043e\u043d\u043e\u043c\u0456\u0457 \u0442\u0430 \u0447\u0438\u0441\u0442\u043e\u0433\u043e \u043f\u0440\u0438\u0431\u0443\u0442\u043a\u0443, \u043c\u0456\u043d\u0443\u0441 \u0432\u0430\u0440\u0442\u0456\u0441\u0442\u044c \u0435\u043b\u0435\u043a\u0442\u0440\u043e\u0435\u043d\u0435\u0440\u0433\u0456\u0457, \u0434\u043e\u043a\u0443\u043f\u043b\u0435\u043d\u043e\u0457 \u0437 \u043c\u0435\u0440\u0435\u0436\u0456 \u043f\u0440\u0438 \u043d\u0435\u043e\u0431\u0445\u0456\u0434\u043d\u043e\u0441\u0442\u0456."})]}),(0,ft.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:[(0,ft.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:[(0,ft.jsxs)("h3",{className:"text-xl font-semibold text-gray-800 mb-4 text-center flex items-center justify-center gap-2",children:[(0,ft.jsx)(cA,{className:"w-5 h-5 text-blue-600"}),"\u0411\u0430\u043b\u0430\u043d\u0441 \u0435\u043d\u0435\u0440\u0433\u0456\u0457 (\u043a\u0412\u0442\u22c5\u0433\u043e\u0434)"]}),(0,ft.jsx)(dm,{width:"100%",height:300,children:(0,ft.jsxs)(cA,{data:i.monthlyData,margin:{top:5,right:20,left:-10,bottom:5},children:[(0,ft.jsx)($M,{strokeDasharray:"3 3",vertical:!1,stroke:"#e5e7eb"}),(0,ft.jsx)(GM,{dataKey:"month",fontSize:12,tick:{fill:"#6b7280"},axisLine:{stroke:"#d1d5db"}}),(0,ft.jsx)(nD,{fontSize:12,tick:{fill:"#6b7280"},axisLine:{stroke:"#d1d5db"}}),(0,ft.jsx)(yI,{formatter:(e,t)=>[`${Math.round(e)} \u043a\u0412\u0442\u22c5\u0433\u043e\u0434`,t],contentStyle:{backgroundColor:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"}}),(0,ft.jsx)(uL,{}),(0,ft.jsx)(YR,{dataKey:"\u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0456\u044f",fill:"#10b981",radius:[4,4,0,0],name:"\u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0456\u044f \u0421\u0415\u0421"}),(0,ft.jsx)(YR,{dataKey:"\u0421\u043f\u043e\u0436\u0438\u0432\u0430\u043d\u043d\u044f",fill:"#3b82f6",radius:[4,4,0,0],name:"\u0412\u0430\u0448\u0435 \u0441\u043f\u043e\u0436\u0438\u0432\u0430\u043d\u043d\u044f"})]})})]}),i.pieData.length>0&&(0,ft.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:[(0,ft.jsxs)("h3",{className:"text-xl font-semibold text-gray-800 mb-4 text-center flex items-center justify-center gap-2",children:[(0,ft.jsx)(AB,{className:"w-5 h-5 text-green-600"}),"\u0420\u043e\u0437\u043f\u043e\u0434\u0456\u043b \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0456\u0457"]}),(0,ft.jsx)(dm,{width:"100%",height:350,children:(0,ft.jsxs)(r$,{margin:{top:20,right:60,bottom:20,left:60},children:[(0,ft.jsx)(U$,{data:i.pieData,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,innerRadius:30,labelLine:!0,label:QB,fill:"#8884d8",stroke:"#ffffff",strokeWidth:3,children:i.pieData.map((e,t)=>(0,ft.jsx)(dL,{fill:e.color},`cell-${t}`))}),(0,ft.jsx)(yI,{formatter:(e,t)=>[`${Math.round(e)} \u043a\u0412\u0442\u22c5\u0433\u043e\u0434`,t],contentStyle:{backgroundColor:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"}})]})}),(0,ft.jsx)("div",{className:"mt-4 flex flex-wrap justify-center gap-4",children:i.pieData.map((e,t)=>(0,ft.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ft.jsx)("div",{className:"w-4 h-4 rounded-full border-2 border-white shadow-sm",style:{backgroundColor:e.color}}),(0,ft.jsx)("span",{className:"text-sm text-gray-600 font-medium",children:e.name})]},t))})]})]}),(0,ft.jsxs)("div",{className:"mt-8 bg-gradient-to-r from-blue-50 to-green-50 p-6 rounded-xl border border-blue-100",children:[(0,ft.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-4 text-center",children:"\ud83c\udfaf \u041a\u043b\u044e\u0447\u043e\u0432\u0456 \u043f\u043e\u043a\u0430\u0437\u043d\u0438\u043a\u0438 \u0435\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0456"}),(0,ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-center",children:[(0,ft.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[(0,ft.jsxs)("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:[i.pieData.length>0&&i.pieData[0]?(i.pieData[0].value/parseFloat(i.annualGeneration)*100).toFixed(0):"100","%"]}),(0,ft.jsx)("div",{className:"text-sm text-gray-600",children:"\u0412\u043b\u0430\u0441\u043d\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f"})]}),(0,ft.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[(0,ft.jsxs)("div",{className:"text-2xl font-bold text-green-600 mb-1",children:[(parseFloat(i.totalBenefit)/12/1e3).toFixed(1),"k"]}),(0,ft.jsx)("div",{className:"text-sm text-gray-600",children:"\u0412\u0438\u0433\u043e\u0434\u0430 \u043d\u0430 \u043c\u0456\u0441\u044f\u0446\u044c (\u0433\u0440\u043d)"})]}),(0,ft.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[(0,ft.jsx)("div",{className:"text-2xl font-bold text-purple-600 mb-1",children:(parseFloat(i.annualGeneration)/1e3*.9).toFixed(1)}),(0,ft.jsx)("div",{className:"text-sm text-gray-600",children:"\u0417\u043c\u0435\u043d\u0448\u0435\u043d\u043d\u044f CO\u2082 (\u0442\u043e\u043d/\u0440\u0456\u043a)"})]})]})]})]})]}),d&&(0,ft.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,ft.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 animate-in zoom-in-50 duration-300 relative",children:[(0,ft.jsx)("button",{onClick:()=>h(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 text-xl font-bold hover:scale-110 transition-all",children:"\u2715"}),(0,ft.jsxs)("div",{className:"text-center mb-6",children:[(0,ft.jsx)("div",{className:"bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,ft.jsx)(aF,{className:"text-blue-600 w-8 h-8"})}),(0,ft.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"\u041c\u0430\u0439\u0436\u0435 \u0433\u043e\u0442\u043e\u0432\u043e!"}),(0,ft.jsx)("p",{className:"text-gray-600 mt-2",children:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0432\u0430\u0448\u0456 \u0434\u0430\u043d\u0456, \u0449\u043e\u0431 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u0438\u0439 \u0440\u043e\u0437\u0440\u0430\u0445\u0443\u043d\u043e\u043a \u0442\u0430 \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u0456 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0456\u0457."})]}),(0,ft.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,ft.jsx)(YB,{label:"\u0412\u0430\u0448\u0435 \u0456\u043c'\u044f",error:v.firstName,children:(0,ft.jsx)("input",{type:"text",value:r.firstName,onChange:e=>a(t=>({...t,firstName:e.target.value})),placeholder:"\u0406\u043c'\u044f",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"})}),(0,ft.jsx)(ZB,{value:r.phone,onChange:e=>a(t=>({...t,phone:e.target.value.replace(/\D/g,"")})),error:v.phone})]}),(0,ft.jsx)("button",{onClick:async()=>{const t={};var n;if(r.firstName.trim()||(t.firstName="\u0406\u043c'\u044f \u0454 \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0438\u043c \u043f\u043e\u043b\u0435\u043c"),(9!==(n=r.phone).length||/^(\d)\1{8}$/.test(n)||"0123456789".includes(n)||"9876543210".includes(n))&&(t.phone="\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043a\u043e\u0440\u0435\u043a\u0442\u043d\u0438\u0439 9-\u0437\u043d\u0430\u0447\u043d\u0438\u0439 \u043d\u043e\u043c\u0435\u0440"),y(t),Object.keys(t).length>0)return;p(!0);try{const t={first_name:r.firstName.trim(),phone_number:r.phone,object_type:e.objectType,station_type:e.stationType,region:e.region,power_capacity_kw:parseFloat(e.powerCapacity),green_tariff:"\u0422\u0430\u043a"===e.greenTariff,monthly_consumption_kwh:e.months.map(e=>parseFloat(e)||0).filter(e=>e>0).length>0?e.months.map(e=>parseFloat(e)||0):null},{error:n}=await FB.from("calculator_leads").insert([t]);if(n)throw console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0437\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445 \u0432 Supabase:",n),new Error(n.message)}catch(S){return p(!1),void alert("\u041d\u0435 \u0432\u0434\u0430\u043b\u043e\u0441\u044f \u0437\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u0432\u0430\u0448\u0456 \u0434\u0430\u043d\u0456. \u0421\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435, \u0431\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u043f\u0456\u0437\u043d\u0456\u0448\u0435.")}const a=parseFloat(e.powerCapacity),i="\u0422\u0430\u043a"===e.greenTariff,o="\u041f\u0440\u0438\u0432\u0430\u0442\u043d\u0438\u0439"===e.objectType?UB:HB,c=BB.reduce((e,t)=>e+t,0)*a,d=Math.min(c,b||c),f=d*o,m=Math.max(0,c-(b||0)),g=.77*(i?m*qB*WB:0),v=Math.max(0,(b||0)-c)*o;let x,w="\u0420\u043e\u0437\u0440\u0430\u0445\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u044f\u043a \u043e\u0431\u0441\u044f\u0433 \u0432\u043b\u0430\u0441\u043d\u043e\u0433\u043e \u0441\u043f\u043e\u0436\u0438\u0432\u0430\u043d\u043d\u044f, \u043f\u043e\u043c\u043d\u043e\u0436\u0435\u043d\u0438\u0439 \u043d\u0430 \u0432\u0430\u0448 \u0442\u0430\u0440\u0438\u0444. \u042f\u043a\u0449\u043e \u0441\u043f\u043e\u0436\u0438\u0432\u0430\u043d\u043d\u044f \u043d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u043e \u2014 \u044f\u043a \u0432\u0441\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0456\u044f, \u043f\u043e\u043c\u043d\u043e\u0436\u0435\u043d\u0430 \u043d\u0430 \u0442\u0430\u0440\u0438\u0444.",j="\u041f\u0440\u0438\u0431\u0443\u0442\u043e\u043a \u0432\u0456\u0434 \u043f\u0440\u043e\u0434\u0430\u0436\u0443 \u043d\u0430\u0434\u043b\u0438\u0448\u043a\u0456\u0432 \u0437\u0430 '\u0437\u0435\u043b\u0435\u043d\u0438\u043c \u0442\u0430\u0440\u0438\u0444\u043e\u043c'. \u0412\u0436\u0435 \u0432\u0440\u0430\u0445\u043e\u0432\u0430\u043d\u043e \u043f\u043e\u0434\u0430\u0442\u043e\u043a 23% (18% \u041f\u0414\u0424\u041e + 5% \u0412\u0417).",k="";i&&0===b?(x=f,w="\u0417\u043d\u0430\u0447\u0435\u043d\u043d\u044f \u0440\u043e\u0437\u0440\u0430\u0445\u043e\u0432\u0430\u043d\u0435 \u0437\u0430 \u0443\u043c\u043e\u0432\u0438, \u0449\u043e \u0432\u0441\u044f \u0437\u0433\u0435\u043d\u0435\u0440\u043e\u0432\u0430\u043d\u0430 \u0435\u043d\u0435\u0440\u0433\u0456\u044f \u0439\u0434\u0435 \u043d\u0430 \u043f\u043e\u043a\u0440\u0438\u0442\u0442\u044f \u0432\u0430\u0448\u0438\u0445 \u0432\u043b\u0430\u0441\u043d\u0438\u0445 \u043f\u043e\u0442\u0440\u0435\u0431.",j="\u0417\u043d\u0430\u0447\u0435\u043d\u043d\u044f \u043c\u043e\u0436\u043b\u0438\u0432\u0435, \u044f\u043a\u0449\u043e \u0432\u0441\u044f \u0437\u0433\u0435\u043d\u0435\u0440\u043e\u0432\u0430\u043d\u0430 \u0435\u043d\u0435\u0440\u0433\u0456\u044f \u043f\u0440\u043e\u0434\u0430\u0454\u0442\u044c\u0441\u044f \u0437\u0430 '\u0437\u0435\u043b\u0435\u043d\u0438\u043c \u0442\u0430\u0440\u0438\u0444\u043e\u043c'. \u0414\u043b\u044f \u0431\u0456\u043b\u044c\u0448 \u0442\u043e\u0447\u043d\u043e\u0433\u043e \u0440\u043e\u0437\u0440\u0430\u0445\u0443\u043d\u043a\u0443 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0454\u043c\u043e \u0437\u0430\u043f\u043e\u0432\u043d\u0438\u0442\u0438 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044e \u043f\u0440\u043e \u0432\u043b\u0430\u0441\u043d\u0435 \u043c\u0456\u0441\u044f\u0447\u043d\u0435 \u0441\u043f\u043e\u0436\u0438\u0432\u0430\u043d\u043d\u044f."):x=f+g-v,"\u041c\u0435\u0440\u0435\u0436\u0435\u0432\u0430"===e.stationType&&!i&&m>.3*d&&b>0&&(k='\u0423 \u0432\u0430\u0448\u043e\u043c\u0443 \u0432\u0438\u043f\u0430\u0434\u043a\u0443 \u0440\u0456\u0447\u043d\u0430 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0456\u044f \u0437\u043d\u0430\u0447\u043d\u043e \u043f\u0435\u0440\u0435\u0432\u0438\u0449\u0443\u0454 \u0441\u043f\u043e\u0436\u0438\u0432\u0430\u043d\u043d\u044f. \u041c\u0438 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0454\u043c\u043e \u0440\u043e\u0437\u0433\u043b\u044f\u043d\u0443\u0442\u0438 \u043f\u0456\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u044f "\u0437\u0435\u043b\u0435\u043d\u043e\u0433\u043e \u0442\u0430\u0440\u0438\u0444\u0443" \u0434\u043b\u044f \u043f\u0440\u043e\u0434\u0430\u0436\u0443 \u043d\u0430\u0434\u043b\u0438\u0448\u043a\u0456\u0432, \u0430\u0431\u043e \u0437\u043c\u0435\u043d\u0448\u0438\u0442\u0438 \u043f\u043e\u0442\u0443\u0436\u043d\u0456\u0441\u0442\u044c \u0441\u0442\u0430\u043d\u0446\u0456\u0457 \u0434\u043b\u044f \u043e\u043f\u0442\u0438\u043c\u0456\u0437\u0430\u0446\u0456\u0457 \u0456\u043d\u0432\u0435\u0441\u0442\u0438\u0446\u0456\u0439.'),l(k);const N=VB.map((t,n)=>({month:t,"\u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0456\u044f":Math.round(BB[n]*a),"\u0421\u043f\u043e\u0436\u0438\u0432\u0430\u043d\u043d\u044f":Math.round(parseFloat(e.months[n])||0),"\u0411\u0430\u043b\u0430\u043d\u0441":Math.round(BB[n]*a-(parseFloat(e.months[n])||0))})),_=[];d>.1&&_.push({name:"\u0412\u043b\u0430\u0441\u043d\u0435 \u0441\u043f\u043e\u0436\u0438\u0432\u0430\u043d\u043d\u044f",value:d,color:"#3b82f6"}),m>.1&&_.push({name:i?"\u041f\u0440\u043e\u0434\u0430\u0436 \u0432 \u043c\u0435\u0440\u0435\u0436\u0443":"\u041d\u0435\u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u0438\u0439 \u043d\u0430\u0434\u043b\u0438\u0448\u043e\u043a",value:m,color:i?"#10b981":"#f59e0b"}),s({annualGeneration:c.toFixed(0),savings:f.toFixed(0),netProfit:g.toFixed(0),totalBenefit:x.toFixed(0),monthlyData:N,pieData:_,savingsInfoText:w,netProfitInfoText:j}),p(!1),h(!1),u(!0),y({})},disabled:f,className:"w-full bg-gradient-to-r from-green-600 to-blue-600 text-white p-4 rounded-lg hover:from-green-700 hover:to-blue-700 font-semibold flex items-center justify-center gap-2 disabled:opacity-60 transition-all hover:scale-105 disabled:hover:scale-100",children:f?(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"\u0420\u043e\u0437\u0440\u0430\u0445\u0443\u043d\u043e\u043a..."]}):(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)($B,{size:20}),"\u041f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0438"]})}),(0,ft.jsx)("p",{className:"text-xs text-gray-500 text-center mt-4",children:"\u0412\u0430\u0448\u0456 \u0434\u0430\u043d\u0456 \u0437\u0430\u0445\u0438\u0449\u0435\u043d\u0456 \u0442\u0430 \u043d\u0435 \u0431\u0443\u0434\u0443\u0442\u044c \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u0456 \u0442\u0440\u0435\u0442\u0456\u043c \u0441\u0442\u043e\u0440\u043e\u043d\u0430\u043c"})]})})]})})},nV="https://quiet-water-a1ad.kairosost38500.workers.dev",rV=["\u041a\u043e\u043c\u0435\u0440\u0446\u0456\u0439\u043d\u0430 \u043f\u0440\u043e\u043f\u043e\u0437\u0438\u0446\u0456\u044f","\u0422\u0435\u0445\u043d\u0456\u0447\u043d\u0438\u0439 \u043f\u0440\u043e\u0454\u043a\u0442","\u0424\u043e\u0442\u043e \u043e\u0431'\u0454\u043a\u0442\u0430","3D-\u0432\u0456\u0437\u0443\u0430\u043b\u0456\u0437\u0430\u0446\u0456\u044f","\u0424\u043e\u0442\u043e\u0437\u0432\u0456\u0442","\u0427\u0435\u043a","\u041d\u0430\u043a\u043b\u0430\u0434\u043d\u0430","\u0410\u043a\u0442","\u0406\u043d\u0448\u0435"],aV=(0,t.memo)(e=>{let{message:n,type:r,isVisible:a,onClose:i}=e;return(0,t.useEffect)(()=>{if(a){const e=setTimeout(i,4e3);return()=>clearTimeout(e)}},[a,i]),(0,ft.jsx)(Et,{children:a&&(0,ft.jsx)(hc.div,{initial:{opacity:0,y:-20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.9},className:"fixed top-20 right-5 z-[200]",children:(0,ft.jsxs)("div",{className:"px-4 py-3 rounded-xl shadow-xl flex items-center gap-3 text-white font-medium "+("error"===r?"bg-red-500":"bg-emerald-500"),children:["error"===r?(0,ft.jsx)(su,{}):(0,ft.jsx)(Bc,{}),(0,ft.jsx)("span",{children:n}),(0,ft.jsx)("button",{onClick:i,children:(0,ft.jsx)(hd,{})})]})})})}),iV=(0,t.memo)(e=>{let{doc:t,onPreview:n}=e;return(0,ft.jsxs)(hc.div,{layout:!0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-4 shadow-sm border border-slate-200 hover:shadow-md transition-all flex items-center gap-4 group",children:[(0,ft.jsx)("div",{className:"p-3 bg-slate-50 rounded-lg group-hover:bg-slate-100 transition-colors",children:(a=t.mimeType,a.includes("pdf")?(0,ft.jsx)(pu,{className:"text-red-500 text-3xl"}):a.includes("image")?(0,ft.jsx)(hu,{className:"text-blue-500 text-3xl"}):(0,ft.jsx)(uu,{className:"text-gray-500 text-3xl"}))}),(0,ft.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ft.jsx)("h4",{className:"font-semibold text-slate-800 truncate",title:t.name,children:t.name}),(0,ft.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:(r=t.createdTime,new Date(r).toLocaleDateString("uk-UA",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}))})]}),(0,ft.jsxs)("div",{className:"flex gap-2",children:[(0,ft.jsx)("button",{onClick:()=>n(t.webViewLink),className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",title:"\u041f\u0435\u0440\u0435\u0433\u043b\u044f\u043d\u0443\u0442\u0438",children:(0,ft.jsx)(cu,{})}),t.webContentLink&&(0,ft.jsx)("a",{href:t.webContentLink,className:"p-2 text-slate-400 hover:text-emerald-600 hover:bg-emerald-50 rounded-lg transition-colors",title:"\u0421\u043a\u0430\u0447\u0430\u0442\u0438",children:(0,ft.jsx)(tu,{})})]})]});var r,a});function sV(){const e=(0,t.useRef)(null),[n,r]=(0,t.useState)(""),[a,i]=(0,t.useState)([]),[s,o]=(0,t.useState)(null),[l,c]=(0,t.useState)(!1),[u,d]=(0,t.useState)([]),[h,f]=(0,t.useState)(!1),[p,m]=(0,t.useState)("\u0412\u0441\u0456"),[g,v]=(0,t.useState)([]),[y,x]=(0,t.useState)(rV[0]),[b,w]=(0,t.useState)(""),[j,k]=(0,t.useState)(!1),[N,_]=(0,t.useState)(null),[S,C]=(0,t.useState)({isVisible:!1,message:"",type:"success"}),[O,E]=(0,t.useState)(!1);(0,t.useEffect)(()=>{const e=setTimeout(async()=>{if(!n||n.length<2)i([]);else{c(!0);try{let e=Tp.from("installations").select("custom_id, name, client:clients(name)").limit(5);e=/^\d+$/.test(n)?e.eq("custom_id",parseInt(n)):e.ilike("name",`%${n}%`);const{data:t}=await e;i(t||[])}catch(e){console.error(e)}finally{c(!1)}}},300);return()=>clearTimeout(e)},[n]);const P=(0,t.useCallback)(async e=>{f(!0);try{const t=await fetch(`${nV}/documents/${e}`);if(!t.ok)throw new Error("Server error");const n=await t.json();if("error"===n.status)throw new Error(n.message);d(n.documents||[])}catch(t){console.error("Error fetching docs:",t),d([])}finally{f(!1)}},[]),T=(e,t)=>{C({isVisible:!0,message:e,type:t})},A=u.filter(e=>"\u0412\u0441\u0456"===p||e.name.startsWith(p));return(0,ft.jsx)(Mp,{children:(0,ft.jsxs)("div",{className:"p-4 sm:p-8 space-y-6 max-w-[1600px] mx-auto pb-safe min-h-[calc(100dvh-80px)] flex flex-col",children:[(0,ft.jsx)(aV,{...S,onClose:()=>C(e=>({...e,isVisible:!1}))}),(0,ft.jsx)("div",{className:"flex flex-col gap-4 flex-none",children:(0,ft.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ft.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center shadow-lg",children:(0,ft.jsx)(xu,{className:"text-white text-lg"})}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800",children:"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0438"}),(0,ft.jsx)("p",{className:"text-slate-500 text-sm",children:"\u041a\u0435\u0440\u0443\u0432\u0430\u043d\u043d\u044f \u0444\u0430\u0439\u043b\u0430\u043c\u0438 \u043e\u0431'\u0454\u043a\u0442\u0456\u0432"})]})]})}),(0,ft.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 flex-1 min-h-0",children:[(0,ft.jsxs)("div",{className:"lg:col-span-1 space-y-6 flex flex-col",children:[(0,ft.jsxs)("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-slate-200 relative z-30",children:[(0,ft.jsx)("h3",{className:"font-bold text-slate-800 mb-3 text-sm uppercase tracking-wide",children:"1. \u041f\u043e\u0448\u0443\u043a \u043e\u0431'\u0454\u043a\u0442\u0430"}),(0,ft.jsxs)("div",{className:"relative",children:[(0,ft.jsx)(Xu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),(0,ft.jsx)("input",{type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430 \u0430\u0431\u043e ID...",value:n,onChange:e=>r(e.target.value),className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 transition outline-none text-sm"}),l&&(0,ft.jsx)("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 w-4 h-4 border-2 border-indigo-500 border-t-transparent rounded-full animate-spin"})]}),(0,ft.jsx)(Et,{children:a.length>0&&(0,ft.jsx)(hc.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"absolute left-0 right-0 top-full mt-2 bg-white rounded-xl shadow-xl border border-slate-100 overflow-hidden max-h-60 overflow-y-auto z-50 mx-5",children:a.map(e=>{var t;return(0,ft.jsxs)("button",{onClick:()=>(e=>{o(e),r(""),i([]),P(e.custom_id)})(e),className:"w-full text-left px-4 py-3 hover:bg-indigo-50 border-b border-slate-50 last:border-0 transition-colors",children:[(0,ft.jsx)("div",{className:"font-semibold text-slate-800 text-sm",children:e.name}),(0,ft.jsxs)("div",{className:"text-xs text-slate-500 flex justify-between mt-1",children:[(0,ft.jsxs)("span",{children:["ID: ",e.custom_id]}),(0,ft.jsx)("span",{children:null===(t=e.client)||void 0===t?void 0:t.name})]})]},e.custom_id)})})}),s&&(0,ft.jsxs)(hc.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-3 p-3 bg-indigo-50 border border-indigo-100 rounded-xl flex items-center justify-between",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("div",{className:"text-[10px] text-indigo-500 font-bold uppercase tracking-wide",children:"\u041e\u0431\u0440\u0430\u043d\u043e"}),(0,ft.jsx)("div",{className:"font-bold text-slate-800 text-sm",children:s.name})]}),(0,ft.jsx)("button",{onClick:()=>{o(null),d([])},className:"p-2 text-slate-400 hover:text-red-500",children:(0,ft.jsx)(hd,{})})]})]}),(0,ft.jsxs)("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-slate-200 transition-all flex-1 "+(s?"":"opacity-50 pointer-events-none grayscale"),children:[(0,ft.jsx)("h3",{className:"font-bold text-slate-800 mb-3 text-sm uppercase tracking-wide",children:"2. \u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f"}),(0,ft.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!s)return T("\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u043e\u0431'\u0454\u043a\u0442!","error");if(0===g.length)return T("\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0444\u0430\u0439\u043b\u0438!","error");const t="\u0406\u043d\u0448\u0435"===y?b:y;if(!t)return T("\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u0442\u0438\u043f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430!","error");k(!0);const n=new FormData;n.append("object_number",s.custom_id),n.append("doc_type",t),g.forEach(e=>{n.append("files",e)});try{const e=await fetch(`${nV}/upload/`,{method:"POST",body:n}),t=await e.json();if("success"!==t.status)throw new Error(t.message);T(`\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043e \u0444\u0430\u0439\u043b\u0456\u0432: ${t.count}`,"success"),v([]),w(""),P(s.custom_id)}catch(r){T("\u041f\u043e\u043c\u0438\u043b\u043a\u0430: "+r.message,"error")}finally{k(!1)}},className:"space-y-4",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-xs font-bold text-slate-500 mb-1.5 ml-1",children:"\u0422\u0438\u043f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430"}),(0,ft.jsx)("select",{value:y,onChange:e=>x(e.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl appearance-none focus:ring-2 focus:ring-indigo-500 outline-none text-sm",children:rV.map(e=>(0,ft.jsx)("option",{value:e,children:e},e))}),"\u0406\u043d\u0448\u0435"===y&&(0,ft.jsx)(hc.input,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0442\u0438\u043f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430...",value:b,onChange:e=>w(e.target.value),className:"w-full mt-2 px-4 py-2 bg-white border border-indigo-200 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none text-sm"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-xs font-bold text-slate-500 mb-1.5 ml-1",children:"\u0424\u0430\u0439\u043b\u0438"}),(0,ft.jsxs)("label",{className:"flex flex-col items-center justify-center w-full h-24 border-2 border-dashed border-slate-300 rounded-xl cursor-pointer hover:bg-slate-50 hover:border-indigo-400 transition-colors bg-slate-50/50",children:[(0,ft.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,ft.jsx)(Yc,{className:"w-6 h-6 text-slate-400 mb-1"}),(0,ft.jsx)("p",{className:"text-xs text-slate-500",children:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0444\u0430\u0439\u043b\u0438"})]}),(0,ft.jsx)("input",{ref:e,type:"file",multiple:!0,className:"hidden",onChange:t=>{const n=Array.from(t.target.files);v(e=>[...e,...n]),e.current&&(e.current.value="")}})]})]}),g.length>0&&(0,ft.jsx)("div",{className:"max-h-32 overflow-y-auto space-y-2 custom-scrollbar pr-1",children:g.map((e,t)=>(0,ft.jsxs)("div",{className:"flex items-center justify-between p-2 bg-slate-50 rounded-lg border border-slate-100 text-xs",children:[(0,ft.jsx)("span",{className:"truncate flex-1 mr-2 text-slate-700",children:e.name}),(0,ft.jsx)("button",{type:"button",onClick:()=>{return e=t,void v(t=>t.filter((t,n)=>n!==e));var e},className:"text-red-400 hover:text-red-600 p-1",children:(0,ft.jsx)(pd,{})})]},t))}),(0,ft.jsx)("button",{type:"submit",disabled:j||0===g.length,className:"w-full py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold rounded-xl shadow-lg disabled:opacity-50 flex justify-center items-center gap-2 hover:shadow-xl transition-all active:scale-95",children:j?(0,ft.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438"})]})]})]}),(0,ft.jsx)("div",{className:"lg:col-span-2 lg:h-full lg:min-h-[500px] h-auto",children:(0,ft.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200 lg:h-full h-auto flex flex-col",children:[(0,ft.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-4 border-b border-slate-100 pb-4 flex-none",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("h3",{className:"font-bold text-slate-800 text-lg",children:"\u0410\u0440\u0445\u0456\u0432 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0456\u0432"}),(0,ft.jsx)("p",{className:"text-sm text-slate-500",children:s?`\u0424\u0430\u0439\u043b\u0438 \u0434\u043b\u044f "${s.name}"`:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u043e\u0431'\u0454\u043a\u0442 \u0437\u043b\u0456\u0432\u0430"})]}),s&&(0,ft.jsxs)("div",{className:"relative z-20",children:[(0,ft.jsxs)("button",{onClick:()=>E(!O),className:"flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-semibold transition "+(O?"bg-indigo-500 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"),children:[(0,ft.jsx)(gu,{})," \u0424\u0456\u043b\u044c\u0442\u0440 ","\u0412\u0441\u0456"!==p&&`(${p.slice(0,5)}...)`]}),(0,ft.jsx)(Et,{children:O&&(0,ft.jsxs)(hc.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},className:"absolute right-0 top-full mt-2 w-56 bg-white rounded-xl shadow-xl border border-slate-100 overflow-hidden",children:[(0,ft.jsx)("button",{onClick:()=>{m("\u0412\u0441\u0456"),E(!1)},className:"w-full text-left px-4 py-3 hover:bg-indigo-50 text-sm font-medium border-b border-slate-50",children:"\u0412\u0441\u0456 \u0442\u0438\u043f\u0438"}),rV.map(e=>(0,ft.jsx)("button",{onClick:()=>{m(e),E(!1)},className:"w-full text-left px-4 py-2.5 hover:bg-indigo-50 text-sm text-slate-700",children:e},e))]})})]})]}),(0,ft.jsx)("div",{className:"lg:flex-1 lg:overflow-y-auto lg:pr-1 custom-scrollbar",children:s?h?(0,ft.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,ft.jsx)("div",{className:"h-16 bg-slate-100 rounded-xl animate-pulse"},e))}):0===A.length?(0,ft.jsxs)("div",{className:"h-64 lg:h-full flex flex-col items-center justify-center text-slate-400 py-10",children:[(0,ft.jsx)(xu,{className:"text-5xl mb-3 opacity-10"}),(0,ft.jsx)("p",{children:"\u0424\u0430\u0439\u043b\u0456\u0432 \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e"})]}):(0,ft.jsx)("div",{className:"grid grid-cols-1 gap-3",children:A.map(e=>(0,ft.jsx)(iV,{doc:e,onPreview:_},e.id))}):(0,ft.jsxs)("div",{className:"h-64 lg:h-full flex flex-col items-center justify-center text-slate-400",children:[(0,ft.jsx)(Dc,{className:"text-6xl mb-4 opacity-10"}),(0,ft.jsx)("p",{children:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u043e\u0431'\u0454\u043a\u0442 \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u0433\u043b\u044f\u0434\u0443 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0456\u0432"})]})})]})})]}),(0,ft.jsx)(Et,{children:N&&(0,ft.jsxs)(hc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/90 z-[300] flex flex-col p-4",onClick:()=>_(null),children:[(0,ft.jsx)("div",{className:"flex justify-end mb-4",children:(0,ft.jsx)("button",{className:"text-white/70 hover:text-white p-2 bg-white/10 rounded-full transition-colors",children:(0,ft.jsx)(hd,{className:"text-2xl"})})}),(0,ft.jsx)("div",{className:"flex-1 bg-white rounded-lg overflow-hidden relative",onClick:e=>e.stopPropagation(),children:(0,ft.jsx)("iframe",{src:N.replace("/view","/preview"),className:"w-full h-full",title:"Document Preview",allow:"autoplay"})})]})})]})})}const oV=_p("https://logxutaepqzmvgsvscle.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxvZ3h1dGFlcHF6bXZnc3ZzY2xlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM5ODU4MDEsImV4cCI6MjA2OTU2MTgwMX0.NhbaKL5X48jHyPPxZ-6EadLcBfM-NMxMA8qbksT9VhE"),lV=["\u041a\u0430\u0439\u0440\u043e\u0441","\u0420\u043e\u0437\u0443\u043c\u043d\u0435 \u0437\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043d\u044f \u0435\u043d\u0435\u0440\u0433\u0456\u0457"],cV={planning:"\u041f\u043b\u0430\u043d\u0443\u0432\u0430\u043d\u043d\u044f",in_progress:"\u0412\u0438\u043a\u043e\u043d\u0443\u0454\u0442\u044c\u0441\u044f",on_hold:"\u041f\u0440\u0438\u0437\u0443\u043f\u0438\u043d\u0435\u043d\u043e",completed:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e",cancelled:"\u0421\u043a\u0430\u0441\u043e\u0432\u0430\u043d\u043e"},uV=[{value:"survey",label:"\u0422\u0435\u0445. \u043e\u0433\u043b\u044f\u0434 (\u0437\u0430\u043c\u0456\u0440\u0438)",icon:Xu},{value:"waiting_project",label:"\u041e\u0447\u0456\u043a\u0443\u0454\u043c\u043e \u043f\u0440\u043e\u0435\u043a\u0442",icon:Gc},{value:"project_done",label:"\u041f\u0440\u043e\u0435\u043a\u0442 \u0437\u0440\u043e\u0431\u043b\u0435\u043d\u043e",icon:Gu},{value:"project_approved",label:"\u041f\u0440\u043e\u0435\u043a\u0442 \u043f\u043e\u0433\u043e\u0434\u0436\u0435\u043d\u043e",icon:Fc},{value:"kp_done",label:"\u041a\u041f \u0437\u0440\u043e\u0431\u043b\u0435\u043d\u043e",icon:du},{value:"kp_approved",label:"\u041a\u041f \u043f\u043e\u0433\u043e\u0434\u0436\u0435\u043d\u043e",icon:mu},{value:"advance_payment",label:"\u0410\u0432\u0430\u043d\u0441",icon:Sd},{value:"equipment_order",label:"\u0417\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f",icon:Qu},{value:"waiting_equipment",label:"\u041e\u0447\u0456\u043a\u0443\u0454\u043c\u043e \u043e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f",icon:_u},{value:"materials_packing",label:"\u041a\u043e\u043c\u043f\u043b\u0435\u043a\u0442\u0430\u0446\u0456\u044f \u043c\u0430\u0442\u0435\u0440\u0456\u0430\u043b\u0456\u0432",icon:Ac},{value:"protection_packing",label:"\u041a\u043e\u043c\u043f\u043b. \u0435\u043b.\u0437\u0430\u0445\u0438\u0441\u0442\u0443",icon:Zu},{value:"installation_start",label:"\u0421\u0442\u0430\u0440\u0442 \u043c\u043e\u043d\u0442\u0430\u0436\u0443",icon:Vu},{value:"res_connection",label:"\u041e\u0447\u0456\u043a\u0443\u0454\u043c\u043e \u043f\u0456\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u044f \u0420\u0415\u0421",icon:Uu},{value:"final_settlement",label:"\u0420\u043e\u0437\u0440\u0430\u0445\u0443\u043d\u043e\u043a",icon:zc},{value:"final_report",label:"\u0424\u043e\u0442\u043e\u0437\u0432\u0456\u0442 \u0442\u0430 \u0437\u0430\u043b\u0438\u0448\u043a\u0438",icon:$c},{value:"installation_finish",label:"\u041c\u043e\u043d\u0442\u0430\u0436 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e",icon:yu}],dV=[{value:"not_started",label:"\u041d\u0435 \u0440\u043e\u0437\u043f\u043e\u0447\u0430\u0442\u043e",icon:function(e){return jc({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M360 64c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24 0 90.965 51.016 167.734 120.842 192C75.016 280.266 24 357.035 24 448c-13.255 0-24 10.745-24 24v16c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24 0-90.965-51.016-167.734-120.842-192C308.984 231.734 360 154.965 360 64z"},child:[]}]})(e)},color:"text-gray-400"},{value:"in_progress",label:"\u0412 \u0440\u043e\u0431\u043e\u0442\u0456",icon:sd,color:"text-blue-500"},{value:"completed",label:"\u0412\u0438\u043a\u043e\u043d\u0430\u043d\u043e",icon:Fc,color:"text-green-500"},{value:"skipped",label:"\u041f\u0440\u043e\u043f\u0443\u0449\u0435\u043d\u043e",icon:su,color:"text-orange-500"},{value:"failed",label:"\u041d\u0435 \u0432\u0438\u043a\u043e\u043d\u0430\u043b\u0438",icon:function(e){return jc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.034 8 8 119.033 8 256s111.034 248 248 248 248-111.034 248-248S392.967 8 256 8zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676zM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676z"},child:[]}]})(e)},color:"text-red-500"}],hV=e=>{let{message:n,type:r="success",isVisible:a,onClose:i}=e;(0,t.useEffect)(()=>{if(a){const e=setTimeout(i,4e3);return()=>clearTimeout(e)}},[a,i]);return(0,ft.jsx)(Et,{children:a&&(0,ft.jsx)(hc.div,{initial:{opacity:0,x:300},animate:{opacity:1,x:0},exit:{opacity:0,x:300},className:"fixed top-4 right-4 z-[100] max-w-[90vw]",children:(0,ft.jsx)("div",{className:`${{success:"bg-green-600 text-white",error:"bg-red-600 text-white",info:"bg-blue-600 text-white"}[r]} rounded-lg shadow-lg p-4 min-w-[280px] border border-white/10`,children:(0,ft.jsxs)("div",{className:"flex items-center space-x-3",children:["success"===r?(0,ft.jsx)(Bc,{}):(0,ft.jsx)(su,{}),(0,ft.jsx)("span",{className:"font-medium text-sm",children:n}),(0,ft.jsx)("button",{onClick:i,className:"ml-auto text-white/80 hover:text-white",children:(0,ft.jsx)(hd,{})})]})})})})},fV=e=>{let{isOpen:n,onClose:r,stage:a,comment:i,onSave:s}=e;const[o,l]=(0,t.useState)(i||"");return(0,t.useEffect)(()=>{l(i||"")},[i]),(0,ft.jsx)(Et,{children:n&&(0,ft.jsx)(hc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-none md:backdrop-blur-sm z-[100] flex items-center justify-center p-4",onClick:r,children:(0,ft.jsxs)(hc.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl w-full max-w-lg shadow-2xl p-6",onClick:e=>e.stopPropagation(),children:[(0,ft.jsxs)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:["\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440 \u0434\u043e \u0435\u0442\u0430\u043f\u0443: ",null===a||void 0===a?void 0:a.label]}),(0,ft.jsx)("textarea",{value:o,onChange:e=>l(e.target.value),rows:"6",className:"w-full border border-gray-300 rounded-lg px-4 py-3 resize-none focus:ring-2 focus:ring-indigo-500",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440..."}),(0,ft.jsxs)("div",{className:"flex justify-end gap-3 mt-4",children:[(0,ft.jsx)("button",{onClick:r,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium text-gray-700",children:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"}),(0,ft.jsx)("button",{onClick:()=>{s(o),r()},className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium",children:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"})]})]})})})};function pV(){var e,n,r,a,i,s,o,l,c,u,d,h,f,p,m,g;const{id:v}=ae(),y=re(),x=(0,t.useRef)(null),[b,w]=(0,t.useState)(null),[j,k]=(0,t.useState)(!0),[N,_]=(0,t.useState)(!1),[S,C]=(0,t.useState)(!1),[O,E]=(0,t.useState)(!1),[P,T]=(0,t.useState)(!1),[A,M]=(0,t.useState)({}),[D,z]=(0,t.useState)([]),[I,L]=(0,t.useState)([]),[R,$]=(0,t.useState)(""),[F,B]=(0,t.useState)({}),[V,U]=(0,t.useState)("survey"),[H,q]=(0,t.useState)({isOpen:!1,stageValue:null}),[W,K]=(0,t.useState)(!1),[G,Y]=(0,t.useState)(!1),[X,J]=(0,t.useState)({isVisible:!1,message:"",type:"success"}),Z=(0,t.useCallback)(function(e){return J({isVisible:!0,message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"})},[]),Q=(0,t.useCallback)(()=>J(e=>({...e,isVisible:!1})),[]);(0,t.useEffect)(()=>{x.current&&!j&&x.current.scrollIntoView({behavior:"smooth",block:"center"})},[j,V]),(0,t.useEffect)(()=>{(async()=>{k(!0);try{const{data:e,error:t}=await oV.from("installations").select("\n            *,\n            client:clients!installations_client_id_fkey (\n              custom_id, name, company_name, phone, oblast, populated_place, notes, \n              object_type, is_subcontract, contractor_company\n            ),\n            responsible_employee:employees!installations_responsible_emp_id_fkey (*)\n          ").eq("custom_id",v).single();if(t)throw t;if(!e)return Z("\u041f\u0440\u043e\u0435\u043a\u0442 \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e","error"),void y("/installations");w(e),M(e),U(e.workflow_stage||"survey");const n=e.workflow_data?"string"===typeof e.workflow_data?JSON.parse(e.workflow_data):e.workflow_data:{};B(n),e.responsible_employee&&$(`${e.responsible_employee.name} (ID: ${e.responsible_employee.custom_id})`)}catch(e){console.error(e),Z(`\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f: ${e.message}`,"error"),y("/installations")}finally{k(!1)}})()},[v,y,Z]),(0,t.useEffect)(()=>{(async()=>{const[e,t]=await Promise.all([oV.from("clients").select("custom_id, name, company_name, phone, oblast, populated_place, notes").order("name"),oV.from("employees").select("custom_id, name, position").order("name")]);z(e.data||[]),L(t.data||[])})()},[]);const ee=(e,t)=>{const n=parseFloat(e),r=parseFloat(t);if(!n||n<=0)return"pending";if(!r||r<0)return"pending";const a=r/n*100;return a>=100?"paid":a>0?"partial":"pending"},te=R?I.filter(e=>{var t;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(R.toLowerCase()))||e.custom_id.toString().includes(R)}):[];if(j)return(0,ft.jsx)("div",{className:"min-h-screen bg-slate-100 flex items-center justify-center",children:(0,ft.jsxs)("div",{className:"text-center",children:[(0,ft.jsx)("div",{className:"w-16 h-16 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,ft.jsx)("p",{className:"text-gray-600 font-medium",children:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f..."})]})});if(!b)return null;const ne=e=>e?new Date(e).toLocaleDateString("uk-UA"):"\u041d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u043e",ie=e=>null!=e?`$${Number(e).toLocaleString("en-US")}`:"\u041d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u043e",se=b.total_cost>0&&b.paid_amount>0?Math.min(b.paid_amount/b.total_cost*100,100):0;let oe=b.gps_link;if(!oe&&null!==(e=b.client)&&void 0!==e&&e.oblast&&null!==(n=b.client)&&void 0!==n&&n.populated_place){const e=`${b.client.oblast}, ${b.client.populated_place}`;oe=`http://maps.google.com/?q=${encodeURIComponent(e)}`}return(0,ft.jsxs)("div",{className:"min-h-screen bg-slate-100 md:bg-gradient-to-br md:from-slate-50 md:via-blue-50 md:to-indigo-100 pb-20",children:[(0,ft.jsx)(hV,{message:X.message,type:X.type,isVisible:X.isVisible,onClose:Q}),W&&(0,ft.jsx)(pF,{project:b,onClose:()=>K(!1)}),G&&(0,ft.jsx)(gF,{project:b,onClose:()=>Y(!1),showToast:Z}),H.isOpen&&(0,ft.jsx)(fV,{isOpen:H.isOpen,onClose:()=>q({isOpen:!1,stageValue:null}),stage:uV.find(e=>e.value===H.stageValue),comment:(null===(r=F[H.stageValue])||void 0===r?void 0:r.comment)||"",onSave:e=>((e,t)=>{B(n=>({...n,[e]:{...n[e],comment:t,updatedAt:(new Date).toISOString()}}))})(H.stageValue,e)}),(0,ft.jsx)("header",{className:"sticky top-0 z-40 bg-white border-b border-gray-200/80 shadow-sm md:bg-white/95 md:backdrop-blur-xl md:shadow-lg",children:(0,ft.jsx)("div",{className:"px-3 sm:px-6 py-4",children:(0,ft.jsxs)("div",{className:"flex justify-between items-center gap-2",children:[(0,ft.jsxs)("div",{className:"flex items-center gap-2 sm:gap-4 overflow-hidden",children:[(0,ft.jsx)("button",{onClick:()=>y("/installations"),className:"p-2 hover:bg-gray-100 rounded-lg transition flex-shrink-0",children:(0,ft.jsx)(Nc,{className:"text-gray-600"})}),(0,ft.jsxs)("div",{className:"min-w-0",children:[(0,ft.jsx)("h1",{className:"text-lg sm:text-2xl font-bold text-gray-800 truncate",children:b.name||`\u041f\u0440\u043e\u0435\u043a\u0442 #${b.custom_id}`}),(0,ft.jsxs)("p",{className:"text-xs sm:text-sm text-gray-500 truncate",children:["#",b.custom_id," | ",(null===(a=b.client)||void 0===a?void 0:a.company_name)||(null===(i=b.client)||void 0===i?void 0:i.name)]})]})]}),(0,ft.jsx)("div",{className:"flex items-center gap-2 flex-shrink-0",children:S?(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsxs)("button",{onClick:()=>{C(!1),M(b)},className:"px-3 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium text-sm text-gray-700",children:[(0,ft.jsx)("span",{className:"hidden sm:inline",children:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"}),(0,ft.jsx)(hd,{className:"sm:hidden"})]}),(0,ft.jsxs)("button",{onClick:async()=>{_(!0);try{const{client:e,responsible_employee:t,...n}=A;n.workflow_data=F,n.workflow_stage=V,n.payment_status=ee(n.total_cost,n.paid_amount);const{error:r}=await oV.from("installations").update(n).eq("custom_id",v);if(r)throw r;Z("\u0417\u043c\u0456\u043d\u0438 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0437\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043e!","success"),C(!1);const{data:a}=await oV.from("installations").select("\n            *,\n            client:clients!installations_client_id_fkey (*),\n            responsible_employee:employees!installations_responsible_emp_id_fkey (*)\n          ").eq("custom_id",v).single();w(a)}catch(e){Z(`\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0437\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043d\u044f: ${e.message}`,"error")}finally{_(!1)}},disabled:N,className:"flex items-center gap-2 px-3 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium disabled:opacity-50 text-sm",children:[N?(0,ft.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):(0,ft.jsx)(Yu,{}),(0,ft.jsx)("span",{className:"hidden sm:inline",children:N?"\u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043d\u044f...":"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"})]})]}):(0,ft.jsxs)("button",{onClick:()=>{C(!0),E(!0),T(!0)},className:"flex items-center gap-2 px-3 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium text-sm",children:[(0,ft.jsx)(nu,{})," ",(0,ft.jsx)("span",{className:"hidden sm:inline",children:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438"})]})})]})})}),(0,ft.jsx)("main",{className:"p-3 sm:p-6 max-w-7xl mx-auto",children:(0,ft.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,ft.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,ft.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm md:bg-white/95 md:backdrop-blur-xl md:shadow-xl md:rounded-2xl relative overflow-hidden",children:[(0,ft.jsxs)("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[(0,ft.jsx)(_d,{className:"text-indigo-600"})," \u0406\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f \u043f\u0440\u043e \u043a\u043b\u0456\u0454\u043d\u0442\u0430"]}),(null===(s=b.client)||void 0===s?void 0:s.is_subcontract)&&(0,ft.jsxs)("div",{className:"absolute top-4 right-4 bg-orange-100 text-orange-800 px-3 py-1 rounded-full text-xs font-bold border border-orange-200 flex items-center gap-1 shadow-sm",children:[(0,ft.jsx)(wu,{})," \u041f\u0456\u0434\u0440\u044f\u0434: ",b.client.contractor_company]}),(0,ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsxs)("label",{className:"text-sm font-medium text-gray-600 flex items-center gap-1",children:[(0,ft.jsx)(ku,{className:"text-xs"})," ID \u043a\u043b\u0456\u0454\u043d\u0442\u0430"]}),(0,ft.jsxs)("p",{className:"mt-1 font-semibold text-gray-800",children:["#",null===(o=b.client)||void 0===o?void 0:o.custom_id]})]}),(null===(l=b.client)||void 0===l?void 0:l.company_name)&&(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"\u041a\u043e\u043c\u043f\u0430\u043d\u0456\u044f / \u0424\u041e\u041f"}),(0,ft.jsx)("p",{className:"mt-1 font-semibold text-gray-800",children:b.client.company_name})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u0430 \u043e\u0441\u043e\u0431\u0430"}),(0,ft.jsx)("p",{className:"mt-1 font-semibold text-gray-800",children:null===(c=b.client)||void 0===c?void 0:c.name})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"\u0422\u0438\u043f \u043e\u0431'\u0454\u043a\u0442\u0430 \u043a\u043b\u0456\u0454\u043d\u0442\u0430"}),(0,ft.jsx)("p",{className:"mt-1 font-semibold text-gray-800",children:(null===(u=b.client)||void 0===u?void 0:u.object_type)||"\u041d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u043e"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsxs)("label",{className:"text-sm font-medium text-gray-600 flex items-center gap-1",children:[(0,ft.jsx)(Fu,{className:"text-xs"})," \u0422\u0435\u043b\u0435\u0444\u043e\u043d"]}),(0,ft.jsx)("p",{className:"mt-1 font-semibold text-gray-800",children:(null===(d=b.client)||void 0===d?void 0:d.phone)||"\u041d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u043e"})]}),(0,ft.jsxs)("div",{className:"md:col-span-2",children:[(0,ft.jsxs)("label",{className:"text-sm font-medium text-gray-600 flex items-center gap-1",children:[(0,ft.jsx)(Wc,{className:"text-xs"})," \u0410\u0434\u0440\u0435\u0441\u0430"]}),(0,ft.jsx)("p",{className:"mt-1 font-semibold text-gray-800",children:null!==(h=b.client)&&void 0!==h&&h.oblast&&null!==(f=b.client)&&void 0!==f&&f.populated_place?`${b.client.oblast}, ${b.client.populated_place}`:"\u041d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u043e"})]}),(null===(p=b.client)||void 0===p?void 0:p.notes)&&(0,ft.jsxs)("div",{className:"md:col-span-2",children:[(0,ft.jsxs)("label",{className:"text-sm font-medium text-gray-600 flex items-center gap-1",children:[(0,ft.jsx)(od,{className:"text-xs"})," \u041f\u0440\u0438\u043c\u0456\u0442\u043a\u0438"]}),(0,ft.jsx)("p",{className:"mt-1 text-gray-700 bg-slate-50 p-3 rounded-lg border border-slate-200 text-sm italic",children:b.client.notes})]})]})]}),(0,ft.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ft.jsxs)("button",{onClick:()=>K(!0),className:"flex items-center justify-center gap-3 p-4 bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition group md:bg-white/95 md:backdrop-blur-xl md:shadow-lg",children:[(0,ft.jsx)("div",{className:"p-3 bg-indigo-100 rounded-full group-hover:bg-indigo-200 transition",children:(0,ft.jsx)(xu,{className:"text-indigo-600 text-xl"})}),(0,ft.jsx)("span",{className:"font-semibold text-gray-800",children:"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0438"})]}),(0,ft.jsxs)("button",{onClick:()=>Y(!0),className:"flex items-center justify-center gap-3 p-4 bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition group md:bg-white/95 md:backdrop-blur-xl md:shadow-lg",children:[(0,ft.jsx)("div",{className:"p-3 bg-green-100 rounded-full group-hover:bg-green-200 transition",children:(0,ft.jsx)(Ac,{className:"text-green-600 text-xl"})}),(0,ft.jsx)("span",{className:"font-semibold text-gray-800",children:"\u041f\u043e\u0441\u0438\u043b\u043a\u0438"})]})]}),(0,ft.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden md:bg-white/95 md:backdrop-blur-xl md:shadow-xl md:rounded-2xl",children:[(0,ft.jsxs)("div",{onClick:()=>E(!O),className:"p-6 flex justify-between items-center cursor-pointer hover:bg-gray-50 transition-colors select-none",children:[(0,ft.jsxs)("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[(0,ft.jsx)(Tc,{className:"text-yellow-500"})," \u0406\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f \u043f\u0440\u043e \u043e\u0431'\u0454\u043a\u0442"]}),O?(0,ft.jsx)(qc,{className:"text-gray-400"}):(0,ft.jsx)(Vc,{className:"text-gray-400"})]}),(0,ft.jsx)(Et,{children:O&&(0,ft.jsx)(hc.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"px-6 pb-6",children:(0,ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 border-t pt-4",children:[(0,ft.jsxs)("div",{className:"md:col-span-2",children:[(0,ft.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"\u0417\u0430\u0433\u0430\u043b\u044c\u043d\u0438\u0439 \u0441\u0442\u0430\u0442\u0443\u0441"}),S?(0,ft.jsxs)("select",{value:A.status||"planning",onChange:e=>M({...A,status:e.target.value}),className:"w-full mt-1 border border-gray-300 rounded-lg px-3 py-2 bg-white font-medium text-indigo-900",children:[(0,ft.jsx)("option",{value:"planning",children:"\u041f\u043b\u0430\u043d\u0443\u0432\u0430\u043d\u043d\u044f"}),(0,ft.jsx)("option",{value:"in_progress",children:"\u0412\u0438\u043a\u043e\u043d\u0443\u0454\u0442\u044c\u0441\u044f"}),(0,ft.jsx)("option",{value:"on_hold",children:"\u041f\u0440\u0438\u0437\u0443\u043f\u0438\u043d\u0435\u043d\u043e"}),(0,ft.jsx)("option",{value:"completed",children:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e"}),(0,ft.jsx)("option",{value:"cancelled",children:"\u0421\u043a\u0430\u0441\u043e\u0432\u0430\u043d\u043e"})]}):(0,ft.jsx)("p",{className:"mt-1 font-bold text-indigo-700 bg-indigo-50 inline-block px-3 py-1 rounded-lg",children:cV[b.status]||b.status||"\u041d\u0435 \u0432\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u043e"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"\u041d\u0430\u0437\u0432\u0430 \u043e\u0431'\u0454\u043a\u0442\u0430"}),S?(0,ft.jsx)("input",{type:"text",value:A.name||"",onChange:e=>M({...A,name:e.target.value}),className:"w-full mt-1 border border-gray-300 rounded-lg px-3 py-2"}):(0,ft.jsx)("p",{className:"mt-1 font-semibold text-gray-800",children:b.name||"\u041d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u043e"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"\u041f\u043e\u0442\u0443\u0436\u043d\u0456\u0441\u0442\u044c (\u043a\u0412\u0442)"}),S?(0,ft.jsx)("input",{type:"number",step:"0.1",value:A.capacity_kw||"",onChange:e=>M({...A,capacity_kw:e.target.value}),className:"w-full mt-1 border border-gray-300 rounded-lg px-3 py-2"}):(0,ft.jsx)("p",{className:"mt-1 font-semibold text-gray-800",children:b.capacity_kw?`${b.capacity_kw} \u043a\u0412\u0442`:"\u041d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u043e"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"\u0422\u0438\u043f \u043c\u043e\u043d\u0442\u0430\u0436\u0443"}),S?(0,ft.jsxs)("select",{value:A.mount_type||"",onChange:e=>M({...A,mount_type:e.target.value}),className:"w-full mt-1 border border-gray-300 rounded-lg px-3 py-2 bg-white",children:[(0,ft.jsx)("option",{value:"",children:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c..."}),(0,ft.jsx)("option",{value:"\u0414\u0430\u0445\u043e\u0432\u0435 \u043a\u0440\u0456\u043f\u043b\u0435\u043d\u043d\u044f (\u0421\u043a\u0430\u0442\u043d\u0438\u0439 \u0434\u0430\u0445)",children:"\u0414\u0430\u0445\u043e\u0432\u0435 \u043a\u0440\u0456\u043f\u043b\u0435\u043d\u043d\u044f (\u0421\u043a\u0430\u0442\u043d\u0438\u0439 \u0434\u0430\u0445)"}),(0,ft.jsx)("option",{value:"\u0414\u0430\u0445\u043e\u0432\u0435 \u043a\u0440\u0456\u043f\u043b\u0435\u043d\u043d\u044f (\u041f\u043b\u043e\u0441\u043a\u0438\u0439 \u0434\u0430\u0445)",children:"\u0414\u0430\u0445\u043e\u0432\u0435 \u043a\u0440\u0456\u043f\u043b\u0435\u043d\u043d\u044f (\u041f\u043b\u043e\u0441\u043a\u0438\u0439 \u0434\u0430\u0445)"}),(0,ft.jsx)("option",{value:"\u041d\u0430\u0437\u0435\u043c\u043d\u0435 \u043a\u0440\u0456\u043f\u043b\u0435\u043d\u043d\u044f",children:"\u041d\u0430\u0437\u0435\u043c\u043d\u0435 \u043a\u0440\u0456\u043f\u043b\u0435\u043d\u043d\u044f"}),(0,ft.jsx)("option",{value:"\u0422\u0440\u0435\u043a\u0435\u0440\u043d\u0430 \u0441\u0438\u0441\u0442\u0435\u043c\u0430",children:"\u0422\u0440\u0435\u043a\u0435\u0440\u043d\u0430 \u0441\u0438\u0441\u0442\u0435\u043c\u0430"}),(0,ft.jsx)("option",{value:"\u0414\u0430\u0445/\u0417\u0435\u043c\u043b\u044f",children:"\u0414\u0430\u0445/\u0417\u0435\u043c\u043b\u044f"}),(0,ft.jsx)("option",{value:"\u0415\u043b\u0435\u043a\u0442\u0440\u043e\u043c\u043e\u043d\u0442\u0430\u0436",children:"\u0415\u043b\u0435\u043a\u0442\u0440\u043e\u043c\u043e\u043d\u0442\u0430\u0436"}),(0,ft.jsx)("option",{value:"\u0406\u043d\u0448\u0435",children:"\u0406\u043d\u0448\u0435"})]}):(0,ft.jsx)("p",{className:"mt-1 font-semibold text-gray-800",children:b.mount_type||"\u041d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u043e"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"\u0422\u0438\u043f \u0441\u0442\u0430\u043d\u0446\u0456\u0457"}),S?(0,ft.jsxs)("select",{value:A.station_type||"",onChange:e=>M({...A,station_type:e.target.value}),className:"w-full mt-1 border border-gray-300 rounded-lg px-3 py-2 bg-white",children:[(0,ft.jsx)("option",{value:"",children:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c..."}),(0,ft.jsx)("option",{value:"\u041c\u0435\u0440\u0435\u0436\u0435\u0432\u0430",children:"\u041c\u0435\u0440\u0435\u0436\u0435\u0432\u0430"}),(0,ft.jsx)("option",{value:"\u0410\u0432\u0442\u043e\u043d\u043e\u043c\u043d\u0430",children:"\u0410\u0432\u0442\u043e\u043d\u043e\u043c\u043d\u0430"}),(0,ft.jsx)("option",{value:"\u0413\u0456\u0431\u0440\u0438\u0434\u043d\u0430",children:"\u0413\u0456\u0431\u0440\u0438\u0434\u043d\u0430"})]}):(0,ft.jsx)("p",{className:"mt-1 font-semibold text-gray-800",children:b.station_type||"\u041d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u043e"})]}),(0,ft.jsxs)("div",{className:"relative",children:[(0,ft.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"\u0412\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0430\u043b\u044c\u043d\u0438\u0439"}),S?(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)("input",{type:"text",value:R,onChange:e=>{$(e.target.value),A.responsible_emp_id&&M({...A,responsible_emp_id:""})},placeholder:"\u041f\u043e\u0448\u0443\u043a \u043f\u0440\u0430\u0446\u0456\u0432\u043d\u0438\u043a\u0430...",className:"w-full mt-1 border border-gray-300 rounded-lg px-3 py-2"}),R&&te.length>0&&!A.responsible_emp_id&&(0,ft.jsx)("div",{className:"absolute z-10 w-full bg-white border rounded-lg mt-1 shadow-lg max-h-48 overflow-y-auto",children:te.map(e=>(0,ft.jsxs)("button",{type:"button",onClick:()=>{return t=e,M({...A,responsible_emp_id:t.custom_id}),void $(`${t.name} (ID: ${t.custom_id})`);var t},className:"w-full px-4 py-2 text-left hover:bg-gray-50 border-b",children:[e.name," ",(0,ft.jsxs)("span",{className:"text-xs text-gray-500",children:["(ID: ",e.custom_id,")"]})]},e.custom_id))})]}):(0,ft.jsxs)("p",{className:"mt-1 font-semibold text-gray-800",children:[(null===(m=b.responsible_employee)||void 0===m?void 0:m.name)||"\u041d\u0435 \u043f\u0440\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u043e",(null===(g=b.responsible_employee)||void 0===g?void 0:g.custom_id)&&(0,ft.jsxs)("span",{className:"text-gray-500 ml-1 font-normal",children:["(ID: ",b.responsible_employee.custom_id,")"]})]})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsxs)("label",{className:"text-sm font-medium text-gray-600 flex items-center gap-1",children:[(0,ft.jsx)(bu,{className:"text-xs"})," \u041b\u043e\u043a\u0430\u0446\u0456\u044f"]}),S?(0,ft.jsx)("div",{className:"space-y-2 mt-1",children:(0,ft.jsx)("input",{type:"url",placeholder:"GPS \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f",value:A.gps_link||"",onChange:e=>M({...A,gps_link:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2"})}):(0,ft.jsx)("div",{className:"mt-1",children:oe?(0,ft.jsxs)("a",{href:oe,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-indigo-600 hover:text-indigo-700 underline font-semibold",children:[(0,ft.jsx)(Mu,{})," \u041f\u0435\u0440\u0435\u0433\u043b\u044f\u043d\u0443\u0442\u0438 \u043d\u0430 \u043c\u0430\u043f\u0456"]}):(0,ft.jsx)("p",{className:"font-semibold text-gray-800",children:"\u041d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u043e"})})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"\u0414\u0430\u0442\u0430 \u043f\u043e\u0447\u0430\u0442\u043a\u0443"}),S?(0,ft.jsx)("input",{type:"date",value:A.start_date||"",onChange:e=>M({...A,start_date:e.target.value}),className:"w-full mt-1 border border-gray-300 rounded-lg px-3 py-2"}):(0,ft.jsx)("p",{className:"mt-1 font-semibold text-gray-800",children:ne(b.start_date)})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"\u0414\u0430\u0442\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044f"}),S?(0,ft.jsx)("input",{type:"date",value:A.end_date||"",onChange:e=>M({...A,end_date:e.target.value}),className:"w-full mt-1 border border-gray-300 rounded-lg px-3 py-2"}):(0,ft.jsx)("p",{className:"mt-1 font-semibold text-gray-800",children:ne(b.end_date)})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"\u0412\u0438\u043a\u043e\u043d\u0443\u044e\u0447\u0430 \u043a\u043e\u043c\u043f\u0430\u043d\u0456\u044f"}),S?(0,ft.jsxs)("select",{value:A.working_company||"",onChange:e=>M({...A,working_company:e.target.value}),className:"w-full mt-1 border border-gray-300 rounded-lg px-3 py-2 bg-white",children:[(0,ft.jsx)("option",{value:"",children:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c..."}),lV.map(e=>(0,ft.jsx)("option",{value:e,children:e},e))]}):(0,ft.jsx)("p",{className:"mt-1 font-semibold text-gray-800",children:b.working_company||"\u041d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u043e"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"\u0411\u0430\u043d\u043a"}),S?(0,ft.jsxs)("select",{value:A.bank||"",onChange:e=>M({...A,bank:e.target.value}),className:"w-full mt-1 border border-gray-300 rounded-lg px-3 py-2 bg-white",children:[(0,ft.jsx)("option",{value:"",children:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c..."}),(0,ft.jsx)("option",{value:"\u0422\u0430\u043a",children:"\u0422\u0430\u043a"}),(0,ft.jsx)("option",{value:"\u041d\u0456",children:"\u041d\u0456"})]}):(0,ft.jsx)("p",{className:"mt-1 font-semibold text-gray-800",children:b.bank||"\u041d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u043e"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"\u041f\u0440\u0456\u043e\u0440\u0438\u0442\u0435\u0442"}),S?(0,ft.jsxs)("select",{value:A.priority||"medium",onChange:e=>M({...A,priority:e.target.value}),className:"w-full mt-1 border border-gray-300 rounded-lg px-3 py-2 bg-white",children:[(0,ft.jsx)("option",{value:"low",children:"\u041d\u0438\u0437\u044c\u043a\u0438\u0439"}),(0,ft.jsx)("option",{value:"medium",children:"\u0421\u0435\u0440\u0435\u0434\u043d\u0456\u0439"}),(0,ft.jsx)("option",{value:"high",children:"\u0412\u0438\u0441\u043e\u043a\u0438\u0439"})]}):(0,ft.jsx)("p",{className:"mt-1 font-semibold text-gray-800",children:"high"===b.priority?"\u0412\u0438\u0441\u043e\u043a\u0438\u0439":"low"===b.priority?"\u041d\u0438\u0437\u044c\u043a\u0438\u0439":"\u0421\u0435\u0440\u0435\u0434\u043d\u0456\u0439"})]}),(0,ft.jsxs)("div",{className:"md:col-span-2",children:[(0,ft.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"\u041f\u0440\u0438\u043c\u0456\u0442\u043a\u0438"}),S?(0,ft.jsx)("textarea",{rows:"3",value:A.notes||"",onChange:e=>M({...A,notes:e.target.value}),className:"w-full mt-1 border border-gray-300 rounded-lg px-3 py-2 resize-none"}):(0,ft.jsx)("p",{className:"mt-1 text-gray-800",children:b.notes||"\u041d\u0435\u043c\u0430\u0454"})]})]})})})]}),(0,ft.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl shadow-sm border border-green-100 overflow-hidden md:shadow-xl md:rounded-2xl",children:[(0,ft.jsxs)("div",{onClick:()=>T(!P),className:"p-6 flex justify-between items-center cursor-pointer hover:bg-emerald-100/50 transition-colors select-none",children:[(0,ft.jsxs)("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[(0,ft.jsx)(zu,{className:"text-green-600"})," \u0424\u0456\u043d\u0430\u043d\u0441\u0438"]}),P?(0,ft.jsx)(qc,{className:"text-green-700"}):(0,ft.jsx)(Vc,{className:"text-green-700"})]}),(0,ft.jsx)(Et,{children:P&&(0,ft.jsx)(hc.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"px-6 pb-6",children:(0,ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 border-t border-green-200/50 pt-4",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"\u0417\u0430\u0433\u0430\u043b\u044c\u043d\u0430 \u0432\u0430\u0440\u0442\u0456\u0441\u0442\u044c"}),S?(0,ft.jsx)("input",{type:"number",step:"0.01",value:A.total_cost||"",onChange:e=>M({...A,total_cost:e.target.value}),className:"w-full mt-1 border border-gray-300 rounded-lg px-3 py-2"}):(0,ft.jsx)("p",{className:"mt-1 text-2xl font-bold text-gray-800",children:ie(b.total_cost)})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"\u041e\u043f\u043b\u0430\u0447\u0435\u043d\u043e"}),S?(0,ft.jsx)("input",{type:"number",step:"0.01",value:A.paid_amount||"",onChange:e=>M({...A,paid_amount:e.target.value}),className:"w-full mt-1 border border-gray-300 rounded-lg px-3 py-2"}):(0,ft.jsx)("p",{className:"mt-1 text-2xl font-bold text-green-600",children:ie(b.paid_amount)})]}),(0,ft.jsxs)("div",{className:"md:col-span-2",children:[(0,ft.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,ft.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"\u041f\u0440\u043e\u0433\u0440\u0435\u0441"}),(0,ft.jsxs)("span",{className:"text-lg font-bold text-gray-800",children:[se.toFixed(1),"%"]})]}),(0,ft.jsx)("div",{className:"w-full h-6 bg-gray-200 rounded-full overflow-hidden shadow-inner",children:(0,ft.jsx)("div",{className:"h-full bg-gradient-to-r from-green-500 to-emerald-500 transition-all duration-500",style:{width:`${se}%`}})}),b.total_cost>0&&b.paid_amount<b.total_cost&&(0,ft.jsxs)("p",{className:"text-sm text-gray-600 mt-2",children:["\u0417\u0430\u043b\u0438\u0448\u043e\u043a: ",(0,ft.jsxs)("span",{className:"font-bold text-orange-600",children:["$",(b.total_cost-b.paid_amount).toLocaleString("en-US")]})]})]})]})})})]})]}),(0,ft.jsx)("div",{className:"lg:col-span-1",children:(0,ft.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm sticky top-24 max-h-[calc(100vh-120px)] overflow-hidden flex flex-col md:bg-white/95 md:backdrop-blur-xl md:shadow-xl md:rounded-2xl",children:[(0,ft.jsxs)("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[(0,ft.jsx)(fd,{className:"text-purple-600"})," \u0425\u0456\u0434 \u0440\u043e\u0431\u043e\u0442\u0438"]}),(0,ft.jsxs)("div",{className:"mb-4",children:[(0,ft.jsx)("label",{className:"text-sm font-medium text-gray-600 mb-2 block",children:"\u041f\u043e\u0442\u043e\u0447\u043d\u0438\u0439 \u0435\u0442\u0430\u043f"}),(0,ft.jsx)("select",{value:V,onChange:e=>U(e.target.value),disabled:!S,className:"w-full border-2 border-indigo-300 rounded-lg px-3 py-2 font-semibold text-indigo-900 transition "+(S?"bg-indigo-50":"opacity-70 bg-gray-100 cursor-not-allowed"),children:uV.map(e=>(0,ft.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,ft.jsx)("div",{className:"space-y-2 overflow-y-auto pr-2 flex-grow",children:uV.map(e=>{const t=e.icon,n=F[e.value]||{},r=n.status||"not_started",a=dV.find(e=>e.value===r)||dV[0],i=a.icon,s=V===e.value;return(0,ft.jsxs)("div",{ref:s?x:null,className:`\n                        relative p-3 rounded-lg border-l-4 transition-all duration-300\n                        ${s?"border-l-indigo-500 bg-indigo-50 shadow-md transform scale-[1.02]":"border-l-gray-300 bg-white hover:bg-gray-50 opacity-80 border border-gray-100"}\n                      `,children:[(0,ft.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,ft.jsxs)("div",{className:"flex items-start gap-2 flex-1",children:[(0,ft.jsx)(t,{className:"mt-1 "+(s?"text-indigo-600":"text-gray-400")}),(0,ft.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ft.jsx)("h3",{className:"font-semibold text-sm leading-tight "+(s?"text-indigo-900":"text-gray-800"),children:e.label}),s&&(0,ft.jsx)("span",{className:"inline-block mt-1 px-2 py-0.5 bg-indigo-600 text-white text-xs rounded-full shadow-sm animate-pulse",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u0438\u0439 \u0435\u0442\u0430\u043f"})]})]}),(0,ft.jsx)(i,{className:`${a.color} text-lg flex-shrink-0`})]}),(s||n.status||n.comment)&&(0,ft.jsxs)(hc.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},className:"mt-2 space-y-2 overflow-hidden",children:[(0,ft.jsx)("select",{value:r,onChange:t=>((e,t)=>{B(n=>({...n,[e]:{...n[e],status:t,updatedAt:(new Date).toISOString()}}))})(e.value,t.target.value),disabled:!S,className:"w-full text-xs border border-gray-300 rounded px-2 py-1 bg-white "+(S?"":"opacity-70 bg-gray-50 cursor-not-allowed"),children:dV.map(e=>(0,ft.jsx)("option",{value:e.value,children:e.label},e.value))}),n.comment&&(0,ft.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded p-2 text-xs text-gray-700 italic",children:[(0,ft.jsx)(Zc,{className:"inline mr-1 text-blue-500"}),n.comment]}),S&&(0,ft.jsxs)("button",{onClick:()=>q({isOpen:!0,stageValue:e.value}),className:"w-full text-xs py-1 px-2 bg-white border border-gray-200 hover:bg-gray-50 rounded flex items-center justify-center gap-1 transition shadow-sm text-gray-600",children:[(0,ft.jsx)(Zc,{})," ",n.comment?"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438":"\u0414\u043e\u0434\u0430\u0442\u0438"," \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440"]})]}),n.updatedAt&&(0,ft.jsxs)("p",{className:"text-[10px] text-gray-400 mt-2 text-right",children:["\u041e\u043d\u043e\u0432\u043b\u0435\u043d\u043e: ",new Date(n.updatedAt).toLocaleDateString()]})]},e.value)})})]})})]})})]})}function mV(){return(0,ft.jsx)(rt,{children:(0,ft.jsxs)(ke,{children:[(0,ft.jsx)(we,{path:"/",element:(0,ft.jsx)(Pp,{})}),(0,ft.jsx)(we,{path:"/home",element:(0,ft.jsx)(Bp,{})}),(0,ft.jsx)(we,{path:"/calc",element:(0,ft.jsx)(iF,{})}),(0,ft.jsx)(we,{path:"/vis",element:(0,ft.jsx)(dF,{})}),(0,ft.jsx)(we,{path:"/installations",element:(0,ft.jsx)(wF,{})}),(0,ft.jsx)(we,{path:"/clients",element:(0,ft.jsx)(SF,{})}),(0,ft.jsx)(we,{path:"/employees",element:(0,ft.jsx)(VF,{})}),(0,ft.jsx)(we,{path:"/tasks",element:(0,ft.jsx)(QF,{})}),(0,ft.jsx)(we,{path:"/reports",element:(0,ft.jsx)(aB,{})}),(0,ft.jsx)(we,{path:"/equipment",element:(0,ft.jsx)(fB,{})}),(0,ft.jsx)(we,{path:"/payments",element:(0,ft.jsx)(SB,{})}),(0,ft.jsx)(we,{path:"/calculate",element:(0,ft.jsx)(tV,{})}),(0,ft.jsx)(we,{path:"/documents",element:(0,ft.jsx)(sV,{})}),(0,ft.jsx)(we,{path:"/project/:id",element:(0,ft.jsx)(pV,{})})]})})}const gV=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,6453)).then(t=>{let{getCLS:n,getFID:r,getFCP:a,getLCP:i,getTTFB:s}=t;n(e),r(e),a(e),i(e),s(e)})};a.createRoot(document.getElementById("root")).render((0,ft.jsx)(t.StrictMode,{children:(0,ft.jsx)(mV,{})})),gV()})()})();
//# sourceMappingURL=main.b55eceef.js.map
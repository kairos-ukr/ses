/*! For license information please see main.90983bf4.js.LICENSE.txt */
(()=>{var e={4:(e,t,n)=>{"use strict";var s=n(853),r=n(43),a=n(950);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(l(e)!==e)throw Error(i(188))}function u(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=u(e)))return t;e=e.sibling}return null}var h=Object.assign,m=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),y=Symbol.for("react.consumer"),w=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy");Symbol.for("react.scope");var C=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var E=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var T=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=T&&e[T]||e["@@iterator"])?e:null}var z=Symbol.for("react.client.reference");function L(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===z?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case v:return"Profiler";case x:return"StrictMode";case k:return"Suspense";case N:return"SuspenseList";case C:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case f:return"Portal";case w:return(e.displayName||"Context")+".Provider";case y:return(e._context.displayName||"Context")+".Consumer";case j:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case _:return null!==(t=e.displayName||null)?t:L(e.type)||"Memo";case S:t=e._payload,e=e._init;try{return L(e(t))}catch(n){}}return null}var A=Array.isArray,M=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D={pending:!1,data:null,method:null,action:null},R=[],$=-1;function I(e){return{current:e}}function V(e){0>$||(e.current=R[$],R[$]=null,$--)}function F(e,t){$++,R[$]=e.current,e.current=t}var B=I(null),U=I(null),H=I(null),q=I(null);function W(e,t){switch(F(H,t),F(U,e),F(B,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ru(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=au(t=ru(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(B),F(B,e)}function K(){V(B),V(U),V(H)}function G(e){null!==e.memoizedState&&F(q,e);var t=B.current,n=au(t,e.type);t!==n&&(F(U,e),F(B,n))}function J(e){U.current===e&&(V(B),V(U)),q.current===e&&(V(q),Gu._currentValue=D)}var Y=Object.prototype.hasOwnProperty,X=s.unstable_scheduleCallback,Q=s.unstable_cancelCallback,Z=s.unstable_shouldYield,ee=s.unstable_requestPaint,te=s.unstable_now,ne=s.unstable_getCurrentPriorityLevel,se=s.unstable_ImmediatePriority,re=s.unstable_UserBlockingPriority,ae=s.unstable_NormalPriority,ie=s.unstable_LowPriority,oe=s.unstable_IdlePriority,le=s.log,ce=s.unstable_setDisableYieldValue,de=null,ue=null;function he(e){if("function"===typeof le&&ce(e),ue&&"function"===typeof ue.setStrictMode)try{ue.setStrictMode(de,e)}catch(t){}}var me=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(pe(e)/fe|0)|0},pe=Math.log,fe=Math.LN2;var ge=256,xe=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var s=e.pendingLanes;if(0===s)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var o=134217727&s;return 0!==o?0!==(s=o&~a)?r=ve(s):0!==(i&=o)?r=ve(i):n||0!==(n=o&~e)&&(r=ve(n)):0!==(o=s&~a)?r=ve(o):0!==i?r=ve(i):n||0!==(n=s&~e)&&(r=ve(n)),0===r?0:0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(n=t&-t)||32===a&&0!==(4194048&n))?t:r}function ye(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function je(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function ke(){var e=xe;return 0===(62914560&(xe<<=1))&&(xe=4194304),e}function Ne(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function _e(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Se(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-me(t);e.entangledLanes|=t,e.entanglements[s]=1073741824|e.entanglements[s]|4194090&n}function Ce(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-me(n),r=1<<s;r&t|e[s]&t&&(e[s]|=t),n&=~r}}function Ee(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Te(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Pe(){var e=O.p;return 0!==e?e:void 0===(e=window.event)?32:ch(e.type)}var ze=Math.random().toString(36).slice(2),Le="__reactFiber$"+ze,Ae="__reactProps$"+ze,Me="__reactContainer$"+ze,Oe="__reactEvents$"+ze,De="__reactListeners$"+ze,Re="__reactHandles$"+ze,$e="__reactResources$"+ze,Ie="__reactMarker$"+ze;function Ve(e){delete e[Le],delete e[Ae],delete e[Oe],delete e[De],delete e[Re]}function Fe(e){var t=e[Le];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Me]||n[Le]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bu(e);null!==e;){if(n=e[Le])return n;e=bu(e)}return t}n=(e=n).parentNode}return null}function Be(e){if(e=e[Le]||e[Me]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Ue(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(i(33))}function He(e){var t=e[$e];return t||(t=e[$e]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function qe(e){e[Ie]=!0}var We=new Set,Ke={};function Ge(e,t){Je(e,t),Je(e+"Capture",t)}function Je(e,t){for(Ke[e]=t,e=0;e<t.length;e++)We.add(t[e])}var Ye,Xe,Qe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(r=t,Y.call(et,r)||!Y.call(Ze,r)&&(Qe.test(r)?et[r]=!0:(Ze[r]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var s=t.toLowerCase().slice(0,5);if("data-"!==s&&"aria-"!==s)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var r}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function st(e,t,n,s){if(null===s)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+s)}}function rt(e){if(void 0===Ye)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ye=t&&t[1]||"",Xe=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ye+e+Xe}var at=!1;function it(e,t){if(!e||at)return"";at=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(r){var s=r}Reflect.construct(e,[],n)}else{try{n.call()}catch(a){s=a}e.call(n.prototype)}}else{try{throw Error()}catch(i){s=i}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&s&&"string"===typeof o.stack)return[o.stack,s.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=s.DetermineComponentFrameRoot(),i=a[0],o=a[1];if(i&&o){var l=i.split("\n"),c=o.split("\n");for(r=s=0;s<l.length&&!l[s].includes("DetermineComponentFrameRoot");)s++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(s===l.length||r===c.length)for(s=l.length-1,r=c.length-1;1<=s&&0<=r&&l[s]!==c[r];)r--;for(;1<=s&&0<=r;s--,r--)if(l[s]!==c[r]){if(1!==s||1!==r)do{if(s--,0>--r||l[s]!==c[r]){var d="\n"+l[s].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=s&&0<=r);break}}}finally{at=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?rt(n):""}function ot(e){switch(e.tag){case 26:case 27:case 5:return rt(e.type);case 16:return rt("Lazy");case 13:return rt("Suspense");case 19:return rt("SuspenseList");case 0:case 15:return it(e.type,!1);case 11:return it(e.type.render,!1);case 1:return it(e.type,!0);case 31:return rt("Activity");default:return""}}function lt(e){try{var t="";do{t+=ot(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function dt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ut(e){e._valueTracker||(e._valueTracker=function(e){var t=dt(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){s=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(e){s=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=dt(e)?e.checked?"true":"false":e.value),(e=s)!==n&&(t.setValue(e),!0)}function mt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function ft(e){return e.replace(pt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,n,s,r,a,i,o){e.name="",null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.type=i:e.removeAttribute("type"),null!=t?"number"===i?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==i&&"reset"!==i||e.removeAttribute("value"),null!=t?vt(e,i,ct(t)):null!=n?vt(e,i,ct(n)):null!=s&&e.removeAttribute("value"),null==r&&null!=a&&(e.defaultChecked=!!a),null!=r&&(e.checked=r&&"function"!==typeof r&&"symbol"!==typeof r),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ct(o):e.removeAttribute("name")}function xt(e,t,n,s,r,a,i,o){if(null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.type=a),null!=t||null!=n){if(!("submit"!==a&&"reset"!==a||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}s="function"!==typeof(s=null!=s?s:r)&&"symbol"!==typeof s&&!!s,e.checked=o?e.checked:!!s,e.defaultChecked=!!s,null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.name=i)}function vt(e,t,n){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,s){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&s&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(s&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function yt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,s){if(null==t){if(null!=s){if(null!=n)throw Error(i(92));if(A(s)){if(1<s.length)throw Error(i(93));s=s[0]}n=s}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(s=e.textContent)===n&&""!==s&&null!==s&&(e.value=s)}function jt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var kt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nt(e,t,n){var s=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?s?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":s?e.setProperty(t,n):"number"!==typeof n||0===n||kt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function _t(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(i(62));if(e=e.style,null!=n){for(var s in n)!n.hasOwnProperty(s)||null!=t&&t.hasOwnProperty(s)||(0===s.indexOf("--")?e.setProperty(s,""):"float"===s?e.cssFloat="":e[s]="");for(var r in t)s=t[r],t.hasOwnProperty(r)&&n[r]!==s&&Nt(e,r,s)}else for(var a in t)t.hasOwnProperty(a)&&Nt(e,a,t[a])}function St(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Et=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Tt(e){return Et.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Pt=null;function zt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Lt=null,At=null;function Mt(e){var t=Be(e);if(t&&(e=t.stateNode)){var n=e[Ae]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ft(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var r=s[Ae]||null;if(!r)throw Error(i(90));gt(s,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)(s=n[t]).form===e.form&&ht(s)}break e;case"textarea":yt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Ot=!1;function Dt(e,t,n){if(Ot)return e(t,n);Ot=!0;try{return e(t)}finally{if(Ot=!1,(null!==Lt||null!==At)&&(Fc(),Lt&&(t=Lt,e=At,At=Lt=null,Mt(t),e)))for(t=0;t<e.length;t++)Mt(e[t])}}function Rt(e,t){var n=e.stateNode;if(null===n)return null;var s=n[Ae]||null;if(null===s)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(s=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!s;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var $t=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),It=!1;if($t)try{var Vt={};Object.defineProperty(Vt,"passive",{get:function(){It=!0}}),window.addEventListener("test",Vt,Vt),window.removeEventListener("test",Vt,Vt)}catch(Ah){It=!1}var Ft=null,Bt=null,Ut=null;function Ht(){if(Ut)return Ut;var e,t,n=Bt,s=n.length,r="value"in Ft?Ft.value:Ft.textContent,a=r.length;for(e=0;e<s&&n[e]===r[e];e++);var i=s-e;for(t=1;t<=i&&n[s-t]===r[a-t];t++);return Ut=r.slice(e,1<t?1-t:void 0)}function qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Wt(){return!0}function Kt(){return!1}function Gt(e){function t(t,n,s,r,a){for(var i in this._reactName=t,this._targetInst=s,this.type=n,this.nativeEvent=r,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(r):r[i]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?Wt:Kt,this.isPropagationStopped=Kt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Wt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Wt)},persist:function(){},isPersistent:Wt}),t}var Jt,Yt,Xt,Qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Gt(Qt),en=h({},Qt,{view:0,detail:0}),tn=Gt(en),nn=h({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xt&&(Xt&&"mousemove"===e.type?(Jt=e.screenX-Xt.screenX,Yt=e.screenY-Xt.screenY):Yt=Jt=0,Xt=e),Jt)},movementY:function(e){return"movementY"in e?e.movementY:Yt}}),sn=Gt(nn),rn=Gt(h({},nn,{dataTransfer:0})),an=Gt(h({},en,{relatedTarget:0})),on=Gt(h({},Qt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Gt(h({},Qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Gt(h({},Qt,{data:0})),dn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function pn(){return mn}var fn=Gt(h({},en,{key:function(e){if(e.key){var t=dn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?un[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Gt(h({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),xn=Gt(h({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),vn=Gt(h({},Qt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Gt(h({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),yn=Gt(h({},Qt,{newState:0,oldState:0})),wn=[9,13,27,32],jn=$t&&"CompositionEvent"in window,kn=null;$t&&"documentMode"in document&&(kn=document.documentMode);var Nn=$t&&"TextEvent"in window&&!kn,_n=$t&&(!jn||kn&&8<kn&&11>=kn),Sn=String.fromCharCode(32),Cn=!1;function En(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Pn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ln(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function An(e,t,n,s){Lt?At?At.push(s):At=[s]:Lt=s,0<(t=Hd(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Mn=null,On=null;function Dn(e){Dd(e,0)}function Rn(e){if(ht(Ue(e)))return e}function $n(e,t){if("change"===e)return t}var In=!1;if($t){var Vn;if($t){var Fn="oninput"in document;if(!Fn){var Bn=document.createElement("div");Bn.setAttribute("oninput","return;"),Fn="function"===typeof Bn.oninput}Vn=Fn}else Vn=!1;In=Vn&&(!document.documentMode||9<document.documentMode)}function Un(){Mn&&(Mn.detachEvent("onpropertychange",Hn),On=Mn=null)}function Hn(e){if("value"===e.propertyName&&Rn(On)){var t=[];An(t,On,e,zt(e)),Dt(Dn,t)}}function qn(e,t,n){"focusin"===e?(Un(),On=n,(Mn=t).attachEvent("onpropertychange",Hn)):"focusout"===e&&Un()}function Wn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Rn(On)}function Kn(e,t){if("click"===e)return Rn(t)}function Gn(e,t){if("input"===e||"change"===e)return Rn(t)}var Jn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Yn(e,t){if(Jn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!Y.call(t,r)||!Jn(e[r],t[r]))return!1}return!0}function Xn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qn(e,t){var n,s=Xn(e);for(e=0;s;){if(3===s.nodeType){if(n=e+s.textContent.length,e<=t&&n>=t)return{node:s,offset:t-e};e=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Xn(s)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function es(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(s){n=!1}if(!n)break;t=mt((e=t.contentWindow).document)}return t}function ts(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ns=$t&&"documentMode"in document&&11>=document.documentMode,ss=null,rs=null,as=null,is=!1;function os(e,t,n){var s=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;is||null==ss||ss!==mt(s)||("selectionStart"in(s=ss)&&ts(s)?s={start:s.selectionStart,end:s.selectionEnd}:s={anchorNode:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset},as&&Yn(as,s)||(as=s,0<(s=Hd(rs,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=ss)))}function ls(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cs={animationend:ls("Animation","AnimationEnd"),animationiteration:ls("Animation","AnimationIteration"),animationstart:ls("Animation","AnimationStart"),transitionrun:ls("Transition","TransitionRun"),transitionstart:ls("Transition","TransitionStart"),transitioncancel:ls("Transition","TransitionCancel"),transitionend:ls("Transition","TransitionEnd")},ds={},us={};function hs(e){if(ds[e])return ds[e];if(!cs[e])return e;var t,n=cs[e];for(t in n)if(n.hasOwnProperty(t)&&t in us)return ds[e]=n[t];return e}$t&&(us=document.createElement("div").style,"AnimationEvent"in window||(delete cs.animationend.animation,delete cs.animationiteration.animation,delete cs.animationstart.animation),"TransitionEvent"in window||delete cs.transitionend.transition);var ms=hs("animationend"),ps=hs("animationiteration"),fs=hs("animationstart"),gs=hs("transitionrun"),xs=hs("transitionstart"),vs=hs("transitioncancel"),bs=hs("transitionend"),ys=new Map,ws="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function js(e,t){ys.set(e,t),Ge(t,[e])}ws.push("scrollEnd");var ks=new WeakMap;function Ns(e,t){if("object"===typeof e&&null!==e){var n=ks.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},ks.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var _s=[],Ss=0,Cs=0;function Es(){for(var e=Ss,t=Cs=Ss=0;t<e;){var n=_s[t];_s[t++]=null;var s=_s[t];_s[t++]=null;var r=_s[t];_s[t++]=null;var a=_s[t];if(_s[t++]=null,null!==s&&null!==r){var i=s.pending;null===i?r.next=r:(r.next=i.next,i.next=r),s.pending=r}0!==a&&Ls(n,r,a)}}function Ts(e,t,n,s){_s[Ss++]=e,_s[Ss++]=t,_s[Ss++]=n,_s[Ss++]=s,Cs|=s,e.lanes|=s,null!==(e=e.alternate)&&(e.lanes|=s)}function Ps(e,t,n,s){return Ts(e,t,n,s),As(e)}function zs(e,t){return Ts(e,null,null,t),As(e)}function Ls(e,t,n){e.lanes|=n;var s=e.alternate;null!==s&&(s.lanes|=n);for(var r=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(s=a.alternate)&&(s.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(r=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,r&&null!==t&&(r=31-me(n),null===(s=(e=a.hiddenUpdates)[r])?e[r]=[t]:s.push(t),t.lane=536870912|n),a):null}function As(e){if(50<Lc)throw Lc=0,Ac=null,Error(i(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Ms={};function Os(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ds(e,t,n,s){return new Os(e,t,n,s)}function Rs(e){return!(!(e=e.prototype)||!e.isReactComponent)}function $s(e,t){var n=e.alternate;return null===n?((n=Ds(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Is(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vs(e,t,n,s,r,a){var o=0;if(s=e,"function"===typeof e)Rs(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,B.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case C:return(e=Ds(31,n,t,r)).elementType=C,e.lanes=a,e;case g:return Fs(n.children,r,a,t);case x:o=8,r|=24;break;case v:return(e=Ds(12,n,t,2|r)).elementType=v,e.lanes=a,e;case k:return(e=Ds(13,n,t,r)).elementType=k,e.lanes=a,e;case N:return(e=Ds(19,n,t,r)).elementType=N,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case w:o=10;break e;case y:o=9;break e;case j:o=11;break e;case _:o=14;break e;case S:o=16,s=null;break e}o=29,n=Error(i(130,null===e?"null":typeof e,"")),s=null}return(t=Ds(o,n,t,r)).elementType=e,t.type=s,t.lanes=a,t}function Fs(e,t,n,s){return(e=Ds(7,e,s,t)).lanes=n,e}function Bs(e,t,n){return(e=Ds(6,e,null,t)).lanes=n,e}function Us(e,t,n){return(t=Ds(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Hs=[],qs=0,Ws=null,Ks=0,Gs=[],Js=0,Ys=null,Xs=1,Qs="";function Zs(e,t){Hs[qs++]=Ks,Hs[qs++]=Ws,Ws=e,Ks=t}function er(e,t,n){Gs[Js++]=Xs,Gs[Js++]=Qs,Gs[Js++]=Ys,Ys=e;var s=Xs;e=Qs;var r=32-me(s)-1;s&=~(1<<r),n+=1;var a=32-me(t)+r;if(30<a){var i=r-r%5;a=(s&(1<<i)-1).toString(32),s>>=i,r-=i,Xs=1<<32-me(t)+r|n<<r|s,Qs=a+e}else Xs=1<<a|n<<r|s,Qs=e}function tr(e){null!==e.return&&(Zs(e,1),er(e,1,0))}function nr(e){for(;e===Ws;)Ws=Hs[--qs],Hs[qs]=null,Ks=Hs[--qs],Hs[qs]=null;for(;e===Ys;)Ys=Gs[--Js],Gs[Js]=null,Qs=Gs[--Js],Gs[Js]=null,Xs=Gs[--Js],Gs[Js]=null}var sr=null,rr=null,ar=!1,ir=null,or=!1,lr=Error(i(519));function cr(e){throw fr(Ns(Error(i(418,"")),e)),lr}function dr(e){var t=e.stateNode,n=e.type,s=e.memoizedProps;switch(t[Le]=e,t[Ae]=s,n){case"dialog":Rd("cancel",t),Rd("close",t);break;case"iframe":case"object":case"embed":Rd("load",t);break;case"video":case"audio":for(n=0;n<Md.length;n++)Rd(Md[n],t);break;case"source":Rd("error",t);break;case"img":case"image":case"link":Rd("error",t),Rd("load",t);break;case"details":Rd("toggle",t);break;case"input":Rd("invalid",t),xt(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),ut(t);break;case"select":Rd("invalid",t);break;case"textarea":Rd("invalid",t),wt(t,s.value,s.defaultValue,s.children),ut(t)}"string"!==typeof(n=s.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===s.suppressHydrationWarning||Yd(t.textContent,n)?(null!=s.popover&&(Rd("beforetoggle",t),Rd("toggle",t)),null!=s.onScroll&&Rd("scroll",t),null!=s.onScrollEnd&&Rd("scrollend",t),null!=s.onClick&&(t.onclick=Xd),t=!0):t=!1,t||cr(e)}function ur(e){for(sr=e.return;sr;)switch(sr.tag){case 5:case 13:return void(or=!1);case 27:case 3:return void(or=!0);default:sr=sr.return}}function hr(e){if(e!==sr)return!1;if(!ar)return ur(e),ar=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||iu(e.type,e.memoizedProps)),t=!t),t&&rr&&cr(e),ur(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){rr=xu(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}rr=null}}else 27===n?(n=rr,mu(e.type)?(e=vu,vu=null,rr=e):rr=n):rr=sr?xu(e.stateNode.nextSibling):null;return!0}function mr(){rr=sr=null,ar=!1}function pr(){var e=ir;return null!==e&&(null===bc?bc=e:bc.push.apply(bc,e),ir=null),e}function fr(e){null===ir?ir=[e]:ir.push(e)}var gr=I(null),xr=null,vr=null;function br(e,t,n){F(gr,t._currentValue),t._currentValue=n}function yr(e){e._currentValue=gr.current,V(gr)}function wr(e,t,n){for(;null!==e;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==s&&(s.childLanes|=t)):null!==s&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function jr(e,t,n,s){var r=e.child;for(null!==r&&(r.return=e);null!==r;){var a=r.dependencies;if(null!==a){var o=r.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=r;for(var c=0;c<t.length;c++)if(l.context===t[c]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),wr(a.return,n,e),s||(o=null);break e}a=l.next}}else if(18===r.tag){if(null===(o=r.return))throw Error(i(341));o.lanes|=n,null!==(a=o.alternate)&&(a.lanes|=n),wr(o,n,e),o=null}else o=r.child;if(null!==o)o.return=r;else for(o=r;null!==o;){if(o===e){o=null;break}if(null!==(r=o.sibling)){r.return=o.return,o=r;break}o=o.return}r=o}}function kr(e,t,n,s){e=null;for(var r=t,a=!1;null!==r;){if(!a)if(0!==(524288&r.flags))a=!0;else if(0!==(262144&r.flags))break;if(10===r.tag){var o=r.alternate;if(null===o)throw Error(i(387));if(null!==(o=o.memoizedProps)){var l=r.type;Jn(r.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(r===q.current){if(null===(o=r.alternate))throw Error(i(387));o.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(null!==e?e.push(Gu):e=[Gu])}r=r.return}null!==e&&jr(t,e,n,s),t.flags|=262144}function Nr(e){for(e=e.firstContext;null!==e;){if(!Jn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _r(e){xr=e,vr=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Sr(e){return Er(xr,e)}function Cr(e,t){return null===xr&&_r(e),Er(e,t)}function Er(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===vr){if(null===e)throw Error(i(308));vr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vr=vr.next=t;return n}var Tr="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Pr=s.unstable_scheduleCallback,zr=s.unstable_NormalPriority,Lr={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ar(){return{controller:new Tr,data:new Map,refCount:0}}function Mr(e){e.refCount--,0===e.refCount&&Pr(zr,function(){e.controller.abort()})}var Or=null,Dr=0,Rr=0,$r=null;function Ir(){if(0===--Dr&&null!==Or){null!==$r&&($r.status="fulfilled");var e=Or;Or=null,Rr=0,$r=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Vr=M.S;M.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Or){var n=Or=[];Dr=0,Rr=Td(),$r={status:"pending",value:void 0,then:function(e){n.push(e)}}}Dr++,t.then(Ir,Ir)}(0,t),null!==Vr&&Vr(e,t)};var Fr=I(null);function Br(){var e=Fr.current;return null!==e?e:sc.pooledCache}function Ur(e,t){F(Fr,null===t?Fr.current:t.pool)}function Hr(){var e=Br();return null===e?null:{parent:Lr._currentValue,pool:e}}var qr=Error(i(460)),Wr=Error(i(474)),Kr=Error(i(542)),Gr={then:function(){}};function Jr(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Yr(){}function Xr(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Yr,Yr),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ea(e=t.reason),e;default:if("string"===typeof t.status)t.then(Yr,Yr);else{if(null!==(e=sc)&&100<e.shellSuspendCounter)throw Error(i(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ea(e=t.reason),e}throw Qr=t,qr}}var Qr=null;function Zr(){if(null===Qr)throw Error(i(459));var e=Qr;return Qr=null,e}function ea(e){if(e===qr||e===Kr)throw Error(i(483))}var ta=!1;function na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ra(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function aa(e,t,n){var s=e.updateQueue;if(null===s)return null;if(s=s.shared,0!==(2&nc)){var r=s.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),s.pending=t,t=As(e),Ls(e,null,n),t}return Ts(e,s,t,n),As(e)}function ia(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var s=t.lanes;n|=s&=e.pendingLanes,t.lanes=n,Ce(e,n)}}function oa(e,t){var n=e.updateQueue,s=e.alternate;if(null!==s&&n===(s=s.updateQueue)){var r=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var i={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?r=a=i:a=a.next=i,n=n.next}while(null!==n);null===a?r=a=t:a=a.next=t}else r=a=t;return n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:s.shared,callbacks:s.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var la=!1;function ca(){if(la){if(null!==$r)throw $r}}function da(e,t,n,s){la=!1;var r=e.updateQueue;ta=!1;var a=r.firstBaseUpdate,i=r.lastBaseUpdate,o=r.shared.pending;if(null!==o){r.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?a=c:i.next=c,i=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==a){var u=r.baseState;for(i=0,d=c=l=null,o=a;;){var m=-536870913&o.lane,p=m!==o.lane;if(p?(ac&m)===m:(s&m)===m){0!==m&&m===Rr&&(la=!0),null!==d&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var f=e,g=o;m=t;var x=n;switch(g.tag){case 1:if("function"===typeof(f=g.payload)){u=f.call(x,u,m);break e}u=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(m="function"===typeof(f=g.payload)?f.call(x,u,m):f)||void 0===m)break e;u=h({},u,m);break e;case 2:ta=!0}}null!==(m=o.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=r.callbacks)?r.callbacks=[m]:p.push(m))}else p={lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=p,l=u):d=d.next=p,i|=m;if(null===(o=o.next)){if(null===(o=r.shared.pending))break;o=(p=o).next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}null===d&&(l=u),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=d,null===a&&(r.shared.lanes=0),mc|=i,e.lanes=i,e.memoizedState=u}}function ua(e,t){if("function"!==typeof e)throw Error(i(191,e));e.call(t)}function ha(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)ua(n[e],t)}var ma=I(null),pa=I(0);function fa(e,t){F(pa,e=uc),F(ma,t),uc=e|t.baseLanes}function ga(){F(pa,uc),F(ma,ma.current)}function xa(){uc=pa.current,V(ma),V(pa)}var va=0,ba=null,ya=null,wa=null,ja=!1,ka=!1,Na=!1,_a=0,Sa=0,Ca=null,Ea=0;function Ta(){throw Error(i(321))}function Pa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jn(e[n],t[n]))return!1;return!0}function za(e,t,n,s,r,a){return va=a,ba=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=null===e||null===e.memoizedState?qi:Wi,Na=!1,a=n(s,r),Na=!1,ka&&(a=Aa(t,n,s,r)),La(e),a}function La(e){M.H=Hi;var t=null!==ya&&null!==ya.next;if(va=0,wa=ya=ba=null,ja=!1,Sa=0,Ca=null,t)throw Error(i(300));null===e||Co||null!==(e=e.dependencies)&&Nr(e)&&(Co=!0)}function Aa(e,t,n,s){ba=e;var r=0;do{if(ka&&(Ca=null),Sa=0,ka=!1,25<=r)throw Error(i(301));if(r+=1,wa=ya=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}M.H=Ki,a=t(n,s)}while(ka);return a}function Ma(){var e=M.H,t=e.useState()[0];return t="function"===typeof t.then?Va(t):t,e=e.useState()[0],(null!==ya?ya.memoizedState:null)!==e&&(ba.flags|=1024),t}function Oa(){var e=0!==_a;return _a=0,e}function Da(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Ra(e){if(ja){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ja=!1}va=0,wa=ya=ba=null,ka=!1,Sa=_a=0,Ca=null}function $a(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===wa?ba.memoizedState=wa=e:wa=wa.next=e,wa}function Ia(){if(null===ya){var e=ba.alternate;e=null!==e?e.memoizedState:null}else e=ya.next;var t=null===wa?ba.memoizedState:wa.next;if(null!==t)wa=t,ya=e;else{if(null===e){if(null===ba.alternate)throw Error(i(467));throw Error(i(310))}e={memoizedState:(ya=e).memoizedState,baseState:ya.baseState,baseQueue:ya.baseQueue,queue:ya.queue,next:null},null===wa?ba.memoizedState=wa=e:wa=wa.next=e}return wa}function Va(e){var t=Sa;return Sa+=1,null===Ca&&(Ca=[]),e=Xr(Ca,e,t),t=ba,null===(null===wa?t.memoizedState:wa.next)&&(t=t.alternate,M.H=null===t||null===t.memoizedState?qi:Wi),e}function Fa(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Va(e);if(e.$$typeof===w)return Sr(e)}throw Error(i(438,String(e)))}function Ba(e){var t=null,n=ba.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var s=ba.alternate;null!==s&&(null!==(s=s.updateQueue)&&(null!=(s=s.memoCache)&&(t={data:s.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},ba.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),s=0;s<e;s++)n[s]=E;return t.index++,n}function Ua(e,t){return"function"===typeof t?t(e):t}function Ha(e){return qa(Ia(),ya,e)}function qa(e,t,n){var s=e.queue;if(null===s)throw Error(i(311));s.lastRenderedReducer=n;var r=e.baseQueue,a=s.pending;if(null!==a){if(null!==r){var o=r.next;r.next=a.next,a.next=o}t.baseQueue=r=a,s.pending=null}if(a=e.baseState,null===r)e.memoizedState=a;else{var l=o=null,c=null,d=t=r.next,u=!1;do{var h=-536870913&d.lane;if(h!==d.lane?(ac&h)===h:(va&h)===h){var m=d.revertLane;if(0===m)null!==c&&(c=c.next={lane:0,revertLane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),h===Rr&&(u=!0);else{if((va&m)===m){d=d.next,m===Rr&&(u=!0);continue}h={lane:0,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=h,o=a):c=c.next=h,ba.lanes|=m,mc|=m}h=d.action,Na&&n(a,h),a=d.hasEagerState?d.eagerState:n(a,h)}else m={lane:h,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=m,o=a):c=c.next=m,ba.lanes|=h,mc|=h;d=d.next}while(null!==d&&d!==t);if(null===c?o=a:c.next=l,!Jn(a,e.memoizedState)&&(Co=!0,u&&null!==(n=$r)))throw n;e.memoizedState=a,e.baseState=o,e.baseQueue=c,s.lastRenderedState=a}return null===r&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Wa(e){var t=Ia(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var s=n.dispatch,r=n.pending,a=t.memoizedState;if(null!==r){n.pending=null;var o=r=r.next;do{a=e(a,o.action),o=o.next}while(o!==r);Jn(a,t.memoizedState)||(Co=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,s]}function Ka(e,t,n){var s=ba,r=Ia(),a=ar;if(a){if(void 0===n)throw Error(i(407));n=n()}else n=t();var o=!Jn((ya||r).memoizedState,n);if(o&&(r.memoizedState=n,Co=!0),r=r.queue,gi(2048,8,Ya.bind(null,s,r,e),[e]),r.getSnapshot!==t||o||null!==wa&&1&wa.memoizedState.tag){if(s.flags|=2048,mi(9,{destroy:void 0,resource:void 0},Ja.bind(null,s,r,n,t),null),null===sc)throw Error(i(349));a||0!==(124&va)||Ga(s,t,n)}return n}function Ga(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ba.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},ba.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ja(e,t,n,s){t.value=n,t.getSnapshot=s,Xa(t)&&Qa(e)}function Ya(e,t,n){return n(function(){Xa(t)&&Qa(e)})}function Xa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jn(e,n)}catch(s){return!0}}function Qa(e){var t=zs(e,2);null!==t&&Dc(t,e,2)}function Za(e){var t=$a();if("function"===typeof e){var n=e;if(e=n(),Na){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:e},t}function ei(e,t,n,s){return e.baseState=n,qa(e,ya,"function"===typeof s?s:Ua)}function ti(e,t,n,s,r){if(Fi(e))throw Error(i(485));if(null!==(e=t.action)){var a={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==M.T?n(!0):a.isTransition=!1,s(a),null===(n=t.pending)?(a.next=t.pending=a,ni(t,a)):(a.next=n.next,t.pending=n.next=a)}}function ni(e,t){var n=t.action,s=t.payload,r=e.state;if(t.isTransition){var a=M.T,i={};M.T=i;try{var o=n(r,s),l=M.S;null!==l&&l(i,o),si(e,t,o)}catch(c){ai(e,t,c)}finally{M.T=a}}else try{si(e,t,a=n(r,s))}catch(d){ai(e,t,d)}}function si(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){ri(e,t,n)},function(n){return ai(e,t,n)}):ri(e,t,n)}function ri(e,t,n){t.status="fulfilled",t.value=n,ii(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ni(e,n)))}function ai(e,t,n){var s=e.pending;if(e.pending=null,null!==s){s=s.next;do{t.status="rejected",t.reason=n,ii(t),t=t.next}while(t!==s)}e.action=null}function ii(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function oi(e,t){return t}function li(e,t){if(ar){var n=sc.formState;if(null!==n){e:{var s=ba;if(ar){if(rr){t:{for(var r=rr,a=or;8!==r.nodeType;){if(!a){r=null;break t}if(null===(r=xu(r.nextSibling))){r=null;break t}}r="F!"===(a=r.data)||"F"===a?r:null}if(r){rr=xu(r.nextSibling),s="F!"===r.data;break e}}cr(s)}s=!1}s&&(t=n[0])}}return(n=$a()).memoizedState=n.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:t},n.queue=s,n=$i.bind(null,ba,s),s.dispatch=n,s=Za(!1),a=Vi.bind(null,ba,!1,s.queue),r={state:t,dispatch:null,action:e,pending:null},(s=$a()).queue=r,n=ti.bind(null,ba,r,a,n),r.dispatch=n,s.memoizedState=e,[t,n,!1]}function ci(e){return di(Ia(),ya,e)}function di(e,t,n){if(t=qa(e,t,oi)[0],e=Ha(Ua)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var s=Va(t)}catch(i){if(i===qr)throw Kr;throw i}else s=t;var r=(t=Ia()).queue,a=r.dispatch;return n!==t.memoizedState&&(ba.flags|=2048,mi(9,{destroy:void 0,resource:void 0},ui.bind(null,r,n),null)),[s,a,e]}function ui(e,t){e.action=t}function hi(e){var t=Ia(),n=ya;if(null!==n)return di(t,n,e);Ia(),t=t.memoizedState;var s=(n=Ia()).queue.dispatch;return n.memoizedState=e,[t,s,!1]}function mi(e,t,n,s){return e={tag:e,create:n,deps:s,inst:t,next:null},null===(t=ba.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},ba.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e),e}function pi(){return Ia().memoizedState}function fi(e,t,n,s){var r=$a();s=void 0===s?null:s,ba.flags|=e,r.memoizedState=mi(1|t,{destroy:void 0,resource:void 0},n,s)}function gi(e,t,n,s){var r=Ia();s=void 0===s?null:s;var a=r.memoizedState.inst;null!==ya&&null!==s&&Pa(s,ya.memoizedState.deps)?r.memoizedState=mi(t,a,n,s):(ba.flags|=e,r.memoizedState=mi(1|t,a,n,s))}function xi(e,t){fi(8390656,8,e,t)}function vi(e,t){gi(2048,8,e,t)}function bi(e,t){return gi(4,2,e,t)}function yi(e,t){return gi(4,4,e,t)}function wi(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ji(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,gi(4,4,wi.bind(null,t,e),n)}function ki(){}function Ni(e,t){var n=Ia();t=void 0===t?null:t;var s=n.memoizedState;return null!==t&&Pa(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function _i(e,t){var n=Ia();t=void 0===t?null:t;var s=n.memoizedState;if(null!==t&&Pa(t,s[1]))return s[0];if(s=e(),Na){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[s,t],s}function Si(e,t,n){return void 0===n||0!==(1073741824&va)?e.memoizedState=t:(e.memoizedState=n,e=Oc(),ba.lanes|=e,mc|=e,n)}function Ci(e,t,n,s){return Jn(n,t)?n:null!==ma.current?(e=Si(e,n,s),Jn(e,t)||(Co=!0),e):0===(42&va)?(Co=!0,e.memoizedState=n):(e=Oc(),ba.lanes|=e,mc|=e,t)}function Ei(e,t,n,s,r){var a=O.p;O.p=0!==a&&8>a?a:8;var i=M.T,o={};M.T=o,Vi(e,!1,t,n);try{var l=r(),c=M.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Ii(e,t,function(e,t){var n=[],s={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(s.status="rejected",s.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),s}(l,s),Mc());else Ii(e,t,s,Mc())}catch(d){Ii(e,t,{then:function(){},status:"rejected",reason:d},Mc())}finally{O.p=a,M.T=i}}function Ti(){}function Pi(e,t,n,s){if(5!==e.tag)throw Error(i(476));var r=zi(e).queue;Ei(e,r,t,D,null===n?Ti:function(){return Li(e),n(s)})}function zi(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:D,baseState:D,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:D},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Li(e){Ii(e,zi(e).next.queue,{},Mc())}function Ai(){return Sr(Gu)}function Mi(){return Ia().memoizedState}function Oi(){return Ia().memoizedState}function Di(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Mc(),s=aa(t,e=ra(n),n);return null!==s&&(Dc(s,t,n),ia(s,t,n)),t={cache:Ar()},void(e.payload=t)}t=t.return}}function Ri(e,t,n){var s=Mc();n={lane:s,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Fi(e)?Bi(t,n):null!==(n=Ps(e,t,n,s))&&(Dc(n,e,s),Ui(n,t,s))}function $i(e,t,n){Ii(e,t,n,Mc())}function Ii(e,t,n,s){var r={lane:s,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Fi(e))Bi(t,r);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=a(i,n);if(r.hasEagerState=!0,r.eagerState=o,Jn(o,i))return Ts(e,t,r,0),null===sc&&Es(),!1}catch(l){}if(null!==(n=Ps(e,t,r,s)))return Dc(n,e,s),Ui(n,t,s),!0}return!1}function Vi(e,t,n,s){if(s={lane:2,revertLane:Td(),action:s,hasEagerState:!1,eagerState:null,next:null},Fi(e)){if(t)throw Error(i(479))}else null!==(t=Ps(e,n,s,2))&&Dc(t,e,2)}function Fi(e){var t=e.alternate;return e===ba||null!==t&&t===ba}function Bi(e,t){ka=ja=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ui(e,t,n){if(0!==(4194048&n)){var s=t.lanes;n|=s&=e.pendingLanes,t.lanes=n,Ce(e,n)}}var Hi={readContext:Sr,use:Fa,useCallback:Ta,useContext:Ta,useEffect:Ta,useImperativeHandle:Ta,useLayoutEffect:Ta,useInsertionEffect:Ta,useMemo:Ta,useReducer:Ta,useRef:Ta,useState:Ta,useDebugValue:Ta,useDeferredValue:Ta,useTransition:Ta,useSyncExternalStore:Ta,useId:Ta,useHostTransitionStatus:Ta,useFormState:Ta,useActionState:Ta,useOptimistic:Ta,useMemoCache:Ta,useCacheRefresh:Ta},qi={readContext:Sr,use:Fa,useCallback:function(e,t){return $a().memoizedState=[e,void 0===t?null:t],e},useContext:Sr,useEffect:xi,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,fi(4194308,4,wi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return fi(4194308,4,e,t)},useInsertionEffect:function(e,t){fi(4,2,e,t)},useMemo:function(e,t){var n=$a();t=void 0===t?null:t;var s=e();if(Na){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[s,t],s},useReducer:function(e,t,n){var s=$a();if(void 0!==n){var r=n(t);if(Na){he(!0);try{n(t)}finally{he(!1)}}}else r=t;return s.memoizedState=s.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},s.queue=e,e=e.dispatch=Ri.bind(null,ba,e),[s.memoizedState,e]},useRef:function(e){return e={current:e},$a().memoizedState=e},useState:function(e){var t=(e=Za(e)).queue,n=$i.bind(null,ba,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ki,useDeferredValue:function(e,t){return Si($a(),e,t)},useTransition:function(){var e=Za(!1);return e=Ei.bind(null,ba,e.queue,!0,!1),$a().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var s=ba,r=$a();if(ar){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===sc)throw Error(i(349));0!==(124&ac)||Ga(s,t,n)}r.memoizedState=n;var a={value:n,getSnapshot:t};return r.queue=a,xi(Ya.bind(null,s,a,e),[e]),s.flags|=2048,mi(9,{destroy:void 0,resource:void 0},Ja.bind(null,s,a,n,t),null),n},useId:function(){var e=$a(),t=sc.identifierPrefix;if(ar){var n=Qs;t="\xab"+t+"R"+(n=(Xs&~(1<<32-me(Xs)-1)).toString(32)+n),0<(n=_a++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Ea++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Ai,useFormState:li,useActionState:li,useOptimistic:function(e){var t=$a();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Vi.bind(null,ba,!0,n),n.dispatch=t,[e,t]},useMemoCache:Ba,useCacheRefresh:function(){return $a().memoizedState=Di.bind(null,ba)}},Wi={readContext:Sr,use:Fa,useCallback:Ni,useContext:Sr,useEffect:vi,useImperativeHandle:ji,useInsertionEffect:bi,useLayoutEffect:yi,useMemo:_i,useReducer:Ha,useRef:pi,useState:function(){return Ha(Ua)},useDebugValue:ki,useDeferredValue:function(e,t){return Ci(Ia(),ya.memoizedState,e,t)},useTransition:function(){var e=Ha(Ua)[0],t=Ia().memoizedState;return["boolean"===typeof e?e:Va(e),t]},useSyncExternalStore:Ka,useId:Mi,useHostTransitionStatus:Ai,useFormState:ci,useActionState:ci,useOptimistic:function(e,t){return ei(Ia(),0,e,t)},useMemoCache:Ba,useCacheRefresh:Oi},Ki={readContext:Sr,use:Fa,useCallback:Ni,useContext:Sr,useEffect:vi,useImperativeHandle:ji,useInsertionEffect:bi,useLayoutEffect:yi,useMemo:_i,useReducer:Wa,useRef:pi,useState:function(){return Wa(Ua)},useDebugValue:ki,useDeferredValue:function(e,t){var n=Ia();return null===ya?Si(n,e,t):Ci(n,ya.memoizedState,e,t)},useTransition:function(){var e=Wa(Ua)[0],t=Ia().memoizedState;return["boolean"===typeof e?e:Va(e),t]},useSyncExternalStore:Ka,useId:Mi,useHostTransitionStatus:Ai,useFormState:hi,useActionState:hi,useOptimistic:function(e,t){var n=Ia();return null!==ya?ei(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Ba,useCacheRefresh:Oi},Gi=null,Ji=0;function Yi(e){var t=Ji;return Ji+=1,null===Gi&&(Gi=[]),Xr(Gi,e,t)}function Xi(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Qi(e,t){if(t.$$typeof===m)throw Error(i(525));throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zi(e){return(0,e._init)(e._payload)}function eo(e){function t(t,n){if(e){var s=t.deletions;null===s?(t.deletions=[n],t.flags|=16):s.push(n)}}function n(n,s){if(!e)return null;for(;null!==s;)t(n,s),s=s.sibling;return null}function s(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(e,t){return(e=$s(e,t)).index=0,e.sibling=null,e}function a(t,n,s){return t.index=s,e?null!==(s=t.alternate)?(s=s.index)<n?(t.flags|=67108866,n):s:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,s){return null===t||6!==t.tag?((t=Bs(n,e.mode,s)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,s){var a=n.type;return a===g?u(e,t,n.props.children,s,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===S&&Zi(a)===t.type)?(Xi(t=r(t,n.props),n),t.return=e,t):(Xi(t=Vs(n.type,n.key,n.props,null,e.mode,s),n),t.return=e,t)}function d(e,t,n,s){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Us(n,e.mode,s)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function u(e,t,n,s,a){return null===t||7!==t.tag?((t=Fs(n,e.mode,s,a)).return=e,t):((t=r(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Bs(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return Xi(n=Vs(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case f:return(t=Us(t,e.mode,n)).return=e,t;case S:return h(e,t=(0,t._init)(t._payload),n)}if(A(t)||P(t))return(t=Fs(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,Yi(t),n);if(t.$$typeof===w)return h(e,Cr(e,t),n);Qi(e,t)}return null}function m(e,t,n,s){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==r?null:l(e,t,""+n,s);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===r?c(e,t,n,s):null;case f:return n.key===r?d(e,t,n,s):null;case S:return m(e,t,n=(r=n._init)(n._payload),s)}if(A(n)||P(n))return null!==r?null:u(e,t,n,s,null);if("function"===typeof n.then)return m(e,t,Yi(n),s);if(n.$$typeof===w)return m(e,t,Cr(e,n),s);Qi(e,n)}return null}function x(e,t,n,s,r){if("string"===typeof s&&""!==s||"number"===typeof s||"bigint"===typeof s)return l(t,e=e.get(n)||null,""+s,r);if("object"===typeof s&&null!==s){switch(s.$$typeof){case p:return c(t,e=e.get(null===s.key?n:s.key)||null,s,r);case f:return d(t,e=e.get(null===s.key?n:s.key)||null,s,r);case S:return x(e,t,n,s=(0,s._init)(s._payload),r)}if(A(s)||P(s))return u(t,e=e.get(n)||null,s,r,null);if("function"===typeof s.then)return x(e,t,n,Yi(s),r);if(s.$$typeof===w)return x(e,t,n,Cr(t,s),r);Qi(t,s)}return null}function v(l,c,d,u){if("object"===typeof d&&null!==d&&d.type===g&&null===d.key&&(d=d.props.children),"object"===typeof d&&null!==d){switch(d.$$typeof){case p:e:{for(var b=d.key;null!==c;){if(c.key===b){if((b=d.type)===g){if(7===c.tag){n(l,c.sibling),(u=r(c,d.props.children)).return=l,l=u;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===S&&Zi(b)===c.type){n(l,c.sibling),Xi(u=r(c,d.props),d),u.return=l,l=u;break e}n(l,c);break}t(l,c),c=c.sibling}d.type===g?((u=Fs(d.props.children,l.mode,u,d.key)).return=l,l=u):(Xi(u=Vs(d.type,d.key,d.props,null,l.mode,u),d),u.return=l,l=u)}return o(l);case f:e:{for(b=d.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){n(l,c.sibling),(u=r(c,d.children||[])).return=l,l=u;break e}n(l,c);break}t(l,c),c=c.sibling}(u=Us(d,l.mode,u)).return=l,l=u}return o(l);case S:return v(l,c,d=(b=d._init)(d._payload),u)}if(A(d))return function(r,i,o,l){for(var c=null,d=null,u=i,p=i=0,f=null;null!==u&&p<o.length;p++){u.index>p?(f=u,u=null):f=u.sibling;var g=m(r,u,o[p],l);if(null===g){null===u&&(u=f);break}e&&u&&null===g.alternate&&t(r,u),i=a(g,i,p),null===d?c=g:d.sibling=g,d=g,u=f}if(p===o.length)return n(r,u),ar&&Zs(r,p),c;if(null===u){for(;p<o.length;p++)null!==(u=h(r,o[p],l))&&(i=a(u,i,p),null===d?c=u:d.sibling=u,d=u);return ar&&Zs(r,p),c}for(u=s(u);p<o.length;p++)null!==(f=x(u,r,p,o[p],l))&&(e&&null!==f.alternate&&u.delete(null===f.key?p:f.key),i=a(f,i,p),null===d?c=f:d.sibling=f,d=f);return e&&u.forEach(function(e){return t(r,e)}),ar&&Zs(r,p),c}(l,c,d,u);if(P(d)){if("function"!==typeof(b=P(d)))throw Error(i(150));return function(r,o,l,c){if(null==l)throw Error(i(151));for(var d=null,u=null,p=o,f=o=0,g=null,v=l.next();null!==p&&!v.done;f++,v=l.next()){p.index>f?(g=p,p=null):g=p.sibling;var b=m(r,p,v.value,c);if(null===b){null===p&&(p=g);break}e&&p&&null===b.alternate&&t(r,p),o=a(b,o,f),null===u?d=b:u.sibling=b,u=b,p=g}if(v.done)return n(r,p),ar&&Zs(r,f),d;if(null===p){for(;!v.done;f++,v=l.next())null!==(v=h(r,v.value,c))&&(o=a(v,o,f),null===u?d=v:u.sibling=v,u=v);return ar&&Zs(r,f),d}for(p=s(p);!v.done;f++,v=l.next())null!==(v=x(p,r,f,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?f:v.key),o=a(v,o,f),null===u?d=v:u.sibling=v,u=v);return e&&p.forEach(function(e){return t(r,e)}),ar&&Zs(r,f),d}(l,c,d=b.call(d),u)}if("function"===typeof d.then)return v(l,c,Yi(d),u);if(d.$$typeof===w)return v(l,c,Cr(l,d),u);Qi(l,d)}return"string"===typeof d&&""!==d||"number"===typeof d||"bigint"===typeof d?(d=""+d,null!==c&&6===c.tag?(n(l,c.sibling),(u=r(c,d)).return=l,l=u):(n(l,c),(u=Bs(d,l.mode,u)).return=l,l=u),o(l)):n(l,c)}return function(e,t,n,s){try{Ji=0;var r=v(e,t,n,s);return Gi=null,r}catch(i){if(i===qr||i===Kr)throw i;var a=Ds(29,i,null,e.mode);return a.lanes=s,a.return=e,a}}}var to=eo(!0),no=eo(!1),so=I(null),ro=null;function ao(e){var t=e.alternate;F(co,1&co.current),F(so,e),null===ro&&(null===t||null!==ma.current||null!==t.memoizedState)&&(ro=e)}function io(e){if(22===e.tag){if(F(co,co.current),F(so,e),null===ro){var t=e.alternate;null!==t&&null!==t.memoizedState&&(ro=e)}}else oo()}function oo(){F(co,co.current),F(so,so.current)}function lo(e){V(so),ro===e&&(ro=null),V(co)}var co=I(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gu(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ho(e,t,n,s){n=null===(n=n(s,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var mo={enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Mc(),r=ra(s);r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=aa(e,r,s))&&(Dc(t,e,s),ia(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Mc(),r=ra(s);r.tag=1,r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=aa(e,r,s))&&(Dc(t,e,s),ia(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Mc(),s=ra(n);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=aa(e,s,n))&&(Dc(t,e,n),ia(t,e,n))}};function po(e,t,n,s,r,a,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(s,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!Yn(n,s)||!Yn(r,a))}function fo(e,t,n,s){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,s),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&mo.enqueueReplaceState(t,t.state,null)}function go(e,t){var n=t;if("ref"in t)for(var s in n={},t)"ref"!==s&&(n[s]=t[s]);if(e=e.defaultProps)for(var r in n===t&&(n=h({},n)),e)void 0===n[r]&&(n[r]=e[r]);return n}var xo="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function vo(e){xo(e)}function bo(e){console.error(e)}function yo(e){xo(e)}function wo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function jo(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function ko(e,t,n){return(n=ra(n)).tag=3,n.payload={element:null},n.callback=function(){wo(e,t)},n}function No(e){return(e=ra(e)).tag=3,e}function _o(e,t,n,s){var r=n.type.getDerivedStateFromError;if("function"===typeof r){var a=s.value;e.payload=function(){return r(a)},e.callback=function(){jo(t,n,s)}}var i=n.stateNode;null!==i&&"function"===typeof i.componentDidCatch&&(e.callback=function(){jo(t,n,s),"function"!==typeof r&&(null===Nc?Nc=new Set([this]):Nc.add(this));var e=s.stack;this.componentDidCatch(s.value,{componentStack:null!==e?e:""})})}var So=Error(i(461)),Co=!1;function Eo(e,t,n,s){t.child=null===e?no(t,null,n,s):to(t,e.child,n,s)}function To(e,t,n,s,r){n=n.render;var a=t.ref;if("ref"in s){var i={};for(var o in s)"ref"!==o&&(i[o]=s[o])}else i=s;return _r(t),s=za(e,t,n,i,a,r),o=Oa(),null===e||Co?(ar&&o&&tr(t),t.flags|=1,Eo(e,t,s,r),t.child):(Da(e,t,r),Jo(e,t,r))}function Po(e,t,n,s,r){if(null===e){var a=n.type;return"function"!==typeof a||Rs(a)||void 0!==a.defaultProps||null!==n.compare?((e=Vs(n.type,null,s,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,zo(e,t,a,s,r))}if(a=e.child,!Yo(e,r)){var i=a.memoizedProps;if((n=null!==(n=n.compare)?n:Yn)(i,s)&&e.ref===t.ref)return Jo(e,t,r)}return t.flags|=1,(e=$s(a,s)).ref=t.ref,e.return=t,t.child=e}function zo(e,t,n,s,r){if(null!==e){var a=e.memoizedProps;if(Yn(a,s)&&e.ref===t.ref){if(Co=!1,t.pendingProps=s=a,!Yo(e,r))return t.lanes=e.lanes,Jo(e,t,r);0!==(131072&e.flags)&&(Co=!0)}}return Oo(e,t,n,s,r)}function Lo(e,t,n){var s=t.pendingProps,r=s.children,a=null!==e?e.memoizedState:null;if("hidden"===s.mode){if(0!==(128&t.flags)){if(s=null!==a?a.baseLanes|n:n,null!==e){for(r=t.child=e.child,a=0;null!==r;)a=a|r.lanes|r.childLanes,r=r.sibling;t.childLanes=a&~s}else t.childLanes=0,t.child=null;return Ao(e,t,s,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Ao(e,t,null!==a?a.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ur(0,null!==a?a.cachePool:null),null!==a?fa(t,a):ga(),io(t)}else null!==a?(Ur(0,a.cachePool),fa(t,a),oo(),t.memoizedState=null):(null!==e&&Ur(0,null),ga(),oo());return Eo(e,t,r,n),t.child}function Ao(e,t,n,s){var r=Br();return r=null===r?null:{parent:Lr._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},null!==e&&Ur(0,null),ga(),io(t),null!==e&&kr(e,t,s,!0),null}function Mo(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(i(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Oo(e,t,n,s,r){return _r(t),n=za(e,t,n,s,void 0,r),s=Oa(),null===e||Co?(ar&&s&&tr(t),t.flags|=1,Eo(e,t,n,r),t.child):(Da(e,t,r),Jo(e,t,r))}function Do(e,t,n,s,r,a){return _r(t),t.updateQueue=null,n=Aa(t,s,n,r),La(e),s=Oa(),null===e||Co?(ar&&s&&tr(t),t.flags|=1,Eo(e,t,n,a),t.child):(Da(e,t,a),Jo(e,t,a))}function Ro(e,t,n,s,r){if(_r(t),null===t.stateNode){var a=Ms,i=n.contextType;"object"===typeof i&&null!==i&&(a=Sr(i)),a=new n(s,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=mo,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=s,a.state=t.memoizedState,a.refs={},na(t),i=n.contextType,a.context="object"===typeof i&&null!==i?Sr(i):Ms,a.state=t.memoizedState,"function"===typeof(i=n.getDerivedStateFromProps)&&(ho(t,n,i,s),a.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(i=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),i!==a.state&&mo.enqueueReplaceState(a,a.state,null),da(t,s,a,r),ca(),a.state=t.memoizedState),"function"===typeof a.componentDidMount&&(t.flags|=4194308),s=!0}else if(null===e){a=t.stateNode;var o=t.memoizedProps,l=go(n,o);a.props=l;var c=a.context,d=n.contextType;i=Ms,"object"===typeof d&&null!==d&&(i=Sr(d));var u=n.getDerivedStateFromProps;d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate,o=t.pendingProps!==o,d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o||c!==i)&&fo(t,a,s,i),ta=!1;var h=t.memoizedState;a.state=h,da(t,s,a,r),ca(),c=t.memoizedState,o||h!==c||ta?("function"===typeof u&&(ho(t,n,u,s),c=t.memoizedState),(l=ta||po(t,n,l,s,h,c,i))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),a.props=s,a.state=c,a.context=i,s=l):("function"===typeof a.componentDidMount&&(t.flags|=4194308),s=!1)}else{a=t.stateNode,sa(e,t),d=go(n,i=t.memoizedProps),a.props=d,u=t.pendingProps,h=a.context,c=n.contextType,l=Ms,"object"===typeof c&&null!==c&&(l=Sr(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(i!==u||h!==l)&&fo(t,a,s,l),ta=!1,h=t.memoizedState,a.state=h,da(t,s,a,r),ca();var m=t.memoizedState;i!==u||h!==m||ta||null!==e&&null!==e.dependencies&&Nr(e.dependencies)?("function"===typeof o&&(ho(t,n,o,s),m=t.memoizedState),(d=ta||po(t,n,d,s,h,m,l)||null!==e&&null!==e.dependencies&&Nr(e.dependencies))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(s,m,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(s,m,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=m),a.props=s,a.state=m,a.context=l,s=d):("function"!==typeof a.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),s=!1)}return a=s,Mo(e,t),s=0!==(128&t.flags),a||s?(a=t.stateNode,n=s&&"function"!==typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&s?(t.child=to(t,e.child,null,r),t.child=to(t,null,n,r)):Eo(e,t,n,r),t.memoizedState=a.state,e=t.child):e=Jo(e,t,r),e}function $o(e,t,n,s){return mr(),t.flags|=256,Eo(e,t,n,s),t.child}var Io={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vo(e){return{baseLanes:e,cachePool:Hr()}}function Fo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function Bo(e,t,n){var s,r=t.pendingProps,a=!1,o=0!==(128&t.flags);if((s=o)||(s=(null===e||null!==e.memoizedState)&&0!==(2&co.current)),s&&(a=!0,t.flags&=-129),s=0!==(32&t.flags),t.flags&=-33,null===e){if(ar){if(a?ao(t):oo(),ar){var l,c=rr;if(l=c){e:{for(l=c,c=or;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=xu(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Ys?{id:Xs,overflow:Qs}:null,retryLane:536870912,hydrationErrors:null},(l=Ds(18,null,null,0)).stateNode=c,l.return=t,t.child=l,sr=t,rr=null,l=!0):l=!1}l||cr(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gu(c)?t.lanes=32:t.lanes=536870912,null;lo(t)}return c=r.children,r=r.fallback,a?(oo(),c=Ho({mode:"hidden",children:c},a=t.mode),r=Fs(r,a,n,null),c.return=t,r.return=t,c.sibling=r,t.child=c,(a=t.child).memoizedState=Vo(n),a.childLanes=Fo(e,s,n),t.memoizedState=Io,r):(ao(t),Uo(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(ao(t),t.flags&=-257,t=qo(e,t,n)):null!==t.memoizedState?(oo(),t.child=e.child,t.flags|=128,t=null):(oo(),a=r.fallback,c=t.mode,r=Ho({mode:"visible",children:r.children},c),(a=Fs(a,c,n,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,to(t,e.child,null,n),(r=t.child).memoizedState=Vo(n),r.childLanes=Fo(e,s,n),t.memoizedState=Io,t=a);else if(ao(t),gu(c)){if(s=c.nextSibling&&c.nextSibling.dataset)var d=s.dgst;s=d,(r=Error(i(419))).stack="",r.digest=s,fr({value:r,source:null,stack:null}),t=qo(e,t,n)}else if(Co||kr(e,t,n,!1),s=0!==(n&e.childLanes),Co||s){if(null!==(s=sc)&&(0!==(r=0!==((r=0!==(42&(r=n&-n))?1:Ee(r))&(s.suspendedLanes|n))?0:r)&&r!==l.retryLane))throw l.retryLane=r,zs(e,r),Dc(s,e,r),So;"$?"===c.data||Kc(),t=qo(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,rr=xu(c.nextSibling),sr=t,ar=!0,ir=null,or=!1,null!==e&&(Gs[Js++]=Xs,Gs[Js++]=Qs,Gs[Js++]=Ys,Xs=e.id,Qs=e.overflow,Ys=t),(t=Uo(t,r.children)).flags|=4096);return t}return a?(oo(),a=r.fallback,c=t.mode,d=(l=e.child).sibling,(r=$s(l,{mode:"hidden",children:r.children})).subtreeFlags=65011712&l.subtreeFlags,null!==d?a=$s(d,a):(a=Fs(a,c,n,null)).flags|=2,a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,null===(c=e.child.memoizedState)?c=Vo(n):(null!==(l=c.cachePool)?(d=Lr._currentValue,l=l.parent!==d?{parent:d,pool:d}:l):l=Hr(),c={baseLanes:c.baseLanes|n,cachePool:l}),a.memoizedState=c,a.childLanes=Fo(e,s,n),t.memoizedState=Io,r):(ao(t),e=(n=e.child).sibling,(n=$s(n,{mode:"visible",children:r.children})).return=t,n.sibling=null,null!==e&&(null===(s=t.deletions)?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function Uo(e,t){return(t=Ho({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Ho(e,t){return(e=Ds(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function qo(e,t,n){return to(t,e.child,null,n),(e=Uo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Wo(e,t,n){e.lanes|=t;var s=e.alternate;null!==s&&(s.lanes|=t),wr(e.return,t,n)}function Ko(e,t,n,s,r){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=r)}function Go(e,t,n){var s=t.pendingProps,r=s.revealOrder,a=s.tail;if(Eo(e,t,s.children,n),0!==(2&(s=co.current)))s=1&s|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wo(e,n,t);else if(19===e.tag)Wo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}switch(F(co,s),r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Ko(t,!1,r,n,a);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===uo(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Ko(t,!0,n,null,a);break;case"together":Ko(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),mc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(kr(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=$s(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=$s(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Yo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Nr(e))}function Xo(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Co=!0;else{if(!Yo(e,n)&&0===(128&t.flags))return Co=!1,function(e,t,n){switch(t.tag){case 3:W(t,t.stateNode.containerInfo),br(0,Lr,e.memoizedState.cache),mr();break;case 27:case 5:G(t);break;case 4:W(t,t.stateNode.containerInfo);break;case 10:br(0,t.type,t.memoizedProps.value);break;case 13:var s=t.memoizedState;if(null!==s)return null!==s.dehydrated?(ao(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Bo(e,t,n):(ao(t),null!==(e=Jo(e,t,n))?e.sibling:null);ao(t);break;case 19:var r=0!==(128&e.flags);if((s=0!==(n&t.childLanes))||(kr(e,t,n,!1),s=0!==(n&t.childLanes)),r){if(s)return Go(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),F(co,co.current),s)break;return null;case 22:case 23:return t.lanes=0,Lo(e,t,n);case 24:br(0,Lr,e.memoizedState.cache)}return Jo(e,t,n)}(e,t,n);Co=0!==(131072&e.flags)}else Co=!1,ar&&0!==(1048576&t.flags)&&er(t,Ks,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var s=t.elementType,r=s._init;if(s=r(s._payload),t.type=s,"function"!==typeof s){if(void 0!==s&&null!==s){if((r=s.$$typeof)===j){t.tag=11,t=To(null,t,s,e,n);break e}if(r===_){t.tag=14,t=Po(null,t,s,e,n);break e}}throw t=L(s)||s,Error(i(306,t,""))}Rs(s)?(e=go(s,e),t.tag=1,t=Ro(null,t,s,e,n)):(t.tag=0,t=Oo(null,t,s,e,n))}return t;case 0:return Oo(e,t,t.type,t.pendingProps,n);case 1:return Ro(e,t,s=t.type,r=go(s,t.pendingProps),n);case 3:e:{if(W(t,t.stateNode.containerInfo),null===e)throw Error(i(387));s=t.pendingProps;var a=t.memoizedState;r=a.element,sa(e,t),da(t,s,null,n);var o=t.memoizedState;if(s=o.cache,br(0,Lr,s),s!==a.cache&&jr(t,[Lr],n,!0),ca(),s=o.element,a.isDehydrated){if(a={element:s,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=$o(e,t,s,n);break e}if(s!==r){fr(r=Ns(Error(i(424)),t)),t=$o(e,t,s,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(rr=xu(e.firstChild),sr=t,ar=!0,ir=null,or=!0,n=no(t,null,s,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(mr(),s===r){t=Jo(e,t,n);break e}Eo(e,t,s,n)}t=t.child}return t;case 26:return Mo(e,t),null===e?(n=Eu(t.type,null,t.pendingProps,null))?t.memoizedState=n:ar||(n=t.type,e=t.pendingProps,(s=su(H.current).createElement(n))[Le]=t,s[Ae]=e,eu(s,n,e),qe(s),t.stateNode=s):t.memoizedState=Eu(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return G(t),null===e&&ar&&(s=t.stateNode=yu(t.type,t.pendingProps,H.current),sr=t,or=!0,r=rr,mu(t.type)?(vu=r,rr=xu(s.firstChild)):rr=r),Eo(e,t,t.pendingProps.children,n),Mo(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ar&&((r=s=rr)&&(null!==(s=function(e,t,n,s){for(;1===e.nodeType;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(s){if(!e[Ie])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==r.rel||e.getAttribute("href")!==(null==r.href||""===r.href?null:r.href)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin)||e.getAttribute("title")!==(null==r.title?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==r.src?null:r.src)||e.getAttribute("type")!==(null==r.type?null:r.type)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==r.name?null:""+r.name;if("hidden"===r.type&&e.getAttribute("name")===a)return e}if(null===(e=xu(e.nextSibling)))break}return null}(s,t.type,t.pendingProps,or))?(t.stateNode=s,sr=t,rr=xu(s.firstChild),or=!1,r=!0):r=!1),r||cr(t)),G(t),r=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,s=a.children,iu(r,a)?s=null:null!==o&&iu(r,o)&&(t.flags|=32),null!==t.memoizedState&&(r=za(e,t,Ma,null,null,n),Gu._currentValue=r),Mo(e,t),Eo(e,t,s,n),t.child;case 6:return null===e&&ar&&((e=n=rr)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=xu(e.nextSibling)))return null}return e}(n,t.pendingProps,or))?(t.stateNode=n,sr=t,rr=null,e=!0):e=!1),e||cr(t)),null;case 13:return Bo(e,t,n);case 4:return W(t,t.stateNode.containerInfo),s=t.pendingProps,null===e?t.child=to(t,null,s,n):Eo(e,t,s,n),t.child;case 11:return To(e,t,t.type,t.pendingProps,n);case 7:return Eo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Eo(e,t,t.pendingProps.children,n),t.child;case 10:return s=t.pendingProps,br(0,t.type,s.value),Eo(e,t,s.children,n),t.child;case 9:return r=t.type._context,s=t.pendingProps.children,_r(t),s=s(r=Sr(r)),t.flags|=1,Eo(e,t,s,n),t.child;case 14:return Po(e,t,t.type,t.pendingProps,n);case 15:return zo(e,t,t.type,t.pendingProps,n);case 19:return Go(e,t,n);case 31:return s=t.pendingProps,n=t.mode,s={mode:s.mode,children:s.children},null===e?((n=Ho(s,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=$s(e.child,s)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Lo(e,t,n);case 24:return _r(t),s=Sr(Lr),null===e?(null===(r=Br())&&(r=sc,a=Ar(),r.pooledCache=a,a.refCount++,null!==a&&(r.pooledCacheLanes|=n),r=a),t.memoizedState={parent:s,cache:r},na(t),br(0,Lr,r)):(0!==(e.lanes&n)&&(sa(e,t),da(t,null,null,n),ca()),r=e.memoizedState,a=t.memoizedState,r.parent!==s?(r={parent:s,cache:s},t.memoizedState=r,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=r),br(0,Lr,s)):(s=a.cache,br(0,Lr,s),s!==r.cache&&jr(t,[Lr],n,!0))),Eo(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function Qo(e){e.flags|=4}function Zo(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Fu(t)){if(null!==(t=so.current)&&((4194048&ac)===ac?null!==ro:(62914560&ac)!==ac&&0===(536870912&ac)||t!==ro))throw Qr=Gr,Wr;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?ke():536870912,e.lanes|=t,xc|=t)}function tl(e,t){if(!ar)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;null!==n;)null!==n.alternate&&(s=n),n=n.sibling;null===s?t||null===e.tail?e.tail=null:e.tail.sibling=null:s.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,s=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,s|=65011712&r.subtreeFlags,s|=65011712&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function sl(e,t,n){var s=t.pendingProps;switch(nr(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,s=null,null!==e&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),yr(Lr),K(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(hr(t)?Qo(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,pr())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Qo(t),null!==n?(nl(t),Zo(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Qo(t),nl(t),Zo(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==s&&Qo(t),nl(t),t.flags&=-16777217),null;case 27:J(t),n=H.current;var r=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==s&&Qo(t);else{if(!s){if(null===t.stateNode)throw Error(i(166));return nl(t),null}e=B.current,hr(t)?dr(t):(e=yu(r,s,n),t.stateNode=e,Qo(t))}return nl(t),null;case 5:if(J(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==s&&Qo(t);else{if(!s){if(null===t.stateNode)throw Error(i(166));return nl(t),null}if(e=B.current,hr(t))dr(t);else{switch(r=su(H.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=r.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof s.is?r.createElement("select",{is:s.is}):r.createElement("select"),s.multiple?e.multiple=!0:s.size&&(e.size=s.size);break;default:e="string"===typeof s.is?r.createElement(n,{is:s.is}):r.createElement(n)}}e[Le]=t,e[Ae]=s;e:for(r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&27!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;null===r.sibling;){if(null===r.return||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;e:switch(eu(e,n,s),n){case"button":case"input":case"select":case"textarea":e=!!s.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Qo(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==s&&Qo(t);else{if("string"!==typeof s&&null===t.stateNode)throw Error(i(166));if(e=H.current,hr(t)){if(e=t.stateNode,n=t.memoizedProps,s=null,null!==(r=sr))switch(r.tag){case 27:case 5:s=r.memoizedProps}e[Le]=t,(e=!!(e.nodeValue===n||null!==s&&!0===s.suppressHydrationWarning||Yd(e.nodeValue,n)))||cr(t)}else(e=su(e).createTextNode(s))[Le]=t,t.stateNode=e}return nl(t),null;case 13:if(s=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(r=hr(t),null!==s&&null!==s.dehydrated){if(null===e){if(!r)throw Error(i(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(i(317));r[Le]=t}else mr(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),r=!1}else r=pr(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return 256&t.flags?(lo(t),t):(lo(t),null)}if(lo(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==s,e=null!==e&&null!==e.memoizedState,n){r=null,null!==(s=t.child).alternate&&null!==s.alternate.memoizedState&&null!==s.alternate.memoizedState.cachePool&&(r=s.alternate.memoizedState.cachePool.pool);var a=null;null!==s.memoizedState&&null!==s.memoizedState.cachePool&&(a=s.memoizedState.cachePool.pool),a!==r&&(s.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return K(),null===e&&Vd(t.stateNode.containerInfo),nl(t),null;case 10:return yr(t.type),nl(t),null;case 19:if(V(co),null===(r=t.memoizedState))return nl(t),null;if(s=0!==(128&t.flags),null===(a=r.rendering))if(s)tl(r,!1);else{if(0!==hc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=uo(e))){for(t.flags|=128,tl(r,!1),e=a.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Is(n,e),n=n.sibling;return F(co,1&co.current|2),t.child}e=e.sibling}null!==r.tail&&te()>jc&&(t.flags|=128,s=!0,tl(r,!1),t.lanes=4194304)}else{if(!s)if(null!==(e=uo(a))){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate&&!ar)return nl(t),null}else 2*te()-r.renderingStartTime>jc&&536870912!==n&&(t.flags|=128,s=!0,tl(r,!1),t.lanes=4194304);r.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=r.last)?e.sibling=a:t.child=a,r.last=a)}return null!==r.tail?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=te(),t.sibling=null,e=co.current,F(co,s?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return lo(t),xa(),s=null!==t.memoizedState,null!==e?null!==e.memoizedState!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),s=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(s=t.memoizedState.cachePool.pool),s!==n&&(t.flags|=2048),null!==e&&V(Fr),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),yr(Lr),nl(t),null;case 25:case 30:return null}throw Error(i(156,t.tag))}function rl(e,t){switch(nr(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return yr(Lr),K(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return J(t),null;case 13:if(lo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));mr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return V(co),null;case 4:return K(),null;case 10:return yr(t.type),null;case 22:case 23:return lo(t),xa(),null!==e&&V(Fr),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return yr(Lr),null;default:return null}}function al(e,t){switch(nr(t),t.tag){case 3:yr(Lr),K();break;case 26:case 27:case 5:J(t);break;case 4:K();break;case 13:lo(t);break;case 19:V(co);break;case 10:yr(t.type);break;case 22:case 23:lo(t),xa(),null!==e&&V(Fr);break;case 24:yr(Lr)}}function il(e,t){try{var n=t.updateQueue,s=null!==n?n.lastEffect:null;if(null!==s){var r=s.next;n=r;do{if((n.tag&e)===e){s=void 0;var a=n.create,i=n.inst;s=a(),i.destroy=s}n=n.next}while(n!==r)}}catch(o){dd(t,t.return,o)}}function ol(e,t,n){try{var s=t.updateQueue,r=null!==s?s.lastEffect:null;if(null!==r){var a=r.next;s=a;do{if((s.tag&e)===e){var i=s.inst,o=i.destroy;if(void 0!==o){i.destroy=void 0,r=t;var l=n,c=o;try{c()}catch(d){dd(r,l,d)}}}s=s.next}while(s!==a)}}catch(d){dd(t,t.return,d)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ha(t,n)}catch(s){dd(e,e.return,s)}}}function cl(e,t,n){n.props=go(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(s){dd(e,t,s)}}function dl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;default:s=e.stateNode}"function"===typeof n?e.refCleanup=n(s):n.current=s}}catch(r){dd(e,t,r)}}function ul(e,t){var n=e.ref,s=e.refCleanup;if(null!==n)if("function"===typeof s)try{s()}catch(r){dd(e,t,r)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(a){dd(e,t,a)}else n.current=null}function hl(e){var t=e.type,n=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(r){dd(e,e.return,r)}}function ml(e,t,n){try{var s=e.stateNode;!function(e,t,n,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,a=null,o=null,l=null,c=null,d=null,u=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:s.hasOwnProperty(p)||Qd(e,t,p,null,s,h)}}for(var m in s){var p=s[m];if(h=n[m],s.hasOwnProperty(m)&&(null!=p||null!=h))switch(m){case"type":a=p;break;case"name":r=p;break;case"checked":d=p;break;case"defaultChecked":u=p;break;case"value":o=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(i(137,t));break;default:p!==h&&Qd(e,t,m,p,s,h)}}return void gt(e,o,l,c,d,u,a,r);case"select":for(a in p=o=l=m=null,n)if(c=n[a],n.hasOwnProperty(a)&&null!=c)switch(a){case"value":break;case"multiple":p=c;default:s.hasOwnProperty(a)||Qd(e,t,a,null,s,c)}for(r in s)if(a=s[r],c=n[r],s.hasOwnProperty(r)&&(null!=a||null!=c))switch(r){case"value":m=a;break;case"defaultValue":l=a;break;case"multiple":o=a;default:a!==c&&Qd(e,t,r,a,s,c)}return t=l,n=o,s=p,void(null!=m?bt(e,!!n,m,!1):!!s!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=m=null,n)if(r=n[l],n.hasOwnProperty(l)&&null!=r&&!s.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Qd(e,t,l,null,s,r)}for(o in s)if(r=s[o],a=n[o],s.hasOwnProperty(o)&&(null!=r||null!=a))switch(o){case"value":m=r;break;case"defaultValue":p=r;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=r)throw Error(i(91));break;default:r!==a&&Qd(e,t,o,r,s,a)}return void yt(e,m,p);case"option":for(var f in n)if(m=n[f],n.hasOwnProperty(f)&&null!=m&&!s.hasOwnProperty(f))if("selected"===f)e.selected=!1;else Qd(e,t,f,null,s,m);for(c in s)if(m=s[c],p=n[c],s.hasOwnProperty(c)&&m!==p&&(null!=m||null!=p))if("selected"===c)e.selected=m&&"function"!==typeof m&&"symbol"!==typeof m;else Qd(e,t,c,m,s,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)m=n[g],n.hasOwnProperty(g)&&null!=m&&!s.hasOwnProperty(g)&&Qd(e,t,g,null,s,m);for(d in s)if(m=s[d],p=n[d],s.hasOwnProperty(d)&&m!==p&&(null!=m||null!=p))switch(d){case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(i(137,t));break;default:Qd(e,t,d,m,s,p)}return;default:if(St(t)){for(var x in n)m=n[x],n.hasOwnProperty(x)&&void 0!==m&&!s.hasOwnProperty(x)&&Zd(e,t,x,void 0,s,m);for(u in s)m=s[u],p=n[u],!s.hasOwnProperty(u)||m===p||void 0===m&&void 0===p||Zd(e,t,u,m,s,p);return}}for(var v in n)m=n[v],n.hasOwnProperty(v)&&null!=m&&!s.hasOwnProperty(v)&&Qd(e,t,v,null,s,m);for(h in s)m=s[h],p=n[h],!s.hasOwnProperty(h)||m===p||null==m&&null==p||Qd(e,t,h,m,s,p)}(s,e.type,n,t),s[Ae]=t}catch(r){dd(e,e.return,r)}}function pl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&mu(e.type)||4===e.tag}function fl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||pl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&mu(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var s=e.tag;if(5===s||6===s)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xd));else if(4!==s&&(27===s&&mu(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function xl(e,t,n){var s=e.tag;if(5===s||6===s)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==s&&(27===s&&mu(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(xl(e,t,n),e=e.sibling;null!==e;)xl(e,t,n),e=e.sibling}function vl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var s=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);eu(t,s,n),t[Le]=e,t[Ae]=n}catch(a){dd(e,e.return,a)}}var bl=!1,yl=!1,wl=!1,jl="function"===typeof WeakSet?WeakSet:Set,kl=null;function Nl(e,t,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:Rl(e,n),4&s&&il(5,n);break;case 1:if(Rl(e,n),4&s)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(i){dd(n,n.return,i)}else{var r=go(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){dd(n,n.return,o)}}64&s&&ll(n),512&s&&dl(n,n.return);break;case 3:if(Rl(e,n),64&s&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ha(e,t)}catch(i){dd(n,n.return,i)}}break;case 27:null===t&&4&s&&vl(n);case 26:case 5:Rl(e,n),null===t&&4&s&&hl(n),512&s&&dl(n,n.return);break;case 12:Rl(e,n);break;case 13:Rl(e,n),4&s&&Pl(e,n),64&s&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var s=function(){t(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}(e,n=pd.bind(null,n))));break;case 22:if(!(s=null!==n.memoizedState||bl)){t=null!==t&&null!==t.memoizedState||yl,r=bl;var a=yl;bl=s,(yl=t)&&!a?Il(e,n,0!==(8772&n.subtreeFlags)):Rl(e,n),bl=r,yl=a}break;case 30:break;default:Rl(e,n)}}function _l(e){var t=e.alternate;null!==t&&(e.alternate=null,_l(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ve(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Sl=null,Cl=!1;function El(e,t,n){for(n=n.child;null!==n;)Tl(e,t,n),n=n.sibling}function Tl(e,t,n){if(ue&&"function"===typeof ue.onCommitFiberUnmount)try{ue.onCommitFiberUnmount(de,n)}catch(a){}switch(n.tag){case 26:yl||ul(n,t),El(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:yl||ul(n,t);var s=Sl,r=Cl;mu(n.type)&&(Sl=n.stateNode,Cl=!1),El(e,t,n),wu(n.stateNode),Sl=s,Cl=r;break;case 5:yl||ul(n,t);case 6:if(s=Sl,r=Cl,Sl=null,El(e,t,n),Cl=r,null!==(Sl=s))if(Cl)try{(9===Sl.nodeType?Sl.body:"HTML"===Sl.nodeName?Sl.ownerDocument.body:Sl).removeChild(n.stateNode)}catch(i){dd(n,t,i)}else try{Sl.removeChild(n.stateNode)}catch(i){dd(n,t,i)}break;case 18:null!==Sl&&(Cl?(pu(9===(e=Sl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Ch(e)):pu(Sl,n.stateNode));break;case 4:s=Sl,r=Cl,Sl=n.stateNode.containerInfo,Cl=!0,El(e,t,n),Sl=s,Cl=r;break;case 0:case 11:case 14:case 15:yl||ol(2,n,t),yl||ol(4,n,t),El(e,t,n);break;case 1:yl||(ul(n,t),"function"===typeof(s=n.stateNode).componentWillUnmount&&cl(n,t,s)),El(e,t,n);break;case 21:El(e,t,n);break;case 22:yl=(s=yl)||null!==n.memoizedState,El(e,t,n),yl=s;break;default:El(e,t,n)}}function Pl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Ch(e)}catch(n){dd(t,t.return,n)}}function zl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new jl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new jl),t;default:throw Error(i(435,e.tag))}}(e);t.forEach(function(t){var s=fd.bind(null,e,t);n.has(t)||(n.add(t),t.then(s,s))})}function Ll(e,t){var n=t.deletions;if(null!==n)for(var s=0;s<n.length;s++){var r=n[s],a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(mu(l.type)){Sl=l.stateNode,Cl=!1;break e}break;case 5:Sl=l.stateNode,Cl=!1;break e;case 3:case 4:Sl=l.stateNode.containerInfo,Cl=!0;break e}l=l.return}if(null===Sl)throw Error(i(160));Tl(a,o,r),Sl=null,Cl=!1,null!==(a=r.alternate)&&(a.return=null),r.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Ml(t,e),t=t.sibling}var Al=null;function Ml(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ll(t,e),Ol(e),4&s&&(ol(3,e,e.return),il(3,e),ol(5,e,e.return));break;case 1:Ll(t,e),Ol(e),512&s&&(yl||null===n||ul(n,n.return)),64&s&&bl&&(null!==(e=e.updateQueue)&&(null!==(s=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?s:n.concat(s))));break;case 26:var r=Al;if(Ll(t,e),Ol(e),512&s&&(yl||null===n||ul(n,n.return)),4&s){var a=null!==n?n.memoizedState:null;if(s=e.memoizedState,null===n)if(null===s)if(null===e.stateNode){e:{s=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(s){case"title":(!(a=r.getElementsByTagName("title")[0])||a[Ie]||a[Le]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=r.createElement(s),r.head.insertBefore(a,r.querySelector("head > title"))),eu(a,s,n),a[Le]=e,qe(a),s=a;break e;case"link":var o=Iu("link","href",r).get(s+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((a=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}eu(a=r.createElement(s),s,n),r.head.appendChild(a);break;case"meta":if(o=Iu("meta","content",r).get(s+(n.content||"")))for(l=0;l<o.length;l++)if((a=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}eu(a=r.createElement(s),s,n),r.head.appendChild(a);break;default:throw Error(i(468,s))}a[Le]=e,qe(a),s=a}e.stateNode=s}else Vu(r,e.type,e.stateNode);else e.stateNode=Mu(r,s,e.memoizedProps);else a!==s?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===s?Vu(r,e.type,e.stateNode):Mu(r,s,e.memoizedProps)):null===s&&null!==e.stateNode&&ml(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ll(t,e),Ol(e),512&s&&(yl||null===n||ul(n,n.return)),null!==n&&4&s&&ml(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ll(t,e),Ol(e),512&s&&(yl||null===n||ul(n,n.return)),32&e.flags){r=e.stateNode;try{jt(r,"")}catch(p){dd(e,e.return,p)}}4&s&&null!=e.stateNode&&ml(e,r=e.memoizedProps,null!==n?n.memoizedProps:r),1024&s&&(wl=!0);break;case 6:if(Ll(t,e),Ol(e),4&s){if(null===e.stateNode)throw Error(i(162));s=e.memoizedProps,n=e.stateNode;try{n.nodeValue=s}catch(p){dd(e,e.return,p)}}break;case 3:if($u=null,r=Al,Al=Nu(t.containerInfo),Ll(t,e),Al=r,Ol(e),4&s&&null!==n&&n.memoizedState.isDehydrated)try{Ch(t.containerInfo)}catch(p){dd(e,e.return,p)}wl&&(wl=!1,Dl(e));break;case 4:s=Al,Al=Nu(e.stateNode.containerInfo),Ll(t,e),Ol(e),Al=s;break;case 12:default:Ll(t,e),Ol(e);break;case 13:Ll(t,e),Ol(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(wc=te()),4&s&&(null!==(s=e.updateQueue)&&(e.updateQueue=null,zl(e,s)));break;case 22:r=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,d=bl,u=yl;if(bl=d||r,yl=u||c,Ll(t,e),yl=u,bl=d,Ol(e),8192&s)e:for(t=e.stateNode,t._visibility=r?-2&t._visibility:1|t._visibility,r&&(null===n||c||bl||yl||$l(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(a=c.stateNode,r)"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,m=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==m||"boolean"===typeof m?"":(""+m).trim()}}catch(p){dd(c,c.return,p)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=r?"":c.memoizedProps}catch(p){dd(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&s&&(null!==(s=e.updateQueue)&&(null!==(n=s.retryQueue)&&(s.retryQueue=null,zl(e,n))));break;case 19:Ll(t,e),Ol(e),4&s&&(null!==(s=e.updateQueue)&&(e.updateQueue=null,zl(e,s)));case 30:case 21:}}function Ol(e){var t=e.flags;if(2&t){try{for(var n,s=e.return;null!==s;){if(pl(s)){n=s;break}s=s.return}if(null==n)throw Error(i(160));switch(n.tag){case 27:var r=n.stateNode;xl(e,fl(e),r);break;case 5:var a=n.stateNode;32&n.flags&&(jt(a,""),n.flags&=-33),xl(e,fl(e),a);break;case 3:case 4:var o=n.stateNode.containerInfo;gl(e,fl(e),o);break;default:throw Error(i(161))}}catch(l){dd(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Dl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Dl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Rl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Nl(e,t.alternate,t),t=t.sibling}function $l(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ol(4,t,t.return),$l(t);break;case 1:ul(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),$l(t);break;case 27:wu(t.stateNode);case 26:case 5:ul(t,t.return),$l(t);break;case 22:null===t.memoizedState&&$l(t);break;default:$l(t)}e=e.sibling}}function Il(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var s=t.alternate,r=e,a=t,i=a.flags;switch(a.tag){case 0:case 11:case 15:Il(r,a,n),il(4,a);break;case 1:if(Il(r,a,n),"function"===typeof(r=(s=a).stateNode).componentDidMount)try{r.componentDidMount()}catch(c){dd(s,s.return,c)}if(null!==(r=(s=a).updateQueue)){var o=s.stateNode;try{var l=r.shared.hiddenCallbacks;if(null!==l)for(r.shared.hiddenCallbacks=null,r=0;r<l.length;r++)ua(l[r],o)}catch(c){dd(s,s.return,c)}}n&&64&i&&ll(a),dl(a,a.return);break;case 27:vl(a);case 26:case 5:Il(r,a,n),n&&null===s&&4&i&&hl(a),dl(a,a.return);break;case 12:Il(r,a,n);break;case 13:Il(r,a,n),n&&4&i&&Pl(r,a);break;case 22:null===a.memoizedState&&Il(r,a,n),dl(a,a.return);break;case 30:break;default:Il(r,a,n)}t=t.sibling}}function Vl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Mr(n))}function Fl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Mr(e))}function Bl(e,t,n,s){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Ul(e,t,n,s),t=t.sibling}function Ul(e,t,n,s){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Bl(e,t,n,s),2048&r&&il(9,t);break;case 1:case 13:default:Bl(e,t,n,s);break;case 3:Bl(e,t,n,s),2048&r&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Mr(e)));break;case 12:if(2048&r){Bl(e,t,n,s),e=t.stateNode;try{var a=t.memoizedProps,i=a.id,o=a.onPostCommit;"function"===typeof o&&o(i,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){dd(t,t.return,l)}}else Bl(e,t,n,s);break;case 23:break;case 22:a=t.stateNode,i=t.alternate,null!==t.memoizedState?2&a._visibility?Bl(e,t,n,s):ql(e,t):2&a._visibility?Bl(e,t,n,s):(a._visibility|=2,Hl(e,t,n,s,0!==(10256&t.subtreeFlags))),2048&r&&Vl(i,t);break;case 24:Bl(e,t,n,s),2048&r&&Fl(t.alternate,t)}}function Hl(e,t,n,s,r){for(r=r&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var a=e,i=t,o=n,l=s,c=i.flags;switch(i.tag){case 0:case 11:case 15:Hl(a,i,o,l,r),il(8,i);break;case 23:break;case 22:var d=i.stateNode;null!==i.memoizedState?2&d._visibility?Hl(a,i,o,l,r):ql(a,i):(d._visibility|=2,Hl(a,i,o,l,r)),r&&2048&c&&Vl(i.alternate,i);break;case 24:Hl(a,i,o,l,r),r&&2048&c&&Fl(i.alternate,i);break;default:Hl(a,i,o,l,r)}t=t.sibling}}function ql(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,s=t,r=s.flags;switch(s.tag){case 22:ql(n,s),2048&r&&Vl(s.alternate,s);break;case 24:ql(n,s),2048&r&&Fl(s.alternate,s);break;default:ql(n,s)}t=t.sibling}}var Wl=8192;function Kl(e){if(e.subtreeFlags&Wl)for(e=e.child;null!==e;)Gl(e),e=e.sibling}function Gl(e){switch(e.tag){case 26:Kl(e),e.flags&Wl&&null!==e.memoizedState&&function(e,t,n){if(null===Bu)throw Error(i(475));var s=Bu;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var r=Tu(n.href),a=e.querySelector(Pu(r));if(a)return null!==(e=a._p)&&"object"===typeof e&&"function"===typeof e.then&&(s.count++,s=Hu.bind(s),e.then(s,s)),t.state.loading|=4,t.instance=a,void qe(a);a=e.ownerDocument||e,n=zu(n),(r=ju.get(r))&&Du(n,r),qe(a=a.createElement("link"));var o=a;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),eu(a,"link",n),t.instance=a}null===s.stylesheets&&(s.stylesheets=new Map),s.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(s.count++,t=Hu.bind(s),e.addEventListener("load",t),e.addEventListener("error",t))}}(Al,e.memoizedState,e.memoizedProps);break;case 5:default:Kl(e);break;case 3:case 4:var t=Al;Al=Nu(e.stateNode.containerInfo),Kl(e),Al=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Wl,Wl=16777216,Kl(e),Wl=t):Kl(e))}}function Jl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Yl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var s=t[n];kl=s,Zl(s,e)}Jl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Xl(e),e=e.sibling}function Xl(e){switch(e.tag){case 0:case 11:case 15:Yl(e),2048&e.flags&&ol(9,e,e.return);break;case 3:case 12:default:Yl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Ql(e)):Yl(e)}}function Ql(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var s=t[n];kl=s,Zl(s,e)}Jl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ol(8,t,t.return),Ql(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Ql(t));break;default:Ql(t)}e=e.sibling}}function Zl(e,t){for(;null!==kl;){var n=kl;switch(n.tag){case 0:case 11:case 15:ol(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var s=n.memoizedState.cachePool.pool;null!=s&&s.refCount++}break;case 24:Mr(n.memoizedState.cache)}if(null!==(s=n.child))s.return=n,kl=s;else e:for(n=e;null!==kl;){var r=(s=kl).sibling,a=s.return;if(_l(s),s===n){kl=null;break e}if(null!==r){r.return=a,kl=r;break e}kl=a}}}var ec={getCacheForType:function(e){var t=Sr(Lr),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,sc=null,rc=null,ac=0,ic=0,oc=null,lc=!1,cc=!1,dc=!1,uc=0,hc=0,mc=0,pc=0,fc=0,gc=0,xc=0,vc=null,bc=null,yc=!1,wc=0,jc=1/0,kc=null,Nc=null,_c=0,Sc=null,Cc=null,Ec=0,Tc=0,Pc=null,zc=null,Lc=0,Ac=null;function Mc(){if(0!==(2&nc)&&0!==ac)return ac&-ac;if(null!==M.T){return 0!==Rr?Rr:Td()}return Pe()}function Oc(){0===gc&&(gc=0===(536870912&ac)||ar?je():536870912);var e=so.current;return null!==e&&(e.flags|=32),gc}function Dc(e,t,n){(e!==sc||2!==ic&&9!==ic)&&null===e.cancelPendingCommit||(Uc(e,0),Vc(e,ac,gc,!1)),_e(e,n),0!==(2&nc)&&e===sc||(e===sc&&(0===(2&nc)&&(pc|=n),4===hc&&Vc(e,ac,gc,!1)),jd(e))}function Rc(e,t,n){if(0!==(6&nc))throw Error(i(327));for(var s=!n&&0===(124&t)&&0===(t&e.expiredLanes)||ye(e,t),r=s?function(e,t){var n=nc;nc|=2;var s=qc(),r=Wc();sc!==e||ac!==t?(kc=null,jc=te()+500,Uc(e,t)):cc=ye(e,t);e:for(;;)try{if(0!==ic&&null!==rc){t=rc;var a=oc;t:switch(ic){case 1:ic=0,oc=null,Zc(e,t,a,1);break;case 2:case 9:if(Jr(a)){ic=0,oc=null,Qc(t);break}t=function(){2!==ic&&9!==ic||sc!==e||(ic=7),jd(e)},a.then(t,t);break e;case 3:ic=7;break e;case 4:ic=5;break e;case 7:Jr(a)?(ic=0,oc=null,Qc(t)):(ic=0,oc=null,Zc(e,t,a,7));break;case 5:var o=null;switch(rc.tag){case 26:o=rc.memoizedState;case 5:case 27:var l=rc;if(!o||Fu(o)){ic=0,oc=null;var c=l.sibling;if(null!==c)rc=c;else{var d=l.return;null!==d?(rc=d,ed(d)):rc=null}break t}}ic=0,oc=null,Zc(e,t,a,5);break;case 6:ic=0,oc=null,Zc(e,t,a,6);break;case 8:Bc(),hc=6;break e;default:throw Error(i(462))}}Yc();break}catch(u){Hc(e,u)}return vr=xr=null,M.H=s,M.A=r,nc=n,null!==rc?0:(sc=null,ac=0,Es(),hc)}(e,t):Gc(e,t,!0),a=s;;){if(0===r){cc&&!s&&Vc(e,t,0,!1);break}if(n=e.current.alternate,!a||Ic(n)){if(2===r){if(a=t,e.errorRecoveryDisabledLanes&a)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;r=vc;var c=l.current.memoizedState.isDehydrated;if(c&&(Uc(l,o).flags|=256),2!==(o=Gc(l,o,!1))){if(dc&&!c){l.errorRecoveryDisabledLanes|=a,pc|=a,r=4;break e}a=bc,bc=r,null!==a&&(null===bc?bc=a:bc.push.apply(bc,a))}r=o}if(a=!1,2!==r)continue}}if(1===r){Uc(e,0),Vc(e,t,0,!0);break}e:{switch(s=e,a=r){case 0:case 1:throw Error(i(345));case 4:if((4194048&t)!==t)break;case 6:Vc(s,t,gc,!lc);break e;case 2:bc=null;break;case 3:case 5:break;default:throw Error(i(329))}if((62914560&t)===t&&10<(r=wc+300-te())){if(Vc(s,t,gc,!lc),0!==be(s,0,!0))break e;s.timeoutHandle=lu($c.bind(null,s,n,bc,kc,yc,t,gc,pc,xc,lc,a,2,-0,0),r)}else $c(s,n,bc,kc,yc,t,gc,pc,xc,lc,a,0,-0,0)}break}r=Gc(e,t,!1),a=!1}jd(e)}function $c(e,t,n,s,r,a,o,l,c,d,u,h,m,p){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(Bu={stylesheets:null,count:0,unsuspend:Uu},Gl(t),null!==(h=function(){if(null===Bu)throw Error(i(475));var e=Bu;return e.stylesheets&&0===e.count&&Wu(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Wu(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(nd.bind(null,e,t,a,n,s,r,o,l,c,u,1,m,p)),void Vc(e,a,o,!d);nd(e,t,a,n,s,r,o,l,c)}function Ic(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var s=0;s<n.length;s++){var r=n[s],a=r.getSnapshot;r=r.value;try{if(!Jn(a(),r))return!1}catch(i){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vc(e,t,n,s){t&=~fc,t&=~pc,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var r=t;0<r;){var a=31-me(r),i=1<<a;s[a]=-1,r&=~i}0!==n&&Se(e,n,t)}function Fc(){return 0!==(6&nc)||(kd(0,!1),!1)}function Bc(){if(null!==rc){if(0===ic)var e=rc.return;else vr=xr=null,Ra(e=rc),Gi=null,Ji=0,e=rc;for(;null!==e;)al(e.alternate,e),e=e.return;rc=null}}function Uc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cu(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Bc(),sc=e,rc=n=$s(e.current,null),ac=t,ic=0,oc=null,lc=!1,cc=ye(e,t),dc=!1,xc=gc=fc=pc=mc=hc=0,bc=vc=null,yc=!1,0!==(8&t)&&(t|=32&t);var s=e.entangledLanes;if(0!==s)for(e=e.entanglements,s&=t;0<s;){var r=31-me(s),a=1<<r;t|=e[r],s&=~a}return uc=t,Es(),n}function Hc(e,t){ba=null,M.H=Hi,t===qr||t===Kr?(t=Zr(),ic=3):t===Wr?(t=Zr(),ic=4):ic=t===So?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,oc=t,null===rc&&(hc=1,wo(e,Ns(t,e.current)))}function qc(){var e=M.H;return M.H=Hi,null===e?Hi:e}function Wc(){var e=M.A;return M.A=ec,e}function Kc(){hc=4,lc||(4194048&ac)!==ac&&null!==so.current||(cc=!0),0===(134217727&mc)&&0===(134217727&pc)||null===sc||Vc(sc,ac,gc,!1)}function Gc(e,t,n){var s=nc;nc|=2;var r=qc(),a=Wc();sc===e&&ac===t||(kc=null,Uc(e,t)),t=!1;var i=hc;e:for(;;)try{if(0!==ic&&null!==rc){var o=rc,l=oc;switch(ic){case 8:Bc(),i=6;break e;case 3:case 2:case 9:case 6:null===so.current&&(t=!0);var c=ic;if(ic=0,oc=null,Zc(e,o,l,c),n&&cc){i=0;break e}break;default:c=ic,ic=0,oc=null,Zc(e,o,l,c)}}Jc(),i=hc;break}catch(d){Hc(e,d)}return t&&e.shellSuspendCounter++,vr=xr=null,nc=s,M.H=r,M.A=a,null===rc&&(sc=null,ac=0,Es()),i}function Jc(){for(;null!==rc;)Xc(rc)}function Yc(){for(;null!==rc&&!Z();)Xc(rc)}function Xc(e){var t=Xo(e.alternate,e,uc);e.memoizedProps=e.pendingProps,null===t?ed(e):rc=t}function Qc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Do(n,t,t.pendingProps,t.type,void 0,ac);break;case 11:t=Do(n,t,t.pendingProps,t.type.render,t.ref,ac);break;case 5:Ra(t);default:al(n,t),t=Xo(n,t=rc=Is(t,uc),uc)}e.memoizedProps=e.pendingProps,null===t?ed(e):rc=t}function Zc(e,t,n,s){vr=xr=null,Ra(t),Gi=null,Ji=0;var r=t.return;try{if(function(e,t,n,s,r){if(n.flags|=32768,null!==s&&"object"===typeof s&&"function"===typeof s.then){if(null!==(t=n.alternate)&&kr(t,n,r,!0),null!==(n=so.current)){switch(n.tag){case 13:return null===ro?Kc():null===n.alternate&&0===hc&&(hc=3),n.flags&=-257,n.flags|=65536,n.lanes=r,s===Gr?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([s]):t.add(s),ud(e,s,r)),!1;case 22:return n.flags|=65536,s===Gr?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([s]):n.add(s),ud(e,s,r)),!1}throw Error(i(435,n.tag))}return ud(e,s,r),Kc(),!1}if(ar)return null!==(t=so.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=r,s!==lr&&fr(Ns(e=Error(i(422),{cause:s}),n))):(s!==lr&&fr(Ns(t=Error(i(423),{cause:s}),n)),(e=e.current.alternate).flags|=65536,r&=-r,e.lanes|=r,s=Ns(s,n),oa(e,r=ko(e.stateNode,s,r)),4!==hc&&(hc=2)),!1;var a=Error(i(520),{cause:s});if(a=Ns(a,n),null===vc?vc=[a]:vc.push(a),4!==hc&&(hc=2),null===t)return!0;s=Ns(s,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,oa(n,e=ko(n.stateNode,s,e)),!1;case 1:if(t=n.type,a=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==a&&"function"===typeof a.componentDidCatch&&(null===Nc||!Nc.has(a))))return n.flags|=65536,r&=-r,n.lanes|=r,_o(r=No(r),e,n,s),oa(n,r),!1}n=n.return}while(null!==n);return!1}(e,r,t,n,ac))return hc=1,wo(e,Ns(n,e.current)),void(rc=null)}catch(a){if(null!==r)throw rc=r,a;return hc=1,wo(e,Ns(n,e.current)),void(rc=null)}32768&t.flags?(ar||1===s?e=!0:cc||0!==(536870912&ac)?e=!1:(lc=e=!0,(2===s||9===s||3===s||6===s)&&(null!==(s=so.current)&&13===s.tag&&(s.flags|=16384))),td(t,e)):ed(t)}function ed(e){var t=e;do{if(0!==(32768&t.flags))return void td(t,lc);e=t.return;var n=sl(t.alternate,t,uc);if(null!==n)return void(rc=n);if(null!==(t=t.sibling))return void(rc=t);rc=t=e}while(null!==t);0===hc&&(hc=5)}function td(e,t){do{var n=rl(e.alternate,e);if(null!==n)return n.flags&=32767,void(rc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(rc=e);rc=e=n}while(null!==e);hc=6,rc=null}function nd(e,t,n,s,r,a,o,l,c){e.cancelPendingCommit=null;do{od()}while(0!==_c);if(0!==(6&nc))throw Error(i(327));if(null!==t){if(t===e.current)throw Error(i(177));if(a=t.lanes|t.childLanes,function(e,t,n,s,r,a){var i=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=i&~n;0<n;){var d=31-me(n),u=1<<d;o[d]=0,l[d]=-1;var h=c[d];if(null!==h)for(c[d]=null,d=0;d<h.length;d++){var m=h[d];null!==m&&(m.lane&=-536870913)}n&=~u}0!==s&&Se(e,s,0),0!==a&&0===r&&0!==e.tag&&(e.suspendedLanes|=a&~(i&~t))}(e,n,a|=Cs,o,l,c),e===sc&&(rc=sc=null,ac=0),Cc=t,Sc=e,Ec=n,Tc=a,Pc=r,zc=s,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,X(ae,function(){return ld(),null})):(e.callbackNode=null,e.callbackPriority=0),s=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||s){s=M.T,M.T=null,r=O.p,O.p=2,o=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,tu=nh,ts(e=es(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var s=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(s&&0!==s.rangeCount){n=s.anchorNode;var r=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,m=null;t:for(;;){for(var p;h!==n||0!==r&&3!==h.nodeType||(l=o+r),h!==a||0!==s&&3!==h.nodeType||(c=o+s),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)m=h,h=p;for(;;){if(h===e)break t;if(m===n&&++d===r&&(l=o),m===a&&++u===s&&(c=o),null!==(p=h.nextSibling))break;m=(h=m).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nu={focusedElem:e,selectionRange:n},nh=!1,kl=t;null!==kl;)if(e=(t=kl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,kl=e;else for(;null!==kl;){switch(a=(t=kl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==a){e=void 0,n=t,r=a.memoizedProps,a=a.memoizedState,s=n.stateNode;try{var f=go(n.type,r,(n.elementType,n.type));e=s.getSnapshotBeforeUpdate(f,a),s.__reactInternalSnapshotBeforeUpdate=e}catch(x){dd(n,n.return,x)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))fu(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":fu(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(i(163))}if(null!==(e=t.sibling)){e.return=t.return,kl=e;break}kl=t.return}}(e,t)}finally{nc=o,O.p=r,M.T=s}}_c=1,sd(),rd(),ad()}}function sd(){if(1===_c){_c=0;var e=Sc,t=Cc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=M.T,M.T=null;var s=O.p;O.p=2;var r=nc;nc|=4;try{Ml(t,e);var a=nu,i=es(e.containerInfo),o=a.focusedElem,l=a.selectionRange;if(i!==o&&o&&o.ownerDocument&&Zn(o.ownerDocument.documentElement,o)){if(null!==l&&ts(o)){var c=l.start,d=l.end;if(void 0===d&&(d=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(d,o.value.length);else{var u=o.ownerDocument||document,h=u&&u.defaultView||window;if(h.getSelection){var m=h.getSelection(),p=o.textContent.length,f=Math.min(l.start,p),g=void 0===l.end?f:Math.min(l.end,p);!m.extend&&f>g&&(i=g,g=f,f=i);var x=Qn(o,f),v=Qn(o,g);if(x&&v&&(1!==m.rangeCount||m.anchorNode!==x.node||m.anchorOffset!==x.offset||m.focusNode!==v.node||m.focusOffset!==v.offset)){var b=u.createRange();b.setStart(x.node,x.offset),m.removeAllRanges(),f>g?(m.addRange(b),m.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),m.addRange(b))}}}}for(u=[],m=o;m=m.parentNode;)1===m.nodeType&&u.push({element:m,left:m.scrollLeft,top:m.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<u.length;o++){var y=u[o];y.element.scrollLeft=y.left,y.element.scrollTop=y.top}}nh=!!tu,nu=tu=null}finally{nc=r,O.p=s,M.T=n}}e.current=t,_c=2}}function rd(){if(2===_c){_c=0;var e=Sc,t=Cc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=M.T,M.T=null;var s=O.p;O.p=2;var r=nc;nc|=4;try{Nl(e,t.alternate,t)}finally{nc=r,O.p=s,M.T=n}}_c=3}}function ad(){if(4===_c||3===_c){_c=0,ee();var e=Sc,t=Cc,n=Ec,s=zc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?_c=5:(_c=0,Cc=Sc=null,id(e,e.pendingLanes));var r=e.pendingLanes;if(0===r&&(Nc=null),Te(n),t=t.stateNode,ue&&"function"===typeof ue.onCommitFiberRoot)try{ue.onCommitFiberRoot(de,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==s){t=M.T,r=O.p,O.p=2,M.T=null;try{for(var a=e.onRecoverableError,i=0;i<s.length;i++){var o=s[i];a(o.value,{componentStack:o.stack})}}finally{M.T=t,O.p=r}}0!==(3&Ec)&&od(),jd(e),r=e.pendingLanes,0!==(4194090&n)&&0!==(42&r)?e===Ac?Lc++:(Lc=0,Ac=e):Lc=0,kd(0,!1)}}function id(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Mr(t)))}function od(e){return sd(),rd(),ad(),ld()}function ld(){if(5!==_c)return!1;var e=Sc,t=Tc;Tc=0;var n=Te(Ec),s=M.T,r=O.p;try{O.p=32>n?32:n,M.T=null,n=Pc,Pc=null;var a=Sc,o=Ec;if(_c=0,Cc=Sc=null,Ec=0,0!==(6&nc))throw Error(i(331));var l=nc;if(nc|=4,Xl(a.current),Ul(a,a.current,o,n),nc=l,kd(0,!1),ue&&"function"===typeof ue.onPostCommitFiberRoot)try{ue.onPostCommitFiberRoot(de,a)}catch(c){}return!0}finally{O.p=r,M.T=s,id(e,t)}}function cd(e,t,n){t=Ns(n,t),null!==(e=aa(e,t=ko(e.stateNode,t,2),2))&&(_e(e,2),jd(e))}function dd(e,t,n){if(3===e.tag)cd(e,e,n);else for(;null!==t;){if(3===t.tag){cd(t,e,n);break}if(1===t.tag){var s=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof s.componentDidCatch&&(null===Nc||!Nc.has(s))){e=Ns(n,e),null!==(s=aa(t,n=No(2),2))&&(_o(n,s,t,e),_e(s,2),jd(s));break}}t=t.return}}function ud(e,t,n){var s=e.pingCache;if(null===s){s=e.pingCache=new tc;var r=new Set;s.set(t,r)}else void 0===(r=s.get(t))&&(r=new Set,s.set(t,r));r.has(n)||(dc=!0,r.add(n),e=hd.bind(null,e,t,n),t.then(e,e))}function hd(e,t,n){var s=e.pingCache;null!==s&&s.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,sc===e&&(ac&n)===n&&(4===hc||3===hc&&(62914560&ac)===ac&&300>te()-wc?0===(2&nc)&&Uc(e,0):fc|=n,xc===ac&&(xc=0)),jd(e)}function md(e,t){0===t&&(t=ke()),null!==(e=zs(e,t))&&(_e(e,t),jd(e))}function pd(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),md(e,n)}function fd(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(i(314))}null!==s&&s.delete(t),md(e,n)}var gd=null,xd=null,vd=!1,bd=!1,yd=!1,wd=0;function jd(e){e!==xd&&null===e.next&&(null===xd?gd=xd=e:xd=xd.next=e),bd=!0,vd||(vd=!0,uu(function(){0!==(6&nc)?X(se,Nd):_d()}))}function kd(e,t){if(!yd&&bd){yd=!0;do{for(var n=!1,s=gd;null!==s;){if(!t)if(0!==e){var r=s.pendingLanes;if(0===r)var a=0;else{var i=s.suspendedLanes,o=s.pingedLanes;a=(1<<31-me(42|e)+1)-1,a=201326741&(a&=r&~(i&~o))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,Ed(s,a))}else a=ac,0===(3&(a=be(s,s===sc?a:0,null!==s.cancelPendingCommit||-1!==s.timeoutHandle)))||ye(s,a)||(n=!0,Ed(s,a));s=s.next}}while(n);yd=!1}}function Nd(){_d()}function _d(){bd=vd=!1;var e=0;0!==wd&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==ou&&(ou=e,!0);return ou=null,!1}()&&(e=wd),wd=0);for(var t=te(),n=null,s=gd;null!==s;){var r=s.next,a=Sd(s,t);0===a?(s.next=null,null===n?gd=r:n.next=r,null===r&&(xd=n)):(n=s,(0!==e||0!==(3&a))&&(bd=!0)),s=r}kd(e,!1)}function Sd(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,r=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var i=31-me(a),o=1<<i,l=r[i];-1===l?0!==(o&n)&&0===(o&s)||(r[i]=we(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}if(n=ac,n=be(e,e===(t=sc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),s=e.callbackNode,0===n||e===t&&(2===ic||9===ic)||null!==e.cancelPendingCommit)return null!==s&&null!==s&&Q(s),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||ye(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==s&&Q(s),Te(n)){case 2:case 8:n=re;break;case 32:default:n=ae;break;case 268435456:n=oe}return s=Cd.bind(null,e),n=X(n,s),e.callbackPriority=t,e.callbackNode=n,t}return null!==s&&null!==s&&Q(s),e.callbackPriority=2,e.callbackNode=null,2}function Cd(e,t){if(0!==_c&&5!==_c)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(od()&&e.callbackNode!==n)return null;var s=ac;return 0===(s=be(e,e===sc?s:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Rc(e,s,t),Sd(e,te()),null!=e.callbackNode&&e.callbackNode===n?Cd.bind(null,e):null)}function Ed(e,t){if(od())return null;Rc(e,t,!0)}function Td(){return 0===wd&&(wd=je()),wd}function Pd(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Tt(""+e)}function zd(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Ld=0;Ld<ws.length;Ld++){var Ad=ws[Ld];js(Ad.toLowerCase(),"on"+(Ad[0].toUpperCase()+Ad.slice(1)))}js(ms,"onAnimationEnd"),js(ps,"onAnimationIteration"),js(fs,"onAnimationStart"),js("dblclick","onDoubleClick"),js("focusin","onFocus"),js("focusout","onBlur"),js(gs,"onTransitionRun"),js(xs,"onTransitionStart"),js(vs,"onTransitionCancel"),js(bs,"onTransitionEnd"),Je("onMouseEnter",["mouseout","mouseover"]),Je("onMouseLeave",["mouseout","mouseover"]),Je("onPointerEnter",["pointerout","pointerover"]),Je("onPointerLeave",["pointerout","pointerover"]),Ge("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ge("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ge("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ge("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Md="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Od=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Md));function Dd(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var s=e[n],r=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var i=s.length-1;0<=i;i--){var o=s[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&r.isPropagationStopped())break e;a=o,r.currentTarget=c;try{a(r)}catch(d){xo(d)}r.currentTarget=null,a=l}else for(i=0;i<s.length;i++){if(l=(o=s[i]).instance,c=o.currentTarget,o=o.listener,l!==a&&r.isPropagationStopped())break e;a=o,r.currentTarget=c;try{a(r)}catch(d){xo(d)}r.currentTarget=null,a=l}}}}function Rd(e,t){var n=t[Oe];void 0===n&&(n=t[Oe]=new Set);var s=e+"__bubble";n.has(s)||(Fd(t,e,2,!1),n.add(s))}function $d(e,t,n){var s=0;t&&(s|=4),Fd(n,e,s,t)}var Id="_reactListening"+Math.random().toString(36).slice(2);function Vd(e){if(!e[Id]){e[Id]=!0,We.forEach(function(t){"selectionchange"!==t&&(Od.has(t)||$d(t,!1,e),$d(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Id]||(t[Id]=!0,$d("selectionchange",!1,t))}}function Fd(e,t,n,s){switch(ch(t)){case 2:var r=sh;break;case 8:r=rh;break;default:r=ah}n=r.bind(null,t,n,e),r=void 0,!It||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),s?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Bd(e,t,n,s,r){var a=s;if(0===(1&t)&&0===(2&t)&&null!==s)e:for(;;){if(null===s)return;var i=s.tag;if(3===i||4===i){var o=s.stateNode.containerInfo;if(o===r)break;if(4===i)for(i=s.return;null!==i;){var c=i.tag;if((3===c||4===c)&&i.stateNode.containerInfo===r)return;i=i.return}for(;null!==o;){if(null===(i=Fe(o)))return;if(5===(c=i.tag)||6===c||26===c||27===c){s=a=i;continue e}o=o.parentNode}}s=s.return}Dt(function(){var s=a,r=zt(n),i=[];e:{var o=ys.get(e);if(void 0!==o){var c=Zt,d=e;switch(e){case"keypress":if(0===qt(n))break e;case"keydown":case"keyup":c=fn;break;case"focusin":d="focus",c=an;break;case"focusout":d="blur",c=an;break;case"beforeblur":case"afterblur":c=an;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=rn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=xn;break;case ms:case ps:case fs:c=on;break;case bs:c=vn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=yn}var u=0!==(4&t),h=!u&&("scroll"===e||"scrollend"===e),m=u?null!==o?o+"Capture":null:o;u=[];for(var p,f=s;null!==f;){var g=f;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===m||null!=(g=Rt(f,m))&&u.push(Ud(f,g,p)),h)break;f=f.return}0<u.length&&(o=new c(o,d,null,n,r),i.push({event:o,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Pt||!(d=n.relatedTarget||n.fromElement)||!Fe(d)&&!d[Me])&&(c||o)&&(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=s,null!==(d=(d=n.relatedTarget||n.toElement)?Fe(d):null)&&(h=l(d),u=d.tag,d!==h||5!==u&&27!==u&&6!==u)&&(d=null)):(c=null,d=s),c!==d)){if(u=sn,g="onMouseLeave",m="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=gn,g="onPointerLeave",m="onPointerEnter",f="pointer"),h=null==c?o:Ue(c),p=null==d?o:Ue(d),(o=new u(g,f+"leave",c,n,r)).target=h,o.relatedTarget=p,g=null,Fe(r)===s&&((u=new u(m,f+"enter",d,n,r)).target=p,u.relatedTarget=h,g=u),h=g,c&&d)e:{for(m=d,f=0,p=u=c;p;p=qd(p))f++;for(p=0,g=m;g;g=qd(g))p++;for(;0<f-p;)u=qd(u),f--;for(;0<p-f;)m=qd(m),p--;for(;f--;){if(u===m||null!==m&&u===m.alternate)break e;u=qd(u),m=qd(m)}u=null}else u=null;null!==c&&Wd(i,o,c,u,!1),null!==d&&null!==h&&Wd(i,h,d,u,!0)}if("select"===(c=(o=s?Ue(s):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var x=$n;else if(Ln(o))if(In)x=Gn;else{x=Wn;var v=qn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?s&&St(s.elementType)&&(x=$n):x=Kn;switch(x&&(x=x(e,s))?An(i,x,n,r):(v&&v(e,o,s),"focusout"===e&&s&&"number"===o.type&&null!=s.memoizedProps.value&&vt(o,"number",o.value)),v=s?Ue(s):window,e){case"focusin":(Ln(v)||"true"===v.contentEditable)&&(ss=v,rs=s,as=null);break;case"focusout":as=rs=ss=null;break;case"mousedown":is=!0;break;case"contextmenu":case"mouseup":case"dragend":is=!1,os(i,n,r);break;case"selectionchange":if(ns)break;case"keydown":case"keyup":os(i,n,r)}var b;if(jn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Pn?En(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(_n&&"ko"!==n.locale&&(Pn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Pn&&(b=Ht()):(Bt="value"in(Ft=r)?Ft.value:Ft.textContent,Pn=!0)),0<(v=Hd(s,y)).length&&(y=new cn(y,e,null,n,r),i.push({event:y,listeners:v}),b?y.data=b:null!==(b=Tn(n))&&(y.data=b))),(b=Nn?function(e,t){switch(e){case"compositionend":return Tn(t);case"keypress":return 32!==t.which?null:(Cn=!0,Sn);case"textInput":return(e=t.data)===Sn&&Cn?null:e;default:return null}}(e,n):function(e,t){if(Pn)return"compositionend"===e||!jn&&En(e,t)?(e=Ht(),Ut=Bt=Ft=null,Pn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _n&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(y=Hd(s,"onBeforeInput")).length&&(v=new cn("onBeforeInput","beforeinput",null,n,r),i.push({event:v,listeners:y}),v.data=b)),function(e,t,n,s,r){if("submit"===t&&n&&n.stateNode===r){var a=Pd((r[Ae]||null).action),i=s.submitter;i&&null!==(t=(t=i[Ae]||null)?Pd(t.formAction):i.getAttribute("formAction"))&&(a=t,i=null);var o=new Zt("action","action",null,s,r);e.push({event:o,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(0!==wd){var e=i?zd(r,i):new FormData(r);Pi(n,{pending:!0,data:e,method:r.method,action:a},null,e)}}else"function"===typeof a&&(o.preventDefault(),e=i?zd(r,i):new FormData(r),Pi(n,{pending:!0,data:e,method:r.method,action:a},a,e))},currentTarget:r}]})}}(i,e,s,n,r)}Dd(i,t)})}function Ud(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hd(e,t){for(var n=t+"Capture",s=[];null!==e;){var r=e,a=r.stateNode;if(5!==(r=r.tag)&&26!==r&&27!==r||null===a||(null!=(r=Rt(e,n))&&s.unshift(Ud(e,r,a)),null!=(r=Rt(e,t))&&s.push(Ud(e,r,a))),3===e.tag)return s;e=e.return}return[]}function qd(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Wd(e,t,n,s,r){for(var a=t._reactName,i=[];null!==n&&n!==s;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===s)break;5!==o&&26!==o&&27!==o||null===c||(l=c,r?null!=(c=Rt(n,a))&&i.unshift(Ud(n,c,l)):r||null!=(c=Rt(n,a))&&i.push(Ud(n,c,l))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Kd=/\r\n?/g,Gd=/\u0000|\uFFFD/g;function Jd(e){return("string"===typeof e?e:""+e).replace(Kd,"\n").replace(Gd,"")}function Yd(e,t){return t=Jd(t),Jd(e)===t}function Xd(){}function Qd(e,t,n,s,r,a){switch(n){case"children":"string"===typeof s?"body"===t||"textarea"===t&&""===s||jt(e,s):("number"===typeof s||"bigint"===typeof s)&&"body"!==t&&jt(e,""+s);break;case"className":nt(e,"class",s);break;case"tabIndex":nt(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,s);break;case"style":_t(e,s,a);break;case"data":if("object"!==t){nt(e,"data",s);break}case"src":case"href":if(""===s&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==s||"function"===typeof s||"symbol"===typeof s||"boolean"===typeof s){e.removeAttribute(n);break}s=Tt(""+s),e.setAttribute(n,s);break;case"action":case"formAction":if("function"===typeof s){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof a&&("formAction"===n?("input"!==t&&Qd(e,t,"name",r.name,r,null),Qd(e,t,"formEncType",r.formEncType,r,null),Qd(e,t,"formMethod",r.formMethod,r,null),Qd(e,t,"formTarget",r.formTarget,r,null)):(Qd(e,t,"encType",r.encType,r,null),Qd(e,t,"method",r.method,r,null),Qd(e,t,"target",r.target,r,null))),null==s||"symbol"===typeof s||"boolean"===typeof s){e.removeAttribute(n);break}s=Tt(""+s),e.setAttribute(n,s);break;case"onClick":null!=s&&(e.onclick=Xd);break;case"onScroll":null!=s&&Rd("scroll",e);break;case"onScrollEnd":null!=s&&Rd("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=s){if("object"!==typeof s||!("__html"in s))throw Error(i(61));if(null!=(n=s.__html)){if(null!=r.children)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=s&&"function"!==typeof s&&"symbol"!==typeof s;break;case"muted":e.muted=s&&"function"!==typeof s&&"symbol"!==typeof s;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==s||"function"===typeof s||"boolean"===typeof s||"symbol"===typeof s){e.removeAttribute("xlink:href");break}n=Tt(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=s&&"function"!==typeof s&&"symbol"!==typeof s?e.setAttribute(n,""+s):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&"function"!==typeof s&&"symbol"!==typeof s?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===s?e.setAttribute(n,""):!1!==s&&null!=s&&"function"!==typeof s&&"symbol"!==typeof s?e.setAttribute(n,s):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&!isNaN(s)&&1<=s?e.setAttribute(n,s):e.removeAttribute(n);break;case"rowSpan":case"start":null==s||"function"===typeof s||"symbol"===typeof s||isNaN(s)?e.removeAttribute(n):e.setAttribute(n,s);break;case"popover":Rd("beforetoggle",e),Rd("toggle",e),tt(e,"popover",s);break;case"xlinkActuate":st(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":st(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":st(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":st(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":st(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":st(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":st(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":st(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":st(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":tt(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Ct.get(n)||n,s)}}function Zd(e,t,n,s,r,a){switch(n){case"style":_t(e,s,a);break;case"dangerouslySetInnerHTML":if(null!=s){if("object"!==typeof s||!("__html"in s))throw Error(i(61));if(null!=(n=s.__html)){if(null!=r.children)throw Error(i(60));e.innerHTML=n}}break;case"children":"string"===typeof s?jt(e,s):("number"===typeof s||"bigint"===typeof s)&&jt(e,""+s);break;case"onScroll":null!=s&&Rd("scroll",e);break;case"onScrollEnd":null!=s&&Rd("scrollend",e);break;case"onClick":null!=s&&(e.onclick=Xd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ke.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),"function"===typeof(a=null!=(a=e[Ae]||null)?a[n]:null)&&e.removeEventListener(t,a,r),"function"!==typeof s)?n in e?e[n]=s:!0===s?e.setAttribute(n,""):tt(e,n,s):("function"!==typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,s,r)))}}function eu(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rd("error",e),Rd("load",e);var s,r=!1,a=!1;for(s in n)if(n.hasOwnProperty(s)){var o=n[s];if(null!=o)switch(s){case"src":r=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Qd(e,t,s,o,n,null)}}return a&&Qd(e,t,"srcSet",n.srcSet,n,null),void(r&&Qd(e,t,"src",n.src,n,null));case"input":Rd("invalid",e);var l=s=o=a=null,c=null,d=null;for(r in n)if(n.hasOwnProperty(r)){var u=n[r];if(null!=u)switch(r){case"name":a=u;break;case"type":o=u;break;case"checked":c=u;break;case"defaultChecked":d=u;break;case"value":s=u;break;case"defaultValue":l=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(i(137,t));break;default:Qd(e,t,r,u,n,null)}}return xt(e,s,l,c,d,o,a,!1),void ut(e);case"select":for(a in Rd("invalid",e),r=o=s=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":s=l;break;case"defaultValue":o=l;break;case"multiple":r=l;default:Qd(e,t,a,l,n,null)}return t=s,n=o,e.multiple=!!r,void(null!=t?bt(e,!!r,t,!1):null!=n&&bt(e,!!r,n,!0));case"textarea":for(o in Rd("invalid",e),s=a=r=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":r=l;break;case"defaultValue":a=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(i(91));break;default:Qd(e,t,o,l,n,null)}return wt(e,r,a,s),void ut(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(r=n[c]))if("selected"===c)e.selected=r&&"function"!==typeof r&&"symbol"!==typeof r;else Qd(e,t,c,r,n,null);return;case"dialog":Rd("beforetoggle",e),Rd("toggle",e),Rd("cancel",e),Rd("close",e);break;case"iframe":case"object":Rd("load",e);break;case"video":case"audio":for(r=0;r<Md.length;r++)Rd(Md[r],e);break;case"image":Rd("error",e),Rd("load",e);break;case"details":Rd("toggle",e);break;case"embed":case"source":case"link":Rd("error",e),Rd("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in n)if(n.hasOwnProperty(d)&&null!=(r=n[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Qd(e,t,d,r,n,null)}return;default:if(St(t)){for(u in n)n.hasOwnProperty(u)&&(void 0!==(r=n[u])&&Zd(e,t,u,r,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(r=n[l])&&Qd(e,t,l,r,n,null))}var tu=null,nu=null;function su(e){return 9===e.nodeType?e:e.ownerDocument}function ru(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function au(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function iu(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ou=null;var lu="function"===typeof setTimeout?setTimeout:void 0,cu="function"===typeof clearTimeout?clearTimeout:void 0,du="function"===typeof Promise?Promise:void 0,uu="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof du?function(e){return du.resolve(null).then(e).catch(hu)}:lu;function hu(e){setTimeout(function(){throw e})}function mu(e){return"head"===e}function pu(e,t){var n=t,s=0,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0<s&&8>s){n=s;var i=e.ownerDocument;if(1&n&&wu(i.documentElement),2&n&&wu(i.body),4&n)for(wu(n=i.head),i=n.firstChild;i;){var o=i.nextSibling,l=i.nodeName;i[Ie]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===i.rel.toLowerCase()||n.removeChild(i),i=o}}if(0===r)return e.removeChild(a),void Ch(t);r--}else"$"===n||"$?"===n||"$!"===n?r++:s=n.charCodeAt(0)-48;else s=0;n=a}while(n);Ch(t)}function fu(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":fu(n),Ve(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gu(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function xu(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vu=null;function bu(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function yu(e,t,n){switch(t=su(n),e){case"html":if(!(e=t.documentElement))throw Error(i(452));return e;case"head":if(!(e=t.head))throw Error(i(453));return e;case"body":if(!(e=t.body))throw Error(i(454));return e;default:throw Error(i(451))}}function wu(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ve(e)}var ju=new Map,ku=new Set;function Nu(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var _u=O.d;O.d={f:function(){var e=_u.f(),t=Fc();return e||t},r:function(e){var t=Be(e);null!==t&&5===t.tag&&"form"===t.type?Li(t):_u.r(e)},D:function(e){_u.D(e),Cu("dns-prefetch",e,null)},C:function(e,t){_u.C(e,t),Cu("preconnect",e,t)},L:function(e,t,n){_u.L(e,t,n);var s=Su;if(s&&e&&t){var r='link[rel="preload"][as="'+ft(t)+'"]';"image"===t&&n&&n.imageSrcSet?(r+='[imagesrcset="'+ft(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(r+='[imagesizes="'+ft(n.imageSizes)+'"]')):r+='[href="'+ft(e)+'"]';var a=r;switch(t){case"style":a=Tu(e);break;case"script":a=Lu(e)}ju.has(a)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),ju.set(a,e),null!==s.querySelector(r)||"style"===t&&s.querySelector(Pu(a))||"script"===t&&s.querySelector(Au(a))||(eu(t=s.createElement("link"),"link",e),qe(t),s.head.appendChild(t)))}},m:function(e,t){_u.m(e,t);var n=Su;if(n&&e){var s=t&&"string"===typeof t.as?t.as:"script",r='link[rel="modulepreload"][as="'+ft(s)+'"][href="'+ft(e)+'"]',a=r;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Lu(e)}if(!ju.has(a)&&(e=h({rel:"modulepreload",href:e},t),ju.set(a,e),null===n.querySelector(r))){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Au(a)))return}eu(s=n.createElement("link"),"link",e),qe(s),n.head.appendChild(s)}}},X:function(e,t){_u.X(e,t);var n=Su;if(n&&e){var s=He(n).hoistableScripts,r=Lu(e),a=s.get(r);a||((a=n.querySelector(Au(r)))||(e=h({src:e,async:!0},t),(t=ju.get(r))&&Ru(e,t),qe(a=n.createElement("script")),eu(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},s.set(r,a))}},S:function(e,t,n){_u.S(e,t,n);var s=Su;if(s&&e){var r=He(s).hoistableStyles,a=Tu(e);t=t||"default";var i=r.get(a);if(!i){var o={loading:0,preload:null};if(i=s.querySelector(Pu(a)))o.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=ju.get(a))&&Du(e,n);var l=i=s.createElement("link");qe(l),eu(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Ou(i,t,s)}i={type:"stylesheet",instance:i,count:1,state:o},r.set(a,i)}}},M:function(e,t){_u.M(e,t);var n=Su;if(n&&e){var s=He(n).hoistableScripts,r=Lu(e),a=s.get(r);a||((a=n.querySelector(Au(r)))||(e=h({src:e,async:!0,type:"module"},t),(t=ju.get(r))&&Ru(e,t),qe(a=n.createElement("script")),eu(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},s.set(r,a))}}};var Su="undefined"===typeof document?null:document;function Cu(e,t,n){var s=Su;if(s&&"string"===typeof t&&t){var r=ft(t);r='link[rel="'+e+'"][href="'+r+'"]',"string"===typeof n&&(r+='[crossorigin="'+n+'"]'),ku.has(r)||(ku.add(r),e={rel:e,crossOrigin:n,href:t},null===s.querySelector(r)&&(eu(t=s.createElement("link"),"link",e),qe(t),s.head.appendChild(t)))}}function Eu(e,t,n,s){var r,a,o,l,c=(c=H.current)?Nu(c):null;if(!c)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Tu(n.href),(s=(n=He(c).hoistableStyles).get(t))||(s={type:"style",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Tu(n.href);var d=He(c).hoistableStyles,u=d.get(e);if(u||(c=c.ownerDocument||c,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,u),(d=c.querySelector(Pu(e)))&&!d._p&&(u.instance=d,u.state.loading=5),ju.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ju.set(e,n),d||(r=c,a=e,o=n,l=u.state,r.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=r.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),eu(a,"link",o),qe(a),r.head.appendChild(a))))),t&&null===s)throw Error(i(528,""));return u}if(t&&null!==s)throw Error(i(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Lu(n),(s=(n=He(c).hoistableScripts).get(t))||(s={type:"script",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Tu(e){return'href="'+ft(e)+'"'}function Pu(e){return'link[rel="stylesheet"]['+e+"]"}function zu(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Lu(e){return'[src="'+ft(e)+'"]'}function Au(e){return"script[async]"+e}function Mu(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+ft(n.href)+'"]');if(s)return t.instance=s,qe(s),s;var r=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return qe(s=(e.ownerDocument||e).createElement("style")),eu(s,"style",r),Ou(s,n.precedence,e),t.instance=s;case"stylesheet":r=Tu(n.href);var a=e.querySelector(Pu(r));if(a)return t.state.loading|=4,t.instance=a,qe(a),a;s=zu(n),(r=ju.get(r))&&Du(s,r),qe(a=(e.ownerDocument||e).createElement("link"));var o=a;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),eu(a,"link",s),t.state.loading|=4,Ou(a,n.precedence,e),t.instance=a;case"script":return a=Lu(n.src),(r=e.querySelector(Au(a)))?(t.instance=r,qe(r),r):(s=n,(r=ju.get(a))&&Ru(s=h({},n),r),qe(r=(e=e.ownerDocument||e).createElement("script")),eu(r,"link",s),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(i(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(s=t.instance,t.state.loading|=4,Ou(s,n.precedence,e));return t.instance}function Ou(e,t,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=s.length?s[s.length-1]:null,a=r,i=0;i<s.length;i++){var o=s[i];if(o.dataset.precedence===t)a=o;else if(a!==r)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Du(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Ru(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var $u=null;function Iu(e,t,n){if(null===$u){var s=new Map,r=$u=new Map;r.set(n,s)}else(s=(r=$u).get(n))||(s=new Map,r.set(n,s));if(s.has(e))return s;for(s.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var a=n[r];if(!(a[Ie]||a[Le]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var i=a.getAttribute(t)||"";i=e+i;var o=s.get(i);o?o.push(a):s.set(i,[a])}}return s}function Vu(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Fu(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Bu=null;function Uu(){}function Hu(){if(this.count--,0===this.count)if(this.stylesheets)Wu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var qu=null;function Wu(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,qu=new Map,t.forEach(Ku,e),qu=null,Hu.call(e))}function Ku(e,t){if(!(4&t.state.loading)){var n=qu.get(e);if(n)var s=n.get(null);else{n=new Map,qu.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<r.length;a++){var i=r[a];"LINK"!==i.nodeName&&"not all"===i.getAttribute("media")||(n.set(i.dataset.precedence,i),s=i)}s&&n.set(null,s)}i=(r=t.instance).getAttribute("data-precedence"),(a=n.get(i)||s)===s&&n.set(null,r),n.set(i,r),this.count++,s=Hu.bind(this),r.addEventListener("load",s),r.addEventListener("error",s),a?a.parentNode.insertBefore(r,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(r,e.firstChild),t.state.loading|=4}}var Gu={$$typeof:w,Provider:null,Consumer:null,_currentValue:D,_currentValue2:D,_threadCount:0};function Ju(e,t,n,s,r,a,i,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ne(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ne(0),this.hiddenUpdates=Ne(null),this.identifierPrefix=s,this.onUncaughtError=r,this.onCaughtError=a,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Yu(e,t,n,s,r,a,i,o,l,c,d,u){return e=new Ju(e,t,n,i,o,l,c,u),t=1,!0===a&&(t|=24),a=Ds(3,null,null,t),e.current=a,a.stateNode=e,(t=Ar()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:s,isDehydrated:n,cache:t},na(a),e}function Xu(e){return e?e=Ms:Ms}function Qu(e,t,n,s,r,a){r=Xu(r),null===s.context?s.context=r:s.pendingContext=r,(s=ra(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(s.callback=a),null!==(n=aa(e,s,t))&&(Dc(n,0,t),ia(n,e,t))}function Zu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eh(e,t){Zu(e,t),(e=e.alternate)&&Zu(e,t)}function th(e){if(13===e.tag){var t=zs(e,67108864);null!==t&&Dc(t,0,67108864),eh(e,67108864)}}var nh=!0;function sh(e,t,n,s){var r=M.T;M.T=null;var a=O.p;try{O.p=2,ah(e,t,n,s)}finally{O.p=a,M.T=r}}function rh(e,t,n,s){var r=M.T;M.T=null;var a=O.p;try{O.p=8,ah(e,t,n,s)}finally{O.p=a,M.T=r}}function ah(e,t,n,s){if(nh){var r=ih(s);if(null===r)Bd(e,t,s,oh,n),vh(e,s);else if(function(e,t,n,s,r){switch(t){case"focusin":return uh=bh(uh,e,t,n,s,r),!0;case"dragenter":return hh=bh(hh,e,t,n,s,r),!0;case"mouseover":return mh=bh(mh,e,t,n,s,r),!0;case"pointerover":var a=r.pointerId;return ph.set(a,bh(ph.get(a)||null,e,t,n,s,r)),!0;case"gotpointercapture":return a=r.pointerId,fh.set(a,bh(fh.get(a)||null,e,t,n,s,r)),!0}return!1}(r,e,t,n,s))s.stopPropagation();else if(vh(e,s),4&t&&-1<xh.indexOf(e)){for(;null!==r;){var a=Be(r);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var i=ve(a.pendingLanes);if(0!==i){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;i;){var l=1<<31-me(i);o.entanglements[1]|=l,i&=~l}jd(a),0===(6&nc)&&(jc=te()+500,kd(0,!1))}}break;case 13:null!==(o=zs(a,2))&&Dc(o,0,2),Fc(),eh(a,2)}if(null===(a=ih(s))&&Bd(e,t,s,oh,n),a===r)break;r=a}null!==r&&s.stopPropagation()}else Bd(e,t,s,null,n)}}function ih(e){return lh(e=zt(e))}var oh=null;function lh(e){if(oh=null,null!==(e=Fe(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return oh=e,null}function ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case se:return 2;case re:return 8;case ae:case ie:return 32;case oe:return 268435456;default:return 32}default:return 32}}var dh=!1,uh=null,hh=null,mh=null,ph=new Map,fh=new Map,gh=[],xh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vh(e,t){switch(e){case"focusin":case"focusout":uh=null;break;case"dragenter":case"dragleave":hh=null;break;case"mouseover":case"mouseout":mh=null;break;case"pointerover":case"pointerout":ph.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fh.delete(t.pointerId)}}function bh(e,t,n,s,r,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[r]},null!==t&&(null!==(t=Be(t))&&th(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function yh(e){var t=Fe(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=O.p;try{return O.p=e,t()}finally{O.p=n}}(e.priority,function(){if(13===n.tag){var e=Mc();e=Ee(e);var t=zs(n,e);null!==t&&Dc(t,0,e),eh(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function wh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=ih(e.nativeEvent);if(null!==n)return null!==(t=Be(n))&&th(t),e.blockedOn=n,!1;var s=new(n=e.nativeEvent).constructor(n.type,n);Pt=s,n.target.dispatchEvent(s),Pt=null,t.shift()}return!0}function jh(e,t,n){wh(e)&&n.delete(t)}function kh(){dh=!1,null!==uh&&wh(uh)&&(uh=null),null!==hh&&wh(hh)&&(hh=null),null!==mh&&wh(mh)&&(mh=null),ph.forEach(jh),fh.forEach(jh)}function Nh(e,t){e.blockedOn===t&&(e.blockedOn=null,dh||(dh=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,kh)))}var _h=null;function Sh(e){_h!==e&&(_h=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){_h===e&&(_h=null);for(var t=0;t<e.length;t+=3){var n=e[t],s=e[t+1],r=e[t+2];if("function"!==typeof s){if(null===lh(s||n))continue;break}var a=Be(n);null!==a&&(e.splice(t,3),t-=3,Pi(a,{pending:!0,data:r,method:n.method,action:s},s,r))}}))}function Ch(e){function t(t){return Nh(t,e)}null!==uh&&Nh(uh,e),null!==hh&&Nh(hh,e),null!==mh&&Nh(mh,e),ph.forEach(t),fh.forEach(t);for(var n=0;n<gh.length;n++){var s=gh[n];s.blockedOn===e&&(s.blockedOn=null)}for(;0<gh.length&&null===(n=gh[0]).blockedOn;)yh(n),null===n.blockedOn&&gh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(s=0;s<n.length;s+=3){var r=n[s],a=n[s+1],i=r[Ae]||null;if("function"===typeof a)i||Sh(n);else if(i){var o=null;if(a&&a.hasAttribute("formAction")){if(r=a,i=a[Ae]||null)o=i.formAction;else if(null!==lh(r))continue}else o=i.action;"function"===typeof o?n[s+1]=o:(n.splice(s,3),s-=3),Sh(n)}}}function Eh(e){this._internalRoot=e}function Th(e){this._internalRoot=e}Th.prototype.render=Eh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Qu(t.current,Mc(),e,t,null,null)},Th.prototype.unmount=Eh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Qu(e.current,2,null,e,null,null),Fc(),t[Me]=null}},Th.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gh.length&&0!==t&&t<gh[n].priority;n++);gh.splice(n,0,e),0===n&&yh(e)}};var Ph=r.version;if("19.1.1"!==Ph)throw Error(i(527,Ph,"19.1.1"));O.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,s=t;;){var r=n.return;if(null===r)break;var a=r.alternate;if(null===a){if(null!==(s=r.return)){n=s;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return d(r),e;if(a===s)return d(r),t;a=a.sibling}throw Error(i(188))}if(n.return!==s.return)n=r,s=a;else{for(var o=!1,c=r.child;c;){if(c===n){o=!0,n=r,s=a;break}if(c===s){o=!0,s=r,n=a;break}c=c.sibling}if(!o){for(c=a.child;c;){if(c===n){o=!0,n=a,s=r;break}if(c===s){o=!0,s=a,n=r;break}c=c.sibling}if(!o)throw Error(i(189))}}if(n.alternate!==s)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?u(e):null)?null:e.stateNode};var zh={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.1.1"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lh.isDisabled&&Lh.supportsFiber)try{de=Lh.inject(zh),ue=Lh}catch(Mh){}}t.createRoot=function(e,t){if(!o(e))throw Error(i(299));var n=!1,s="",r=vo,a=bo,l=yo;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(s=t.identifierPrefix),void 0!==t.onUncaughtError&&(r=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Yu(e,1,!1,null,0,n,s,r,a,l,0,null),e[Me]=t.current,Vd(e),new Eh(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(i(299));var s=!1,r="",a=vo,l=bo,c=yo,d=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(r=n.identifierPrefix),void 0!==n.onUncaughtError&&(a=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(d=n.formState)),(t=Yu(e,1,!0,t,0,s,r,a,l,c,0,d)).context=Xu(null),n=t.current,(r=ra(s=Ee(s=Mc()))).callback=null,aa(n,r,s),n=s,t.current.lanes=n,_e(t,n),jd(t),e[Me]=t.current,Vd(e),new Th(t)},t.version="19.1.1"},43:(e,t,n)=>{"use strict";e.exports=n(288)},141:function(e,t,n){var s;"undefined"!=typeof self&&self,e.exports=(s=n(43),function(){"use strict";var e={155:function(e){e.exports=s}},t={};function n(s){var r=t[s];if(void 0!==r)return r.exports;var a=t[s]={exports:{}};return e[s](a,a.exports,n),a.exports}n.d=function(e,t){for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};n.r(r),n.d(r,{useReactToPrint:function(){return f}});var a=n(155);const i="printWindow";function o(e){let{level:t="error",messages:n,suppressErrors:s=!1}=e;s||("error"===t?console.error(n):"warning"===t?console.warn(n):console.debug(n))}function l(e,t){if(t||!e){const e=document.getElementById(i);e&&document.body.removeChild(e)}}function c(e){return e instanceof Error?e:new Error("Unknown Error")}function d(e,t){const{documentTitle:n,onAfterPrint:s,onPrintError:r,preserveAfterPrint:a,print:i,suppressErrors:d}=t;setTimeout(()=>{var t,u;if(e.contentWindow){function h(){null==s||s(),l(a)}if(e.contentWindow.focus(),i)i(e).then(h).catch(e=>{r?r("print",c(e)):o({messages:["An error was thrown by the specified `print` function"],suppressErrors:d})});else{if(e.contentWindow.print){const m=null!==(u=null===(t=e.contentDocument)||void 0===t?void 0:t.title)&&void 0!==u?u:"",p=e.ownerDocument.title;n&&(e.ownerDocument.title=n,e.contentDocument&&(e.contentDocument.title=n)),e.contentWindow.print(),n&&(e.ownerDocument.title=p,e.contentDocument&&(e.contentDocument.title=m))}else o({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:d});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(e=>{var t,n;return(null!==(n=null!==(t=navigator.userAgent)&&void 0!==t?t:navigator.vendor)&&void 0!==n?n:"opera"in window&&window.opera).match(e)})?setTimeout(h,500):h()}}else o({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:d})},500)}function u(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,null);let s=n.nextNode();for(;s;)t.push(s),s=n.nextNode();return t}function h(e,t,n){const s=u(e),r=u(t);if(s.length===r.length)for(let a=0;a<s.length;a++){const e=s[a],t=r[a],i=e.shadowRoot;if(null!==i){const e=t.attachShadow({mode:i.mode});e.innerHTML=i.innerHTML,h(i,e,n)}}else o({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",e,t],suppressErrors:n})}const m='\n    @page {\n        /* Remove browser default header (title) and footer (url) */\n        margin: 0;\n    }\n    @media print {\n        body {\n            /* Tell browsers to print background colors */\n            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */\n            print-color-adjust: exact; /* Firefox/Safari */\n            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */\n        }\n    }\n';function p(e,t,n,s){var r,a,i,l,u;const{contentNode:p,clonedContentNode:f,clonedImgNodes:g,clonedVideoNodes:x,numResourcesToLoad:v,originalCanvasNodes:b}=n,{bodyClass:y,fonts:w,ignoreGlobalStyles:j,pageStyle:k,nonce:N,suppressErrors:_,copyShadowRoots:S}=s;e.onload=null;const C=null!==(r=e.contentDocument)&&void 0!==r?r:null===(a=e.contentWindow)||void 0===a?void 0:a.document;if(C){const n=C.body.appendChild(f);S&&h(p,n,!!_),w&&((null===(i=e.contentDocument)||void 0===i?void 0:i.fonts)&&(null===(l=e.contentWindow)||void 0===l?void 0:l.FontFace)?w.forEach(n=>{const s=new FontFace(n.family,n.source,{weight:n.weight,style:n.style});e.contentDocument.fonts.add(s),s.loaded.then(()=>{t(s)}).catch(e=>{t(s,["Failed loading the font:",s,"Load error:",c(e)])})}):(w.forEach(e=>{t(e)}),o({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:_})));const s=null!=k?k:m,r=C.createElement("style");N&&(r.setAttribute("nonce",N),C.head.setAttribute("nonce",N)),r.appendChild(C.createTextNode(s)),C.head.appendChild(r),y&&C.body.classList.add(...y.split(" "));const a=C.querySelectorAll("canvas");for(let e=0;e<b.length;++e){const t=b[e],n=a[e];if(void 0===n){o({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",t],suppressErrors:_});continue}const s=n.getContext("2d");s&&s.drawImage(t,0,0)}for(let e=0;e<g.length;e++){const n=g[e],s=n.getAttribute("src");if(s){const e=new Image;e.onload=()=>{t(n)},e.onerror=(e,s,r,a,i)=>{t(n,["Error loading <img>",n,"Error",i])},e.src=s}else t(n,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',n])}for(let e=0;e<x.length;e++){const n=x[e];n.preload="auto";const s=n.getAttribute("poster");if(s){const e=new Image;e.onload=()=>{t(n)},e.onerror=(e,r,a,i,o)=>{t(n,["Error loading video poster",s,"for video",n,"Error:",o])},e.src=s}else n.readyState>=2?t(n):n.src?(n.onloadeddata=()=>{t(n)},n.onerror=(e,s,r,a,i)=>{t(n,["Error loading video",n,"Error",i])},n.onstalled=()=>{t(n,["Loading video stalled, skipping",n])}):t(n,["Error loading video, `src` is empty",n])}const d="select",v=p.querySelectorAll(d),E=C.querySelectorAll(d);for(let e=0;e<v.length;e++)E[e].value=v[e].value;if(!j){const n=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let s=0,r=n.length;s<r;++s){const r=n[s];if("style"===r.tagName.toLowerCase()){const t=C.createElement(r.tagName),n=r.sheet;if(n){let a="";try{const e=n.cssRules.length;for(let t=0;t<e;++t)"string"==typeof n.cssRules[t].cssText&&(a+=`${n.cssRules[t].cssText}\r\n`)}catch(e){o({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",r,`Original error: ${c(e).message}`],level:"warning"})}t.setAttribute("id",`react-to-print-${s}`),N&&t.setAttribute("nonce",N),t.appendChild(C.createTextNode(a)),C.head.appendChild(t)}}else if(r.getAttribute("href"))if(r.hasAttribute("disabled"))o({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",r],level:"warning"}),t(r);else{const e=C.createElement(r.tagName);for(let t=0,n=r.attributes.length;t<n;++t){const n=r.attributes[t];n&&e.setAttribute(n.nodeName,null!==(u=n.nodeValue)&&void 0!==u?u:"")}e.onload=()=>{t(e)},e.onerror=(n,s,r,a,i)=>{t(e,["Failed to load",e,"Error:",i])},N&&e.setAttribute("nonce",N),C.head.appendChild(e)}else o({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",r],level:"warning"}),t(r)}}}0===v&&d(e,s)}function f(e){let{bodyClass:t,contentRef:n,copyShadowRoots:s,documentTitle:r,fonts:u,ignoreGlobalStyles:h,nonce:m,onAfterPrint:f,onBeforePrint:g,onPrintError:x,pageStyle:v,preserveAfterPrint:b,print:y,printIframeProps:w,suppressErrors:j}=e;const k=(0,a.useCallback)(e=>{function a(){const a={bodyClass:t,contentRef:n,copyShadowRoots:s,documentTitle:r,fonts:u,ignoreGlobalStyles:h,nonce:m,onAfterPrint:f,onBeforePrint:g,onPrintError:x,pageStyle:v,preserveAfterPrint:b,print:y,printIframeProps:w,suppressErrors:j},l=function(e){const t=document.createElement("iframe");return t.width=`${document.documentElement.clientWidth}px`,t.height=`${document.documentElement.clientHeight}px`,t.style.position="absolute",t.style.top=`-${document.documentElement.clientHeight+100}px`,t.style.left=`-${document.documentElement.clientWidth+100}px`,t.id=i,t.srcdoc="<!DOCTYPE html>",e&&(e.allow&&(t.allow=e.allow),void 0!==e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),void 0!==e.sandbox&&(t.sandbox=e.sandbox)),t}(w),c=function(e,t){const{contentRef:n,fonts:s,ignoreGlobalStyles:r,suppressErrors:a}=t,i=function(e){let{contentRef:t,optionalContent:n,suppressErrors:s}=e;return n&&"function"==typeof n?(t&&o({level:"warning",messages:['"react-to-print" received a `contentRef` option and an optional-content param passed to its callback. The `contentRef` option will be ignored.']}),n()):t?t.current:void o({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:s})}({contentRef:n,optionalContent:e,suppressErrors:a});if(!i)return;const l=i.cloneNode(!0),c=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),d=l.querySelectorAll("img"),u=l.querySelectorAll("video"),h=s?s.length:0;return{contentNode:i,clonedContentNode:l,clonedImgNodes:d,clonedVideoNodes:u,numResourcesToLoad:(r?0:c.length)+d.length+u.length+h,originalCanvasNodes:i.querySelectorAll("canvas")}}(e,a);if(!c)return void o({messages:["There is nothing to print"],suppressErrors:j});const k=function(e,t,n){const{suppressErrors:s}=e,r=[],a=[];return function(i,l){r.includes(i)?o({level:"debug",messages:["Tried to mark a resource that has already been handled",i],suppressErrors:s}):(l?(o({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...l],suppressErrors:s}),a.push(i)):r.push(i),r.length+a.length===t&&d(n,e))}}(a,c.numResourcesToLoad,l);!function(e,t,n,s){e.onload=()=>{p(e,t,n,s)},document.body.appendChild(e)}(l,k,c,a)}l(b,!0),g?g().then(()=>{a()}).catch(e=>{null==x||x("onBeforePrint",c(e))}):a()},[t,n,s,r,u,h,m,f,g,x,v,b,y,j]);return k}return r}())},210:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(n(829)),a=s(n(736)),i=n(745);class o{constructor(e){let{headers:t={},schema:n,fetch:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=Object.assign(Object.assign({},i.DEFAULT_HEADERS),t),this.schemaName=n,this.fetch=s}from(e){const t=new URL(`${this.url}/${e}`);return new r.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new o(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:s=!1,get:r=!1,count:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=new URL(`${this.url}/rpc/${e}`);let l;s||r?(t=s?"HEAD":"GET",Object.entries(n).filter(e=>{let[t,n]=e;return void 0!==n}).map(e=>{let[t,n]=e;return[t,Array.isArray(n)?`{${n.join(",")}}`:`${n}`]}).forEach(e=>{let[t,n]=e;o.searchParams.append(t,n)})):(t="POST",l=n);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new a.default({method:t,url:o,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}}t.default=o},286:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(n(630)),a=s(n(611));t.default=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"===typeof fetch?this.fetch=r.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,n,s;let r=null,i=null,o=null,l=e.status,c=e.statusText;if(e.ok){if("HEAD"!==this.method){const t=await e.text();""===t||(i="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}const s=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),a=null===(n=e.headers.get("content-range"))||void 0===n?void 0:n.split("/");s&&a&&a.length>1&&(o=parseInt(a[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(i)&&(i.length>1?(r={code:"PGRST116",details:`Results contain ${i.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},i=null,o=null,l=406,c="Not Acceptable"):i=1===i.length?i[0]:null)}else{const t=await e.text();try{r=JSON.parse(t),Array.isArray(r)&&404===e.status&&(i=[],r=null,l=200,c="OK")}catch(d){404===e.status&&""===t?(l=204,c="No Content"):r={message:t}}if(r&&this.isMaybeSingle&&(null===(s=null===r||void 0===r?void 0:r.details)||void 0===s?void 0:s.includes("0 rows"))&&(r=null,l=200,c="OK"),r&&this.shouldThrowOnError)throw new a.default(r)}return{error:r,data:i,count:o,status:l,statusText:c}});return this.shouldThrowOnError||(n=n.catch(e=>{var t,n,s;return{error:{message:`${null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null===e||void 0===e?void 0:e.message}`,details:`${null!==(n=null===e||void 0===e?void 0:e.stack)&&void 0!==n?n:""}`,hint:"",code:`${null!==(s=null===e||void 0===e?void 0:e.code)&&void 0!==s?s:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,t)}returns(){return this}overrideTypes(){return this}}},288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=x.prototype;var y=b.prototype=new v;y.constructor=b,f(y,x.prototype),y.isPureReactComponent=!0;var w=Array.isArray,j={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function N(e,t,s,r,a,i){return s=i.ref,{$$typeof:n,type:e,key:t,ref:void 0!==s?s:null,props:i}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var S=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function E(){}function T(e,t,r,a,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,d=!1;if(null===e)d=!0;else switch(o){case"bigint":case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case n:case s:d=!0;break;case h:return T((d=e._init)(e._payload),t,r,a,i)}}if(d)return i=i(e),d=""===a?"."+C(e,0):a,w(i)?(r="",null!=d&&(r=d.replace(S,"$&/")+"/"),T(i,t,r,"",function(e){return e})):null!=i&&(_(i)&&(l=i,c=r+(null==i.key||e&&e.key===i.key?"":(""+i.key).replace(S,"$&/")+"/")+d,i=N(l.type,c,void 0,0,0,l.props)),t.push(i)),1;d=0;var u,p=""===a?".":a+":";if(w(e))for(var f=0;f<e.length;f++)d+=T(a=e[f],t,r,o=p+C(a,f),i);else if("function"===typeof(f=null===(u=e)||"object"!==typeof u?null:"function"===typeof(u=m&&u[m]||u["@@iterator"])?u:null))for(e=f.call(e),f=0;!(a=e.next()).done;)d+=T(a=a.value,t,r,o=p+C(a,f++),i);else if("object"===o){if("function"===typeof e.then)return T(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(E,E):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,r,a,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return d}function P(e,t,n){if(null==e)return e;var s=[],r=0;return T(e,s,"","",function(e){return t.call(n,e,r++)}),s}function z(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function A(){}t.Children={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=x,t.Fragment=r,t.Profiler=i,t.PureComponent=b,t.StrictMode=a,t.Suspense=d,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return j.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var s=f({},e.props),r=e.key;if(null!=t)for(a in void 0!==t.ref&&void 0,void 0!==t.key&&(r=""+t.key),t)!k.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(s[a]=t[a]);var a=arguments.length-2;if(1===a)s.children=n;else if(1<a){for(var i=Array(a),o=0;o<a;o++)i[o]=arguments[o+2];s.children=i}return N(e.type,r,void 0,0,0,s)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var s,r={},a=null;if(null!=t)for(s in void 0!==t.key&&(a=""+t.key),t)k.call(t,s)&&"key"!==s&&"__self"!==s&&"__source"!==s&&(r[s]=t[s]);var i=arguments.length-2;if(1===i)r.children=n;else if(1<i){for(var o=Array(i),l=0;l<i;l++)o[l]=arguments[l+2];r.children=o}if(e&&e.defaultProps)for(s in i=e.defaultProps)void 0===r[s]&&(r[s]=i[s]);return N(e,a,void 0,0,0,r)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:z}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=j.T,n={};j.T=n;try{var s=e(),r=j.S;null!==r&&r(n,s),"object"===typeof s&&null!==s&&"function"===typeof s.then&&s.then(A,L)}catch(a){L(a)}finally{j.T=t}},t.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},t.use=function(e){return j.H.use(e)},t.useActionState=function(e,t,n){return j.H.useActionState(e,t,n)},t.useCallback=function(e,t){return j.H.useCallback(e,t)},t.useContext=function(e){return j.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return j.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var s=j.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return s.useEffect(e,t)},t.useId=function(){return j.H.useId()},t.useImperativeHandle=function(e,t,n){return j.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return j.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return j.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return j.H.useMemo(e,t)},t.useOptimistic=function(e,t){return j.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return j.H.useReducer(e,t,n)},t.useRef=function(e){return j.H.useRef(e)},t.useState=function(e){return j.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return j.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return j.H.useTransition()},t.version="19.1.1"},374:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(n(286));class a extends r.default{select(e){let t=!1;const n=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e){let{ascending:t=!0,nullsFirst:n,foreignTable:s,referencedTable:r=s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=r?`${r}.order`:"order",i=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${i?`${i},`:""}${e}.${t?"asc":"desc"}${void 0===n?"":n?".nullsfirst":".nullslast"}`),this}limit(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s="undefined"===typeof n?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,t){let{foreignTable:n,referencedTable:s=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r="undefined"===typeof s?"offset":`${s}.offset`,a="undefined"===typeof s?"limit":`${s}.limit`;return this.url.searchParams.set(r,`${e}`),this.url.searchParams.set(a,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain(){let{analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:s=!1,wal:r=!1,format:a="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var i;const o=[e?"analyze":null,t?"verbose":null,n?"settings":null,s?"buffers":null,r?"wal":null].filter(Boolean).join("|"),l=null!==(i=this.headers.Accept)&&void 0!==i?i:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${l}"; options=${o};`,this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}t.default=a},391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},400:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="0.0.0-automated"},579:(e,t,n)=>{"use strict";e.exports=n(799)},611:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=n},630:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Headers:()=>i,Request:()=>o,Response:()=>l,default:()=>a,fetch:()=>r});var s=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("unable to locate global object")}();const r=s.fetch,a=s.fetch.bind(s),i=s.Headers,o=s.Request,l=s.Response},672:(e,t,n)=>{"use strict";var s=n(43);function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(r(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(r(299));return function(e,t,n){var s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==s?null:""+s,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=i.p;try{if(l.T=null,i.p=2,e)return e()}finally{l.T=t,i.p=n,i.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,i.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&i.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,s=c(n,t.crossOrigin),r="string"===typeof t.integrity?t.integrity:void 0,a="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?i.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:s,integrity:r,fetchPriority:a}):"script"===n&&i.d.X(e,{crossOrigin:s,integrity:r,fetchPriority:a,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&i.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,s=c(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:s,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);i.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else i.d.m(e)},t.requestFormReset=function(e){i.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.1"},736:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(n(374));class a extends r.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(e=>"string"===typeof e&&new RegExp("[,()]").test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t){let{config:n,type:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r="";"plain"===s?r="pl":"phrase"===s?r="ph":"websearch"===s&&(r="w");const a=void 0===n?"":`(${n})`;return this.url.searchParams.append(e,`${r}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(e=>{let[t,n]=e;this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}}t.default=a},745:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_HEADERS=void 0;const s=n(400);t.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${s.version}`}},799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function r(e,t,s){var r=null;if(void 0!==s&&(r=""+s),void 0!==t.key&&(r=""+t.key),"key"in t)for(var a in s={},t)"key"!==a&&(s[a]=t[a]);else s=t;return t=s.ref,{$$typeof:n,type:e,key:r,ref:void 0!==t?t:null,props:s}}t.Fragment=s,t.jsx=r,t.jsxs=r},829:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(n(736));t.default=class{constructor(e,t){let{headers:n={},schema:s,fetch:r}=t;this.url=e,this.headers=n,this.schema=s,this.fetch=r}select(e){let{head:t=!1,count:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=t?"HEAD":"GET";let a=!1;const i=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!a?"":('"'===e&&(a=!a),e)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new r.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e){let{count:t,defaultToNull:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),t&&s.push(`count=${t}`),n||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new r.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e){let{onConflict:t,ignoreDuplicates:n=!1,count:s,defaultToNull:a=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=[`resolution=${n?"ignore":"merge"}-duplicates`];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&i.push(this.headers.Prefer),s&&i.push(`count=${s}`),a||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new r.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push(`count=${t}`),this.headers.Prefer=n.join(","),new r.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[];return e&&t.push(`count=${e}`),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new r.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}},853:(e,t,n)=>{"use strict";e.exports=n(896)},896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var s=n-1>>>1,r=e[s];if(!(0<a(r,t)))break e;e[s]=t,e[n]=r,n=s}}function s(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var s=0,r=e.length,i=r>>>1;s<i;){var o=2*(s+1)-1,l=e[o],c=o+1,d=e[c];if(0>a(l,n))c<r&&0>a(d,l)?(e[s]=d,e[c]=n,s=c):(e[s]=l,e[o]=n,s=o);else{if(!(c<r&&0>a(d,n)))break e;e[s]=d,e[c]=n,s=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,m=3,p=!1,f=!1,g=!1,x=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=s(d);null!==t;){if(null===t.callback)r(d);else{if(!(t.startTime<=e))break;r(d),t.sortIndex=t.expirationTime,n(c,t)}t=s(d)}}function j(e){if(g=!1,w(e),!f)if(null!==s(c))f=!0,N||(N=!0,k());else{var t=s(d);null!==t&&L(j,t.startTime-e)}}var k,N=!1,_=-1,S=5,C=-1;function E(){return!!x||!(t.unstable_now()-C<S)}function T(){if(x=!1,N){var e=t.unstable_now();C=e;var n=!0;try{e:{f=!1,g&&(g=!1,b(_),_=-1),p=!0;var a=m;try{t:{for(w(e),h=s(c);null!==h&&!(h.expirationTime>e&&E());){var i=h.callback;if("function"===typeof i){h.callback=null,m=h.priorityLevel;var o=i(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,w(e),n=!0;break t}h===s(c)&&r(c),w(e)}else r(c);h=s(c)}if(null!==h)n=!0;else{var l=s(d);null!==l&&L(j,l.startTime-e),n=!1}}break e}finally{h=null,m=a,p=!1}n=void 0}}finally{n?k():N=!1}}}if("function"===typeof y)k=function(){y(T)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,z=P.port2;P.port1.onmessage=T,k=function(){z.postMessage(null)}}else k=function(){v(T,0)};function L(e,n){_=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},t.unstable_scheduleCallback=function(e,r,a){var i=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?i+a:i:a=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:r,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>i?(e.sortIndex=a,n(d,e),null===s(c)&&e===s(d)&&(g?(b(_),_=-1):g=!0,L(j,a-i))):(e.sortIndex=o,n(c,e),f||p||(f=!0,N||(N=!0,k()))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)},980:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;const r=s(n(210));t.PostgrestClient=r.default;const a=s(n(829));t.PostgrestQueryBuilder=a.default;const i=s(n(736));t.PostgrestFilterBuilder=i.default;const o=s(n(374));t.PostgrestTransformBuilder=o.default;const l=s(n(286));t.PostgrestBuilder=l.default;const c=s(n(611));t.PostgrestError=c.default,t.default={PostgrestClient:r.default,PostgrestQueryBuilder:a.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:c.default}}},t={};function n(s){var r=t[s];if(void 0!==r)return r.exports;var a=t[s]={exports:{}};return e[s].call(a.exports,a,a.exports,n),a.exports}n.m=e,n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,s)=>(n.f[s](e,t),t),[])),n.u=e=>"static/js/"+e+".4f022045.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="ses-auth-page:";n.l=(s,r,a,i)=>{if(e[s])e[s].push(r);else{var o,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==s||u.getAttribute("data-webpack")==t+a){o=u;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+a),o.src=s),e[s]=[r];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(m);var r=e[s];if(delete e[s],o.parentNode&&o.parentNode.removeChild(o),r&&r.forEach(e=>e(n)),t)return t(n)},m=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/ses/",(()=>{var e={792:0};n.f.j=(t,s)=>{var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)s.push(r[2]);else{var a=new Promise((n,s)=>r=e[t]=[n,s]);s.push(r[2]=a);var i=n.p+n.u(t),o=new Error;n.l(i,s=>{if(n.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var a=s&&("load"===s.type?"missing":s.type),i=s&&s.target&&s.target.src;o.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",o.name="ChunkLoadError",o.type=a,o.request=i,r[1](o)}},"chunk-"+t,t)}};var t=(t,s)=>{var r,a,i=s[0],o=s[1],l=s[2],c=0;if(i.some(t=>0!==e[t])){for(r in o)n.o(o,r)&&(n.m[r]=o[r]);if(l)l(n)}for(t&&t(s);c<i.length;c++)a=i[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},s=self.webpackChunkses_auth_page=self.webpackChunkses_auth_page||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})(),(()=>{"use strict";var e=n(43),t=n(391),s="popstate";function r(){return u(function(e,t){let{pathname:n="/",search:s="",hash:r=""}=d(e.location.hash.substring(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),l("",{pathname:n,search:s,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let n=e.document.querySelector("base"),s="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");s=-1===n?t:t.slice(0,n)}return s+"#"+("string"===typeof t?t:c(t))},function(e,t){i("/"===e.pathname.charAt(0),`relative pathnames are not supported in hash history.push(${JSON.stringify(t)})`)},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function a(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function i(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function o(e,t){return{usr:e.state,key:e.key,idx:t}}function l(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?d(t):t,state:n,key:t&&t.key||s||Math.random().toString(36).substring(2,10)}}function c(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),s&&"#"!==s&&(t+="#"===s.charAt(0)?s:"#"+s),t}function d(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function u(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:a=document.defaultView,v5Compat:i=!1}=r,c=a.history,d="POP",u=null,m=p();function p(){return(c.state||{idx:null}).idx}function f(){d="POP";let e=p(),t=null==e?null:e-m;m=e,u&&u({action:d,location:x.location,delta:t})}function g(e){return h(e)}null==m&&(m=0,c.replaceState({...c.state,idx:m},""));let x={get action(){return d},get location(){return e(a,c)},listen(e){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(s,f),u=e,()=>{a.removeEventListener(s,f),u=null}},createHref:e=>t(a,e),createURL:g,encodeLocation(e){let t=g(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){d="PUSH";let s=l(x.location,e,t);n&&n(s,e),m=p()+1;let r=o(s,m),h=x.createHref(s);try{c.pushState(r,"",h)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;a.location.assign(h)}i&&u&&u({action:d,location:x.location,delta:1})},replace:function(e,t){d="REPLACE";let s=l(x.location,e,t);n&&n(s,e),m=p();let r=o(s,m),a=x.createHref(s);c.replaceState(r,"",a),i&&u&&u({action:d,location:x.location,delta:0})},go:e=>c.go(e)};return x}function h(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),a(n,"No window.location.(origin|href) available to create URL");let s="string"===typeof e?e:c(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}new WeakMap;function m(e,t){return p(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function p(e,t,n,s){let r=T(("string"===typeof t?d(t):t).pathname||"/",n);if(null==r)return null;let a=f(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let i=null;for(let o=0;null==i&&o<a.length;++o){let e=E(r);i=_(a[o],e,s)}return i}function f(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=(e,r,i)=>{let o={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};o.relativePath.startsWith("/")&&(a(o.relativePath.startsWith(s),`Absolute route path "${o.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),o.relativePath=o.relativePath.slice(s.length));let l=M([s,o.relativePath]),c=n.concat(o);e.children&&e.children.length>0&&(a(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),f(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:N(l,e.index),routesMeta:c})};return e.forEach((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of g(e.path))r(e,t,n);else r(e,t)}),t}function g(e){let t=e.split("/");if(0===t.length)return[];let[n,...s]=t,r=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===s.length)return r?[a,""]:[a];let i=g(s.join("/")),o=[];return o.push(...i.map(e=>""===e?a:[a,e].join("/"))),r&&o.push(...i),o.map(t=>e.startsWith("/")&&""===t?"/":t)}var x=/^:[\w-]+$/,v=3,b=2,y=1,w=10,j=-2,k=e=>"*"===e;function N(e,t){let n=e.split("/"),s=n.length;return n.some(k)&&(s+=j),t&&(s+=b),n.filter(e=>!k(e)).reduce((e,t)=>e+(x.test(t)?v:""===t?y:w),s)}function _(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:s}=e,r={},a="/",i=[];for(let o=0;o<s.length;++o){let e=s[o],l=o===s.length-1,c="/"===a?t:t.slice(a.length)||"/",d=S({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&n&&!s[s.length-1].route.index&&(d=S({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(r,d.params),i.push({params:r,pathname:M([a,d.pathname]),pathnameBase:O(M([a,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(a=M([a,d.pathnameBase]))}return i}function S(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=C(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let a=r[0],i=a.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:s.reduce((e,t,n)=>{let{paramName:s,isOptional:r}=t;if("*"===s){let e=o[n]||"";i=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[s]=r&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:a,pathnameBase:i,pattern:e}}function C(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];i("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(s.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),s]}function E(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return i(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function T(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&"/"!==s?null:e.slice(n)||"/"}function P(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function z(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function L(e){let t=z(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function A(e,t,n){let s,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?s=d(e):(s={...e},a(!s.pathname||!s.pathname.includes("?"),P("?","pathname","search",s)),a(!s.pathname||!s.pathname.includes("#"),P("#","pathname","hash",s)),a(!s.search||!s.search.includes("#"),P("#","search","hash",s)));let i,o=""===e||""===s.pathname,l=o?"/":s.pathname;if(null==l)i=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}i=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:s="",hash:r=""}="string"===typeof e?d(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:D(s),hash:R(r)}}(s,i),u=l&&"/"!==l&&l.endsWith("/"),h=(o||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!h||(c.pathname+="/"),c}var M=e=>e.join("/").replace(/\/\/+/g,"/"),O=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),D=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",R=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function $(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var I=["POST","PUT","PATCH","DELETE"],V=(new Set(I),["GET",...I]);new Set(V),Symbol("ResetLoaderData");var F=e.createContext(null);F.displayName="DataRouter";var B=e.createContext(null);B.displayName="DataRouterState";var U=e.createContext(!1);var H=e.createContext({isTransitioning:!1});H.displayName="ViewTransition";var q=e.createContext(new Map);q.displayName="Fetchers";var W=e.createContext(null);W.displayName="Await";var K=e.createContext(null);K.displayName="Navigation";var G=e.createContext(null);G.displayName="Location";var J=e.createContext({outlet:null,matches:[],isDataRoute:!1});J.displayName="Route";var Y=e.createContext(null);Y.displayName="RouteError";function X(){return null!=e.useContext(G)}function Q(){return a(X(),"useLocation() may be used only in the context of a <Router> component."),e.useContext(G).location}var Z="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ee(t){e.useContext(K).static||e.useLayoutEffect(t)}function te(){let{isDataRoute:t}=e.useContext(J);return t?function(){let{router:t}=ue("useNavigate"),n=me("useNavigate"),s=e.useRef(!1);ee(()=>{s.current=!0});let r=e.useCallback(async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(s.current,Z),s.current&&("number"===typeof e?t.navigate(e):await t.navigate(e,{fromRouteId:n,...r}))},[t,n]);return r}():function(){a(X(),"useNavigate() may be used only in the context of a <Router> component.");let t=e.useContext(F),{basename:n,navigator:s}=e.useContext(K),{matches:r}=e.useContext(J),{pathname:o}=Q(),l=JSON.stringify(L(r)),c=e.useRef(!1);ee(()=>{c.current=!0});let d=e.useCallback(function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(i(c.current,Z),!c.current)return;if("number"===typeof e)return void s.go(e);let a=A(e,JSON.parse(l),o,"path"===r.relative);null==t&&"/"!==n&&(a.pathname="/"===a.pathname?n:M([n,a.pathname])),(r.replace?s.replace:s.push)(a,r.state,r)},[n,s,l,o,t]);return d}()}e.createContext(null);function ne(){let{matches:t}=e.useContext(J),n=t[t.length-1];return n?n.params:{}}function se(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:s}=e.useContext(J),{pathname:r}=Q(),a=JSON.stringify(L(s));return e.useMemo(()=>A(t,JSON.parse(a),r,"path"===n),[t,a,r,n])}function re(t,n,s,r){a(X(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=e.useContext(K),{matches:l}=e.useContext(J),c=l[l.length-1],u=c?c.params:{},h=c?c.pathname:"/",p=c?c.pathnameBase:"/",f=c&&c.route;{let e=f&&f.path||"";ge(h,!f||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let g,x=Q();if(n){let e="string"===typeof n?d(n):n;a("/"===p||e.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${e.pathname}" was given in the \`location\` prop.`),g=e}else g=x;let v=g.pathname||"/",b=v;if("/"!==p){let e=p.replace(/^\//,"").split("/");b="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=m(t,{pathname:b});i(f||null!=y,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),i(null==y||void 0!==y[y.length-1].route.element||void 0!==y[y.length-1].route.Component||void 0!==y[y.length-1].route.lazy,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=ce(y&&y.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:M([p,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?p:M([p,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),l,s,r);return n&&w?e.createElement(G.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},w):w}function ae(){let t=pe(),n=$(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),s=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=e.createElement(e.Fragment,null,e.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),e.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",e.createElement("code",{style:i},"ErrorBoundary")," or"," ",e.createElement("code",{style:i},"errorElement")," prop on your route.")),e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),s?e.createElement("pre",{style:a},s):null,o)}var ie=e.createElement(ae,null),oe=class extends e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?e.createElement(J.Provider,{value:this.props.routeContext},e.createElement(Y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function le(t){let{routeContext:n,match:s,children:r}=t,a=e.useContext(F);return a&&a.static&&a.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=s.route.id),e.createElement(J.Provider,{value:n},r)}function ce(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==t){if(!s)return null;if(s.errors)t=s.matches;else{if(0!==n.length||s.initialized||!(s.matches.length>0))return null;t=s.matches}}let r=t,i=s?.errors;if(null!=i){let e=r.findIndex(e=>e.route.id&&void 0!==i?.[e.route.id]);a(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),r=r.slice(0,Math.min(r.length,e+1))}let o=!1,l=-1;if(s)for(let e=0;e<r.length;e++){let t=r[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(l=e),t.route.id){let{loaderData:e,errors:n}=s,a=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!n||void 0===n[t.route.id]);if(t.route.lazy||a){o=!0,r=l>=0?r.slice(0,l+1):[r[0]];break}}}return r.reduceRight((t,a,c)=>{let d,u=!1,h=null,m=null;s&&(d=i&&a.route.id?i[a.route.id]:void 0,h=a.route.errorElement||ie,o&&(l<0&&0===c?(ge("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),u=!0,m=null):l===c&&(u=!0,m=a.route.hydrateFallbackElement||null)));let p=n.concat(r.slice(0,c+1)),f=()=>{let n;return n=d?h:u?m:a.route.Component?e.createElement(a.route.Component,null):a.route.element?a.route.element:t,e.createElement(le,{match:a,routeContext:{outlet:t,matches:p,isDataRoute:null!=s},children:n})};return s&&(a.route.ErrorBoundary||a.route.errorElement||0===c)?e.createElement(oe,{location:s.location,revalidation:s.revalidation,component:h,error:d,children:f(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):f()},null)}function de(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ue(t){let n=e.useContext(F);return a(n,de(t)),n}function he(t){let n=e.useContext(B);return a(n,de(t)),n}function me(t){let n=function(t){let n=e.useContext(J);return a(n,de(t)),n}(t),s=n.matches[n.matches.length-1];return a(s.route.id,`${t} can only be used on routes that contain a unique "id"`),s.route.id}function pe(){let t=e.useContext(Y),n=he("useRouteError"),s=me("useRouteError");return void 0!==t?t:n.errors?.[s]}var fe={};function ge(e,t,n){t||fe[e]||(fe[e]=!0,i(!1,n))}var xe={};function ve(e,t){e||xe[t]||(xe[t]=!0,console.warn(t))}e.memo(function(e){let{routes:t,future:n,state:s}=e;return re(t,void 0,s,n)});function be(e){a(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ye(t){let{basename:n="/",children:s=null,location:r,navigationType:o="POP",navigator:l,static:c=!1}=t;a(!X(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=e.useMemo(()=>({basename:u,navigator:l,static:c,future:{}}),[u,l,c]);"string"===typeof r&&(r=d(r));let{pathname:m="/",search:p="",hash:f="",state:g=null,key:x="default"}=r,v=e.useMemo(()=>{let e=T(m,u);return null==e?null:{location:{pathname:e,search:p,hash:f,state:g,key:x},navigationType:o}},[u,m,p,f,g,x,o]);return i(null!=v,`<Router basename="${u}"> is not able to match the URL "${m}${p}${f}" because it does not start with the basename, so the <Router> won't render anything.`),null==v?null:e.createElement(K.Provider,{value:h},e.createElement(G.Provider,{children:s,value:v}))}function we(e){let{children:t,location:n}=e;return re(je(t),n)}e.Component;function je(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=[];return e.Children.forEach(t,(t,r)=>{if(!e.isValidElement(t))return;let i=[...n,r];if(t.type===e.Fragment)return void s.push.apply(s,je(t.props.children,i));a(t.type===be,`[${"string"===typeof t.type?t.type:t.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),a(!t.props.index||!t.props.children,"An index route cannot have child routes.");let o={id:t.props.id||i.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,hydrateFallbackElement:t.props.hydrateFallbackElement,HydrateFallback:t.props.HydrateFallback,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:!0===t.props.hasErrorBoundary||null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(o.children=je(t.props.children,i)),s.push(o)}),s}var ke="get",Ne="application/x-www-form-urlencoded";function _e(e){return null!=e&&"string"===typeof e.tagName}var Se=null;var Ce=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ee(e){return null==e||Ce.has(e)?e:(i(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ne}"`),null)}function Te(e,t){let n,s,r,a,i;if(_e(o=e)&&"form"===o.tagName.toLowerCase()){let i=e.getAttribute("action");s=i?T(i,t):null,n=e.getAttribute("method")||ke,r=Ee(e.getAttribute("enctype"))||Ne,a=new FormData(e)}else if(function(e){return _e(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return _e(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let i=e.form;if(null==i)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||i.getAttribute("action");if(s=o?T(o,t):null,n=e.getAttribute("formmethod")||i.getAttribute("method")||ke,r=Ee(e.getAttribute("formenctype"))||Ee(i.getAttribute("enctype"))||Ne,a=new FormData(i,e),!function(){if(null===Se)try{new FormData(document.createElement("form"),0),Se=!1}catch(e){Se=!0}return Se}()){let{name:t,type:n,value:s}=e;if("image"===n){let e=t?`${t}.`:"";a.append(`${e}x`,"0"),a.append(`${e}y`,"0")}else t&&a.append(t,s)}}else{if(_e(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ke,s=null,r=Ne,i=e}var o;return a&&"text/plain"===r&&(i=a,a=void 0),{action:s,method:n.toLowerCase(),encType:r,formData:a,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function Pe(e){return{__html:e}}function ze(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function Le(e,t,n){let s="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===s.pathname?s.pathname=`_root.${n}`:t&&"/"===T(s.pathname,t)?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function Ae(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Me(e){return null!=e&&"string"===typeof e.page}function Oe(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function De(e,t,n,s,r,a){let i=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===a?t.filter((e,t)=>i(e,t)||o(e,t)):"data"===a?t.filter((t,a)=>{let l=s.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(i(t,a)||o(t,a))return!0;if(t.route.shouldRevalidate){let s=t.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof s)return s}return!0}):[]}function Re(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s=e.map(e=>{let s=t.routes[e.route.id];if(!s)return[];let r=[s.module];return s.clientActionModule&&(r=r.concat(s.clientActionModule)),s.clientLoaderModule&&(r=r.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(r=r.concat(s.hydrateFallbackModule)),s.imports&&(r=r.concat(s.imports)),r}).flat(1),[...new Set(s)];var s}function $e(e,t){let n=new Set,s=new Set(t);return e.reduce((e,r)=>{if(t&&!Me(r)&&"script"===r.as&&r.href&&s.has(r.href))return e;let a=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}(r));return n.has(a)||(n.add(a),e.push({key:a,link:r})),e},[])}function Ie(e,t){return"lazy"===e.mode&&!0===t}function Ve(){let t=e.useContext(F);return ze(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Fe(){let t=e.useContext(B);return ze(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Be=e.createContext(void 0);function Ue(){let t=e.useContext(Be);return ze(t,"You must render this element inside a <HydratedRouter> element"),t}function He(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function qe(e,t,n){if(n&&!Je)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}Be.displayName="FrameworkContext";function We(t){let{page:n,...s}=t,{router:r}=Ve(),a=e.useMemo(()=>m(r.routes,n,r.basename),[r.routes,n,r.basename]);return a?e.createElement(Ge,{page:n,matches:a,...s}):null}function Ke(t){let{manifest:n,routeModules:s}=Ue(),[r,a]=e.useState([]);return e.useEffect(()=>{let e=!1;return async function(e,t,n){return $e((await Promise.all(e.map(async e=>{let s=t.routes[e.route.id];if(s){let e=await Ae(s,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Oe).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"}))}(t,n,s).then(t=>{e||a(t)}),()=>{e=!0}},[t,n,s]),r}function Ge(t){let{page:n,matches:s,...r}=t,a=Q(),{manifest:i,routeModules:o}=Ue(),{basename:l}=Ve(),{loaderData:c,matches:d}=Fe(),u=e.useMemo(()=>De(n,s,d,i,a,"data"),[n,s,d,i,a]),h=e.useMemo(()=>De(n,s,d,i,a,"assets"),[n,s,d,i,a]),m=e.useMemo(()=>{if(n===a.pathname+a.search+a.hash)return[];let e=new Set,t=!1;if(s.forEach(n=>{let s=i.routes[n.route.id];s&&s.hasLoader&&(!u.some(e=>e.route.id===n.route.id)&&n.route.id in c&&o[n.route.id]?.shouldRevalidate||s.hasClientLoader?t=!0:e.add(n.route.id))}),0===e.size)return[];let r=Le(n,l,"data");return t&&e.size>0&&r.searchParams.set("_routes",s.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[r.pathname+r.search]},[l,c,a,i,u,s,n,o]),p=e.useMemo(()=>Re(h,i),[h,i]),f=Ke(h);return e.createElement(e.Fragment,null,m.map(t=>e.createElement("link",{key:t,rel:"prefetch",as:"fetch",href:t,...r})),p.map(t=>e.createElement("link",{key:t,rel:"modulepreload",href:t,...r})),f.map(t=>{let{key:n,link:s}=t;return e.createElement("link",{key:n,...s})}))}var Je=!1;function Ye(t){let{manifest:n,serverHandoffString:s,isSpaMode:r,renderMeta:a,routeDiscovery:i,ssr:o}=Ue(),{router:l,static:c,staticContext:d}=Ve(),{matches:u}=Fe(),h=e.useContext(U),p=Ie(i,o);a&&(a.didRenderScripts=!0);let f=qe(u,null,r);e.useEffect(()=>{0},[]);let g=e.useMemo(()=>{if(h)return null;let r=d?`window.__reactRouterContext = ${s};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",a=c?`${n.hmr?.runtime?`import ${JSON.stringify(n.hmr.runtime)};`:""}${p?"":`import ${JSON.stringify(n.url)}`};\n${f.map((e,t)=>{let s=`route${t}`,r=n.routes[e.route.id];ze(r,`Route ${e.route.id} not found in manifest`);let{clientActionModule:a,clientLoaderModule:i,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=r,d=[...a?[{module:a,varName:`${s}_clientAction`}]:[],...i?[{module:i,varName:`${s}_clientLoader`}]:[],...o?[{module:o,varName:`${s}_clientMiddleware`}]:[],...l?[{module:l,varName:`${s}_HydrateFallback`}]:[],{module:c,varName:`${s}_main`}];return 1===d.length?`import * as ${s} from ${JSON.stringify(c)};`:[d.map(e=>`import * as ${e.varName} from "${e.module}";`).join("\n"),`const ${s} = {${d.map(e=>`...${e.varName}`).join(",")}};`].join("\n")}).join("\n")}\n  ${p?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let{sri:n,...s}=e,r=new Set(t.state.matches.map(e=>e.route.id)),a=t.state.location.pathname.split("/").filter(Boolean),i=["/"];for(a.pop();a.length>0;)i.push(`/${a.join("/")}`),a.pop();i.forEach(e=>{let n=m(t.routes,e,t.basename);n&&n.forEach(e=>r.add(e.route.id))});let o=[...r].reduce((e,t)=>Object.assign(e,{[t]:s.routes[t]}),{});return{...s,routes:o,sri:!!n||void 0}}(n,l),null,2)};`:""}\n  window.__reactRouterRouteModules = {${f.map((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`).join(",")}};\n\nimport(${JSON.stringify(n.entry.module)});`:" ";return e.createElement(e.Fragment,null,e.createElement("script",{...t,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Pe(r),type:void 0}),e.createElement("script",{...t,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Pe(a),type:"module",async:!0}))},[]),x=Je||h?[]:(n.entry.imports.concat(Re(f,n,{includeHydrateFallback:!0})),[...new Set(v)]);var v;let b="object"===typeof n.sri?n.sri:{};return ve(!h,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),Je||h?null:e.createElement(e.Fragment,null,"object"===typeof n.sri?e.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:b})}}):null,p?null:e.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:t.crossOrigin,integrity:b[n.url],suppressHydrationWarning:!0}),e.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:t.crossOrigin,integrity:b[n.entry.module],suppressHydrationWarning:!0}),x.map(n=>e.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:t.crossOrigin,integrity:b[n],suppressHydrationWarning:!0})),g)}function Xe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}e.Component;function Qe(t){let{error:n,isOutsideRemixApp:s}=t;console.error(n);let r,a=e.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if($(n))return e.createElement(Ze,{title:"Unhandled Thrown Response!"},e.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),a);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return e.createElement(Ze,{title:"Application Error!",isOutsideRemixApp:s},e.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),e.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},r.stack),a)}function Ze(t){let{title:n,renderScripts:s,isOutsideRemixApp:r,children:a}=t,{routeModules:i}=Ue();return i.root?.Layout&&!r?a:e.createElement("html",{lang:"en"},e.createElement("head",null,e.createElement("meta",{charSet:"utf-8"}),e.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),e.createElement("title",null,n)),e.createElement("body",null,e.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},a,s?e.createElement(Ye,null):null)))}var et="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{et&&(window.__reactRouterVersion="7.7.1")}catch(px){}function tt(t){let{basename:n,children:s,window:a}=t,i=e.useRef();null==i.current&&(i.current=r({window:a,v5Compat:!0}));let o=i.current,[l,c]=e.useState({action:o.action,location:o.location}),d=e.useCallback(t=>{e.startTransition(()=>c(t))},[c]);return e.useLayoutEffect(()=>o.listen(d),[o,d]),e.createElement(ye,{basename:n,children:s,location:l.location,navigationType:l.action,navigator:o})}var nt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,st=e.forwardRef(function(t,n){let s,{onClick:r,discover:o="render",prefetch:l="none",relative:d,reloadDocument:u,replace:h,state:m,target:p,to:f,preventScrollReset:g,viewTransition:x,...v}=t,{basename:b}=e.useContext(K),y="string"===typeof f&&nt.test(f),w=!1;if("string"===typeof f&&y&&(s=f,et))try{let e=new URL(window.location.href),t=f.startsWith("//")?new URL(e.protocol+f):new URL(f),n=T(t.pathname,b);t.origin===e.origin&&null!=n?f=n+t.search+t.hash:w=!0}catch(px){i(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(X(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:r}=e.useContext(K),{hash:i,pathname:o,search:l}=se(t,{relative:n}),c=o;return"/"!==s&&(c="/"===o?s:M([s,o])),r.createHref({pathname:c,search:l,hash:i})}(f,{relative:d}),[k,N,_]=function(t,n){let s=e.useContext(Be),[r,a]=e.useState(!1),[i,o]=e.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:h}=n,m=e.useRef(null);e.useEffect(()=>{if("render"===t&&o(!0),"viewport"===t){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return m.current&&e.observe(m.current),()=>{e.disconnect()}}},[t]),e.useEffect(()=>{if(r){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[r]);let p=()=>{a(!0)},f=()=>{a(!1),o(!1)};return s?"intent"!==t?[i,m,{}]:[i,m,{onFocus:He(l,p),onBlur:He(c,f),onMouseEnter:He(d,p),onMouseLeave:He(u,f),onTouchStart:He(h,p)}]:[!1,m,{}]}(l,v),S=function(t){let{target:n,replace:s,state:r,preventScrollReset:a,relative:i,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=te(),d=Q(),u=se(t,{relative:i});return e.useCallback(e=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,n)){e.preventDefault();let n=void 0!==s?s:c(d)===c(u);l(t,{replace:n,state:r,preventScrollReset:a,relative:i,viewTransition:o})}},[d,l,u,s,r,n,t,a,i,o])}(f,{replace:h,state:m,target:p,preventScrollReset:g,relative:d,viewTransition:x});let C=e.createElement("a",{...v,..._,href:s||j,onClick:w||u?r:function(e){r&&r(e),e.defaultPrevented||S(e)},ref:Xe(n,N),target:p,"data-discover":y||"render"!==o?void 0:"true"});return k&&!y?e.createElement(e.Fragment,null,C,e.createElement(We,{page:j})):C});st.displayName="Link",e.forwardRef(function(t,n){let{"aria-current":s="page",caseSensitive:r=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:d,children:u,...h}=t,m=se(c,{relative:h.relative}),p=Q(),f=e.useContext(B),{navigator:g,basename:x}=e.useContext(K),v=null!=f&&function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=e.useContext(H);a(null!=s,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=it("useViewTransitionState"),i=se(t,{relative:n});if(!s.isTransitioning)return!1;let o=T(s.currentLocation.pathname,r)||s.currentLocation.pathname,l=T(s.nextLocation.pathname,r)||s.nextLocation.pathname;return null!=S(i.pathname,l)||null!=S(i.pathname,o)}(m)&&!0===d,b=g.encodeLocation?g.encodeLocation(m).pathname:m.pathname,y=p.pathname,w=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;r||(y=y.toLowerCase(),w=w?w.toLowerCase():null,b=b.toLowerCase()),w&&x&&(w=T(w,x)||w);const j="/"!==b&&b.endsWith("/")?b.length-1:b.length;let k,N=y===b||!o&&y.startsWith(b)&&"/"===y.charAt(j),_=null!=w&&(w===b||!o&&w.startsWith(b)&&"/"===w.charAt(b.length)),C={isActive:N,isPending:_,isTransitioning:v},E=N?s:void 0;k="function"===typeof i?i(C):[i,N?"active":null,_?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let P="function"===typeof l?l(C):l;return e.createElement(st,{...h,"aria-current":E,className:k,ref:n,style:P,to:c,viewTransition:d},"function"===typeof u?u(C):u)}).displayName="NavLink";var rt=e.forwardRef((t,n)=>{let{discover:s="render",fetcherKey:r,navigate:i,reloadDocument:o,replace:l,state:d,method:u=ke,action:h,onSubmit:m,relative:p,preventScrollReset:f,viewTransition:g,...x}=t,v=ct(),b=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:s}=e.useContext(K),r=e.useContext(J);a(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...se(t||".",{relative:n})},l=Q();if(null==t){o.search=l.search;let e=new URLSearchParams(o.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();o.search=n?`?${n}`:""}}t&&"."!==t||!i.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index");"/"!==s&&(o.pathname="/"===o.pathname?s:M([s,o.pathname]));return c(o)}(h,{relative:p}),y="get"===u.toLowerCase()?"get":"post",w="string"===typeof h&&nt.test(h);return e.createElement("form",{ref:n,method:y,action:b,onSubmit:o?m:e=>{if(m&&m(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=t?.getAttribute("formmethod")||u;v(t||e.currentTarget,{fetcherKey:r,method:n,navigate:i,replace:l,state:d,relative:p,preventScrollReset:f,viewTransition:g})},...x,"data-discover":w||"render"!==s?void 0:"true"})});function at(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function it(t){let n=e.useContext(F);return a(n,at(t)),n}rt.displayName="Form";var ot=0,lt=()=>`__${String(++ot)}__`;function ct(){let{router:t}=it("useSubmit"),{basename:n}=e.useContext(K),s=me("useRouteId");return e.useCallback(async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:a,method:i,encType:o,formData:l,body:c}=Te(e,n);if(!1===r.navigate){let e=r.fetcherKey||lt();await t.fetch(e,s,r.action||a,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||i,formEncType:r.encType||o,flushSync:r.flushSync})}else await t.navigate(r.action||a,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||i,formEncType:r.encType||o,replace:r.replace,state:r.state,fromRouteId:s,flushSync:r.flushSync,viewTransition:r.viewTransition})},[t,n,s])}class dt extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",n=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=n}}class ut extends dt{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class ht extends dt{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class mt extends dt{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var pt;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(pt||(pt={}));var ft=function(e,t,n,s){return new(n||(n=Promise))(function(r,a){function i(e){try{l(s.next(e))}catch(px){a(px)}}function o(e){try{l(s.throw(e))}catch(px){a(px)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((s=s.apply(e,t||[])).next())})};class gt{constructor(e){let{headers:t={},customFetch:s,region:r=pt.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=r,this.fetch=(e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}})(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;return ft(this,void 0,void 0,function*(){try{const{headers:s,method:r,body:a}=t;let i={},{region:o}=t;o||(o=this.region);const l=new URL(`${this.url}/${e}`);let c;o&&"any"!==o&&(i["x-region"]=o,l.searchParams.set("forceFunctionRegion",o)),a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&("undefined"!==typeof Blob&&a instanceof Blob||a instanceof ArrayBuffer?(i["Content-Type"]="application/octet-stream",c=a):"string"===typeof a?(i["Content-Type"]="text/plain",c=a):"undefined"!==typeof FormData&&a instanceof FormData?c=a:(i["Content-Type"]="application/json",c=JSON.stringify(a)));const d=yield this.fetch(l.toString(),{method:r||"POST",headers:Object.assign(Object.assign(Object.assign({},i),this.headers),s),body:c}).catch(e=>{throw new ut(e)}),u=d.headers.get("x-relay-error");if(u&&"true"===u)throw new ht(d);if(!d.ok)throw new mt(d);let h,m=(null!==(n=d.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return h="application/json"===m?yield d.json():"application/octet-stream"===m?yield d.blob():"text/event-stream"===m?d:"multipart/form-data"===m?yield d.formData():yield d.text(),{data:h,error:null,response:d}}catch(s){return{data:null,error:s,response:s instanceof mt||s instanceof ht?s.context:void 0}}})}}var xt=n(980);const{PostgrestClient:vt,PostgrestQueryBuilder:bt,PostgrestFilterBuilder:yt,PostgrestTransformBuilder:wt,PostgrestBuilder:jt,PostgrestError:kt}=xt;const Nt=class{static detectEnvironment(){var e;if("undefined"!==typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!==typeof n.g&&"undefined"!==typeof n.g.WebSocket)return{type:"native",constructor:n.g.WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocketPair&&"undefined"===typeof globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!==typeof globalThis&&globalThis.EdgeRuntime||"undefined"!==typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if("undefined"!==typeof process&&process.versions&&process.versions.node){const e=parseInt(process.versions.node.split(".")[0]);return e>=22?"undefined"!==typeof globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${e} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${e} detected without native WebSocket support.`,workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`\n\nSuggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}},_t=1e4;var St,Ct,Et,Tt,Pt,zt;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(St||(St={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(Ct||(Ct={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(Et||(Et={})),function(e){e.websocket="websocket"}(Tt||(Tt={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(Pt||(Pt={}));class Lt{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"===typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const s=t.getUint8(1),r=t.getUint8(2);let a=this.HEADER_LENGTH+2;const i=n.decode(e.slice(a,a+s));a+=s;const o=n.decode(e.slice(a,a+r));a+=r;return{ref:null,topic:i,event:o,payload:JSON.parse(n.decode(e.slice(a,e.byteLength)))}}}class At{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(zt||(zt={}));const Mt=function(e,t){var n;const s=null!==(n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==n?n:[];return Object.keys(t).reduce((n,r)=>(n[r]=Ot(r,e,t,s),n),{})},Ot=(e,t,n,s)=>{const r=t.find(t=>t.name===e),a=null===r||void 0===r?void 0:r.type,i=n[e];return a&&!s.includes(a)?Dt(a,i):Rt(i)},Dt=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return Ft(t,n)}switch(e){case zt.bool:return $t(t);case zt.float4:case zt.float8:case zt.int2:case zt.int4:case zt.int8:case zt.numeric:case zt.oid:return It(t);case zt.json:case zt.jsonb:return Vt(t);case zt.timestamp:return Bt(t);case zt.abstime:case zt.date:case zt.daterange:case zt.int4range:case zt.int8range:case zt.money:case zt.reltime:case zt.text:case zt.time:case zt.timestamptz:case zt.timetz:case zt.tsrange:case zt.tstzrange:default:return Rt(t)}},Rt=e=>e,$t=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},It=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Vt=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Ft=(e,t)=>{if("string"!==typeof e)return e;const n=e.length-1,s=e[n];if("{"===e[0]&&"}"===s){let s;const a=e.slice(1,n);try{s=JSON.parse("["+a+"]")}catch(r){s=a?a.split(","):[]}return s.map(e=>Dt(t,e))}return e},Bt=e=>"string"===typeof e?e.replace(" ","T"):e,Ut=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Ht{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:_t;this.channel=e,this.event=t,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:n}=e;this.recHooks.filter(e=>e.status===t).forEach(e=>e.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var qt,Wt,Kt,Gt;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(qt||(qt={}));class Jt{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},e=>{const{onJoin:t,onLeave:n,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Jt.syncState(this.state,e,t,n),this.pendingDiffs.forEach(e=>{this.state=Jt.syncDiff(this.state,e,t,n)}),this.pendingDiffs=[],s()}),this.channel._on(n.diff,{},e=>{const{onJoin:t,onLeave:n,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=Jt.syncDiff(this.state,e,t,n),s())}),this.onJoin((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})}),this.onLeave((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,s){const r=this.cloneDeep(e),a=this.transformState(t),i={},o={};return this.map(r,(e,t)=>{a[e]||(o[e]=t)}),this.map(a,(e,t)=>{const n=r[e];if(n){const s=t.map(e=>e.presence_ref),r=n.map(e=>e.presence_ref),a=t.filter(e=>r.indexOf(e.presence_ref)<0),l=n.filter(e=>s.indexOf(e.presence_ref)<0);a.length>0&&(i[e]=a),l.length>0&&(o[e]=l)}else i[e]=t}),this.syncDiff(r,{joins:i,leaves:o},n,s)}static syncDiff(e,t,n,s){const{joins:r,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(r,(t,s)=>{var r;const a=null!==(r=e[t])&&void 0!==r?r:[];if(e[t]=this.cloneDeep(s),a.length>0){const n=e[t].map(e=>e.presence_ref),s=a.filter(e=>n.indexOf(e.presence_ref)<0);e[t].unshift(...s)}n(t,a,s)}),this.map(a,(t,n)=>{let r=e[t];if(!r)return;const a=n.map(e=>e.presence_ref);r=r.filter(e=>a.indexOf(e.presence_ref)<0),e[t]=r,s(t,r,n),0===r.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const s=e[n];return t[n]="metas"in s?s.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):s,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(Wt||(Wt={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(Kt||(Kt={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(Gt||(Gt={}));class Yt{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},n=arguments.length>2?arguments[2]:void 0;this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=Ct.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Ht(this,Et.join,this.params,this.timeout),this.rejoinTimer=new At(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ct.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ct.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=Ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=Ct.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Et.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new Jt(this),this.broadcastEndpointURL=Ut(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Ct.closed){const{config:{broadcast:r,presence:a,private:i}}=this.params,o=null!==(s=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map(e=>e.filter))&&void 0!==s?s:[],l=!!this.bindings[Kt.PRESENCE]&&this.bindings[Kt.PRESENCE].length>0,c={},d={broadcast:r,presence:Object.assign(Object.assign({},a),{enabled:l}),postgres_changes:o,private:i};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this._onError(t=>null===e||void 0===e?void 0:e(Gt.CHANNEL_ERROR,t)),this._onClose(()=>null===e||void 0===e?void 0:e(Gt.CLOSED)),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async t=>{let{postgres_changes:n}=t;var s;if(this.socket.setAuth(),void 0!==n){const t=this.bindings.postgres_changes,r=null!==(s=null===t||void 0===t?void 0:t.length)&&void 0!==s?s:0,a=[];for(let s=0;s<r;s++){const r=t[s],{filter:{event:i,schema:o,table:l,filter:c}}=r,d=n&&n[s];if(!d||d.event!==i||d.schema!==o||d.table!==l||d.filter!==c)return this.unsubscribe(),this.state=Ct.errored,void(null===e||void 0===e||e(Gt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));a.push(Object.assign(Object.assign({},r),{id:d.id}))}return this.bindings.postgres_changes=a,void(e&&e(Gt.SUBSCRIBED))}null===e||void 0===e||e(Gt.SUBSCRIBED)}).receive("error",t=>{this.state=Ct.errored,null===e||void 0===e||e(Gt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null===e||void 0===e||e(Gt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this.state===Ct.joined&&e===Kt.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,n)}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,s;if(this._canPush()||"broadcast"!==e.type)return new Promise(n=>{var s,r,a;const i=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(a=null===(r=null===(s=this.params)||void 0===s?void 0:s.config)||void 0===r?void 0:r.broadcast)||void 0===a?void 0:a.ack)||n("ok"),i.receive("ok",()=>n("ok")),i.receive("error",()=>n("error")),i.receive("timeout",()=>n("timed out"))});{const{event:a,payload:i}=e,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,o,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return await(null===(s=e.body)||void 0===s?void 0:s.cancel()),e.ok?"ok":"error"}catch(r){return"AbortError"===r.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=Ct.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Et.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Ht(this,Et.leave,{},e),n.receive("ok",()=>{t(),s("ok")}).receive("timeout",()=>{t(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{null===n||void 0===n||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ct.closed,this.bindings={}}async _fetchWithTimeout(e,t,n){const s=new AbortController,r=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:s.signal}));return clearTimeout(r),a}_push(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ht(this,e,t,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var s,r;const a=e.toLocaleLowerCase(),{close:i,error:o,leave:l,join:c}=Et;if(n&&[i,o,l,c].indexOf(a)>=0&&n!==this._joinRef())return;let d=this._onMessage(a,t,n);if(t&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?null===(s=this.bindings.postgres_changes)||void 0===s||s.filter(e=>{var t,n,s;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(s=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===s?void 0:s.toLocaleLowerCase())===a}).map(e=>e.callback(d,n)):null===(r=this.bindings[a])||void 0===r||r.filter(e=>{var n,s,r,i,o,l;if(["broadcast","presence","postgres_changes"].includes(a)){if("id"in e){const a=e.id,i=null===(n=e.filter)||void 0===n?void 0:n.event;return a&&(null===(s=t.ids)||void 0===s?void 0:s.includes(a))&&("*"===i||(null===i||void 0===i?void 0:i.toLocaleLowerCase())===(null===(r=t.data)||void 0===r?void 0:r.type.toLocaleLowerCase()))}{const n=null===(o=null===(i=null===e||void 0===e?void 0:e.filter)||void 0===i?void 0:i.event)||void 0===o?void 0:o.toLocaleLowerCase();return"*"===n||n===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===a}).map(e=>{if("object"===typeof d&&"ids"in d){const e=d.data,{schema:t,table:n,commit_timestamp:s,type:r,errors:a}=e,i={schema:t,table:n,commit_timestamp:s,eventType:r,new:{},old:{},errors:a};d=Object.assign(Object.assign({},i),this._getPayloadRecords(e))}e.callback(d,n)})}_isClosed(){return this.state===Ct.closed}_isJoined(){return this.state===Ct.joined}_isJoining(){return this.state===Ct.joining}_isLeaving(){return this.state===Ct.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const s=e.toLocaleLowerCase(),r={type:s,filter:t,callback:n};return this.bindings[s]?this.bindings[s].push(r):this.bindings[s]=[r],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(e=>{var s;return!((null===(s=e.type)||void 0===s?void 0:s.toLocaleLowerCase())===n&&Yt.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Et.close,{},e)}_onError(e){this._on(Et.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ct.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=Mt(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=Mt(e.columns,e.old_record)),t}}const Xt=()=>{},Qt=25e3,Zt=10,en=100,tn=[1e3,2e3,5e3,1e4];class nn{constructor(e,t){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=_t,this.transport=null,this.heartbeatIntervalMs=Qt,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Xt,this.ref=0,this.reconnectTimer=null,this.logger=Xt,this.conn=null,this.sendBuffer=[],this.serializer=new Lt,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)}).catch(e=>{throw new Error(`Failed to load @supabase/node-fetch: ${e.message}. This is required for HTTP requests in Node.js environments without native fetch.`)})}:fetch),function(){return t(...arguments)}},!(null===(s=null===t||void 0===t?void 0:t.params)||void 0===s?void 0:s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${Tt.websocket}`,this.httpEndpoint=Ut(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Nt.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;if(t.includes("Node.js"))throw new Error(`${t}\n\nTo use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })`);throw new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case St.connecting:return Pt.Connecting;case St.open:return Pt.Open;case St.closing:return Pt.Closing;default:return Pt.Closed}}isConnected(){return this.connectionState()===Pt.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};const n=`realtime:${e}`,s=this.getChannels().find(e=>e.topic===n);if(s)return s;{const n=new Yt(`realtime:${e}`,t,this);return this.channels.push(n),n}}push(e){const{topic:t,event:n,payload:s,ref:r}=e,a=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push",`${t} ${n} (${r})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},en);this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}else this.heartbeatCallback("disconnected")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{"phoenix"===e.topic&&"phx_reply"===e.event&&this.heartbeatCallback("ok"===e.payload.status?"ok":"error"),e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:t,event:n,payload:s,ref:r}=e,a=r?`(${r})`:"",i=s.status||"";this.log("receive",`${i} ${t} ${n} ${a}`.trim(),s),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(n,s,r)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Et.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?";return`${e}${n}${new URLSearchParams(t)}`}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e=t||(this.accessToken?await this.accessToken():this.accessTokenValue),this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(t=>{const n={access_token:e,version:"realtime-js/2.15.1"};e&&t.updateJoinPayload(n),t.joinedOnce&&t._isJoined()&&t._push(Et.access_token,{access_token:e})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"general";this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(t)}catch(px){this.log("error",`error in ${e} callback`,px)}})}catch(px){this.log("error",`error triggering ${e} callbacks`,px)}}_setupReconnectionTimer(){this.reconnectTimer=new At(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Zt)},this.reconnectAfterMs)}_initializeOptions(e){var t,n,s,r,a,i,o,l;if(this.transport=null!==(t=null===e||void 0===e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(n=null===e||void 0===e?void 0:e.timeout)&&void 0!==n?n:_t,this.heartbeatIntervalMs=null!==(s=null===e||void 0===e?void 0:e.heartbeatIntervalMs)&&void 0!==s?s:Qt,this.worker=null!==(r=null===e||void 0===e?void 0:e.worker)&&void 0!==r&&r,this.accessToken=null!==(a=null===e||void 0===e?void 0:e.accessToken)&&void 0!==a?a:null,(null===e||void 0===e?void 0:e.params)&&(this.params=e.params),(null===e||void 0===e?void 0:e.logger)&&(this.logger=e.logger),((null===e||void 0===e?void 0:e.logLevel)||(null===e||void 0===e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(i=null===e||void 0===e?void 0:e.reconnectAfterMs)&&void 0!==i?i:e=>tn[e-1]||1e4,this.encode=null!==(o=null===e||void 0===e?void 0:e.encode)&&void 0!==o?o:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(l=null===e||void 0===e?void 0:e.decode)&&void 0!==l?l:this.serializer.decode.bind(this.serializer),this.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null===e||void 0===e?void 0:e.workerUrl}}}class sn extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function rn(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}class an extends sn{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class on extends sn{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var ln=function(e,t,n,s){return new(n||(n=Promise))(function(r,a){function i(e){try{l(s.next(e))}catch(px){a(px)}}function o(e){try{l(s.throw(e))}catch(px){a(px)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((s=s.apply(e,t||[])).next())})};const cn=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},dn=e=>{if(Array.isArray(e))return e.map(e=>dn(e));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(e=>{let[n,s]=e;const r=n.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[r]=dn(s)}),t};var un=function(e,t,n,s){return new(n||(n=Promise))(function(r,a){function i(e){try{l(s.next(e))}catch(px){a(px)}}function o(e){try{l(s.throw(e))}catch(px){a(px)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((s=s.apply(e,t||[])).next())})};const hn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),mn=(e,t,s)=>un(void 0,void 0,void 0,function*(){const r=yield ln(void 0,void 0,void 0,function*(){return"undefined"===typeof Response?(yield Promise.resolve().then(n.bind(n,630))).Response:Response});e instanceof r&&!(null===s||void 0===s?void 0:s.noResolveJson)?e.json().then(n=>{const s=e.status||500,r=(null===n||void 0===n?void 0:n.statusCode)||s+"";t(new an(hn(n),s,r))}).catch(e=>{t(new on(hn(e),e))}):t(new on(hn(e),e))}),pn=(e,t,n,s)=>{const r={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"!==e&&s?((e=>{if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)})(s)?(r.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),r.body=JSON.stringify(s)):r.body=s,Object.assign(Object.assign({},r),n)):r};function fn(e,t,n,s,r,a){return un(this,void 0,void 0,function*(){return new Promise((i,o)=>{e(n,pn(t,s,r,a)).then(e=>{if(!e.ok)throw e;return(null===s||void 0===s?void 0:s.noResolveJson)?e:e.json()}).then(e=>i(e)).catch(e=>mn(e,o,s))})})}function gn(e,t,n,s){return un(this,void 0,void 0,function*(){return fn(e,"GET",t,n,s)})}function xn(e,t,n,s,r){return un(this,void 0,void 0,function*(){return fn(e,"POST",t,s,r,n)})}function vn(e,t,n,s,r){return un(this,void 0,void 0,function*(){return fn(e,"PUT",t,s,r,n)})}function bn(e,t,n,s,r){return un(this,void 0,void 0,function*(){return fn(e,"DELETE",t,s,r,n)})}var yn=function(e,t,n,s){return new(n||(n=Promise))(function(r,a){function i(e){try{l(s.next(e))}catch(px){a(px)}}function o(e){try{l(s.throw(e))}catch(px){a(px)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((s=s.apply(e,t||[])).next())})};const wn={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},jn={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class kn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;this.url=e,this.headers=t,this.bucketId=n,this.fetch=cn(s)}uploadOrUpdate(e,t,n,s){return yn(this,void 0,void 0,function*(){try{let r;const a=Object.assign(Object.assign({},jn),s);let i=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(a.upsert)});const o=a.metadata;"undefined"!==typeof Blob&&n instanceof Blob?(r=new FormData,r.append("cacheControl",a.cacheControl),o&&r.append("metadata",this.encodeMetadata(o)),r.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(r=n,r.append("cacheControl",a.cacheControl),o&&r.append("metadata",this.encodeMetadata(o))):(r=n,i["cache-control"]=`max-age=${a.cacheControl}`,i["content-type"]=a.contentType,o&&(i["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),(null===s||void 0===s?void 0:s.headers)&&(i=Object.assign(Object.assign({},i),s.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),d=yield("PUT"==e?vn:xn)(this.fetch,`${this.url}/object/${c}`,r,Object.assign({headers:i},(null===a||void 0===a?void 0:a.duplex)?{duplex:a.duplex}:{}));return{data:{path:l,id:d.Id,fullPath:d.Key},error:null}}catch(r){if(rn(r))return{data:null,error:r};throw r}})}upload(e,t,n){return yn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,s){return yn(this,void 0,void 0,function*(){const r=this._removeEmptyFolders(e),a=this._getFinalPath(r),i=new URL(this.url+`/object/upload/sign/${a}`);i.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:jn.upsert},s),a=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!==typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,a["cache-control"]=`max-age=${t.cacheControl}`,a["content-type"]=t.contentType);return{data:{path:r,fullPath:(yield vn(this.fetch,i.toString(),e,{headers:a})).Key},error:null}}catch(o){if(rn(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(e,t){return yn(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);(null===t||void 0===t?void 0:t.upsert)&&(s["x-upsert"]="true");const r=yield xn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+r.url),i=a.searchParams.get("token");if(!i)throw new sn("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:i},error:null}}catch(n){if(rn(n))return{data:null,error:n};throw n}})}update(e,t,n){return yn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return yn(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(rn(s))return{data:null,error:s};throw s}})}copy(e,t,n){return yn(this,void 0,void 0,function*(){try{return{data:{path:(yield xn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(rn(s))return{data:null,error:s};throw s}})}createSignedUrl(e,t,n){return yn(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),r=yield xn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:t},(null===n||void 0===n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers});const a=(null===n||void 0===n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return r={signedUrl:encodeURI(`${this.url}${r.signedURL}${a}`)},{data:r,error:null}}catch(s){if(rn(s))return{data:null,error:s};throw s}})}createSignedUrls(e,t,n){return yn(this,void 0,void 0,function*(){try{const s=yield xn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),r=(null===n||void 0===n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return{data:s.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${r}`):null})),error:null}}catch(s){if(rn(s))return{data:null,error:s};throw s}})}download(e,t){return yn(this,void 0,void 0,function*(){const n="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",s=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),r=s?`?${s}`:"";try{const t=this._getFinalPath(e),s=yield gn(this.fetch,`${this.url}/${n}/${t}${r}`,{headers:this.headers,noResolveJson:!0});return{data:yield s.blob(),error:null}}catch(a){if(rn(a))return{data:null,error:a};throw a}})}info(e){return yn(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const e=yield gn(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:dn(e),error:null}}catch(n){if(rn(n))return{data:null,error:n};throw n}})}exists(e){return yn(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield function(e,t,n,s){return un(this,void 0,void 0,function*(){return fn(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(rn(n)&&n instanceof on){const e=n.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),s=[],r=(null===t||void 0===t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==r&&s.push(r);const a="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",i=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==i&&s.push(i);let o=s.join("&");return""!==o&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${o}`)}}}remove(e){return yn(this,void 0,void 0,function*(){try{return{data:yield bn(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(rn(t))return{data:null,error:t};throw t}})}list(e,t,n){return yn(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},wn),t),{prefix:e||""});return{data:yield xn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(rn(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Nn={"X-Client-Info":"storage-js/2.10.4"};var _n=function(e,t,n,s){return new(n||(n=Promise))(function(r,a){function i(e){try{l(s.next(e))}catch(px){a(px)}}function o(e){try{l(s.throw(e))}catch(px){a(px)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((s=s.apply(e,t||[])).next())})};class Sn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;const r=new URL(e);if(null===s||void 0===s?void 0:s.useNewHostname){/supabase\.(co|in|red)$/.test(r.hostname)&&!r.hostname.includes("storage.supabase.")&&(r.hostname=r.hostname.replace("supabase.","storage.supabase."))}this.url=r.href,this.headers=Object.assign(Object.assign({},Nn),t),this.fetch=cn(n)}listBuckets(){return _n(this,void 0,void 0,function*(){try{return{data:yield gn(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(rn(e))return{data:null,error:e};throw e}})}getBucket(e){return _n(this,void 0,void 0,function*(){try{return{data:yield gn(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(rn(t))return{data:null,error:t};throw t}})}createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return _n(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(rn(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return _n(this,void 0,void 0,function*(){try{return{data:yield vn(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(rn(n))return{data:null,error:n};throw n}})}emptyBucket(e){return _n(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(rn(t))return{data:null,error:t};throw t}})}deleteBucket(e){return _n(this,void 0,void 0,function*(){try{return{data:yield bn(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(rn(t))return{data:null,error:t};throw t}})}}class Cn extends Sn{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0)}from(e){return new kn(this.url,this.headers,e,this.fetch)}}let En="";En="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const Tn={headers:{"X-Client-Info":`supabase-js-${En}/2.55.0`}},Pn={schema:"public"},zn={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ln={};var An=n(630),Mn=function(e,t,n,s){return new(n||(n=Promise))(function(r,a){function i(e){try{l(s.next(e))}catch(px){a(px)}}function o(e){try{l(s.throw(e))}catch(px){a(px)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((s=s.apply(e,t||[])).next())})};const On=e=>{let t;return t=e||("undefined"===typeof fetch?An.default:fetch),function(){return t(...arguments)}},Dn=(e,t,n)=>{const s=On(n),r="undefined"===typeof Headers?An.Headers:Headers;return(n,a)=>Mn(void 0,void 0,void 0,function*(){var i;const o=null!==(i=yield t())&&void 0!==i?i:e;let l=new r(null===a||void 0===a?void 0:a.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${o}`),s(n,Object.assign(Object.assign({},a),{headers:l}))})};var Rn=function(e,t,n,s){return new(n||(n=Promise))(function(r,a){function i(e){try{l(s.next(e))}catch(px){a(px)}}function o(e){try{l(s.throw(e))}catch(px){a(px)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((s=s.apply(e,t||[])).next())})};const $n="2.71.1",In=3e4,Vn=9e4,Fn={"X-Client-Info":`gotrue-js/${$n}`},Bn="X-Supabase-Api-Version",Un={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},Hn=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class qn extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function Wn(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class Kn extends qn{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}class Gn extends qn{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Jn extends qn{constructor(e,t,n,s){super(e,n,s),this.name=t,this.status=n}}class Yn extends Jn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Xn extends Jn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Qn extends Jn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Zn extends Jn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class es extends Jn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ts extends Jn{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function ns(e){return Wn(e)&&"AuthRetryableFetchError"===e.name}class ss extends Jn{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class rs extends Jn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const as="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),is=" \t\n\r=".split(""),os=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<is.length;t+=1)e[is[t].charCodeAt(0)]=-2;for(let t=0;t<as.length;t+=1)e[as[t].charCodeAt(0)]=t;return e})();function ls(e,t,n){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(as[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(as[e]),t.queuedBits-=6}}function cs(e,t,n){const s=os[e];if(!(s>-1)){if(-2===s)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function ds(e){const t=[],n=e=>{t.push(String.fromCodePoint(e))},s={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},a=e=>{!function(e,t,n){if(0===t.utf8seq){if(e<=127)return void n(e);for(let n=1;n<6;n+=1)if(0===(e>>7-n&1)){t.utf8seq=n;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&n(t.codepoint)}}(e,s,n)};for(let i=0;i<e.length;i+=1)cs(e.charCodeAt(i),r,a);return t.join("")}function us(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}t(e)}function hs(e,t){for(let n=0;n<e.length;n+=1){let s=e.charCodeAt(n);if(s>55295&&s<=56319){const t=1024*(s-55296)&65535;s=65536+(e.charCodeAt(n+1)-56320&65535|t),n+=1}us(s,t)}}function ms(e){const t=[],n={queue:0,queuedBits:0},s=e=>{t.push(e)};for(let r=0;r<e.length;r+=1)cs(e.charCodeAt(r),n,s);return new Uint8Array(t)}function ps(e){const t=[],n={queue:0,queuedBits:0},s=e=>{t.push(e)};return e.forEach(e=>ls(e,n,s)),ls(null,n,s),t.join("")}const fs=()=>"undefined"!==typeof window&&"undefined"!==typeof document,gs={tested:!1,writable:!1},xs=()=>{if(!fs())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(px){return!1}if(gs.tested)return gs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),gs.tested=!0,gs.writable=!0}catch(px){gs.tested=!0,gs.writable=!1}return gs.writable};const vs=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},bs=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ys=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(s){return n}},ws=async(e,t)=>{await e.removeItem(t)};class js{constructor(){this.promise=new js.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function ks(e){const t=e.split(".");if(3!==t.length)throw new rs("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Hn.test(t[n]))throw new rs("JWT not in base64url format");return{header:JSON.parse(ds(t[0])),payload:JSON.parse(ds(t[1])),signature:ms(t[2]),raw:{header:t[0],payload:t[1]}}}function Ns(e){return("0"+e.toString(16)).substr(-2)}async function _s(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),s=new Uint8Array(n);return Array.from(s).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ss(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const s=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let s=0;s<56;s++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,Ns).join("")}();let r=s;n&&(r+="/PASSWORD_RECOVERY"),await bs(e,`${t}-code-verifier`,r);const a=await _s(s);return[a,s===a?"plain":"s256"]}js.promiseConstructor=Promise;const Cs=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const Es=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ts(e){if(!Es.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ps(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"===typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function zs(e){return JSON.parse(JSON.stringify(e))}var Ls=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]])}return n};const As=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ms=[502,503,504];async function Os(e){var t,n;if(!("object"===typeof(n=e)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"===typeof n.json))throw new ts(As(e),0);if(Ms.includes(e.status))throw new ts(As(e),e.status);let s,r;try{s=await e.json()}catch(px){throw new Gn(As(px),px)}const a=function(e){const t=e.headers.get(Bn);if(!t)return null;if(!t.match(Cs))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(px){return null}}(e);if(a&&a.getTime()>=Un.timestamp&&"object"===typeof s&&s&&"string"===typeof s.code?r=s.code:"object"===typeof s&&s&&"string"===typeof s.error_code&&(r=s.error_code),r){if("weak_password"===r)throw new ss(As(s),e.status,(null===(t=s.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===r)throw new Yn}else if("object"===typeof s&&s&&"object"===typeof s.weak_password&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0))throw new ss(As(s),e.status,s.weak_password.reasons);throw new Kn(As(s),e.status||500,r)}async function Ds(e,t,n,s){var r;const a=Object.assign({},null===s||void 0===s?void 0:s.headers);a[Bn]||(a[Bn]=Un.name),(null===s||void 0===s?void 0:s.jwt)&&(a.Authorization=`Bearer ${s.jwt}`);const i=null!==(r=null===s||void 0===s?void 0:s.query)&&void 0!==r?r:{};(null===s||void 0===s?void 0:s.redirectTo)&&(i.redirect_to=s.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await async function(e,t,n,s,r,a){const i=((e,t,n,s)=>{const r={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),r.body=JSON.stringify(s),Object.assign(Object.assign({},r),n))})(t,s,r,a);let o;try{o=await e(n,Object.assign({},i))}catch(px){throw console.error(px),new ts(As(px),0)}o.ok||await Os(o);if(null===s||void 0===s?void 0:s.noResolveJson)return o;try{return await o.json()}catch(px){await Os(px)}}(e,t,n+o,{headers:a,noResolveJson:null===s||void 0===s?void 0:s.noResolveJson},{},null===s||void 0===s?void 0:s.body);return(null===s||void 0===s?void 0:s.xform)?null===s||void 0===s?void 0:s.xform(l):{data:Object.assign({},l),error:null}}function Rs(e){var t;let n=null;var s;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(s=e.expires_in,Math.round(Date.now()/1e3)+s)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function $s(e){const t=Rs(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function Is(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Vs(e){return{data:e,error:null}}function Fs(e){const{action_link:t,email_otp:n,hashed_token:s,redirect_to:r,verification_type:a}=e,i=Ls(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:s,redirect_to:r,verification_type:a},user:Object.assign({},i)},error:null}}function Bs(e){return e}const Us=["global","local","others"];var Hs=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]])}return n};class qs{constructor(e){let{url:t="",headers:n={},fetch:s}=e;this.url=t,this.headers=n,this.fetch=vs(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Us[0];if(Us.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Us.join(", ")}`);try{return await Ds(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Wn(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await Ds(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Is})}catch(n){if(Wn(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=Hs(e,["options"]),s=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(s.new_email=null===n||void 0===n?void 0:n.newEmail,delete s.newEmail),await Ds(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Fs,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(Wn(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Ds(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Is})}catch(t){if(Wn(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,s,r,a,i,o;try{const l={nextPage:null,lastPage:0,total:0},c=await Ds(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(r=null===(s=null===e||void 0===e?void 0:e.perPage)||void 0===s?void 0:s.toString())&&void 0!==r?r:""},xform:Bs});if(c.error)throw c.error;const d=await c.json(),u=null!==(a=c.headers.get("x-total-count"))&&void 0!==a?a:0,h=null!==(o=null===(i=c.headers.get("link"))||void 0===i?void 0:i.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l[`${n}Page`]=t}),l.total=parseInt(u)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(Wn(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){Ts(e);try{return await Ds(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Is})}catch(t){if(Wn(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Ts(e);try{return await Ds(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Is})}catch(n){if(Wn(n))return{data:{user:null},error:n};throw n}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Ts(e);try{return await Ds(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Is})}catch(n){if(Wn(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Ts(e.userId);try{const{data:t,error:n}=await Ds(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(t){if(Wn(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Ts(e.userId),Ts(e.id);try{return{data:await Ds(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Wn(t))return{data:null,error:t};throw t}}}function Ws(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Ks=!!(globalThis&&xs()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class Gs extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Js extends Gs{}async function Ys(e,t,n){Ks&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),Ks&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async s=>{if(!s){if(0===t)throw Ks&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Js(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ks)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(px){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",px)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}Ks&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Ks&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}))}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(px){"undefined"!==typeof self&&(self.globalThis=self)}}();const Xs={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Fn,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Qs(e,t,n){return await n()}const Zs={};class er{constructor(e){var t,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=er.nextInstanceID,er.nextInstanceID+=1,this.instanceID>0&&fs()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Xs),e);if(this.logDebugMessages=!!s.debug,"function"===typeof s.debug&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new qs({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=vs(s.fetch),this.lock=s.lock||Qs,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:fs()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=Ys:this.lock=Qs,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:xs()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ws(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Ws(this.memoryStorage)),fs()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(px){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",px)}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}get jwks(){var e,t;return null!==(t=null===(e=Zs[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){Zs[this.storageKey]=Object.assign(Object.assign({},Zs[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=Zs[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Zs[this.storageKey]=Object.assign(Object.assign({},Zs[this.storageKey]),{cachedAt:e})}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger(`GoTrueClient@${this.instanceID} (${$n}) ${(new Date).toISOString()}`,...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach((e,n)=>{t[n]=e})}catch(px){}return n.searchParams.forEach((e,n)=>{t[n]=e}),t}(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),fs()&&this.detectSessionInUrl&&"none"!==n){const{data:s,error:r}=await this._getSessionFromURL(t,n);if(r){if(this._debug("#_initialize()","error detecting session from URL",r),function(e){return Wn(e)&&"AuthImplicitGrantRedirectError"===e.name}(r)){const t=null===(e=r.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:r}}return await this._removeSession(),{error:r}}const{session:a,redirectType:i}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",i),await this._saveSession(a),setTimeout(async()=>{"recovery"===i?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Wn(t)?{error:t}:{error:new Gn("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,s;try{const r=await Ds(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(n=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(s=null===e||void 0===e?void 0:e.options)||void 0===s?void 0:s.captchaToken}},xform:Rs}),{data:a,error:i}=r;if(i||!a)return{data:{user:null,session:null},error:i};const o=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(r){if(Wn(r))return{data:{user:null,session:null},error:r};throw r}}async signUp(e){var t,n,s;try{let r;if("email"in e){const{email:n,password:s,options:a}=e;let i=null,o=null;"pkce"===this.flowType&&([i,o]=await Ss(this.storage,this.storageKey)),r=await Ds(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo,body:{email:n,password:s,data:null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken},code_challenge:i,code_challenge_method:o},xform:Rs})}else{if(!("phone"in e))throw new Qn("You must provide either an email or phone number and a password");{const{phone:t,password:a,options:i}=e;r=await Ds(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:a,data:null!==(n=null===i||void 0===i?void 0:i.data)&&void 0!==n?n:{},channel:null!==(s=null===i||void 0===i?void 0:i.channel)&&void 0!==s?s:"sms",gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}},xform:Rs})}}const{data:a,error:i}=r;if(i||!a)return{data:{user:null,session:null},error:i};const o=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(r){if(Wn(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:s,options:r}=e;t=await Ds(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:s,gotrue_meta_security:{captcha_token:null===r||void 0===r?void 0:r.captchaToken}},xform:$s})}else{if(!("phone"in e))throw new Qn("You must provide either an email or phone number and a password");{const{phone:n,password:s,options:r}=e;t=await Ds(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:s,gotrue_meta_security:{captcha_token:null===r||void 0===r?void 0:r.captchaToken}},xform:$s})}}const{data:n,error:s}=t;return s?{data:{user:null,session:null},error:s}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s}):{data:{user:null,session:null},error:new Xn}}catch(t){if(Wn(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,s,r;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(s=e.options)||void 0===s?void 0:s.queryParams,skipBrowserRedirect:null===(r=e.options)||void 0===r?void 0:r.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if("solana"===t)return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,n,s,r,a,i,o,l,c,d,u,h;let m,p;if("message"in e)m=e.message,p=e.signature;else{const{chain:u,wallet:h,statement:f,options:g}=e;let x;if(fs())if("object"===typeof h)x=h;else{const e=window;if(!("solana"in e)||"object"!==typeof e.solana||!("signIn"in e.solana&&"function"===typeof e.solana.signIn||"signMessage"in e.solana&&"function"===typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");x=e.solana}else{if("object"!==typeof h||!(null===g||void 0===g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=h}const v=new URL(null!==(t=null===g||void 0===g?void 0:g.url)&&void 0!==t?t:window.location.href);if("signIn"in x&&x.signIn){const e=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null===g||void 0===g?void 0:g.signInWithSolana),{version:"1",domain:v.host,uri:v.href}),f?{statement:f}:null));let t;if(Array.isArray(e)&&e[0]&&"object"===typeof e[0])t=e[0];else{if(!(e&&"object"===typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"===typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");m="string"===typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),p=t.signature}else{if(!("signMessage"in x)||"function"!==typeof x.signMessage||!("publicKey"in x)||"object"!==typeof x||!x.publicKey||!("toBase58"in x.publicKey)||"function"!==typeof x.publicKey.toBase58)throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${v.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${v.href}`,`Issued At: ${null!==(s=null===(n=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===n?void 0:n.issuedAt)&&void 0!==s?s:(new Date).toISOString()}`,...(null===(r=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===r?void 0:r.notBefore)?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...(null===(a=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===a?void 0:a.expirationTime)?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...(null===(i=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===i?void 0:i.chainId)?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...(null===(o=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===o?void 0:o.nonce)?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...(null===(l=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===l?void 0:l.requestId)?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...(null===(d=null===(c=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===d?void 0:d.length)?["Resources",...g.signInWithSolana.resources.map(e=>`- ${e}`)]:[]].join("\n");const e=await x.signMessage((new TextEncoder).encode(m),"utf8");if(!e||!(e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=e}}try{const{data:t,error:n}=await Ds(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:ps(p)},(null===(u=e.options)||void 0===u?void 0:u.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:Rs});if(n)throw n;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:n}):{data:{user:null,session:null},error:new Xn}}catch(f){if(Wn(f))return{data:{user:null,session:null},error:f};throw f}}async _exchangeCodeForSession(e){const t=await ys(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(null!==t&&void 0!==t?t:"").split("/");try{const{data:t,error:r}=await Ds(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Rs});if(await ws(this.storage,`${this.storageKey}-code-verifier`),r)throw r;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!==s&&void 0!==s?s:null}),error:r}):{data:{user:null,session:null,redirectType:null},error:new Xn}}catch(r){if(Wn(r))return{data:{user:null,session:null,redirectType:null},error:r};throw r}}async signInWithIdToken(e){try{const{options:t,provider:n,token:s,access_token:r,nonce:a}=e,i=await Ds(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:r,nonce:a,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:Rs}),{data:o,error:l}=i;return l?{data:{user:null,session:null},error:l}:o&&o.session&&o.user?(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:l}):{data:{user:null,session:null},error:new Xn}}catch(t){if(Wn(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,s,r,a;try{if("email"in e){const{email:s,options:r}=e;let a=null,i=null;"pkce"===this.flowType&&([a,i]=await Ss(this.storage,this.storageKey));const{error:o}=await Ds(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:null!==(t=null===r||void 0===r?void 0:r.data)&&void 0!==t?t:{},create_user:null===(n=null===r||void 0===r?void 0:r.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null===r||void 0===r?void 0:r.captchaToken},code_challenge:a,code_challenge_method:i},redirectTo:null===r||void 0===r?void 0:r.emailRedirectTo});return{data:{user:null,session:null},error:o}}if("phone"in e){const{phone:t,options:n}=e,{data:i,error:o}=await Ds(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(s=null===n||void 0===n?void 0:n.data)&&void 0!==s?s:{},create_user:null===(r=null===n||void 0===n?void 0:n.shouldCreateUser)||void 0===r||r,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken},channel:null!==(a=null===n||void 0===n?void 0:n.channel)&&void 0!==a?a:"sms"}});return{data:{user:null,session:null,messageId:null===i||void 0===i?void 0:i.message_id},error:o}}throw new Qn("You must provide either an email or phone number.")}catch(i){if(Wn(i))return{data:{user:null,session:null},error:i};throw i}}async verifyOtp(e){var t,n;try{let s,r;"options"in e&&(s=null===(t=e.options)||void 0===t?void 0:t.redirectTo,r=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:a,error:i}=await Ds(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:r}}),redirectTo:s,xform:Rs});if(i)throw i;if(!a)throw new Error("An error occurred on token verification.");const o=a.session,l=a.user;return(null===o||void 0===o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(s){if(Wn(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var t,n,s;try{let r=null,a=null;return"pkce"===this.flowType&&([r,a]=await Ss(this.storage,this.storageKey)),await Ds(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(s=null===e||void 0===e?void 0:e.options)||void 0===s?void 0:s.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:r,code_challenge_method:a}),headers:this.headers,xform:Vs})}catch(r){if(Wn(r))return{data:null,error:r};throw r}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new Yn;const{error:s}=await Ds(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(Wn(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:r}=e,{error:a}=await Ds(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:null===r||void 0===r?void 0:r.captchaToken}},redirectTo:null===r||void 0===r?void 0:r.emailRedirectTo});return{data:{user:null,session:null},error:a}}if("phone"in e){const{phone:n,type:s,options:r}=e,{data:a,error:i}=await Ds(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:null===r||void 0===r?void 0:r.captchaToken}}});return{data:{user:null,session:null,messageId:null===a||void 0===a?void 0:a.message_id},error:i}}throw new Qn("You must provide either an email or phone number and a type")}catch(t){if(Wn(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(px){}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(px){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await ys(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&1e3*e.expires_at-Date.now()<Vn;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const t=await ys(this.userStorage,this.storageKey+"-user");(null===t||void 0===t?void 0:t.user)?e.user=t.user:e.user=Ps()}if(this.storage.isServer&&e.user){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,n,s)=>(t||"user"!==n||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,n,s))})}return{data:{session:e},error:null}}const{session:s,error:r}=await this._callRefreshToken(e.refresh_token);return r?{data:{session:null},error:r}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,async()=>await this._getUser())}async _getUser(e){try{return e?await Ds(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Is}):await this._useSession(async e=>{var t,n,s;const{data:r,error:a}=e;if(a)throw a;return(null===(t=r.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await Ds(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(s=null===(n=r.session)||void 0===n?void 0:n.access_token)&&void 0!==s?s:void 0,xform:Is}):{data:{user:null},error:new Yn}})}catch(t){if(Wn(t))return function(e){return Wn(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await ws(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession(async n=>{const{data:s,error:r}=n;if(r)throw r;if(!s.session)throw new Yn;const a=s.session;let i=null,o=null;"pkce"===this.flowType&&null!=e.email&&([i,o]=await Ss(this.storage,this.storageKey));const{data:l,error:c}=await Ds(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:i,code_challenge_method:o}),jwt:a.access_token,xform:Is});if(c)throw c;return a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(Wn(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Yn;const t=Date.now()/1e3;let n=t,s=!0,r=null;const{payload:a}=ks(e.access_token);if(a.exp&&(n=a.exp,s=n<=t),s){const{session:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return{data:{user:null,session:null},error:n};if(!t)return{data:{user:null,session:null},error:null};r=t}else{const{data:s,error:a}=await this._getUser(e.access_token);if(a)throw a;r={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)}return{data:{user:r.user,session:r},error:null}}catch(t){if(Wn(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:s,error:r}=t;if(r)throw r;e=null!==(n=s.session)&&void 0!==n?n:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new Yn;const{session:s,error:r}=await this._callRefreshToken(e.refresh_token);return r?{data:{user:null,session:null},error:r}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(Wn(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!fs())throw new Zn("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Zn(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new es("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new Zn("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new es("No code detected.");const{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;const s=new URL(window.location.href);return s.searchParams.delete("code"),window.history.replaceState(window.history.state,"",s.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:r,refresh_token:a,expires_in:i,expires_at:o,token_type:l}=e;if(!r||!i||!a||!l)throw new Zn("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(i);let u=c+d;o&&(u=parseInt(o));const h=u-c;1e3*h<=In&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const m=u-d;c-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,u,c):c-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,u,c);const{data:p,error:f}=await this._getUser(r);if(f)throw f;const g={provider_token:n,provider_refresh_token:s,access_token:r,expires_in:d,expires_at:u,refresh_token:a,token_type:l,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(n){if(Wn(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await ys(this.storage,`${this.storageKey}-code-verifier`);return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession(async t=>{var n;const{data:s,error:r}=t;if(r)return{error:r};const a=null===(n=s.session)||void 0===n?void 0:n.access_token;if(a){const{error:t}=await this.admin.signOut(a,e);if(t&&(!function(e){return Wn(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await ws(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,s;try{const{data:{session:s},error:r}=t;if(r)throw r;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(r){await(null===(s=this.stateChangeEmitters.get(e))||void 0===s?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",r),console.error(r)}})}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,s=null;"pkce"===this.flowType&&([n,s]=await Ss(this.storage,this.storageKey,!0));try{return await Ds(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(r){if(Wn(r))return{data:null,error:r};throw r}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(Wn(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:s}=await this._useSession(async t=>{var n,s,r,a,i;const{data:o,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(s=e.options)||void 0===s?void 0:s.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:!0});return await Ds(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(i=null===(a=o.session)||void 0===a?void 0:a.access_token)&&void 0!==i?i:void 0})});if(s)throw s;return fs()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===n||void 0===n?void 0:n.url),{data:{provider:e.provider,url:null===n||void 0===n?void 0:n.url},error:null}}catch(n){if(Wn(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,s;const{data:r,error:a}=t;if(a)throw a;return await Ds(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(s=null===(n=r.session)||void 0===n?void 0:n.access_token)&&void 0!==s?s:void 0})})}catch(t){if(Wn(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return await(n=async n=>(n>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await Ds(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Rs})),s=(e,t)=>{const n=200*Math.pow(2,e);return t&&ns(t)&&Date.now()+n-r<In},new Promise((e,t)=>{(async()=>{for(let r=0;r<1/0;r++)try{const t=await n(r);if(!s(r,null,t))return void e(t)}catch(px){if(!s(r,px))return void t(px)}})()}))}catch(r){if(this._debug(t,"error",r),Wn(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(t,"end")}var n,s}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),fs()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await ys(this.storage,this.storageKey);if(r&&this.userStorage){let t=await ys(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:r.user},await bs(this.userStorage,this.storageKey+"-user",t)),r.user=null!==(e=null===t||void 0===t?void 0:t.user)&&void 0!==e?e:Ps()}else if(r&&!r.user&&!r.user){const e=await ys(this.storage,this.storageKey+"-user");e&&(null===e||void 0===e?void 0:e.user)?(r.user=e.user,await ws(this.storage,this.storageKey+"-user"),await bs(this.storage,this.storageKey,r)):r.user=Ps()}if(this._debug(n,"session from storage",r),!this._isValidSession(r))return this._debug(n,"session is not valid"),void(null!==r&&await this._removeSession());const a=1e3*(null!==(t=r.expires_at)&&void 0!==t?t:1/0)-Date.now()<Vn;if(this._debug(n,`session has${a?"":" not"} expired with margin of 90000s`),a){if(this.autoRefreshToken&&r.refresh_token){const{error:e}=await this._callRefreshToken(r.refresh_token);e&&(console.error(e),ns(e)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(r.user&&!0===r.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(r.access_token);!t&&(null===e||void 0===e?void 0:e.user)?(r.user=e.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){return this._debug(n,"error",r),void console.error(r)}finally{this._debug(n,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new Yn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new js;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new Yn;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const s={session:t.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(r){if(this._debug(s,"error",r),Wn(r)){const e={session:null,error:r};return ns(r)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(r),r}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const s=[],r=Array.from(this.stateChangeEmitters.values()).map(async n=>{try{await n.callback(e,t)}catch(px){s.push(px)}});if(await Promise.all(r),s.length>0){for(let e=0;e<s.length;e+=1)console.error(s[e]);throw s[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),n=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!n&&t.user&&await bs(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const s=zs(e);await bs(this.storage,this.storageKey,s)}else{const e=zs(t);await bs(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),await ws(this.storage,this.storageKey),await ws(this.storage,this.storageKey+"-code-verifier"),await ws(this.storage,this.storageKey+"-user"),this.userStorage&&await ws(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&fs()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(px){console.error("removing visibilitychange callback failed",px)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),In);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const s=Math.floor((1e3*n.expires_at-e)/In);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),s<=3&&await this._callRefreshToken(n.refresh_token)})}catch(px){console.error("Auto refresh tick failed with error. This is likely a transient error.",px)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(px){if(!(px.isAcquireTimeout||px instanceof Gs))throw px;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!fs()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const s=[`provider=${encodeURIComponent(t)}`];if((null===n||void 0===n?void 0:n.redirectTo)&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),(null===n||void 0===n?void 0:n.scopes)&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),"pkce"===this.flowType){const[e,t]=await Ss(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});s.push(n.toString())}if(null===n||void 0===n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);s.push(e.toString())}return(null===n||void 0===n?void 0:n.skipBrowserRedirect)&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:s,error:r}=t;return r?{data:null,error:r}:await Ds(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(n=null===s||void 0===s?void 0:s.session)||void 0===n?void 0:n.access_token})})}catch(t){if(Wn(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,s;const{data:r,error:a}=t;if(a)return{data:null,error:a};const i=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:o,error:l}=await Ds(this.fetch,"POST",`${this.url}/factors`,{body:i,headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(s=null===o||void 0===o?void 0:o.totp)||void 0===s?void 0:s.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})})}catch(t){if(Wn(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:s,error:r}=t;if(r)return{data:null,error:r};const{data:a,error:i}=await Ds(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(n=null===s||void 0===s?void 0:s.session)||void 0===n?void 0:n.access_token});return i?{data:null,error:i}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:i})})}catch(t){if(Wn(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:s,error:r}=t;return r?{data:null,error:r}:await Ds(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:null===(n=null===s||void 0===s?void 0:s.session)||void 0===n?void 0:n.access_token})})}catch(t){if(Wn(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(null===e||void 0===e?void 0:e.factors)||[],s=n.filter(e=>"totp"===e.factor_type&&"verified"===e.status),r=n.filter(e=>"phone"===e.factor_type&&"verified"===e.status);return{data:{all:n,totp:s,phone:r},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:s},error:r}=e;if(r)return{data:null,error:r};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=ks(s.access_token);let i=null;a.aal&&(i=a.aal);let o=i;(null!==(n=null===(t=s.user.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==n?n:[]).length>0&&(o="aal2");return{data:{currentLevel:i,nextLevel:o,currentAuthenticationMethods:a.amr||[]},error:null}}))}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find(t=>t.kid===e);if(t)return t;const n=Date.now();if(t=this.jwks.keys.find(t=>t.kid===e),t&&this.jwks_cached_at+6e5>n)return t;const{data:s,error:r}=await Ds(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(r)throw r;return s.keys&&0!==s.keys.length?(this.jwks=s,this.jwks_cached_at=n,t=s.keys.find(t=>t.kid===e),t||null):null}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let n=e;if(!n){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};n=e.session.access_token}const{header:s,payload:r,signature:a,raw:{header:i,payload:o}}=ks(n);(null===t||void 0===t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(r.exp);const l=s.alg&&!s.alg.startsWith("HS")&&s.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(s.kid,(null===t||void 0===t?void 0:t.keys)?{keys:t.keys}:null===t||void 0===t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:r,header:s,signature:a},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(s.alg),d=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,a,function(e){const t=[];return hs(e,e=>t.push(e)),new Uint8Array(t)}(`${i}.${o}`)))throw new rs("Invalid JWT signature");return{data:{claims:r,header:s,signature:a},error:null}}catch(n){if(Wn(n))return{data:null,error:n};throw n}}}er.nextInstanceID=0;const tr=er;class nr extends tr{constructor(e){super(e)}}var sr=function(e,t,n,s){return new(n||(n=Promise))(function(r,a){function i(e){try{l(s.next(e))}catch(px){a(px)}}function o(e){try{l(s.throw(e))}catch(px){a(px)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((s=s.apply(e,t||[])).next())})};class rr{constructor(e,t,n){var s,r,a;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const i=(o=e).endsWith("/")?o:o+"/";var o;const l=new URL(i);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d=function(e,t){var n,s;const{db:r,auth:a,realtime:i,global:o}=e,{db:l,auth:c,realtime:d,global:u}=t,h={db:Object.assign(Object.assign({},l),r),auth:Object.assign(Object.assign({},c),a),realtime:Object.assign(Object.assign({},d),i),storage:{},global:Object.assign(Object.assign(Object.assign({},u),o),{headers:Object.assign(Object.assign({},null!==(n=null===u||void 0===u?void 0:u.headers)&&void 0!==n?n:{}),null!==(s=null===o||void 0===o?void 0:o.headers)&&void 0!==s?s:{})}),accessToken:()=>Rn(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!==n&&void 0!==n?n:{},{db:Pn,realtime:Ln,auth:Object.assign(Object.assign({},zn),{storageKey:c}),global:Tn});this.storageKey=null!==(s=d.auth.storageKey)&&void 0!==s?s:"",this.headers=null!==(r=d.global.headers)&&void 0!==r?r:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(a=d.auth)&&void 0!==a?a:{},this.headers,d.global.fetch),this.fetch=Dn(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new vt(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Cn(this.storageUrl.href,this.headers,this.fetch,null===n||void 0===n?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new gt(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.rest.rpc(e,t,n)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return sr(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return null!==(t=null===(e=n.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey})}_initSupabaseAuthClient(e,t,n){let{autoRefreshToken:s,persistSession:r,detectSessionInUrl:a,storage:i,storageKey:o,flowType:l,lock:c,debug:d}=e;const u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new nr({url:this.authUrl.href,headers:Object.assign(Object.assign({},u),t),storageKey:o,autoRefreshToken:s,persistSession:r,detectSessionInUrl:a,storage:i,flowType:l,lock:c,debug:d,fetch:n,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new nn(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)})}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=n}}(function(){if("undefined"!==typeof window)return!1;if("undefined"===typeof process)return!1;const e=process.version;if(void 0===e||null===e)return!1;const t=e.match(/^v(\d+)\./);return!!t&&parseInt(t[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ar=new rr("https://logxutaepqzmvgsvscle.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxvZ3h1dGFlcHF6bXZnc3ZzY2xlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM5ODU4MDEsImV4cCI6MjA2OTU2MTgwMX0.NhbaKL5X48jHyPPxZ-6EadLcBfM-NMxMA8qbksT9VhE",ir);var ir,or=n(579);const lr=(0,e.createContext)({}),cr=()=>(0,e.useContext)(lr),dr=t=>{let{children:n}=t;const[s,r]=(0,e.useState)(null),[a,i]=(0,e.useState)(null),[o,l]=(0,e.useState)(!0),c=(0,e.useRef)(s);(0,e.useEffect)(()=>{c.current=s},[s]);const d=async e=>{try{const{data:t}=await ar.from("employees").select("*").eq("user_id",e).single();t&&i(t)}catch(t){console.error("Profile fetch error:",t)}};(0,e.useEffect)(()=>{let e=!0;(async()=>{try{const{data:{session:e}}=await ar.auth.getSession();null!==e&&void 0!==e&&e.user&&(r(e.user),await d(e.user.id))}catch(t){console.error("Init error:",t)}finally{e&&l(!1)}})();const{data:t}=ar.auth.onAuthStateChange(async(e,t)=>{"SIGNED_IN"===e&&null!==t&&void 0!==t&&t.user?(r(t.user),d(t.user.id)):"SIGNED_OUT"===e?(r(null),i(null)):"TOKEN_REFRESHED"===e&&null!==t&&void 0!==t&&t.user&&r(t.user)}),n=()=>{"visible"===document.visibilityState&&c.current&&(async()=>{if(c.current)try{console.log("\ud83d\udd04 \u0412\u0456\u0434\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0437\u0432'\u044f\u0437\u043a\u0443...");const{data:e,error:t}=await ar.auth.refreshSession();!t&&e.session&&r(e.session.user)}catch(px){console.error("Connection error:",px)}})()};return document.addEventListener("visibilitychange",n),()=>{e=!1,t.subscription.unsubscribe(),document.removeEventListener("visibilitychange",n)}},[]);const u={user:s,employee:a,role:(null===a||void 0===a?void 0:a.role)||null,tier:(null===a||void 0===a?void 0:a.tier)||null,isAdmin:"super_admin"===(null===a||void 0===a?void 0:a.role),isOffice:["office","super_admin"].includes(null===a||void 0===a?void 0:a.role),signOut:async()=>ar.auth.signOut(),loading:o};return o?(0,or.jsx)("div",{className:"flex h-screen w-full items-center justify-center bg-slate-50",children:(0,or.jsx)("h2",{className:"text-lg font-medium text-slate-600",children:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f..."})}):(0,or.jsx)(lr.Provider,{value:u,children:n})},ur=(0,e.createContext)({});function hr(t){const n=(0,e.useRef)(null);return null===n.current&&(n.current=t()),n.current}const mr="undefined"!==typeof window,pr=mr?e.useLayoutEffect:e.useEffect,fr=(0,e.createContext)(null);function gr(e){return"object"===typeof e&&null!==e}function xr(e){return gr(e)&&"offsetHeight"in e}const vr=(0,e.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class br extends e.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,n=xr(e)&&e.offsetWidth||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=n-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function yr(t){let{children:n,isPresent:s,anchorX:r,root:a}=t;const i=(0,e.useId)(),o=(0,e.useRef)(null),l=(0,e.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=(0,e.useContext)(vr);return(0,e.useInsertionEffect)(()=>{const{width:e,height:t,top:n,left:d,right:u}=l.current;if(s||!o.current||!e||!t)return;const h="left"===r?`left: ${d}`:`right: ${u}`;o.current.dataset.motionPopId=i;const m=document.createElement("style");c&&(m.nonce=c);const p=a??document.head;return p.appendChild(m),m.sheet&&m.sheet.insertRule(`\n          [data-motion-pop-id="${i}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${t}px !important;\n            ${h}px !important;\n            top: ${n}px !important;\n          }\n        `),()=>{p.contains(m)&&p.removeChild(m)}},[s]),(0,or.jsx)(br,{isPresent:s,childRef:o,sizeRef:l,children:e.cloneElement(n,{ref:o})})}const wr=t=>{let{children:n,initial:s,isPresent:r,onExitComplete:a,custom:i,presenceAffectsLayout:o,mode:l,anchorX:c,root:d}=t;const u=hr(jr),h=(0,e.useId)();let m=!0,p=(0,e.useMemo)(()=>(m=!1,{id:h,initial:s,isPresent:r,custom:i,onExitComplete:e=>{u.set(e,!0);for(const t of u.values())if(!t)return;a&&a()},register:e=>(u.set(e,!1),()=>u.delete(e))}),[r,u,a]);return o&&m&&(p={...p}),(0,e.useMemo)(()=>{u.forEach((e,t)=>u.set(t,!1))},[r]),e.useEffect(()=>{!r&&!u.size&&a&&a()},[r]),"popLayout"===l&&(n=(0,or.jsx)(yr,{isPresent:r,anchorX:c,root:d,children:n})),(0,or.jsx)(fr.Provider,{value:p,children:n})};function jr(){return new Map}function kr(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const n=(0,e.useContext)(fr);if(null===n)return[!0,null];const{isPresent:s,onExitComplete:r,register:a}=n,i=(0,e.useId)();(0,e.useEffect)(()=>{if(t)return a(i)},[t]);const o=(0,e.useCallback)(()=>t&&r&&r(i),[i,r,t]);return!s&&r?[!1,o]:[!0]}const Nr=e=>e.key||"";function _r(t){const n=[];return e.Children.forEach(t,t=>{(0,e.isValidElement)(t)&&n.push(t)}),n}const Sr=t=>{let{children:n,custom:s,initial:r=!0,onExitComplete:a,presenceAffectsLayout:i=!0,mode:o="sync",propagate:l=!1,anchorX:c="left",root:d}=t;const[u,h]=kr(l),m=(0,e.useMemo)(()=>_r(n),[n]),p=l&&!u?[]:m.map(Nr),f=(0,e.useRef)(!0),g=(0,e.useRef)(m),x=hr(()=>new Map),[v,b]=(0,e.useState)(m),[y,w]=(0,e.useState)(m);pr(()=>{f.current=!1,g.current=m;for(let e=0;e<y.length;e++){const t=Nr(y[e]);p.includes(t)?x.delete(t):!0!==x.get(t)&&x.set(t,!1)}},[y,p.length,p.join("-")]);const j=[];if(m!==v){let e=[...m];for(let t=0;t<y.length;t++){const n=y[t],s=Nr(n);p.includes(s)||(e.splice(t,0,n),j.push(n))}return"wait"===o&&j.length&&(e=j),w(_r(e)),b(m),null}const{forceRender:k}=(0,e.useContext)(ur);return(0,or.jsx)(or.Fragment,{children:y.map(e=>{const t=Nr(e),n=!(l&&!u)&&(m===y||p.includes(t));return(0,or.jsx)(wr,{isPresent:n,initial:!(f.current&&!r)&&void 0,custom:s,presenceAffectsLayout:i,mode:o,root:d,onExitComplete:n?void 0:()=>{if(!x.has(t))return;x.set(t,!0);let e=!0;x.forEach(t=>{t||(e=!1)}),e&&(k?.(),w(g.current),l&&h?.(),a&&a())},anchorX:c,children:e},t)})})},Cr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Er=(()=>new Set(Cr))(),Tr=e=>180*e/Math.PI,Pr=e=>{const t=Tr(Math.atan2(e[1],e[0]));return Lr(t)},zr={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Pr,rotateZ:Pr,skewX:e=>Tr(Math.atan(e[1])),skewY:e=>Tr(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Lr=e=>((e%=360)<0&&(e+=360),e),Ar=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Mr=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Or={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ar,scaleY:Mr,scale:e=>(Ar(e)+Mr(e))/2,rotateX:e=>Lr(Tr(Math.atan2(e[6],e[5]))),rotateY:e=>Lr(Tr(Math.atan2(-e[2],e[0]))),rotateZ:Pr,rotate:Pr,skewX:e=>Tr(Math.atan(e[4])),skewY:e=>Tr(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Dr(e){return e.includes("scale")?1:0}function Rr(e,t){if(!e||"none"===e)return Dr(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,r;if(n)s=Or,r=n;else{const t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=zr,r=t}if(!r)return Dr(t);const a=s[t],i=r[1].split(",").map($r);return"function"===typeof a?a(i):i[a]}function $r(e){return parseFloat(e.trim())}const Ir=e=>t=>"string"===typeof t&&t.startsWith(e),Vr=Ir("--"),Fr=Ir("var(--"),Br=e=>!!Fr(e)&&Ur.test(e.split("/*")[0].trim()),Ur=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Hr(e){let{top:t,left:n,right:s,bottom:r}=e;return{x:{min:n,max:s},y:{min:t,max:r}}}const qr=(e,t,n)=>e+(t-e)*n;function Wr(e){return void 0===e||1===e}function Kr(e){let{scale:t,scaleX:n,scaleY:s}=e;return!Wr(t)||!Wr(n)||!Wr(s)}function Gr(e){return Kr(e)||Jr(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Jr(e){return Yr(e.x)||Yr(e.y)}function Yr(e){return e&&"0%"!==e}function Xr(e,t,n){return n+t*(e-n)}function Qr(e,t,n,s,r){return void 0!==r&&(e=Xr(e,r,s)),Xr(e,n,s)+t}function Zr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;e.min=Qr(e.min,t,n,s,r),e.max=Qr(e.max,t,n,s,r)}function ea(e,t){let{x:n,y:s}=t;Zr(e.x,n.translate,n.scale,n.originPoint),Zr(e.y,s.translate,s.scale,s.originPoint)}const ta=.999999999999,na=1.0000000000001;function sa(e,t){e.min=e.min+t,e.max=e.max+t}function ra(e,t,n,s){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;Zr(e,t,n,qr(e.min,e.max,r),s)}function aa(e,t){ra(e.x,t.x,t.scaleX,t.scale,t.originX),ra(e.y,t.y,t.scaleY,t.scale,t.originY)}function ia(e,t){return Hr(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}(e.getBoundingClientRect(),t))}const oa=new Set(["width","height","top","left","right","bottom",...Cr]),la=(e,t,n)=>n>t?t:n<e?e:n,ca={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},da={...ca,transform:e=>la(0,1,e)},ua={...ca,default:1},ha=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),ma=ha("deg"),pa=ha("%"),fa=ha("px"),ga=ha("vh"),xa=ha("vw"),va=(()=>({...pa,parse:e=>pa.parse(e)/100,transform:e=>pa.transform(100*e)}))(),ba=e=>t=>t.test(e),ya=[ca,fa,pa,ma,xa,ga,{test:e=>"auto"===e,parse:e=>e}],wa=e=>ya.find(ba(e));const ja=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),ka=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Na(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const[s,r]=function(e){const t=ka.exec(e);if(!t)return[,];const[,n,s,r]=t;return[`--${n??s}`,r]}(e);if(!s)return;const a=window.getComputedStyle(t).getPropertyValue(s);if(a){const e=a.trim();return ja(e)?parseFloat(e):e}return Br(r)?Na(r,t,n+1):r}const _a=e=>e===ca||e===fa,Sa=new Set(["x","y","z"]),Ca=Cr.filter(e=>!Sa.has(e));const Ea={width:(e,t)=>{let{x:n}=e,{paddingLeft:s="0",paddingRight:r="0"}=t;return n.max-n.min-parseFloat(s)-parseFloat(r)},height:(e,t)=>{let{y:n}=e,{paddingTop:s="0",paddingBottom:r="0"}=t;return n.max-n.min-parseFloat(s)-parseFloat(r)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:s}=t;return parseFloat(s)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:s}=t;return parseFloat(s)+(n.max-n.min)},x:(e,t)=>{let{transform:n}=t;return Rr(n,"x")},y:(e,t)=>{let{transform:n}=t;return Rr(n,"y")}};Ea.translateX=Ea.x,Ea.translateY=Ea.y;const Ta=e=>e,Pa={},za=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],La={value:null,addProjectionMetrics:null};function Aa(e,t){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,i=za.reduce((e,n)=>(e[n]=function(e,t){let n=new Set,s=new Set,r=!1,a=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},l=0;function c(t){i.has(t)&&(d.schedule(t),e()),l++,t(o)}const d={schedule:function(e){const t=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&r?n:s;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&i.add(e),t.has(e)||t.add(e),e},cancel:e=>{s.delete(e),i.delete(e)},process:e=>{o=e,r?a=!0:(r=!0,[n,s]=[s,n],n.forEach(c),t&&La.value&&La.value.frameloop[t].push(l),l=0,n.clear(),r=!1,a&&(a=!1,d.process(e)))}};return d}(a,t?n:void 0),e),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:d,update:u,preRender:h,render:m,postRender:p}=i,f=()=>{const a=Pa.useManualTiming?r.timestamp:performance.now();n=!1,Pa.useManualTiming||(r.delta=s?1e3/60:Math.max(Math.min(a-r.timestamp,40),1)),r.timestamp=a,r.isProcessing=!0,o.process(r),l.process(r),c.process(r),d.process(r),u.process(r),h.process(r),m.process(r),p.process(r),r.isProcessing=!1,n&&t&&(s=!1,e(f))},g=za.reduce((t,a)=>{const o=i[a];return t[a]=function(t){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,s=!0,r.isProcessing||e(f)),o.schedule(t,a,i)},t},{});return{schedule:g,cancel:e=>{for(let t=0;t<za.length;t++)i[za[t]].cancel(e)},state:r,steps:i}}const{schedule:Ma,cancel:Oa,state:Da,steps:Ra}=Aa("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:Ta,!0),$a=new Set;let Ia=!1,Va=!1,Fa=!1;function Ba(){if(Va){const e=Array.from($a).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),n=new Map;t.forEach(e=>{const t=function(e){const t=[];return Ca.forEach(n=>{const s=e.getValue(n);void 0!==s&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}(e);t.length&&(n.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();const t=n.get(e);t&&t.forEach(t=>{let[n,s]=t;e.getValue(n)?.set(s)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}Va=!1,Ia=!1,$a.forEach(e=>e.complete(Fa)),$a.clear()}function Ua(){$a.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Va=!0)})}class Ha{constructor(e,t,n,s,r){let a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=s,this.element=r,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?($a.add(this),Ia||(Ia=!0,Ma.read(Ua),Ma.resolveKeyframes(Ba))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:s}=this;if(null===e[0]){const r=s?.get(),a=e[e.length-1];if(void 0!==r)e[0]=r;else if(n&&t){const s=n.readValue(t,a);void 0!==s&&null!==s&&(e[0]=s)}void 0===e[0]&&(e[0]=a),s&&void 0===r&&s.set(e[0])}!function(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),$a.delete(this)}cancel(){"scheduled"===this.state&&($a.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}const qa=e=>/^0[^.\s]+$/u.test(e);function Wa(e){return"number"===typeof e?0===e:null===e||("none"===e||"0"===e||qa(e))}const Ka=e=>Math.round(1e5*e)/1e5,Ga=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;const Ja=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ya=(e,t)=>n=>Boolean("string"===typeof n&&Ja.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),Xa=(e,t,n)=>s=>{if("string"!==typeof s)return s;const[r,a,i,o]=s.match(Ga);return{[e]:parseFloat(r),[t]:parseFloat(a),[n]:parseFloat(i),alpha:void 0!==o?parseFloat(o):1}},Qa={...ca,transform:e=>Math.round((e=>la(0,255,e))(e))},Za={test:Ya("rgb","red"),parse:Xa("red","green","blue"),transform:e=>{let{red:t,green:n,blue:s,alpha:r=1}=e;return"rgba("+Qa.transform(t)+", "+Qa.transform(n)+", "+Qa.transform(s)+", "+Ka(da.transform(r))+")"}};const ei={test:Ya("#"),parse:function(e){let t="",n="",s="",r="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),r=e.substring(4,5),t+=t,n+=n,s+=s,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}},transform:Za.transform},ti={test:Ya("hsl","hue"),parse:Xa("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:s,alpha:r=1}=e;return"hsla("+Math.round(t)+", "+pa.transform(Ka(n))+", "+pa.transform(Ka(s))+", "+Ka(da.transform(r))+")"}},ni={test:e=>Za.test(e)||ei.test(e)||ti.test(e),parse:e=>Za.test(e)?Za.parse(e):ti.test(e)?ti.parse(e):ei.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?Za.transform(e):ti.transform(e),getAnimatableNone:e=>{const t=ni.parse(e);return t.alpha=0,ni.transform(t)}},si=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;const ri="number",ai="color",ii=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function oi(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},r=[];let a=0;const i=t.replace(ii,e=>(ni.test(e)?(s.color.push(a),r.push(ai),n.push(ni.parse(e))):e.startsWith("var(")?(s.var.push(a),r.push("var"),n.push(e)):(s.number.push(a),r.push(ri),n.push(parseFloat(e))),++a,"${}")).split("${}");return{values:n,split:i,indexes:s,types:r}}function li(e){return oi(e).values}function ci(e){const{split:t,types:n}=oi(e),s=t.length;return e=>{let r="";for(let a=0;a<s;a++)if(r+=t[a],void 0!==e[a]){const t=n[a];r+=t===ri?Ka(e[a]):t===ai?ni.transform(e[a]):e[a]}return r}}const di=e=>"number"===typeof e?0:ni.test(e)?ni.getAnimatableNone(e):e;const ui={test:function(e){return isNaN(e)&&"string"===typeof e&&(e.match(Ga)?.length||0)+(e.match(si)?.length||0)>0},parse:li,createTransformer:ci,getAnimatableNone:function(e){const t=li(e);return ci(e)(t.map(di))}},hi=new Set(["brightness","contrast","saturate","opacity"]);function mi(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[s]=n.match(Ga)||[];if(!s)return e;const r=n.replace(s,"");let a=hi.has(t)?1:0;return s!==n&&(a*=100),t+"("+a+r+")"}const pi=/\b([a-z-]*)\(.*?\)/gu,fi={...ui,getAnimatableNone:e=>{const t=e.match(pi);return t?t.map(mi).join(" "):e}},gi={...ca,transform:Math.round},xi={borderWidth:fa,borderTopWidth:fa,borderRightWidth:fa,borderBottomWidth:fa,borderLeftWidth:fa,borderRadius:fa,radius:fa,borderTopLeftRadius:fa,borderTopRightRadius:fa,borderBottomRightRadius:fa,borderBottomLeftRadius:fa,width:fa,maxWidth:fa,height:fa,maxHeight:fa,top:fa,right:fa,bottom:fa,left:fa,padding:fa,paddingTop:fa,paddingRight:fa,paddingBottom:fa,paddingLeft:fa,margin:fa,marginTop:fa,marginRight:fa,marginBottom:fa,marginLeft:fa,backgroundPositionX:fa,backgroundPositionY:fa,...{rotate:ma,rotateX:ma,rotateY:ma,rotateZ:ma,scale:ua,scaleX:ua,scaleY:ua,scaleZ:ua,skew:ma,skewX:ma,skewY:ma,distance:fa,translateX:fa,translateY:fa,translateZ:fa,x:fa,y:fa,z:fa,perspective:fa,transformPerspective:fa,opacity:da,originX:va,originY:va,originZ:fa},zIndex:gi,fillOpacity:da,strokeOpacity:da,numOctaves:gi},vi={...xi,color:ni,backgroundColor:ni,outlineColor:ni,fill:ni,stroke:ni,borderColor:ni,borderTopColor:ni,borderRightColor:ni,borderBottomColor:ni,borderLeftColor:ni,filter:fi,WebkitFilter:fi},bi=e=>vi[e];function yi(e,t){let n=bi(e);return n!==fi&&(n=ui),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const wi=new Set(["auto","none","0"]);class ji extends Ha{constructor(e,t,n,s,r){super(e,t,n,s,r,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let o=0;o<e.length;o++){let n=e[o];if("string"===typeof n&&(n=n.trim(),Br(n))){const s=Na(n,t.current);void 0!==s&&(e[o]=s),o===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!oa.has(n)||2!==e.length)return;const[s,r]=e,a=wa(s),i=wa(r);if(a!==i)if(_a(a)&&_a(i))for(let o=0;o<e.length;o++){const t=e[o];"string"===typeof t&&(e[o]=parseFloat(t))}else Ea[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let s=0;s<e.length;s++)(null===e[s]||Wa(e[s]))&&n.push(s);n.length&&function(e,t,n){let s,r=0;for(;r<e.length&&!s;){const t=e[r];"string"===typeof t&&!wi.has(t)&&oi(t).values.length&&(s=e[r]),r++}if(s&&n)for(const a of t)e[a]=yi(n,s)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ea[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const s=t[t.length-1];void 0!==s&&e.getValue(n,s).jump(s,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const s=e.getValue(t);s&&s.jump(this.measuredOrigin,!1);const r=n.length-1,a=n[r];n[r]=Ea[t](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==a&&void 0===this.finalKeyframe&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(t=>{let[n,s]=t;e.getValue(n).set(s)}),this.resolveNoneKeyframes()}}const ki=e=>Boolean(e&&e.getVelocity);let Ni;function _i(){Ni=void 0}const Si={now:()=>(void 0===Ni&&Si.set(Da.isProcessing||Pa.useManualTiming?Da.timestamp:performance.now()),Ni),set:e=>{Ni=e,queueMicrotask(_i)}};function Ci(e,t){-1===e.indexOf(t)&&e.push(t)}function Ei(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Ti{constructor(){this.subscriptions=[]}add(e){return Ci(this.subscriptions,e),()=>Ei(this.subscriptions,e)}notify(e,t,n){const s=this.subscriptions.length;if(s)if(1===s)this.subscriptions[0](e,t,n);else for(let r=0;r<s;r++){const s=this.subscriptions[r];s&&s(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Pi(e,t){return t?e*(1e3/t):0}const zi={current:void 0};class Li{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{const t=Si.now();if(this.updatedAt!==t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const n of this.dependents)n.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){var t;this.current=e,this.updatedAt=Si.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Ti);const n=this.events[e].add(t);return"change"===e?()=>{n(),Ma.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return zi.current&&zi.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Si.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return Pi(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ai(e,t){return new Li(e,t)}const Mi=[...ya,ni,ui],{schedule:Oi,cancel:Di}=Aa(queueMicrotask,!1),Ri={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},$i={};for(const n in Ri)$i[n]={isEnabled:e=>Ri[n].some(t=>!!e[t])};const Ii=()=>({x:{min:0,max:0},y:{min:0,max:0}}),Vi={current:null},Fi={current:!1};const Bi=new WeakMap;function Ui(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}function Hi(e){return"string"===typeof e||Array.isArray(e)}const qi=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Wi=["initial",...qi];function Ki(e){return Ui(e.animate)||Wi.some(t=>Hi(e[t]))}function Gi(e){return Boolean(Ki(e)||e.variants)}function Ji(e){const t=[{},{}];return e?.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function Yi(e,t,n,s){if("function"===typeof t){const[r,a]=Ji(s);t=t(void 0!==n?n:e.custom,r,a)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[r,a]=Ji(s);t=t(void 0!==n?n:e.custom,r,a)}return t}const Xi=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Qi{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:s,reducedMotionConfig:r,blockInitialAnimation:a,visualState:i}=e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ha,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=Si.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,Ma.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.blockInitialAnimation=Boolean(a),this.isControllingVariants=Ki(n),this.isVariantNode=Gi(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:d,...u}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in u){const e=u[h];void 0!==l[h]&&ki(e)&&e.set(l[h])}}mount(e){this.current=e,Bi.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),Fi.current||function(){if(Fi.current=!0,mr)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Vi.current=e.matches;e.addEventListener("change",t),t()}else Vi.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Vi.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Oa(this.notifyUpdate),Oa(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Er.has(e);n&&this.onBindTransform&&this.onBindTransform();const s=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&Ma.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let r;window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{s(),r&&r(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in $i){const t=$i[e];if(!t)continue;const{isEnabled:n,Feature:s}=t;if(!this.features[e]&&s&&n(this.props)&&(this.features[e]=new s(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<Xi.length;n++){const t=Xi[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const s=e["on"+t];s&&(this.propEventSubscriptions[t]=this.on(t,s))}this.prevMotionValues=function(e,t,n){for(const s in t){const r=t[s],a=n[s];if(ki(r))e.addValue(s,r);else if(ki(a))e.addValue(s,Ai(r,{owner:e}));else if(a!==r)if(e.hasValue(s)){const t=e.getValue(s);!0===t.liveStyle?t.jump(r):t.hasAnimated||t.set(r)}else{const t=e.getStaticValue(s);e.addValue(s,Ai(void 0!==t?t:r,{owner:e}))}}for(const s in n)void 0===t[s]&&e.removeValue(s);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=Ai(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){let n=void 0===this.latestValues[e]&&this.current?this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var s;return void 0!==n&&null!==n&&("string"===typeof n&&(ja(n)||qa(n))?n=parseFloat(n):(s=n,!Mi.find(ba(s))&&ui.test(t)&&(n=yi(e,t))),this.setBaseTarget(e,ki(n)?n.get():n)),ki(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let n;if("string"===typeof t||"object"===typeof t){const s=Yi(this.props,t,this.presenceContext?.custom);s&&(n=s[e])}if(t&&void 0!==n)return n;const s=this.getBaseTargetFromProps(this.props,e);return void 0===s||ki(s)?void 0!==this.initialValues[e]&&void 0===n?void 0:this.baseTarget[e]:s}on(e,t){return this.events[e]||(this.events[e]=new Ti),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];this.events[e].notify(...n)}}scheduleRenderMicrotask(){Oi.render(this.render)}}class Zi extends Qi{constructor(){super(...arguments),this.KeyframeResolver=ji}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:s}=t;delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ki(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}const eo=(e,t)=>t&&"number"===typeof e?t.transform(e):e,to={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},no=Cr.length;function so(e,t,n){const{style:s,vars:r,transformOrigin:a}=e;let i=!1,o=!1;for(const l in t){const e=t[l];if(Er.has(l))i=!0;else if(Vr(l))r[l]=e;else{const t=eo(e,xi[l]);l.startsWith("origin")?(o=!0,a[l]=t):s[l]=t}}if(t.transform||(i||n?s.transform=function(e,t,n){let s="",r=!0;for(let a=0;a<no;a++){const i=Cr[a],o=e[i];if(void 0===o)continue;let l=!0;if(l="number"===typeof o?o===(i.startsWith("scale")?1:0):0===parseFloat(o),!l||n){const e=eo(o,xi[i]);l||(r=!1,s+=`${to[i]||i}(${e}) `),n&&(t[i]=e)}}return s=s.trim(),n?s=n(t,r?"":s):r&&(s="none"),s}(t,e.transform,n):s.transform&&(s.transform="none")),o){const{originX:e="50%",originY:t="50%",originZ:n=0}=a;s.transformOrigin=`${e} ${t} ${n}`}}function ro(e,t,n,s){let{style:r,vars:a}=t;const i=e.style;let o;for(o in r)i[o]=r[o];for(o in s?.applyProjectionStyles(i,n),a)i.setProperty(o,a[o])}const ao={};function io(e,t){let{layout:n,layoutId:s}=t;return Er.has(e)||e.startsWith("origin")||(n||void 0!==s)&&(!!ao[e]||"opacity"===e)}function oo(e,t,n){const{style:s}=e,r={};for(const a in s)(ki(s[a])||t.style&&ki(t.style[a])||io(a,e)||void 0!==n?.getValue(a)?.liveStyle)&&(r[a]=s[a]);return r}class lo extends Zi{constructor(){super(...arguments),this.type="html",this.renderInstance=ro}readValueFromInstance(e,t){if(Er.has(t))return this.projection?.isProjecting?Dr(t):((e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Rr(n,t)})(e,t);{const s=(n=e,window.getComputedStyle(n)),r=(Vr(t)?s.getPropertyValue(t):s[t])||0;return"string"===typeof r?r.trim():r}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return ia(e,n)}build(e,t,n){so(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return oo(e,t,n)}}const co=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),uo={offset:"stroke-dashoffset",array:"stroke-dasharray"},ho={offset:"strokeDashoffset",array:"strokeDasharray"};function mo(e,t,n,s,r){let{attrX:a,attrY:i,attrScale:o,pathLength:l,pathSpacing:c=1,pathOffset:d=0,...u}=t;if(so(e,u,s),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:h,style:m}=e;h.transform&&(m.transform=h.transform,delete h.transform),(m.transform||h.transformOrigin)&&(m.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),m.transform&&(m.transformBox=r?.transformBox??"fill-box",delete h.transformBox),void 0!==a&&(h.x=a),void 0!==i&&(h.y=i),void 0!==o&&(h.scale=o),void 0!==l&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const a=r?uo:ho;e[a.offset]=fa.transform(-s);const i=fa.transform(t),o=fa.transform(n);e[a.array]=`${i} ${o}`}(h,l,c,d,!1)}const po=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),fo=e=>"string"===typeof e&&"svg"===e.toLowerCase();function go(e,t,n){const s=oo(e,t,n);for(const r in e)if(ki(e[r])||ki(t[r])){s[-1!==Cr.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]}return s}class xo extends Zi{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ii}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Er.has(t)){const e=bi(t);return e&&e.default||0}return t=po.has(t)?t:co(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return go(e,t,n)}build(e,t,n){mo(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,s){!function(e,t,n,s){ro(e,t,void 0,s);for(const r in t.attrs)e.setAttribute(po.has(r)?r:co(r),t.attrs[r])}(e,t,0,s)}mount(e){this.isSVGTag=fo(e.tagName),super.mount(e)}}const vo=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function bo(e){return"string"===typeof e&&!e.includes("-")&&!!(vo.indexOf(e)>-1||/[A-Z]/u.test(e))}const yo=(t,n)=>bo(t)?new xo(n):new lo(n,{allowProjection:t!==e.Fragment}),wo=(0,e.createContext)({strict:!1}),jo=(0,e.createContext)({});function ko(t){const{initial:n,animate:s}=function(e,t){if(Ki(e)){const{initial:t,animate:n}=e;return{initial:!1===t||Hi(t)?t:void 0,animate:Hi(n)?n:void 0}}return!1!==e.inherit?t:{}}(t,(0,e.useContext)(jo));return(0,e.useMemo)(()=>({initial:n,animate:s}),[No(n),No(s)])}function No(e){return Array.isArray(e)?e.join(" "):e}const _o=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function So(e,t,n){for(const s in t)ki(t[s])||io(s,n)||(e[s]=t[s])}function Co(t,n){const s={};return So(s,t.style||{},t),Object.assign(s,function(t,n){let{transformTemplate:s}=t;return(0,e.useMemo)(()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return so(e,n,s),Object.assign({},e.vars,e.style)},[n])}(t,n)),s}function Eo(e,t){const n={},s=Co(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const To=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}});function Po(t,n,s,r){const a=(0,e.useMemo)(()=>{const e={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return mo(e,n,fo(r),t.transformTemplate,t.style),{...e.attrs,style:{...e.style}}},[n]);if(t.style){const e={};So(e,t.style,t),a.style={...e,...a.style}}return a}const zo=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Lo(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||zo.has(e)}let Ao=e=>!Lo(e);try{"function"===typeof(Mo=require("@emotion/is-prop-valid").default)&&(Ao=e=>e.startsWith("on")?!Lo(e):Mo(e))}catch{}var Mo;function Oo(t,n,s,r,a){let{latestValues:i}=r,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const l=(bo(t)?Po:Eo)(n,i,a,t),c=function(e,t,n){const s={};for(const r in e)"values"===r&&"object"===typeof e.values||(Ao(r)||!0===n&&Lo(r)||!t&&!Lo(r)||e.draggable&&r.startsWith("onDrag"))&&(s[r]=e[r]);return s}(n,"string"===typeof t,o),d=t!==e.Fragment?{...c,...l,ref:s}:{},{children:u}=n,h=(0,e.useMemo)(()=>ki(u)?u.get():u,[u]);return(0,e.createElement)(t,{...d,children:h})}function Do(e){return ki(e)?e.get():e}function Ro(e,t,n,s){const r={},a=s(e,{});for(const h in a)r[h]=Do(a[h]);let{initial:i,animate:o}=e;const l=Ki(e),c=Gi(e);t&&c&&!l&&!1!==e.inherit&&(void 0===i&&(i=t.initial),void 0===o&&(o=t.animate));let d=!!n&&!1===n.initial;d=d||!1===i;const u=d?o:i;if(u&&"boolean"!==typeof u&&!Ui(u)){const t=Array.isArray(u)?u:[u];for(let n=0;n<t.length;n++){const s=Yi(e,t[n]);if(s){const{transitionEnd:e,transition:t,...n}=s;for(const s in n){let e=n[s];if(Array.isArray(e)){e=e[d?e.length-1:0]}null!==e&&(r[s]=e)}for(const s in e)r[s]=e[s]}}}return r}const $o=t=>(n,s)=>{const r=(0,e.useContext)(jo),a=(0,e.useContext)(fr),i=()=>function(e,t,n,s){let{scrapeMotionValuesFromProps:r,createRenderState:a}=e;return{latestValues:Ro(t,n,s,r),renderState:a()}}(t,n,r,a);return s?i():hr(i)},Io=$o({scrapeMotionValuesFromProps:oo,createRenderState:_o}),Vo=$o({scrapeMotionValuesFromProps:go,createRenderState:To});const Fo=Symbol.for("motionComponentSymbol");function Bo(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function Uo(t,n,s){return(0,e.useCallback)(e=>{e&&t.onMount&&t.onMount(e),n&&(e?n.mount(e):n.unmount()),s&&("function"===typeof s?s(e):Bo(s)&&(s.current=e))},[n])}const Ho="data-"+co("framerAppearId"),qo=(0,e.createContext)({});function Wo(t,n,s,r,a){const{visualElement:i}=(0,e.useContext)(jo),o=(0,e.useContext)(wo),l=(0,e.useContext)(fr),c=(0,e.useContext)(vr).reducedMotion,d=(0,e.useRef)(null);r=r||o.renderer,!d.current&&r&&(d.current=r(t,{visualState:n,parent:i,props:s,presenceContext:l,blockInitialAnimation:!!l&&!1===l.initial,reducedMotionConfig:c}));const u=d.current,h=(0,e.useContext)(qo);!u||u.projection||!a||"html"!==u.type&&"svg"!==u.type||function(e,t,n,s){const{layoutId:r,layout:a,drag:i,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Ko(e.parent)),e.projection.setOptions({layoutId:r,layout:a,alwaysMeasureLayout:Boolean(i)||o&&Bo(o),visualElement:e,animationType:"string"===typeof a?a:"both",initialPromotionConfig:s,crossfade:d,layoutScroll:l,layoutRoot:c})}(d.current,s,a,h);const m=(0,e.useRef)(!1);(0,e.useInsertionEffect)(()=>{u&&m.current&&u.update(s,l)});const p=s[Ho],f=(0,e.useRef)(Boolean(p)&&!window.MotionHandoffIsComplete?.(p)&&window.MotionHasOptimisedAnimation?.(p));return pr(()=>{u&&(m.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),f.current&&u.animationState&&u.animationState.animateChanges())}),(0,e.useEffect)(()=>{u&&(!f.current&&u.animationState&&u.animationState.animateChanges(),f.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(p)}),f.current=!1),u.enteringChildren=void 0)}),u}function Ko(e){if(e)return!1!==e.options.allowProjection?e.projection:Ko(e.parent)}function Go(t){let{forwardMotionProps:n=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;s&&function(e){for(const t in e)$i[t]={...$i[t],...e[t]}}(s);const a=bo(t)?Vo:Io;function i(s,i){let o;const l={...(0,e.useContext)(vr),...s,layoutId:Jo(s)},{isStatic:c}=l,d=ko(s),u=a(s,c);if(!c&&mr){!function(){(0,e.useContext)(wo).strict;0}();const n=function(e){const{drag:t,layout:n}=$i;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}(l);o=n.MeasureLayout,d.visualElement=Wo(t,u,l,r,n.ProjectionNode)}return(0,or.jsxs)(jo.Provider,{value:d,children:[o&&d.visualElement?(0,or.jsx)(o,{visualElement:d.visualElement,...l}):null,Oo(t,s,Uo(u,d.visualElement,i),u,c,n)]})}i.displayName=`motion.${"string"===typeof t?t:`create(${t.displayName??t.name??""})`}`;const o=(0,e.forwardRef)(i);return o[Fo]=t,o}function Jo(t){let{layoutId:n}=t;const s=(0,e.useContext)(ur).id;return s&&void 0!==n?s+"-"+n:n}function Yo(e,t){if("undefined"===typeof Proxy)return Go;const n=new Map,s=(n,s)=>Go(n,s,e,t);return new Proxy((e,t)=>s(e,t),{get:(r,a)=>"create"===a?s:(n.has(a)||n.set(a,Go(a,void 0,e,t)),n.get(a))})}function Xo(e,t,n){const s=e.getProps();return Yi(s,t,void 0!==n?n:s.custom,e)}function Qo(e,t){return e?.[t]??e?.default??e}const Zo=e=>Array.isArray(e);function el(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ai(n))}function tl(e){return Zo(e)?e[e.length-1]||0:e}function nl(e,t){const n=e.getValue("willChange");if(s=n,Boolean(ki(s)&&s.add))return n.add(t);if(!n&&Pa.WillChange){const n=new Pa.WillChange("auto");e.addValue("willChange",n),n.add(t)}var s}function sl(e){return e.props[Ho]}function rl(e){e.duration=0,e.type}const al=(e,t)=>n=>t(e(n)),il=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(al)},ol=e=>1e3*e,ll=e=>e/1e3,cl={layout:0,mainThread:0,waapi:0};function dl(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function ul(e,t){return n=>n>0?t:e}const hl=(e,t,n)=>{const s=e*e,r=n*(t*t-s)+s;return r<0?0:Math.sqrt(r)},ml=[ei,Za,ti];function pl(e){const t=(n=e,ml.find(e=>e.test(n)));var n;if(Boolean(t),!Boolean(t))return!1;let s=t.parse(e);return t===ti&&(s=function(e){let{hue:t,saturation:n,lightness:s,alpha:r}=e;t/=360,n/=100,s/=100;let a=0,i=0,o=0;if(n){const e=s<.5?s*(1+n):s+n-s*n,r=2*s-e;a=dl(r,e,t+1/3),i=dl(r,e,t),o=dl(r,e,t-1/3)}else a=i=o=s;return{red:Math.round(255*a),green:Math.round(255*i),blue:Math.round(255*o),alpha:r}}(s)),s}const fl=(e,t)=>{const n=pl(e),s=pl(t);if(!n||!s)return ul(e,t);const r={...n};return e=>(r.red=hl(n.red,s.red,e),r.green=hl(n.green,s.green,e),r.blue=hl(n.blue,s.blue,e),r.alpha=qr(n.alpha,s.alpha,e),Za.transform(r))},gl=new Set(["none","hidden"]);function xl(e,t){return n=>qr(e,t,n)}function vl(e){return"number"===typeof e?xl:"string"===typeof e?Br(e)?ul:ni.test(e)?fl:wl:Array.isArray(e)?bl:"object"===typeof e?ni.test(e)?fl:yl:ul}function bl(e,t){const n=[...e],s=n.length,r=e.map((e,n)=>vl(e)(e,t[n]));return e=>{for(let t=0;t<s;t++)n[t]=r[t](e);return n}}function yl(e,t){const n={...e,...t},s={};for(const r in n)void 0!==e[r]&&void 0!==t[r]&&(s[r]=vl(e[r])(e[r],t[r]));return e=>{for(const t in s)n[t]=s[t](e);return n}}const wl=(e,t)=>{const n=ui.createTransformer(t),s=oi(e),r=oi(t);return s.indexes.var.length===r.indexes.var.length&&s.indexes.color.length===r.indexes.color.length&&s.indexes.number.length>=r.indexes.number.length?gl.has(e)&&!r.values.length||gl.has(t)&&!s.values.length?function(e,t){return gl.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):il(bl(function(e,t){const n=[],s={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const a=t.types[r],i=e.indexes[a][s[a]],o=e.values[i]??0;n[r]=o,s[a]++}return n}(s,r),r.values),n):ul(e,t)};function jl(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return qr(e,t,n);return vl(e)(e,t)}const kl=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Ma.update(t,e)},stop:()=>Oa(t),now:()=>Da.isProcessing?Da.timestamp:Si.now()}},Nl=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,s="";const r=Math.max(Math.round(t/n),2);for(let a=0;a<r;a++)s+=Math.round(1e4*e(a/(r-1)))/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},_l=2e4;function Sl(e){let t=0;let n=e.next(t);for(;!n.done&&t<_l;)t+=50,n=e.next(t);return t>=_l?1/0:t}function Cl(e,t,n){const s=Math.max(t-5,0);return Pi(n-e(s),t-s)}const El={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Tl=.001;function Pl(e){let t,n,{duration:s=El.duration,bounce:r=El.bounce,velocity:a=El.velocity,mass:i=El.mass}=e;ol(El.maxDuration);let o=1-r;o=la(El.minDamping,El.maxDamping,o),s=la(El.minDuration,El.maxDuration,ll(s)),o<1?(t=e=>{const t=e*o,n=t*s,r=t-a,i=Ll(e,o),l=Math.exp(-n);return Tl-r/i*l},n=e=>{const n=e*o*s,r=n*a+a,i=Math.pow(o,2)*Math.pow(e,2)*s,l=Math.exp(-n),c=Ll(Math.pow(e,2),o);return(-t(e)+Tl>0?-1:1)*((r-i)*l)/c}):(t=e=>Math.exp(-e*s)*((e-a)*s+1)-.001,n=e=>Math.exp(-e*s)*(s*s*(a-e)));const l=function(e,t,n){let s=n;for(let r=1;r<zl;r++)s-=e(s)/t(s);return s}(t,n,5/s);if(s=ol(s),isNaN(l))return{stiffness:El.stiffness,damping:El.damping,duration:s};{const e=Math.pow(l,2)*i;return{stiffness:e,damping:2*o*Math.sqrt(i*e),duration:s}}}const zl=12;function Ll(e,t){return e*Math.sqrt(1-t*t)}const Al=["duration","bounce"],Ml=["stiffness","damping","mass"];function Ol(e,t){return t.some(t=>void 0!==e[t])}function Dl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:El.visualDuration,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:El.bounce;const n="object"!==typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:r}=n;const a=n.keyframes[0],i=n.keyframes[n.keyframes.length-1],o={done:!1,value:a},{stiffness:l,damping:c,mass:d,duration:u,velocity:h,isResolvedFromDuration:m}=function(e){let t={velocity:El.velocity,stiffness:El.stiffness,damping:El.damping,mass:El.mass,isResolvedFromDuration:!1,...e};if(!Ol(e,Ml)&&Ol(e,Al))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(1.2*n),r=s*s,a=2*la(.05,1,1-(e.bounce||0))*Math.sqrt(r);t={...t,mass:El.mass,stiffness:r,damping:a}}else{const n=Pl(e);t={...t,...n,mass:El.mass},t.isResolvedFromDuration=!0}return t}({...n,velocity:-ll(n.velocity||0)}),p=h||0,f=c/(2*Math.sqrt(l*d)),g=i-a,x=ll(Math.sqrt(l/d)),v=Math.abs(g)<5;let b;if(s||(s=v?El.restSpeed.granular:El.restSpeed.default),r||(r=v?El.restDelta.granular:El.restDelta.default),f<1){const e=Ll(x,f);b=t=>{const n=Math.exp(-f*x*t);return i-n*((p+f*x*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===f)b=e=>i-Math.exp(-x*e)*(g+(p+x*g)*e);else{const e=x*Math.sqrt(f*f-1);b=t=>{const n=Math.exp(-f*x*t),s=Math.min(e*t,300);return i-n*((p+f*x*g)*Math.sinh(s)+e*g*Math.cosh(s))/e}}const y={calculatedDuration:m&&u||null,next:e=>{const t=b(e);if(m)o.done=e>=u;else{let n=0===e?p:0;f<1&&(n=0===e?ol(p):Cl(b,e,t));const a=Math.abs(n)<=s,l=Math.abs(i-t)<=r;o.done=a&&l}return o.value=o.done?i:t,o},toString:()=>{const e=Math.min(Sl(y),_l),t=Nl(t=>y.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return y}function Rl(e){let{keyframes:t,velocity:n=0,power:s=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}=e;const h=t[0],m={done:!1,value:h},p=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let f=s*n;const g=h+f,x=void 0===o?g:o(g);x!==g&&(f=x-h);const v=e=>-f*Math.exp(-e/r),b=e=>x+v(e),y=e=>{const t=v(e),n=b(e);m.done=Math.abs(t)<=d,m.value=m.done?x:n};let w,j;const k=e=>{var t;(t=m.value,void 0!==l&&t<l||void 0!==c&&t>c)&&(w=e,j=Dl({keyframes:[m.value,p(m.value)],velocity:Cl(b,e,m.value),damping:a,stiffness:i,restDelta:d,restSpeed:u}))};return k(0),{calculatedDuration:null,next:e=>{let t=!1;return j||void 0!==w||(t=!0,y(e),k(e)),void 0!==w&&e>=w?j.next(e-w):(!t&&y(e),m)}}}Dl.applyToOptions=e=>{const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const n=(arguments.length>2?arguments[2]:void 0)({...e,keyframes:[0,t]}),s=Math.min(Sl(n),_l);return{type:"keyframes",ease:e=>n.next(s*e).value/t,duration:ll(s)}}(e,100,Dl);return e.ease=t.ease,e.duration=ol(t.duration),e.type="keyframes",e};const $l=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function Il(e,t,n,s){if(e===t&&n===s)return Ta;const r=t=>function(e,t,n,s,r){let a,i,o=0;do{i=t+(n-t)/2,a=$l(i,s,r)-e,a>0?n=i:t=i}while(Math.abs(a)>1e-7&&++o<12);return i}(t,0,1,e,n);return e=>0===e||1===e?e:$l(r(e),t,s)}const Vl=Il(.42,0,1,1),Fl=Il(0,0,.58,1),Bl=Il(.42,0,.58,1),Ul=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Hl=e=>t=>1-e(1-t),ql=Il(.33,1.53,.69,.99),Wl=Hl(ql),Kl=Ul(Wl),Gl=e=>(e*=2)<1?.5*Wl(e):.5*(2-Math.pow(2,-10*(e-1))),Jl=e=>1-Math.sin(Math.acos(e)),Yl=Hl(Jl),Xl=Ul(Jl),Ql=e=>Array.isArray(e)&&"number"===typeof e[0],Zl={linear:Ta,easeIn:Vl,easeInOut:Bl,easeOut:Fl,circIn:Jl,circInOut:Xl,circOut:Yl,backIn:Wl,backInOut:Kl,backOut:ql,anticipate:Gl},ec=e=>{if(Ql(e)){e.length;const[t,n,s,r]=e;return Il(t,n,s,r)}return"string"===typeof e?Zl[e]:e},tc=(e,t,n)=>{const s=t-e;return 0===s?1:(n-e)/s};function nc(e,t){let{clamp:n=!0,ease:s,mixer:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=e.length;if(t.length,1===a)return()=>t[0];if(2===a&&t[0]===t[1])return()=>t[1];const i=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=function(e,t,n){const s=[],r=n||Pa.mix||jl,a=e.length-1;for(let i=0;i<a;i++){let n=r(e[i],e[i+1]);if(t){const e=Array.isArray(t)?t[i]||Ta:t;n=il(e,n)}s.push(n)}return s}(t,s,r),l=o.length,c=n=>{if(i&&n<e[0])return t[0];let s=0;if(l>1)for(;s<e.length-2&&!(n<e[s+1]);s++);const r=tc(e[s],e[s+1],n);return o[s](r)};return n?t=>c(la(e[0],e[a-1],t)):c}function sc(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const r=tc(0,t,s);e.push(qr(n,1,r))}}(t,e.length-1),t}function rc(e){let{duration:t=300,keyframes:n,times:s,ease:r="easeInOut"}=e;const a=(e=>Array.isArray(e)&&"number"!==typeof e[0])(r)?r.map(ec):ec(r),i={done:!1,value:n[0]},o=function(e,t){return e.map(e=>e*t)}(s&&s.length===n.length?s:sc(n),t),l=nc(o,n,{ease:Array.isArray(a)?a:(c=n,d=a,c.map(()=>d||Bl).splice(0,c.length-1))});var c,d;return{calculatedDuration:t,next:e=>(i.value=l(e),i.done=e>=t,i)}}const ac=e=>null!==e;function ic(e,t,n){let{repeat:s,repeatType:r="loop"}=t,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const i=e.filter(ac),o=a<0||s&&"loop"!==r&&s%2===1?0:i.length-1;return o&&void 0!==n?n:i[o]}const oc={decay:Rl,inertia:Rl,tween:rc,keyframes:rc,spring:Dl};function lc(e){"string"===typeof e.type&&(e.type=oc[e.type])}class cc{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const dc=e=>e/100;class uc extends cc{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==Si.now()&&this.tick(Si.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),this.options.onStop?.())},cl.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){const{options:e}=this;lc(e);const{type:t=rc,repeat:n=0,repeatDelay:s=0,repeatType:r,velocity:a=0}=e;let{keyframes:i}=e;const o=t||rc;o!==rc&&"number"!==typeof i[0]&&(this.mixKeyframes=il(dc,jl(i[0],i[1])),i=[0,100]);const l=o({...e,keyframes:i});"mirror"===r&&(this.mirroredGenerator=o({...e,keyframes:[...i].reverse(),velocity:-a})),null===l.calculatedDuration&&(l.calculatedDuration=Sl(l));const{calculatedDuration:c}=l;this.calculatedDuration=c,this.resolvedDuration=c+s,this.totalDuration=this.resolvedDuration*(n+1)-s,this.generator=l}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{generator:n,totalDuration:s,mixKeyframes:r,mirroredGenerator:a,resolvedDuration:i,calculatedDuration:o}=this;if(null===this.startTime)return n.next(0);const{delay:l=0,keyframes:c,repeat:d,repeatType:u,repeatDelay:h,type:m,onUpdate:p,finalKeyframe:f}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),x=this.playbackSpeed>=0?g<0:g>s;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=s);let v=this.currentTime,b=n;if(d){const e=Math.min(this.currentTime,s)/i;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,d+1);Boolean(t%2)&&("reverse"===u?(n=1-n,h&&(n-=h/i)):"mirror"===u&&(b=a)),v=la(0,1,n)*i}const y=x?{done:!1,value:c[0]}:b.next(v);r&&(y.value=r(y.value));let{done:w}=y;x||null===o||(w=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const j=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return j&&m!==Rl&&(y.value=ic(c,this.options,f,this.speed)),p&&p(y.value),j&&this.finish(),y}then(e,t){return this.finished.then(e,t)}get duration(){return ll(this.calculatedDuration)}get time(){return ll(this.currentTime)}set time(e){e=ol(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Si.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=ll(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=kl,startTime:t}=this.options;this.driver||(this.driver=e(e=>this.tick(e))),this.options.onPlay?.();const n=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=n):null!==this.holdTime?this.startTime=n-this.holdTime:this.startTime||(this.startTime=t??n),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Si.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,cl.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function hc(e){let t;return()=>(void 0===t&&(t=e()),t)}const mc=hc(()=>void 0!==window.ScrollTimeline),pc={};function fc(e,t){const n=hc(e);return()=>pc[t]??n()}const gc=fc(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(px){return!1}return!0},"linearEasing"),xc=e=>{let[t,n,s,r]=e;return`cubic-bezier(${t}, ${n}, ${s}, ${r})`},vc={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:xc([0,.65,.55,1]),circOut:xc([.55,0,1,.45]),backIn:xc([.31,.01,.66,-.59]),backOut:xc([.33,1.53,.69,.99])};function bc(e,t){return e?"function"===typeof e?gc()?Nl(e,t):"ease-out":Ql(e)?xc(e):Array.isArray(e)?e.map(e=>bc(e,t)||vc.easeOut):vc[e]:void 0}function yc(e,t,n){let{delay:s=0,duration:r=300,repeat:a=0,repeatType:i="loop",ease:o="easeOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const d={[t]:n};l&&(d.offset=l);const u=bc(o,r);Array.isArray(u)&&(d.easing=u),La.value&&cl.waapi++;const h={delay:s,duration:r,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:a+1,direction:"reverse"===i?"alternate":"normal"};c&&(h.pseudoElement=c);const m=e.animate(d,h);return La.value&&m.finished.finally(()=>{cl.waapi--}),m}function wc(e){return"function"===typeof e&&"applyToOptions"in e}class jc extends cc{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:s,pseudoElement:r,allowFlatten:a=!1,finalKeyframe:i,onComplete:o}=e;this.isPseudoElement=Boolean(r),this.allowFlatten=a,this.options=e,e.type;const l=function(e){let{type:t,...n}=e;return wc(t)&&gc()?t.applyToOptions(n):(n.duration??(n.duration=300),n.ease??(n.ease="easeOut"),n)}(e);this.animation=yc(t,n,s,l,r),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const e=ic(s,this.options,i,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,n){(e=>e.startsWith("--"))(t)?e.style.setProperty(t,n):e.style[t]=n}(t,n,e),this.animation.cancel()}o?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch(px){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ll(Number(e))}get time(){return ll(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ol(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline(e){let{timeline:t,observe:n}=e;return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&mc()?(this.animation.timeline=t,Ta):n(this)}}const kc={anticipate:Gl,backInOut:Kl,circInOut:Xl};function Nc(e){"string"===typeof e.ease&&e.ease in kc&&(e.ease=kc[e.ease])}class _c extends jc{constructor(e){Nc(e),lc(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:n,onComplete:s,element:r,...a}=this.options;if(!t)return;if(void 0!==e)return void t.set(e);const i=new uc({...a,autoplay:!1}),o=ol(this.finishedTime??this.time);t.setWithVelocity(i.sample(o-10).value,i.sample(o).value,10),i.stop()}}const Sc=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!ui.test(e)&&"0"!==e||e.startsWith("url(")));const Cc=new Set(["opacity","clipPath","filter","transform"]),Ec=hc(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));class Tc extends cc{constructor(e){let{autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:i="loop",keyframes:o,name:l,motionValue:c,element:d,...u}=e;super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Si.now();const h={autoplay:t,delay:n,type:s,repeat:r,repeatDelay:a,repeatType:i,name:l,motionValue:c,element:d,...u},m=d?.KeyframeResolver||Ha;this.keyframeResolver=new m(o,(e,t,n)=>this.onKeyframesResolved(e,t,h,!n),l,c,d),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,n,s){this.keyframeResolver=void 0;const{name:r,type:a,velocity:i,delay:o,isHandoff:l,onUpdate:c}=n;this.resolvedAt=Si.now(),function(e,t,n,s){const r=e[0];if(null===r)return!1;if("display"===t||"visibility"===t)return!0;const a=e[e.length-1],i=Sc(r,t),o=Sc(a,t);return!(!i||!o)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||wc(n))&&s)}(e,r,a,i)||(!Pa.instantAnimations&&o||c?.(ic(e,n,t)),e[0]=e[e.length-1],rl(n),n.repeat=0);const d={startTime:s?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t,...n,keyframes:e},u=!l&&function(e){const{motionValue:t,name:n,repeatDelay:s,repeatType:r,damping:a,type:i}=e,o=t?.owner?.current;if(!(o instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return Ec()&&n&&Cc.has(n)&&("transform"!==n||!c)&&!l&&!s&&"mirror"!==r&&0!==a&&"inertia"!==i}(d)?new _c({...d,element:d.motionValue.owner.current}):new uc(d);u.finished.then(()=>this.notifyFinished()).catch(Ta),this.pendingTimeline&&(this.stopTimeline=u.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=u}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Fa=!0,Ua(),Ba(),Fa=!1),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Pc=e=>null!==e;const zc={type:"spring",stiffness:500,damping:25,restSpeed:10},Lc={type:"keyframes",duration:.8},Ac={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Mc=(e,t)=>{let{keyframes:n}=t;return n.length>2?Lc:Er.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:zc:Ac};const Oc=function(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;return i=>{const o=Qo(s,e)||{},l=o.delay||s.delay||0;let{elapsed:c=0}=s;c-=ol(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{i(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:a?void 0:r};(function(e){let{when:t,delay:n,delayChildren:s,staggerChildren:r,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}=e;return!!Object.keys(u).length})(o)||Object.assign(d,Mc(e,d)),d.duration&&(d.duration=ol(d.duration)),d.repeatDelay&&(d.repeatDelay=ol(d.repeatDelay)),void 0!==d.from&&(d.keyframes[0]=d.from);let u=!1;if((!1===d.type||0===d.duration&&!d.repeatDelay)&&(rl(d),0===d.delay&&(u=!0)),(Pa.instantAnimations||Pa.skipAnimations)&&(u=!0,rl(d),d.delay=0),d.allowFlatten=!o.type&&!o.ease,u&&!a&&void 0!==t.get()){const e=function(e,t,n){let{repeat:s,repeatType:r="loop"}=t;const a=e.filter(Pc),i=s&&"loop"!==r&&s%2===1?0:a.length-1;return i&&void 0!==n?n:a[i]}(d.keyframes,o);if(void 0!==e)return void Ma.update(()=>{d.onUpdate(e),d.onComplete()})}return o.isSync?new uc(d):new Tc(d)}};function Dc(e,t){let{protectedKeys:n,needsAnimating:s}=e;const r=n.hasOwnProperty(t)&&!0!==s[t];return s[t]=!1,r}function Rc(e,t){let{delay:n=0,transitionOverride:s,type:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:a=e.getDefaultTransition(),transitionEnd:i,...o}=t;s&&(a=s);const l=[],c=r&&e.animationState&&e.animationState.getState()[r];for(const d in o){const t=e.getValue(d,e.latestValues[d]??null),s=o[d];if(void 0===s||c&&Dc(c,d))continue;const r={delay:n,...Qo(a||{},d)},i=t.get();if(void 0!==i&&!t.isAnimating&&!Array.isArray(s)&&s===i&&!r.velocity)continue;let u=!1;if(window.MotionHandoffAnimation){const t=sl(e);if(t){const e=window.MotionHandoffAnimation(t,d,Ma);null!==e&&(r.startTime=e,u=!0)}}nl(e,d),t.start(Oc(d,t,s,e.shouldReduceMotion&&oa.has(d)?{type:!1}:r,e,u));const h=t.animation;h&&l.push(h)}return i&&Promise.all(l).then(()=>{Ma.update(()=>{i&&function(e,t){const n=Xo(e,t);let{transitionEnd:s={},transition:r={},...a}=n||{};a={...a,...s};for(const i in a)el(e,i,tl(a[i]))}(e,i)})}),l}function $c(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;const a=Array.from(e).sort((e,t)=>e.sortNodePosition(t)).indexOf(t),i=e.size,o=(i-1)*s;return"function"===typeof n?n(a,i):1===r?a*s:o-a*s}function Ic(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=Xo(e,t,"exit"===n.type?e.presenceContext?.custom:void 0);let{transition:r=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(r=n.transitionOverride);const a=s?()=>Promise.all(Rc(e,s,n)):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?function(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:a=0,staggerChildren:i,staggerDirection:o}=r;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,i=arguments.length>6?arguments[6]:void 0;const o=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),o.push(Ic(l,t,{...i,delay:n+("function"===typeof s?0:s)+$c(e.variantChildren,l,s,r,a)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(o)}(e,t,s,a,i,o,n)}:()=>Promise.resolve(),{when:o}=r;if(o){const[e,t]="beforeChildren"===o?[a,i]:[i,a];return e().then(()=>t())}return Promise.all([a(),i(n.delay)])}function Vc(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const Fc=Wi.length;function Bc(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&Bc(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<Fc;n++){const s=Wi[n],r=e.props[s];(Hi(r)||!1===r)&&(t[s]=r)}return t}const Uc=[...qi].reverse(),Hc=qi.length;function qc(e){return t=>Promise.all(t.map(t=>{let{animation:n,options:s}=t;return function(e,t){let n,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const r=t.map(t=>Ic(e,t,s));n=Promise.all(r)}else if("string"===typeof t)n=Ic(e,t,s);else{const r="function"===typeof t?Xo(e,t,s.custom):t;n=Promise.all(Rc(e,r,s))}return n.then(()=>{e.notify("AnimationComplete",t)})}(e,n,s)}))}function Wc(e){let t=qc(e),n=Jc(),s=!0;const r=t=>(n,s)=>{const r=Xo(e,s,"exit"===t?e.presenceContext?.custom:void 0);if(r){const{transition:e,transitionEnd:t,...s}=r;n={...n,...s,...t}}return n};function a(a){const{props:i}=e,o=Bc(e.parent)||{},l=[],c=new Set;let d={},u=1/0;for(let t=0;t<Hc;t++){const h=Uc[t],m=n[h],p=void 0!==i[h]?i[h]:o[h],f=Hi(p),g=h===a?m.isActive:null;!1===g&&(u=t);let x=p===o[h]&&p!==i[h]&&f;if(x&&s&&e.manuallyAnimateOnMount&&(x=!1),m.protectedKeys={...d},!m.isActive&&null===g||!p&&!m.prevProp||Ui(p)||"boolean"===typeof p)continue;const v=Kc(m.prevProp,p);let b=v||h===a&&m.isActive&&!x&&f||t>u&&f,y=!1;const w=Array.isArray(p)?p:[p];let j=w.reduce(r(h),{});!1===g&&(j={});const{prevResolvedValues:k={}}=m,N={...k,...j},_=t=>{b=!0,c.has(t)&&(y=!0,c.delete(t)),m.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in N){const t=j[e],n=k[e];if(d.hasOwnProperty(e))continue;let s=!1;s=Zo(t)&&Zo(n)?!Vc(t,n):t!==n,s?void 0!==t&&null!==t?_(e):c.add(e):void 0!==t&&c.has(e)?_(e):m.protectedKeys[e]=!0}m.prevProp=p,m.prevResolvedValues=j,m.isActive&&(d={...d,...j}),s&&e.blockInitialAnimation&&(b=!1);const S=x&&v;b&&(!S||y)&&l.push(...w.map(t=>{const n={type:h};if("string"===typeof t&&s&&!S&&e.manuallyAnimateOnMount&&e.parent){const{parent:s}=e,r=Xo(s,t);if(s.enteringChildren&&r){const{delayChildren:t}=r.transition||{};n.delay=$c(s.enteringChildren,e,t)}}return{animation:t,options:n}}))}if(c.size){const t={};if("boolean"!==typeof i.initial){const n=Xo(e,Array.isArray(i.initial)?i.initial[0]:i.initial);n&&n.transition&&(t.transition=n.transition)}c.forEach(n=>{const s=e.getBaseTarget(n),r=e.getValue(n);r&&(r.liveStyle=!0),t[n]=s??null}),l.push({animation:t})}let h=Boolean(l.length);return!s||!1!==i.initial&&i.initial!==i.animate||e.manuallyAnimateOnMount||(h=!1),s=!1,h?t(l):Promise.resolve()}return{animateChanges:a,setActive:function(t,s){if(n[t].isActive===s)return Promise.resolve();e.variantChildren?.forEach(e=>e.animationState?.setActive(t,s)),n[t].isActive=s;const r=a(t);for(const e in n)n[e].protectedKeys={};return r},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=Jc(),s=!0}}}function Kc(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!Vc(t,e)}function Gc(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Jc(){return{animate:Gc(!0),whileInView:Gc(),whileHover:Gc(),whileTap:Gc(),whileDrag:Gc(),whileFocus:Gc(),exit:Gc()}}class Yc{constructor(e){this.isMounted=!1,this.node=e}update(){}}let Xc=0;const Qc={animation:{Feature:class extends Yc{constructor(e){super(e),e.animationState||(e.animationState=Wc(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ui(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}},exit:{Feature:class extends Yc{constructor(){super(...arguments),this.id=Xc++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const s=this.node.animationState.setActive("exit",!e);t&&!e&&s.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}},Zc={x:!1,y:!1};function ed(){return Zc.x||Zc.y}function td(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}const nd=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function sd(e){return{point:{x:e.pageX,y:e.pageY}}}function rd(e,t,n,s){return td(e,t,(e=>t=>nd(t)&&e(t,sd(t)))(n),s)}function ad(e){return e.max-e.min}function id(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=s,e.originPoint=qr(t.min,t.max,e.origin),e.scale=ad(n)/ad(t),e.translate=qr(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function od(e,t,n,s){id(e.x,t.x,n.x,s?s.originX:void 0),id(e.y,t.y,n.y,s?s.originY:void 0)}function ld(e,t,n){e.min=n.min+t.min,e.max=e.min+ad(t)}function cd(e,t,n){e.min=t.min-n.min,e.max=e.min+ad(t)}function dd(e,t,n){cd(e.x,t.x,n.x),cd(e.y,t.y,n.y)}function ud(e){return[e("x"),e("y")]}const hd=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},md=(e,t)=>Math.abs(e-t);class pd{constructor(e,t){let{transformPagePoint:n,contextWindow:s=window,dragSnapToOrigin:r=!1,distanceThreshold:a=3}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=xd(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=md(e.x,t.x),s=md(e.y,t.y);return Math.sqrt(n**2+s**2)}(e.offset,{x:0,y:0})>=this.distanceThreshold;if(!t&&!n)return;const{point:s}=e,{timestamp:r}=Da;this.history.push({...s,timestamp:r});const{onStart:a,onMove:i}=this.handlers;t||(a&&a(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),i&&i(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=fd(t,this.transformPagePoint),Ma.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:s,resumeAnimation:r}=this.handlers;if(this.dragSnapToOrigin&&r&&r(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const a=xd("pointercancel"===e.type?this.lastMoveEventInfo:fd(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,a),s&&s(e,a)},!nd(e))return;this.dragSnapToOrigin=r,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=s||window;const i=fd(sd(e),this.transformPagePoint),{point:o}=i,{timestamp:l}=Da;this.history=[{...o,timestamp:l}];const{onSessionStart:c}=t;c&&c(e,xd(i,this.history)),this.removeListeners=il(rd(this.contextWindow,"pointermove",this.handlePointerMove),rd(this.contextWindow,"pointerup",this.handlePointerUp),rd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Oa(this.updatePoint)}}function fd(e,t){return t?{point:t(e.point)}:e}function gd(e,t){return{x:e.x-t.x,y:e.y-t.y}}function xd(e,t){let{point:n}=e;return{point:n,delta:gd(n,bd(t)),offset:gd(n,vd(t)),velocity:yd(t,.1)}}function vd(e){return e[0]}function bd(e){return e[e.length-1]}function yd(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const r=bd(e);for(;n>=0&&(s=e[n],!(r.timestamp-s.timestamp>ol(t)));)n--;if(!s)return{x:0,y:0};const a=ll(r.timestamp-s.timestamp);if(0===a)return{x:0,y:0};const i={x:(r.x-s.x)/a,y:(r.y-s.y)/a};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function wd(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function jd(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}const kd=.35;function Nd(e,t,n){return{min:_d(e,t),max:_d(e,n)}}function _d(e,t){return"number"===typeof e?e:e[t]||0}const Sd=new WeakMap;class Cd{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e){let{snapToCursor:t=!1,distanceThreshold:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:s}=this.visualElement;if(s&&!1===s.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new pd(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(sd(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:s,onDragStart:r}=this.getProps();if(n&&!s&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(a=n)||"y"===a?Zc[a]?null:(Zc[a]=!0,()=>{Zc[a]=!1}):Zc.x||Zc.y?null:(Zc.x=Zc.y=!0,()=>{Zc.x=Zc.y=!1}),!this.openDragLock))return;var a;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ud(e=>{let t=this.getAxisMotionValue(e).get()||0;if(pa.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const s=n.layout.layoutBox[e];if(s){t=ad(s)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),r&&Ma.postRender(()=>r(e,t)),nl(this.visualElement,"transform");const{animationState:i}=this.visualElement;i&&i.setActive("whileDrag",!0)},onMove:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;const{dragPropagation:n,dragDirectionLock:s,onDirectionLock:r,onDrag:a}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:i}=t;if(s&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(i),void(null!==this.currentDirection&&r&&r(this.currentDirection));this.updateAxis("x",t.point,i),this.updateAxis("y",t.point,i),this.visualElement.render(),a&&a(e,t)},onSessionEnd:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},resumeAnimation:()=>ud(e=>"paused"===this.getAnimationState(e)&&this.getAxisMotionValue(e).animation?.play())},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,distanceThreshold:n,contextWindow:hd(this.visualElement)})}stop(e,t){const n=e||this.latestPointerEvent,s=t||this.latestPanInfo,r=this.isDragging;if(this.cancel(),!r||!s||!n)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&Ma.postRender(()=>i(n,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:s}=this.getProps();if(!n||!Ed(e,s,this.currentDirection))return;const r=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=function(e,t,n){let{min:s,max:r}=t;return void 0!==s&&e<s?e=n?qr(s,e,n.min):Math.max(e,s):void 0!==r&&e>r&&(e=n?qr(r,e,n.max):Math.min(e,r)),e}(a,this.constraints[e],this.elastic[e])),r.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&Bo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!e||!n)&&function(e,t){let{top:n,left:s,bottom:r,right:a}=t;return{x:wd(e.x,s,a),y:wd(e.y,n,r)}}(n.layoutBox,e),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kd;return!1===e?e=0:!0===e&&(e=kd),{x:Nd(e,"left","right"),y:Nd(e,"top","bottom")}}(t),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&ud(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(n.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Bo(e))return!1;const n=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const r=function(e,t,n){const s=ia(e,n),{scroll:r}=t;return r&&(sa(s.x,r.offset.x),sa(s.y,r.offset.y)),s}(n,s.root,this.visualElement.getTransformPagePoint());let a=function(e,t){return{x:jd(e.x,t.x),y:jd(e.y,t.y)}}(s.layout.layoutBox,r);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(a));this.hasMutatedConstraints=!!e,e&&(a=Hr(e))}return a}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:s,dragTransition:r,dragSnapToOrigin:a,onDragTransitionEnd:i}=this.getProps(),o=this.constraints||{},l=ud(i=>{if(!Ed(i,t,this.currentDirection))return;let l=o&&o[i]||{};a&&(l={min:0,max:0});const c=s?200:1e6,d=s?40:1e7,u={type:"inertia",velocity:n?e[i]:0,bounceStiffness:c,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...r,...l};return this.startAxisValueAnimation(i,u)});return Promise.all(l).then(i)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return nl(this.visualElement,e),n.start(Oc(e,n,0,t,this.visualElement,!1))}stopAnimation(){ud(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ud(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),s=n[t];return s||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){ud(t=>{const{drag:n}=this.getProps();if(!Ed(t,n,this.currentDirection))return;const{projection:s}=this.visualElement,r=this.getAxisMotionValue(t);if(s&&s.layout){const{min:n,max:a}=s.layout.layoutBox[t];r.set(e[t]-qr(n,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Bo(t)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ud(e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();s[e]=function(e,t){let n=.5;const s=ad(e),r=ad(t);return r>s?n=tc(t.min,t.max-s,e.min):s>r&&(n=tc(e.min,e.max-r,t.min)),la(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),ud(t=>{if(!Ed(t,e,null))return;const n=this.getAxisMotionValue(t),{min:r,max:a}=this.constraints[t];n.set(qr(r,a,s[t]))})}addListeners(){if(!this.visualElement.current)return;Sd.set(this.visualElement,this);const e=rd(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();Bo(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,s=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),Ma.read(t);const r=td(window,"resize",()=>this.scalePositionWithinConstraints()),a=n.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(ud(e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))}),this.visualElement.render())});return()=>{r(),e(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:r=!1,dragElastic:a=kd,dragMomentum:i=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:s,dragConstraints:r,dragElastic:a,dragMomentum:i}}}function Ed(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const Td=e=>(t,n)=>{e&&Ma.postRender(()=>e(t,n))};const Pd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function zd(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ld={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!fa.test(e))return e;e=parseFloat(e)}return`${zd(e,t.target.x)}% ${zd(e,t.target.y)}%`}},Ad={correct:(e,t)=>{let{treeScale:n,projectionDelta:s}=t;const r=e,a=ui.parse(e);if(a.length>5)return r;const i=ui.createTransformer(e),o="number"!==typeof a[0]?1:0,l=s.x.scale*n.x,c=s.y.scale*n.y;a[0+o]/=l,a[1+o]/=c;const d=qr(l,c,.5);return"number"===typeof a[2+o]&&(a[2+o]/=d),"number"===typeof a[3+o]&&(a[3+o]/=d),i(a)}};let Md=!1;class Od extends e.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:s}=this.props,{projection:r}=e;!function(e){for(const t in e)ao[t]=e[t],Vr(t)&&(ao[t].isCSSVariable=!0)}(Rd),r&&(t.group&&t.group.add(r),n&&n.register&&s&&n.register(r),Md&&r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),Pd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:s,isPresent:r}=this.props,{projection:a}=n;return a?(a.isPresent=r,Md=!0,s||e.layoutDependency!==t||void 0===t||e.isPresent!==r?a.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?a.promote():a.relegate()||Ma.postRender(()=>{const e=a.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Oi.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:s}=e;Md=!0,s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Dd(t){const[n,s]=kr(),r=(0,e.useContext)(ur);return(0,or.jsx)(Od,{...t,layoutGroup:r,switchLayoutGroup:(0,e.useContext)(qo),isPresent:n,safeToRemove:s})}const Rd={borderRadius:{...Ld,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ld,borderTopRightRadius:Ld,borderBottomLeftRadius:Ld,borderBottomRightRadius:Ld,boxShadow:Ad};function $d(e){return gr(e)&&"ownerSVGElement"in e}const Id=(e,t)=>e.depth-t.depth;class Vd{constructor(){this.children=[],this.isDirty=!1}add(e){Ci(this.children,e),this.isDirty=!0}remove(e){Ei(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Id),this.isDirty=!1,this.children.forEach(e)}}function Fd(e,t){const n=Si.now(),s=r=>{let{timestamp:a}=r;const i=a-n;i>=t&&(Oa(s),e(i-t))};return Ma.setup(s,!0),()=>Oa(s)}const Bd=["TopLeft","TopRight","BottomLeft","BottomRight"],Ud=Bd.length,Hd=e=>"string"===typeof e?parseFloat(e):e,qd=e=>"number"===typeof e||fa.test(e);function Wd(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const Kd=Jd(0,.5,Yl),Gd=Jd(.5,.95,Ta);function Jd(e,t,n){return s=>s<e?0:s>t?1:n(tc(e,t,s))}function Yd(e,t){e.min=t.min,e.max=t.max}function Xd(e,t){Yd(e.x,t.x),Yd(e.y,t.y)}function Qd(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Zd(e,t,n,s,r){return e=Xr(e-=t,1/n,s),void 0!==r&&(e=Xr(e,1/r,s)),e}function eu(e,t,n,s,r){let[a,i,o]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,r=arguments.length>4?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;pa.test(t)&&(t=parseFloat(t),t=qr(i.min,i.max,t/100)-i.min);if("number"!==typeof t)return;let o=qr(a.min,a.max,s);e===a&&(o-=t),e.min=Zd(e.min,t,n,o,r),e.max=Zd(e.max,t,n,o,r)}(e,t[a],t[i],t[o],t.scale,s,r)}const tu=["x","scaleX","originX"],nu=["y","scaleY","originY"];function su(e,t,n,s){eu(e.x,t,tu,n?n.x:void 0,s?s.x:void 0),eu(e.y,t,nu,n?n.y:void 0,s?s.y:void 0)}function ru(e){return 0===e.translate&&1===e.scale}function au(e){return ru(e.x)&&ru(e.y)}function iu(e,t){return e.min===t.min&&e.max===t.max}function ou(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function lu(e,t){return ou(e.x,t.x)&&ou(e.y,t.y)}function cu(e){return ad(e.x)/ad(e.y)}function du(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class uu{constructor(){this.members=[]}add(e){Ci(this.members,e),e.scheduleRender()}remove(e){if(Ei(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let s=t;s>=0;s--){const e=this.members[s];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;!1===s&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const hu={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},mu=["","X","Y","Z"];let pu=0;function fu(e,t,n,s){const{latestValues:r}=t;r[e]&&(n[e]=r[e],t.setStaticValue(e,0),s&&(s[e]=0))}function gu(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=sl(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Ma,!(t||s))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&gu(s)}function xu(e){let{attachResizeListener:t,defaultParent:n,measureScroll:s,checkIsScrollRoot:r,resetTransform:a}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n?.();this.id=pu++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,La.value&&(hu.nodes=hu.calculatedTargetDeltas=hu.calculatedProjections=0),this.nodes.forEach(yu),this.nodes.forEach(Cu),this.nodes.forEach(Eu),this.nodes.forEach(wu),La.addProjectionMetrics&&La.addProjectionMetrics(hu)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new Vd)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Ti),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,s=new Array(n>1?n-1:0),r=1;r<n;r++)s[r-1]=arguments[r];t&&t.notify(...s)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){if(this.instance)return;var n;this.isSVG=$d(e)&&!($d(n=e)&&"svg"===n.tagName),this.instance=e;const{layoutId:s,layout:r,visualElement:a}=this.options;if(a&&!a.current&&a.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(r||s)&&(this.isLayoutDirty=!0),t){let n,s=0;const r=()=>this.root.updateBlockedByResize=!1;Ma.read(()=>{s=window.innerWidth}),t(e,()=>{const e=window.innerWidth;e!==s&&(s=e,this.root.updateBlockedByResize=!0,n&&n(),n=Fd(r,250),Pd.hasAnimatedSinceResize&&(Pd.hasAnimatedSinceResize=!1,this.nodes.forEach(Su)))})}s&&this.root.registerSharedNode(s,this),!1!==this.options.animate&&a&&(s||r)&&this.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n,hasRelativeLayoutChanged:s,layout:r}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const i=this.options.transition||a.getDefaultTransition()||Mu,{onLayoutAnimationStart:o,onLayoutAnimationComplete:l}=a.getProps(),c=!this.targetLayout||!lu(this.targetLayout,r),d=!n&&s;if(this.options.layoutRoot||this.resumeFrom||d||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const e={...Qo(i,"layout"),onPlay:o,onComplete:l};(a.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e),this.setAnimationOrigin(t,d)}else n||Su(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Oa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Tu),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&gu(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let r=0;r<this.path.length;r++){const e=this.path[r];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const s=this.getTransformTemplate();this.prevTransformTemplateValue=s?s(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(ku);if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(Nu);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(_u),this.nodes.forEach(vu),this.nodes.forEach(bu)):this.nodes.forEach(Nu),this.clearAllSnapshots();const e=Si.now();Da.delta=la(0,1e3/60,e-Da.timestamp),Da.timestamp=e,Da.isProcessing=!0,Ra.update.process(Da),Ra.preRender.process(Da),Ra.render.process(Da),Da.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Oi.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ju),this.sharedNodes.forEach(Pu)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ma.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ma.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||ad(this.snapshot.measuredBox.x)||ad(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){const t=r(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!a)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!au(this.projectionDelta),n=this.getTransformTemplate(),s=n?n(this.latestValues,""):void 0,r=s!==this.prevTransformTemplateValue;e&&this.instance&&(t||Gr(this.latestValues)||r)&&(a(this.instance,s),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var s;return e&&(n=this.removeTransform(n)),Ru((s=n).x),Ru(s.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const t=e.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Iu))){const{scroll:e}=this.root;e&&(sa(t.x,e.offset.x),sa(t.y,e.offset.y))}return t}removeElementScroll(e){const t={x:{min:0,max:0},y:{min:0,max:0}};if(Xd(t,e),this.scroll?.wasRoot)return t;for(let n=0;n<this.path.length;n++){const s=this.path[n],{scroll:r,options:a}=s;s!==this.root&&r&&a.layoutScroll&&(r.wasRoot&&Xd(t,e),sa(t.x,r.offset.x),sa(t.y,r.offset.y))}return t}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};Xd(n,e);for(let s=0;s<this.path.length;s++){const e=this.path[s];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&aa(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),Gr(e.latestValues)&&aa(n,e.latestValues)}return Gr(this.latestValues)&&aa(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};Xd(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!Gr(e.latestValues))continue;Kr(e.latestValues)&&e.updateSnapshot();const s=Ii();Xd(s,e.measurePageBox()),su(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,s)}return Gr(this.latestValues)&&su(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Da.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=t.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=t.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=t.isSharedProjectionDirty);const n=Boolean(this.resumingFrom)||this!==t;if(!(e||n&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:s,layoutId:r}=this.options;if(this.layout&&(s||r)){if(this.resolvedRelativeTargetAt=Da.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},dd(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),Xd(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var a,i,o;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),a=this.target,i=this.relativeTarget,o=this.relativeParent.target,ld(a.x,i.x,o.x),ld(a.y,i.y,o.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Xd(this.target,this.layout.layoutBox),ea(this.target,this.targetDelta)):Xd(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},dd(this.relativeTargetOrigin,this.target,e.target),Xd(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}La.value&&hu.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!Kr(this.parent.latestValues)&&!Jr(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const e=this.getLead(),t=Boolean(this.resumingFrom)||this!==e;let n=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(n=!1),t&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(n=!1),this.resolvedRelativeTargetAt===Da.timestamp&&(n=!1),n)return;const{layout:s,layoutId:r}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!s&&!r)return;Xd(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,i=this.treeScale.y;!function(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=n.length;if(!r)return;let a,i;t.x=t.y=1;for(let o=0;o<r;o++){a=n[o],i=a.projectionDelta;const{visualElement:r}=a.options;r&&r.props.style&&"contents"===r.props.style.display||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&aa(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,ea(e,i)),s&&Gr(a.latestValues)&&aa(e,a.latestValues))}t.x<na&&t.x>ta&&(t.x=1),t.y<na&&t.y>ta&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,t),!e.layout||e.target||1===this.treeScale.x&&1===this.treeScale.y||(e.target=e.layout.layoutBox,e.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:o}=e;o?(this.projectionDelta&&this.prevProjectionDelta?(Qd(this.prevProjectionDelta.x,this.projectionDelta.x),Qd(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),od(this.projectionDelta,this.layoutCorrected,o,this.latestValues),this.treeScale.x===a&&this.treeScale.y===i&&du(this.projectionDelta.x,this.prevProjectionDelta.x)&&du(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",o)),La.value&&hu.calculatedProjections++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.visualElement?.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,s=n?n.latestValues:{},r={...this.latestValues},a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const i={x:{min:0,max:0},y:{min:0,max:0}},o=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,d=Boolean(o&&!c&&!0===this.options.crossfade&&!this.path.some(Au));let u;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var l,h,m,p,f,g;zu(a.x,e.x,n),zu(a.y,e.y,n),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(dd(i,this.layout.layoutBox,this.relativeParent.layout.layoutBox),m=this.relativeTarget,p=this.relativeTargetOrigin,f=i,g=n,Lu(m.x,p.x,f.x,g),Lu(m.y,p.y,f.y,g),u&&(l=this.relativeTarget,h=u,iu(l.x,h.x)&&iu(l.y,h.y))&&(this.isProjectionDirty=!1),u||(u={x:{min:0,max:0},y:{min:0,max:0}}),Xd(u,this.relativeTarget)),o&&(this.animationValues=r,function(e,t,n,s,r,a){r?(e.opacity=qr(0,n.opacity??1,Kd(s)),e.opacityExit=qr(t.opacity??1,0,Gd(s))):a&&(e.opacity=qr(t.opacity??1,n.opacity??1,s));for(let i=0;i<Ud;i++){const r=`border${Bd[i]}Radius`;let a=Wd(t,r),o=Wd(n,r);void 0===a&&void 0===o||(a||(a=0),o||(o=0),0===a||0===o||qd(a)===qd(o)?(e[r]=Math.max(qr(Hd(a),Hd(o),s),0),(pa.test(o)||pa.test(a))&&(e[r]+="%")):e[r]=o)}(t.rotate||n.rotate)&&(e.rotate=qr(t.rotate||0,n.rotate||0,s))}(r,s,this.latestValues,n,d,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Oa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ma.update(()=>{Pd.hasAnimatedSinceResize=!0,cl.layout++,this.motionValue||(this.motionValue=Ai(0)),this.currentAnimation=function(e,t,n){const s=ki(e)?e:Ai(e);return s.start(Oc("",s,t,n)),s.animation}(this.motionValue,[0,1e3],{...e,velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{cl.layout--},onComplete:()=>{cl.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:s,latestValues:r}=e;if(t&&n&&s){if(this!==e&&this.layout&&s&&$u(this.options.animationType,this.layout.layoutBox,s.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=ad(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const s=ad(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+s}Xd(t,n),aa(t,r),od(this.projectionDeltaWithTransform,this.layoutCorrected,t,r)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new uu);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){const{layoutId:e}=this.options;return e&&this.getStack()?.lead||this}getPrevLead(){const{layoutId:e}=this.options;return e?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const s=this.getStack();s&&s.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const s={};n.z&&fu("z",e,s,this.animationValues);for(let r=0;r<mu.length;r++)fu(`rotate${mu[r]}`,e,s,this.animationValues),fu(`skew${mu[r]}`,e,s,this.animationValues);e.render();for(const r in s)e.setStaticValue(r,s[r]),this.animationValues&&(this.animationValues[r]=s[r]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible)return void(e.visibility="hidden");const n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=Do(t?.pointerEvents)||"",void(e.transform=n?n(this.latestValues,""):"none");const s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target)return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=Do(t?.pointerEvents)||""),void(this.hasProjected&&!Gr(this.latestValues)&&(e.transform=n?n({},""):"none",this.hasProjected=!1));e.visibility="";const r=s.animationValues||s.latestValues;this.applyTransformsToTarget();let a=function(e,t,n){let s="";const r=e.x.translate/t.x,a=e.y.translate/t.y,i=n?.z||0;if((r||a||i)&&(s=`translate3d(${r}px, ${a}px, ${i}px) `),1===t.x&&1===t.y||(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:e,rotate:t,rotateX:r,rotateY:a,skewX:i,skewY:o}=n;e&&(s=`perspective(${e}px) ${s}`),t&&(s+=`rotate(${t}deg) `),r&&(s+=`rotateX(${r}deg) `),a&&(s+=`rotateY(${a}deg) `),i&&(s+=`skewX(${i}deg) `),o&&(s+=`skewY(${o}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return 1===o&&1===l||(s+=`scale(${o}, ${l})`),s||"none"}(this.projectionDeltaWithTransform,this.treeScale,r);n&&(a=n(r,a)),e.transform=a;const{x:i,y:o}=this.projectionDelta;e.transformOrigin=`${100*i.origin}% ${100*o.origin}% 0`,s.animationValues?e.opacity=s===this?r.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:r.opacityExit:e.opacity=s===this?void 0!==r.opacity?r.opacity:"":void 0!==r.opacityExit?r.opacityExit:0;for(const l in ao){if(void 0===r[l])continue;const{correct:t,applyTo:n,isCSSVariable:i}=ao[l],o="none"===a?r[l]:t(r[l],s);if(n){const t=n.length;for(let s=0;s<t;s++)e[n[s]]=o}else i?this.options.visualElement.renderState.vars[l]=o:e[l]=o}this.options.layoutId&&(e.pointerEvents=s===this?Do(t?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>e.currentAnimation?.stop()),this.root.nodes.forEach(ku),this.root.sharedNodes.clear()}}}function vu(e){e.updateLayout()}function bu(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:r}=e.options,a=t.source!==e.layout.source;"size"===r?ud(e=>{const s=a?t.measuredBox[e]:t.layoutBox[e],r=ad(s);s.min=n[e].min,s.max=s.min+r}):$u(r,t.layoutBox,n)&&ud(s=>{const r=a?t.measuredBox[s]:t.layoutBox[s],i=ad(n[s]);r.max=r.min+i,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[s].max=e.relativeTarget[s].min+i)});const i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};od(i,n,t.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};a?od(o,e.applyTransform(s,!0),t.measuredBox):od(o,n,t.layoutBox);const l=!au(i);let c=!1;if(!e.resumeFrom){const s=e.getClosestProjectingParent();if(s&&!s.resumeFrom){const{snapshot:r,layout:a}=s;if(r&&a){const i={x:{min:0,max:0},y:{min:0,max:0}};dd(i,t.layoutBox,r.layoutBox);const o={x:{min:0,max:0},y:{min:0,max:0}};dd(o,n,a.layoutBox),lu(i,o)||(c=!0),s.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=i,e.relativeParent=s)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:o,layoutDelta:i,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function yu(e){La.value&&hu.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function wu(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function ju(e){e.clearSnapshot()}function ku(e){e.clearMeasurements()}function Nu(e){e.isLayoutDirty=!1}function _u(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Su(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Cu(e){e.resolveTargetDelta()}function Eu(e){e.calcProjection()}function Tu(e){e.resetSkewAndRotation()}function Pu(e){e.removeLeadSnapshot()}function zu(e,t,n){e.translate=qr(t.translate,0,n),e.scale=qr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Lu(e,t,n,s){e.min=qr(t.min,n.min,s),e.max=qr(t.max,n.max,s)}function Au(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const Mu={duration:.45,ease:[.4,0,.1,1]},Ou=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Du=Ou("applewebkit/")&&!Ou("chrome/")?Math.round:Ta;function Ru(e){e.min=Du(e.min),e.max=Du(e.max)}function $u(e,t,n){return"position"===e||"preserve-aspect"===e&&(s=cu(t),r=cu(n),a=.2,!(Math.abs(s-r)<=a));var s,r,a}function Iu(e){return e!==e.root&&e.scroll?.wasRoot}const Vu=xu({attachResizeListener:(e,t)=>td(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Fu={current:void 0},Bu=xu({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Fu.current){const e=new Vu({});e.mount(window),e.setOptions({layoutScroll:!0}),Fu.current=e}return Fu.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),Uu={pan:{Feature:class extends Yc{constructor(){super(...arguments),this.removePointerDownListener=Ta}onPointerDown(e){this.session=new pd(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:hd(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:Td(e),onStart:Td(t),onMove:n,onEnd:(e,t)=>{delete this.session,s&&Ma.postRender(()=>s(e,t))}}}mount(){this.removePointerDownListener=rd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends Yc{constructor(e){super(e),this.removeGroupControls=Ta,this.removeListeners=Ta,this.controls=new Cd(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ta}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:Bu,MeasureLayout:Dd}};function Hu(e,t){const n=function(e,t,n){if(e instanceof EventTarget)return[e];if("string"===typeof e){let s=document;t&&(s=t.current);const r=n?.[e]??s.querySelectorAll(e);return r?Array.from(r):[]}return Array.from(e)}(e),s=new AbortController;return[n,{passive:!0,...t,signal:s.signal},()=>s.abort()]}function qu(e){return!("touch"===e.pointerType||ed())}function Wu(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover","Start"===n);const r=s["onHover"+n];r&&Ma.postRender(()=>r(t,sd(t)))}const Ku=(e,t)=>!!t&&(e===t||Ku(e,t.parentElement)),Gu=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const Ju=new WeakSet;function Yu(e){return t=>{"Enter"===t.key&&e(t)}}function Xu(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function Qu(e){return nd(e)&&!ed()}function Zu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[s,r,a]=Hu(e,n),i=e=>{const s=e.currentTarget;if(!Qu(e))return;Ju.add(s);const a=t(s,e),i=(e,t)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",l),Ju.has(s)&&Ju.delete(s),Qu(e)&&"function"===typeof a&&a(e,{success:t})},o=e=>{i(e,s===window||s===document||n.useGlobalTarget||Ku(s,e.target))},l=e=>{i(e,!1)};window.addEventListener("pointerup",o,r),window.addEventListener("pointercancel",l,r)};return s.forEach(e=>{var t;(n.useGlobalTarget?window:e).addEventListener("pointerdown",i,r),xr(e)&&(e.addEventListener("focus",e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const s=Yu(()=>{if(Ju.has(n))return;Xu(n,"down");const e=Yu(()=>{Xu(n,"up")});n.addEventListener("keyup",e,t),n.addEventListener("blur",()=>Xu(n,"cancel"),t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)})(e,r)),t=e,Gu.has(t.tagName)||-1!==t.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))}),a}function eh(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap","Start"===n);const r=s["onTap"+("End"===n?"":n)];r&&Ma.postRender(()=>r(t,sd(t)))}const th=new WeakMap,nh=new WeakMap,sh=e=>{const t=th.get(e.target);t&&t(e)},rh=e=>{e.forEach(sh)};function ah(e,t,n){const s=function(e){let{root:t,...n}=e;const s=t||document;nh.has(s)||nh.set(s,{});const r=nh.get(s),a=JSON.stringify(n);return r[a]||(r[a]=new IntersectionObserver(rh,{root:t,...n})),r[a]}(t);return th.set(e,n),s.observe(e),()=>{th.delete(e),s.unobserve(e)}}const ih={some:0,all:1};const oh={inView:{Feature:class extends Yc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:s="some",once:r}=e,a={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof s?s:ih[s]};return ah(this.node.current,a,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,r&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:s}=this.node.getProps(),a=t?n:s;a&&a(e)})}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends Yc{mount(){const{current:e}=this.node;e&&(this.unmount=Zu(e,(e,t)=>(eh(this.node,t,"Start"),(e,t)=>{let{success:n}=t;return eh(this.node,e,n?"End":"Cancel")}),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends Yc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(px){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=il(td(this.node.current,"focus",()=>this.onFocus()),td(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends Yc{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[s,r,a]=Hu(e,n),i=e=>{if(!qu(e))return;const{target:n}=e,s=t(n,e);if("function"!==typeof s||!n)return;const a=e=>{qu(e)&&(s(e),n.removeEventListener("pointerleave",a))};n.addEventListener("pointerleave",a,r)};return s.forEach(e=>{e.addEventListener("pointerenter",i,r)}),a}(e,(e,t)=>(Wu(this.node,t,"Start"),e=>Wu(this.node,e,"End"))))}unmount(){}}}},lh=Yo({...Qc,...oh,...Uu,...{layout:{ProjectionNode:Bu,MeasureLayout:Dd}}},yo);var ch={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},dh=e.createContext&&e.createContext(ch),uh=["attr","size","title"];function hh(e,t){if(null==e)return{};var n,s,r=function(e,t){if(null==e)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mh(){return mh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},mh.apply(this,arguments)}function ph(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,s)}return n}function fh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ph(Object(n),!0).forEach(function(t){gh(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ph(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function gh(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xh(t){return t&&t.map((t,n)=>e.createElement(t.tag,fh({key:n},t.attr),xh(t.child)))}function vh(t){return n=>e.createElement(bh,mh({attr:fh({},t.attr)},n),xh(t.child))}function bh(t){var n=n=>{var s,{attr:r,size:a,title:i}=t,o=hh(t,uh),l=a||n.size||"1em";return n.className&&(s=n.className),t.className&&(s=(s?s+" ":"")+t.className),e.createElement("svg",mh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:s,style:fh(fh({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&e.createElement("title",null,i),t.children)};return void 0!==dh?e.createElement(dh.Consumer,null,e=>n(e)):n(ch)}function yh(e){return vh({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(e)}function wh(e){return vh({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(e)}function jh(e){return vh({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M377.941 169.941V216H134.059v-46.059c0-21.382-25.851-32.09-40.971-16.971L7.029 239.029c-9.373 9.373-9.373 24.568 0 33.941l86.059 86.059c15.119 15.119 40.971 4.411 40.971-16.971V296h243.882v46.059c0 21.382 25.851 32.09 40.971 16.971l86.059-86.059c9.373-9.373 9.373-24.568 0-33.941l-86.059-86.059c-15.119-15.12-40.971-4.412-40.971 16.97z"},child:[]}]})(e)}function kh(e){return vh({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(e)}function Nh(e){return vh({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M544 160v64h32v64h-32v64H64V160h480m16-64H48c-26.51 0-48 21.49-48 48v224c0 26.51 21.49 48 48 48h512c26.51 0 48-21.49 48-48v-16h8c13.255 0 24-10.745 24-24V184c0-13.255-10.745-24-24-24h-8v-16c0-26.51-21.49-48-48-48zm-240 96H96v128h224V192z"},child:[]}]})(e)}function _h(e){return vh({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M176 256c44.11 0 80-35.89 80-80s-35.89-80-80-80-80 35.89-80 80 35.89 80 80 80zm352-128H304c-8.84 0-16 7.16-16 16v144H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v352c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16v-48h512v48c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16V240c0-61.86-50.14-112-112-112z"},child:[]}]})(e)}function Sh(e){return vh({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 384c-28.02 0-31.26-32-74.5-32-43.43 0-46.825 32-74.75 32-27.695 0-31.454-32-74.75-32-42.842 0-47.218 32-74.5 32-28.148 0-31.202-32-74.75-32-43.547 0-46.653 32-74.75 32v-80c0-26.5 21.5-48 48-48h16V112h64v144h64V112h64v144h64V112h64v144h16c26.5 0 48 21.5 48 48v80zm0 128H0v-96c43.356 0 46.767-32 74.75-32 27.951 0 31.253 32 74.75 32 42.843 0 47.217-32 74.5-32 28.148 0 31.201 32 74.75 32 43.357 0 46.767-32 74.75-32 27.488 0 31.252 32 74.5 32v96zM96 96c-17.75 0-32-14.25-32-32 0-31 32-23 32-64 12 0 32 29.5 32 56s-14.25 40-32 40zm128 0c-17.75 0-32-14.25-32-32 0-31 32-23 32-64 12 0 32 29.5 32 56s-14.25 40-32 40zm128 0c-17.75 0-32-14.25-32-32 0-31 32-23 32-64 12 0 32 29.5 32 56s-14.25 40-32 40z"},child:[]}]})(e)}function Ch(e){return vh({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M296 160H180.6l42.6-129.8C227.2 15 215.7 0 200 0H56C44 0 33.8 8.9 32.2 20.8l-32 240C-1.7 275.2 9.5 288 24 288h118.7L96.6 482.5c-3.6 15.2 8 29.5 23.3 29.5 8.4 0 16.4-4.4 20.8-12l176-304c9.3-15.9-2.2-36-20.7-36z"},child:[]}]})(e)}function Eh(e){return vh({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M425.7 256c-16.9 0-32.8-9-41.4-23.4L320 126l-64.2 106.6c-8.7 14.5-24.6 23.5-41.5 23.5-4.5 0-9-.6-13.3-1.9L64 215v178c0 14.7 10 27.5 24.2 31l216.2 54.1c10.2 2.5 20.9 2.5 31 0L551.8 424c14.2-3.6 24.2-16.4 24.2-31V215l-137 39.1c-4.3 1.3-8.8 1.9-13.3 1.9zm212.6-112.2L586.8 41c-3.1-6.2-9.8-9.8-16.7-8.9L320 64l91.7 152.1c3.8 6.3 11.4 9.3 18.5 7.3l197.9-56.5c9.9-2.9 14.7-13.9 10.2-23.1zM53.2 41L1.7 143.8c-4.6 9.2.3 20.2 10.1 23l197.9 56.5c7.1 2 14.7-1 18.5-7.3L320 64 69.8 32.1c-6.9-.8-13.5 2.7-16.6 8.9z"},child:[]}]})(e)}function Th(e){return vh({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M320 336c0 8.84-7.16 16-16 16h-96c-8.84 0-16-7.16-16-16v-48H0v144c0 25.6 22.4 48 48 48h416c25.6 0 48-22.4 48-48V288H320v48zm144-208h-80V80c0-25.6-22.4-48-48-48H176c-25.6 0-48 22.4-48 48v48H48c-25.6 0-48 22.4-48 48v80h512v-80c0-25.6-22.4-48-48-48zm-144 0H192V96h128v32z"},child:[]}]})(e)}function Ph(e){return vh({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M150.94 192h33.73c11.01 0 18.61-10.83 14.86-21.18-4.93-13.58-7.55-27.98-7.55-42.82s2.62-29.24 7.55-42.82C203.29 74.83 195.68 64 184.67 64h-33.73c-7.01 0-13.46 4.49-15.41 11.23C130.64 92.21 128 109.88 128 128c0 18.12 2.64 35.79 7.54 52.76 1.94 6.74 8.39 11.24 15.4 11.24zM89.92 23.34C95.56 12.72 87.97 0 75.96 0H40.63c-6.27 0-12.14 3.59-14.74 9.31C9.4 45.54 0 85.65 0 128c0 24.75 3.12 68.33 26.69 118.86 2.62 5.63 8.42 9.14 14.61 9.14h34.84c12.02 0 19.61-12.74 13.95-23.37-49.78-93.32-16.71-178.15-.17-209.29zM614.06 9.29C611.46 3.58 605.6 0 599.33 0h-35.42c-11.98 0-19.66 12.66-14.02 23.25 18.27 34.29 48.42 119.42.28 209.23-5.72 10.68 1.8 23.52 13.91 23.52h35.23c6.27 0 12.13-3.58 14.73-9.29C630.57 210.48 640 170.36 640 128s-9.42-82.48-25.94-118.71zM489.06 64h-33.73c-11.01 0-18.61 10.83-14.86 21.18 4.93 13.58 7.55 27.98 7.55 42.82s-2.62 29.24-7.55 42.82c-3.76 10.35 3.85 21.18 14.86 21.18h33.73c7.02 0 13.46-4.49 15.41-11.24 4.9-16.97 7.53-34.64 7.53-52.76 0-18.12-2.64-35.79-7.54-52.76-1.94-6.75-8.39-11.24-15.4-11.24zm-116.3 100.12c7.05-10.29 11.2-22.71 11.2-36.12 0-35.35-28.63-64-63.96-64-35.32 0-63.96 28.65-63.96 64 0 13.41 4.15 25.83 11.2 36.12l-130.5 313.41c-3.4 8.15.46 17.52 8.61 20.92l29.51 12.31c8.15 3.4 17.52-.46 20.91-8.61L244.96 384h150.07l49.2 118.15c3.4 8.16 12.76 12.01 20.91 8.61l29.51-12.31c8.15-3.4 12-12.77 8.61-20.92l-130.5-313.41zM271.62 320L320 203.81 368.38 320h-96.76z"},child:[]}]})(e)}function zh(e){return vh({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(e)}function Lh(e){return vh({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function Ah(e){return vh({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 160H12c-6.627 0-12-5.373-12-12v-36c0-26.51 21.49-48 48-48h48V12c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v52h128V12c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v52h48c26.51 0 48 21.49 48 48v36c0 6.627-5.373 12-12 12zM12 192h424c6.627 0 12 5.373 12 12v260c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V204c0-6.627 5.373-12 12-12zm333.296 95.947l-28.169-28.398c-4.667-4.705-12.265-4.736-16.97-.068L194.12 364.665l-45.98-46.352c-4.667-4.705-12.266-4.736-16.971-.068l-28.397 28.17c-4.705 4.667-4.736 12.265-.068 16.97l82.601 83.269c4.667 4.705 12.265 4.736 16.97.068l142.953-141.805c4.705-4.667 4.736-12.265.068-16.97z"},child:[]}]})(e)}function Mh(e){return vh({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm64-192c0-8.8 7.2-16 16-16h96c8.8 0 16 7.2 16 16v96c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16v-96zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function Oh(e){return vh({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(e)}function Dh(e){return vh({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function Rh(e){return vh({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function $h(e){return vh({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(e)}function Ih(e){return vh({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(e)}function Vh(e){return vh({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(e)}function Fh(e){return vh({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(e)}function Bh(e){return vh({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(e)}function Uh(e){return vh({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function Hh(e){return vh({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z"},child:[]}]})(e)}function qh(e){return vh({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(e)}function Wh(e){return vh({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32zM128 272c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(e)}function Kh(e){return vh({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V256H0v176zm192-68c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-40zm-128 0c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM576 80v48H0V80c0-26.5 21.5-48 48-48h480c26.5 0 48 21.5 48 48z"},child:[]}]})(e)}function Gh(e){return vh({tag:"svg",attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M209.2 233.4l-108-31.6C88.7 198.2 80 186.5 80 173.5c0-16.3 13.2-29.5 29.5-29.5h66.3c12.2 0 24.2 3.7 34.2 10.5 6.1 4.1 14.3 3.1 19.5-2l34.8-34c7.1-6.9 6.1-18.4-1.8-24.5C238 74.8 207.4 64.1 176 64V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48h-2.5C45.8 64-5.4 118.7.5 183.6c4.2 46.1 39.4 83.6 83.8 96.6l102.5 30c12.5 3.7 21.2 15.3 21.2 28.3 0 16.3-13.2 29.5-29.5 29.5h-66.3C100 368 88 364.3 78 357.5c-6.1-4.1-14.3-3.1-19.5 2l-34.8 34c-7.1 6.9-6.1 18.4 1.8 24.5 24.5 19.2 55.1 29.9 86.5 30v48c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-48.2c46.6-.9 90.3-28.6 105.7-72.7 21.5-61.6-14.6-124.8-72.5-141.7z"},child:[]}]})(e)}function Jh(e){return vh({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function Yh(e){return vh({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M457.01 344.42c-25.05 20.33-52.63 37.18-82.54 49.05l54.38 94.19 53.95 23.04c9.81 4.19 20.89-2.21 22.17-12.8l7.02-58.25-54.98-95.23zm42.49-94.56c4.86-7.67 1.89-17.99-6.05-22.39l-28.07-15.57c-7.48-4.15-16.61-1.46-21.26 5.72C403.01 281.15 332.25 320 256 320c-23.93 0-47.23-4.25-69.41-11.53l67.36-116.68c.7.02 1.34.21 2.04.21s1.35-.19 2.04-.21l51.09 88.5c31.23-8.96 59.56-25.75 82.61-48.92l-51.79-89.71C347.39 128.03 352 112.63 352 96c0-53.02-42.98-96-96-96s-96 42.98-96 96c0 16.63 4.61 32.03 12.05 45.66l-68.3 118.31c-12.55-11.61-23.96-24.59-33.68-39-4.79-7.1-13.97-9.62-21.38-5.33l-27.75 16.07c-7.85 4.54-10.63 14.9-5.64 22.47 15.57 23.64 34.69 44.21 55.98 62.02L0 439.66l7.02 58.25c1.28 10.59 12.36 16.99 22.17 12.8l53.95-23.04 70.8-122.63C186.13 377.28 220.62 384 256 384c99.05 0 190.88-51.01 243.5-134.14zM256 64c17.67 0 32 14.33 32 32s-14.33 32-32 32-32-14.33-32-32 14.33-32 32-32z"},child:[]}]})(e)}function Xh(e){return vh({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function Qh(e){return vh({tag:"svg",attr:{viewBox:"0 0 192 512"},child:[{tag:"path",attr:{d:"M96 184c39.8 0 72 32.2 72 72s-32.2 72-72 72-72-32.2-72-72 32.2-72 72-72zM24 80c0 39.8 32.2 72 72 72s72-32.2 72-72S135.8 8 96 8 24 40.2 24 80zm0 352c0 39.8 32.2 72 72 72s72-32.2 72-72-32.2-72-72-72-72 32.2-72 72z"},child:[]}]})(e)}function Zh(e){return vh({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function em(e){return vh({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function tm(e){return vh({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function nm(e){return vh({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(e)}function sm(e){return vh({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(e)}function rm(e){return vh({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function am(e){return vh({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function im(e){return vh({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm60.1 106.5L224 336l60.1 93.5c5.1 8-.6 18.5-10.1 18.5h-34.9c-4.4 0-8.5-2.4-10.6-6.3C208.9 405.5 192 373 192 373c-6.4 14.8-10 20-36.6 68.8-2.1 3.9-6.1 6.3-10.5 6.3H110c-9.5 0-15.2-10.5-10.1-18.5l60.3-93.5-60.3-93.5c-5.2-8 .6-18.5 10.1-18.5h34.8c4.4 0 8.5 2.4 10.6 6.3 26.1 48.8 20 33.6 36.6 68.5 0 0 6.1-11.7 36.6-68.5 2.1-3.9 6.2-6.3 10.6-6.3H274c9.5-.1 15.2 10.4 10.1 18.4zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function om(e){return vh({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M384 121.941V128H256V0h6.059a24 24 0 0 1 16.97 7.029l97.941 97.941a24.002 24.002 0 0 1 7.03 16.971zM248 160c-13.2 0-24-10.8-24-24V0H24C10.745 0 0 10.745 0 24v464c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V160H248zm-135.455 16c26.51 0 48 21.49 48 48s-21.49 48-48 48-48-21.49-48-48 21.491-48 48-48zm208 240h-256l.485-48.485L104.545 328c4.686-4.686 11.799-4.201 16.485.485L160.545 368 264.06 264.485c4.686-4.686 12.284-4.686 16.971 0L320.545 304v112z"},child:[]}]})(e)}function lm(e){return vh({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-153 31V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 80v-16c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8zm144 263.88V440c0 4.42-3.58 8-8 8h-16c-4.42 0-8-3.58-8-8v-24.29c-11.29-.58-22.27-4.52-31.37-11.35-3.9-2.93-4.1-8.77-.57-12.14l11.75-11.21c2.77-2.64 6.89-2.76 10.13-.73 3.87 2.42 8.26 3.72 12.82 3.72h28.11c6.5 0 11.8-5.92 11.8-13.19 0-5.95-3.61-11.19-8.77-12.73l-45-13.5c-18.59-5.58-31.58-23.42-31.58-43.39 0-24.52 19.05-44.44 42.67-45.07V232c0-4.42 3.58-8 8-8h16c4.42 0 8 3.58 8 8v24.29c11.29.58 22.27 4.51 31.37 11.35 3.9 2.93 4.1 8.77.57 12.14l-11.75 11.21c-2.77 2.64-6.89 2.76-10.13.73-3.87-2.43-8.26-3.72-12.82-3.72h-28.11c-6.5 0-11.8 5.92-11.8 13.19 0 5.95 3.61 11.19 8.77 12.73l45 13.5c18.59 5.58 31.58 23.42 31.58 43.39 0 24.53-19.05 44.44-42.67 45.07z"},child:[]}]})(e)}function cm(e){return vh({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(e)}function dm(e){return vh({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M218.17 424.14c-2.95-5.92-8.09-6.52-10.17-6.52s-7.22.59-10.02 6.19l-7.67 15.34c-6.37 12.78-25.03 11.37-29.48-2.09L144 386.59l-10.61 31.88c-5.89 17.66-22.38 29.53-41 29.53H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h12.39c4.83 0 9.11-3.08 10.64-7.66l18.19-54.64c3.3-9.81 12.44-16.41 22.78-16.41s19.48 6.59 22.77 16.41l13.88 41.64c19.75-16.19 54.06-9.7 66 14.16 1.89 3.78 5.49 5.95 9.36 6.26v-82.12l128-127.09V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24v-40l-128-.11c-16.12-.31-30.58-9.28-37.83-23.75zM384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1zm-96 225.06V416h68.99l161.68-162.78-67.88-67.88L288 346.96zm280.54-179.63l-31.87-31.87c-9.94-9.94-26.07-9.94-36.01 0l-27.25 27.25 67.88 67.88 27.25-27.25c9.95-9.94 9.95-26.07 0-36.01z"},child:[]}]})(e)}function um(e){return vh({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm57.1 120H305c7.7 0 13.4 7.1 11.7 14.7l-38 168c-1.2 5.5-6.1 9.3-11.7 9.3h-38c-5.5 0-10.3-3.8-11.6-9.1-25.8-103.5-20.8-81.2-25.6-110.5h-.5c-1.1 14.3-2.4 17.4-25.6 110.5-1.3 5.3-6.1 9.1-11.6 9.1H117c-5.6 0-10.5-3.9-11.7-9.4l-37.8-168c-1.7-7.5 4-14.6 11.7-14.6h24.5c5.7 0 10.7 4 11.8 9.7 15.6 78 20.1 109.5 21 122.2 1.6-10.2 7.3-32.7 29.4-122.7 1.3-5.4 6.1-9.1 11.7-9.1h29.1c5.6 0 10.4 3.8 11.7 9.2 24 100.4 28.8 124 29.6 129.4-.2-11.2-2.6-17.8 21.6-129.2 1-5.6 5.9-9.5 11.5-9.5zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function hm(e){return vh({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(e)}function mm(e){return vh({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M216 23.86c0-23.8-30.65-32.77-44.15-13.04C48 191.85 224 200 224 288c0 35.63-29.11 64.46-64.85 63.99-35.17-.45-63.15-29.77-63.15-64.94v-85.51c0-21.7-26.47-32.23-41.43-16.5C27.8 213.16 0 261.33 0 320c0 105.87 86.13 192 192 192s192-86.13 192-192c0-170.29-168-193-168-296.14z"},child:[]}]})(e)}function pm(e){return vh({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z"},child:[]}]})(e)}function fm(e){return vh({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(e)}function gm(e){return vh({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 240v96c0 3.084-.356 6.159-1.063 9.162l-32 136C410.686 499.23 394.562 512 376 512H168a40.004 40.004 0 0 1-32.35-16.473l-127.997-176c-12.993-17.866-9.043-42.883 8.822-55.876 17.867-12.994 42.884-9.043 55.877 8.823L104 315.992V40c0-22.091 17.908-40 40-40s40 17.909 40 40v200h8v-40c0-22.091 17.908-40 40-40s40 17.909 40 40v40h8v-24c0-22.091 17.908-40 40-40s40 17.909 40 40v24h8c0-22.091 17.908-40 40-40s40 17.909 40 40zm-256 80h-8v96h8v-96zm88 0h-8v96h8v-96zm88 0h-8v96h8v-96z"},child:[]}]})(e)}function xm(e){return vh({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M434.7 64h-85.9c-8 0-15.7 3-21.6 8.4l-98.3 90c-.1.1-.2.3-.3.4-16.6 15.6-16.3 40.5-2.1 56 12.7 13.9 39.4 17.6 56.1 2.7.1-.1.3-.1.4-.2l79.9-73.2c6.5-5.9 16.7-5.5 22.6 1 6 6.5 5.5 16.6-1 22.6l-26.1 23.9L504 313.8c2.9 2.4 5.5 5 7.9 7.7V128l-54.6-54.6c-5.9-6-14.1-9.4-22.6-9.4zM544 128.2v223.9c0 17.7 14.3 32 32 32h64V128.2h-96zm48 223.9c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zM0 384h64c17.7 0 32-14.3 32-32V128.2H0V384zm48-63.9c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16c0-8.9 7.2-16 16-16zm435.9 18.6L334.6 217.5l-30 27.5c-29.7 27.1-75.2 24.5-101.7-4.4-26.9-29.4-24.8-74.9 4.4-101.7L289.1 64h-83.8c-8.5 0-16.6 3.4-22.6 9.4L128 128v223.9h18.3l90.5 81.9c27.4 22.3 67.7 18.1 90-9.3l.2-.2 17.9 15.5c15.9 13 39.4 10.5 52.3-5.4l31.4-38.6 5.4 4.4c13.7 11.1 33.9 9.1 45-4.7l9.5-11.7c11.2-13.8 9.1-33.9-4.6-45.1z"},child:[]}]})(e)}function vm(e){return vh({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M480 288c0-80.25-49.28-148.92-119.19-177.62L320 192V80a16 16 0 0 0-16-16h-96a16 16 0 0 0-16 16v112l-40.81-81.62C81.28 139.08 32 207.75 32 288v64h448zm16 96H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h480a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(e)}function bm(e){return vh({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z"},child:[]}]})(e)}function ym(e){return vh({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"},child:[]}]})(e)}function wm(e){return vh({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(e)}function jm(e){return vh({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"},child:[]}]})(e)}function km(e){return vh({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M475.115 163.781L336 252.309v-68.28c0-18.916-20.931-30.399-36.885-20.248L160 252.309V56c0-13.255-10.745-24-24-24H24C10.745 32 0 42.745 0 56v400c0 13.255 10.745 24 24 24h464c13.255 0 24-10.745 24-24V184.029c0-18.917-20.931-30.399-36.885-20.248z"},child:[]}]})(e)}function Nm(e){return vh({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(e)}function _m(e){return vh({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"},child:[]}]})(e)}function Sm(e){return vh({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h480c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM128 180v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm288 0v-40c0-6.627-5.373-12-12-12H172c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h232c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12z"},child:[]}]})(e)}function Cm(e){return vh({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},child:[]}]})(e)}function Em(e){return vh({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 48a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm448 16H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(e)}function Tm(e){return vh({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(e)}function Pm(e){return vh({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(e)}function zm(e){return vh({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 48v416c0 26.51-21.49 48-48 48H144c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h224c26.51 0 48 21.49 48 48zm96 58v12a6 6 0 0 1-6 6h-18v6a6 6 0 0 1-6 6h-42V88h42a6 6 0 0 1 6 6v6h18a6 6 0 0 1 6 6zm0 96v12a6 6 0 0 1-6 6h-18v6a6 6 0 0 1-6 6h-42v-48h42a6 6 0 0 1 6 6v6h18a6 6 0 0 1 6 6zm0 96v12a6 6 0 0 1-6 6h-18v6a6 6 0 0 1-6 6h-42v-48h42a6 6 0 0 1 6 6v6h18a6 6 0 0 1 6 6zm0 96v12a6 6 0 0 1-6 6h-18v6a6 6 0 0 1-6 6h-42v-48h42a6 6 0 0 1 6 6v6h18a6 6 0 0 1 6 6zM30 376h42v48H30a6 6 0 0 1-6-6v-6H6a6 6 0 0 1-6-6v-12a6 6 0 0 1 6-6h18v-6a6 6 0 0 1 6-6zm0-96h42v48H30a6 6 0 0 1-6-6v-6H6a6 6 0 0 1-6-6v-12a6 6 0 0 1 6-6h18v-6a6 6 0 0 1 6-6zm0-96h42v48H30a6 6 0 0 1-6-6v-6H6a6 6 0 0 1-6-6v-12a6 6 0 0 1 6-6h18v-6a6 6 0 0 1 6-6zm0-96h42v48H30a6 6 0 0 1-6-6v-6H6a6 6 0 0 1-6-6v-12a6 6 0 0 1 6-6h18v-6a6 6 0 0 1 6-6z"},child:[]}]})(e)}function Lm(e){return vh({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(e)}function Am(e){return vh({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm96 304c0 4.4-3.6 8-8 8h-56v56c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8v-56h-56c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h56v-56c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v56h56c4.4 0 8 3.6 8 8v48zm0-192c0 4.4-3.6 8-8 8H104c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h176c4.4 0 8 3.6 8 8v16z"},child:[]}]})(e)}function Mm(e){return vh({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(e)}function Om(e){return vh({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"},child:[]}]})(e)}function Dm(e){return vh({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"},child:[]}]})(e)}function Rm(e){return vh({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"},child:[]}]})(e)}function $m(e){return vh({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(e)}function Im(e){return vh({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M480 192H365.71L260.61 8.06A16.014 16.014 0 0 0 246.71 0h-65.5c-10.63 0-18.3 10.17-15.38 20.39L214.86 192H112l-43.2-57.6c-3.02-4.03-7.77-6.4-12.8-6.4H16.01C5.6 128-2.04 137.78.49 147.88L32 256 .49 364.12C-2.04 374.22 5.6 384 16.01 384H56c5.04 0 9.78-2.37 12.8-6.4L112 320h102.86l-49.03 171.6c-2.92 10.22 4.75 20.4 15.38 20.4h65.5c5.74 0 11.04-3.08 13.89-8.06L365.71 320H480c35.35 0 96-28.65 96-64s-60.65-64-96-64z"},child:[]}]})(e)}function Vm(e){return vh({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function Fm(e){return vh({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M384 320H256c-17.67 0-32 14.33-32 32v128c0 17.67 14.33 32 32 32h128c17.67 0 32-14.33 32-32V352c0-17.67-14.33-32-32-32zM192 32c0-17.67-14.33-32-32-32H32C14.33 0 0 14.33 0 32v128c0 17.67 14.33 32 32 32h95.72l73.16 128.04C211.98 300.98 232.4 288 256 288h.28L192 175.51V128h224V64H192V32zM608 0H480c-17.67 0-32 14.33-32 32v128c0 17.67 14.33 32 32 32h128c17.67 0 32-14.33 32-32V32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function Bm(e){return vh({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"},child:[]}]})(e)}function Um(e){return vh({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M358.4 3.2L320 48 265.6 3.2a15.9 15.9 0 0 0-19.2 0L192 48 137.6 3.2a15.9 15.9 0 0 0-19.2 0L64 48 25.6 3.2C15-4.7 0 2.8 0 16v480c0 13.2 15 20.7 25.6 12.8L64 464l54.4 44.8a15.9 15.9 0 0 0 19.2 0L192 464l54.4 44.8a15.9 15.9 0 0 0 19.2 0L320 464l38.4 44.8c10.5 7.9 25.6.4 25.6-12.8V16c0-13.2-15-20.7-25.6-12.8zM320 360c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16z"},child:[]}]})(e)}function Hm(e){return vh({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(e)}function qm(e){return vh({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function Wm(e){return vh({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M480 160H32c-17.673 0-32-14.327-32-32V64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24z"},child:[]}]})(e)}function Km(e){return vh({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"},child:[]}]})(e)}function Gm(e){return vh({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function Jm(e){return vh({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M431.98 448.01l-47.97.05V416h-128v32.21l-47.98.05c-8.82.01-15.97 7.16-15.98 15.99l-.05 31.73c-.01 8.85 7.17 16.03 16.02 16.02l223.96-.26c8.82-.01 15.97-7.16 15.98-15.98l.04-31.73c.01-8.85-7.17-16.03-16.02-16.02zM585.2 26.74C582.58 11.31 568.99 0 553.06 0H86.93C71 0 57.41 11.31 54.79 26.74-3.32 369.16.04 348.08.03 352c-.03 17.32 14.29 32 32.6 32h574.74c18.23 0 32.51-14.56 32.59-31.79.02-4.08 3.35 16.95-54.76-325.47zM259.83 64h120.33l9.77 96H250.06l9.77-96zm-75.17 256H71.09L90.1 208h105.97l-11.41 112zm16.29-160H98.24l16.29-96h96.19l-9.77 96zm32.82 160l11.4-112h149.65l11.4 112H233.77zm195.5-256h96.19l16.29 96H439.04l-9.77-96zm26.06 256l-11.4-112H549.9l19.01 112H455.33z"},child:[]}]})(e)}function Ym(e){return vh({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 416h-64a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm-128-64h-48V48a16 16 0 0 0-16-16H80a16 16 0 0 0-16 16v304H16c-14.19 0-21.37 17.24-11.29 27.31l80 96a16 16 0 0 0 22.62 0l80-96C197.35 369.26 190.22 352 176 352zm256-192H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h192a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm-64 128H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM496 32H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h256a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(e)}function Xm(e){return vh({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 416h-64a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h48v304a16 16 0 0 0 16 16h32a16 16 0 0 0 16-16V160h48c14.21 0 21.38-17.24 11.31-27.31l-80-96a16 16 0 0 0-22.62 0l-80 96C-5.35 142.74 1.77 160 16 160zm416 0H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h192a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm-64 128H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM496 32H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h256a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(e)}function Qm(e){return vh({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41zm255-105L177 64c-9.4-9.4-24.6-9.4-33.9 0L24 183c-15.1 15.1-4.4 41 17 41h238c21.4 0 32.1-25.9 17-41z"},child:[]}]})(e)}function Zm(e){return vh({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(e)}function ep(e){return vh({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"},child:[]}]})(e)}function tp(e){return vh({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"},child:[]}]})(e)}function np(e){return vh({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M139.61 35.5a12 12 0 0 0-17 0L58.93 98.81l-22.7-22.12a12 12 0 0 0-17 0L3.53 92.41a12 12 0 0 0 0 17l47.59 47.4a12.78 12.78 0 0 0 17.61 0l15.59-15.62L156.52 69a12.09 12.09 0 0 0 .09-17zm0 159.19a12 12 0 0 0-17 0l-63.68 63.72-22.7-22.1a12 12 0 0 0-17 0L3.53 252a12 12 0 0 0 0 17L51 316.5a12.77 12.77 0 0 0 17.6 0l15.7-15.69 72.2-72.22a12 12 0 0 0 .09-16.9zM64 368c-26.49 0-48.59 21.5-48.59 48S37.53 464 64 464a48 48 0 0 0 0-96zm432 16H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(e)}function sp(e){return vh({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M298.028 214.267L285.793 96H328c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v48c0 13.255 10.745 24 24 24h42.207L85.972 214.267C37.465 236.82 0 277.261 0 328c0 13.255 10.745 24 24 24h136v104.007c0 1.242.289 2.467.845 3.578l24 48c2.941 5.882 11.364 5.893 14.311 0l24-48a8.008 8.008 0 0 0 .845-3.578V352h136c13.255 0 24-10.745 24-24-.001-51.183-37.983-91.42-85.973-113.733z"},child:[]}]})(e)}function rp(e){return vh({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(e)}function ap(e){return vh({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function ip(e){return vh({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M501.1 395.7L384 278.6c-23.1-23.1-57.6-27.6-85.4-13.9L192 158.1V96L64 0 0 64l96 128h62.1l106.6 106.6c-13.6 27.8-9.2 62.3 13.9 85.4l117.1 117.1c14.6 14.6 38.2 14.6 52.7 0l52.7-52.7c14.5-14.6 14.5-38.2 0-52.7zM331.7 225c28.3 0 54.9 11 74.9 31l19.4 19.4c15.8-6.9 30.8-16.5 43.8-29.5 37.1-37.1 49.7-89.3 37.9-136.7-2.2-9-13.5-12.1-20.1-5.5l-74.4 74.4-67.9-11.3L334 98.9l74.4-74.4c6.6-6.6 3.4-17.9-5.7-20.2-47.4-11.7-99.6.9-136.6 37.9-28.5 28.5-41.9 66.1-41.2 103.6l82.1 82.1c8.1-1.9 16.5-2.9 24.7-2.9zm-103.9 82l-56.7-56.7L18.7 402.8c-25 25-25 65.5 0 90.5s65.5 25 90.5 0l123.6-123.6c-7.6-19.9-9.9-41.6-5-62.7zM64 472c-13.2 0-24-10.8-24-24 0-13.3 10.7-24 24-24s24 10.7 24 24c0 13.2-10.7 24-24 24z"},child:[]}]})(e)}function op(e){return vh({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function lp(e){return vh({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M50.2 375.6c2.3 8.5 11.1 13.6 19.6 11.3l216.4-58c8.5-2.3 13.6-11.1 11.3-19.6l-49.7-185.5c-2.3-8.5-11.1-13.6-19.6-11.3L151 133.3l24.8 92.7-61.8 16.5-24.8-92.7-77.3 20.7C3.4 172.8-1.7 181.6.6 190.1l49.6 185.5zM384 0c-17.7 0-32 14.3-32 32v323.6L5.9 450c-4.3 1.2-6.8 5.6-5.6 9.8l12.6 46.3c1.2 4.3 5.6 6.8 9.8 5.6l393.7-107.4C418.8 464.1 467.6 512 528 512c61.9 0 112-50.1 112-112V0H384zm144 448c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48z"},child:[]}]})(e)}function cp(e){return vh({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h16c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm320 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"},child:[]}]})(e)}function dp(e){return vh({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M115.38 136.9l102.11 37.18c35.19-81.54 86.21-144.29 139-173.7-95.88-4.89-188.78 36.96-248.53 111.8-6.69 8.4-2.66 21.05 7.42 24.72zm132.25 48.16l238.48 86.83c35.76-121.38 18.7-231.66-42.63-253.98-7.4-2.7-15.13-4-23.09-4-58.02.01-128.27 69.17-172.76 171.15zM521.48 60.5c6.22 16.3 10.83 34.6 13.2 55.19 5.74 49.89-1.42 108.23-18.95 166.98l102.62 37.36c10.09 3.67 21.31-3.43 21.57-14.17 2.32-95.69-41.91-187.44-118.44-245.36zM560 447.98H321.06L386 269.5l-60.14-21.9-72.9 200.37H16c-8.84 0-16 7.16-16 16.01v32.01C0 504.83 7.16 512 16 512h544c8.84 0 16-7.17 16-16.01v-32.01c0-8.84-7.16-16-16-16z"},child:[]}]})(e)}function up(e){return vh({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 128v16a8 8 0 0 1-8 8h-24v12c0 6.627-5.373 12-12 12H60c-6.627 0-12-5.373-12-12v-12H24a8 8 0 0 1-8-8v-16a8 8 0 0 1 4.941-7.392l232-88a7.996 7.996 0 0 1 6.118 0l232 88A8 8 0 0 1 496 128zm-24 304H40c-13.255 0-24 10.745-24 24v16a8 8 0 0 0 8 8h464a8 8 0 0 0 8-8v-16c0-13.255-10.745-24-24-24zM96 192v192H60c-6.627 0-12 5.373-12 12v20h416v-20c0-6.627-5.373-12-12-12h-36V192h-64v192h-64V192h-64v192h-64V192H96z"},child:[]}]})(e)}function hp(e){return vh({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(e)}function mp(e){return vh({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M496 224c-79.6 0-144 64.4-144 144s64.4 144 144 144 144-64.4 144-144-64.4-144-144-144zm64 150.3c0 5.3-4.4 9.7-9.7 9.7h-60.6c-5.3 0-9.7-4.4-9.7-9.7v-76.6c0-5.3 4.4-9.7 9.7-9.7h12.6c5.3 0 9.7 4.4 9.7 9.7V352h38.3c5.3 0 9.7 4.4 9.7 9.7v12.6zM320 368c0-27.8 6.7-54.1 18.2-77.5-8-1.5-16.2-2.5-24.6-2.5h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h347.1c-45.3-31.9-75.1-84.5-75.1-144zm-96-112c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128z"},child:[]}]})(e)}function pp(e){return vh({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h274.9c-2.4-6.8-3.4-14-2.6-21.3l6.8-60.9 1.2-11.1 7.9-7.9 77.3-77.3c-24.5-27.7-60-45.5-99.9-45.5zm45.3 145.3l-6.8 61c-1.1 10.2 7.5 18.8 17.6 17.6l60.9-6.8 137.9-137.9-71.7-71.7-137.9 137.8zM633 268.9L595.1 231c-9.3-9.3-24.5-9.3-33.8 0l-37.8 37.8-4.1 4.1 71.8 71.7 41.8-41.8c9.3-9.4 9.3-24.5 0-33.9z"},child:[]}]})(e)}function fp(e){return vh({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z"},child:[]}]})(e)}function gp(e){return vh({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function xp(e){return vh({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M633.8 458.1L362.3 248.3C412.1 230.7 448 183.8 448 128 448 57.3 390.7 0 320 0c-67.1 0-121.5 51.8-126.9 117.4L45.5 3.4C38.5-2 28.5-.8 23 6.2L3.4 31.4c-5.4 7-4.2 17 2.8 22.4l588.4 454.7c7 5.4 17 4.2 22.5-2.8l19.6-25.3c5.4-6.8 4.1-16.9-2.9-22.3zM96 422.4V464c0 26.5 21.5 48 48 48h350.2L207.4 290.3C144.2 301.3 96 356 96 422.4z"},child:[]}]})(e)}function vp(e){return vh({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm95.8 32.6L272 480l-32-136 32-56h-96l32 56-32 136-47.8-191.4C56.9 292 0 350.3 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-72.1-56.9-130.4-128.2-133.8z"},child:[]}]})(e)}function bp(e){return vh({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function yp(e){return vh({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}function wp(e){return vh({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M148 288h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm108-12v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 96v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm192 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96-260v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h48c26.5 0 48 21.5 48 48zm-48 346V160H48v298c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z"},child:[]}]})(e)}function jp(e){return vh({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 144a110.94 110.94 0 0 0-31.24 5 55.4 55.4 0 0 1 7.24 27 56 56 0 0 1-56 56 55.4 55.4 0 0 1-27-7.24A111.71 111.71 0 1 0 288 144zm284.52 97.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400c-98.65 0-189.09-55-237.93-144C98.91 167 189.34 112 288 112s189.09 55 237.93 144C477.1 345 386.66 400 288 400z"},child:[]}]})(e)}function kp(e){return vh({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48z"},child:[]}]})(e)}const Np=n.p+"static/media/logo.1bdafa95d65c08ccff96.png",_p=e=>{let{name:t,type:n,placeholder:s,value:r,onChange:a,icon:i,disabled:o,required:l=!0,minLength:c}=e;return(0,or.jsxs)("div",{className:"relative group",children:[(0,or.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-blue-600 transition-colors duration-300",children:i}),(0,or.jsx)("input",{type:n,name:t,value:r,onChange:a,placeholder:s,required:l,disabled:o,minLength:c,className:"w-full pl-12 pr-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300 shadow-sm text-slate-800 placeholder-slate-400"})]})},Sp=e=>{let{password:t}=e;const n={length:t.length>=8,number:/\d/.test(t),specialChar:/[!@#$%^&*(),.?":{}|<>]/.test(t)},s=e=>{let{text:t,met:n}=e;return(0,or.jsxs)("div",{className:"flex items-center text-xs transition-colors duration-300 "+(n?"text-emerald-600":"text-slate-500"),children:[n?(0,or.jsx)(Dh,{className:"mr-2"}):(0,or.jsx)(tm,{className:"mr-2"}),(0,or.jsx)("span",{children:t})]})};return(0,or.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-4 gap-y-2 mt-3 p-3 bg-slate-50 rounded-lg border border-slate-200",children:[(0,or.jsx)(s,{text:"\u041c\u0456\u043d\u0456\u043c\u0443\u043c 8 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432",met:n.length}),(0,or.jsx)(s,{text:"\u041c\u0456\u0441\u0442\u0438\u0442\u044c \u0445\u043e\u0447\u0430 \u0431 \u043e\u0434\u043d\u0443 \u0446\u0438\u0444\u0440\u0443",met:n.number}),(0,or.jsx)(s,{text:"\u041c\u0456\u0441\u0442\u0438\u0442\u044c \u0441\u043f\u0435\u0446\u0441\u0438\u043c\u0432\u043e\u043b (!@#...)",met:n.specialChar})]})};function Cp(){const[t,n]=(0,e.useState)(!0),[s,r]=(0,e.useState)(!1),[a,i]=(0,e.useState)(!1),[o,l]=(0,e.useState)(""),[c,d]=(0,e.useState)(""),[u,h]=(0,e.useState)(!0),[m,p]=(0,e.useState)({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),f=te();(0,e.useEffect)(()=>{(async()=>{const{data:{session:e}}=await ar.auth.getSession();e?f("/home"):h(!1)})();const{data:e}=ar.auth.onAuthStateChange((e,t)=>{"SIGNED_IN"===e&&t&&f("/home")});return()=>{null===e||void 0===e||e.subscription.unsubscribe()}},[f]);const g=e=>{const{name:t,value:n}=e.target;p({...m,[t]:n}),o&&l(""),c&&d("")},x=()=>{n(!t),p({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),l(""),d(""),r(!1),i(!1)};return u&&!o?(0,or.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:(0,or.jsx)("img",{src:Np,alt:"Loading...",className:"w-16 h-16 object-contain animate-pulse drop-shadow-lg"})}):(0,or.jsx)("div",{className:"min-h-screen bg-slate-100 font-sans flex items-center justify-center p-4",children:(0,or.jsxs)("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-xl border border-slate-200 relative overflow-visible",children:[(0,or.jsxs)("div",{className:"h-40 bg-gradient-to-br from-slate-800 to-blue-900 flex items-center justify-center relative rounded-t-2xl",children:[(0,or.jsx)("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden rounded-t-2xl",children:(0,or.jsx)("div",{className:"absolute top-0 left-0 w-full h-full opacity-10 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-white via-transparent to-transparent"})}),(0,or.jsx)("div",{className:"w-24 h-24 bg-white rounded-2xl flex items-center justify-center shadow-2xl absolute -bottom-12 border-4 border-white z-10 transform rotate-3 transition-transform hover:rotate-0",children:(0,or.jsx)("img",{src:Np,alt:"K-Core Logo",className:"w-16 h-16 object-contain filter drop-shadow-md"})})]}),(0,or.jsxs)("div",{className:"p-8 pt-16",children:[(0,or.jsx)(Sr,{mode:"wait",children:(0,or.jsxs)(lh.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5,ease:"easeInOut"},className:"w-full",children:[(0,or.jsx)("h2",{className:"text-3xl font-bold text-slate-800 mb-2 text-center tracking-tight",children:t?"Kairos-Core System":"\u0420\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u044f"}),(0,or.jsx)("p",{className:"text-sm text-slate-500 mb-8 text-center",children:t?"\u0423\u0432\u0456\u0439\u0434\u0456\u0442\u044c, \u0449\u043e\u0431 \u043a\u0435\u0440\u0443\u0432\u0430\u0442\u0438 \u0435\u043d\u0435\u0440\u0433\u0456\u0454\u044e":"\u041f\u0440\u0438\u0454\u0434\u043d\u0443\u0439\u0442\u0435\u0441\u044c \u0434\u043e \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0438 \u043c\u0430\u0439\u0431\u0443\u0442\u043d\u044c\u043e\u0433\u043e"}),o&&(0,or.jsx)(lh.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border-l-4 border-red-500 text-red-700 px-4 py-3 rounded-r-lg mb-6 text-sm font-medium shadow-sm",children:o}),c&&(0,or.jsx)(lh.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-emerald-50 border-l-4 border-emerald-500 text-emerald-700 px-4 py-3 rounded-r-lg mb-6 text-sm font-medium shadow-sm",children:c}),(0,or.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),l(""),d(""),!t){if(m.password!==m.confirmPassword)return void l("\u041f\u0430\u0440\u043e\u043b\u0456 \u043d\u0435 \u0441\u043f\u0456\u0432\u043f\u0430\u0434\u0430\u044e\u0442\u044c.");if(!(m.password.length>=8&&/\d/.test(m.password)&&/[!@#$%^&*(),.?":{}|<>]/.test(m.password)))return void l("\u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0430\u0454 \u0432\u0438\u043c\u043e\u0433\u0430\u043c \u0431\u0435\u0437\u043f\u0435\u043a\u0438.")}h(!0);try{if(t){const{error:e}=await ar.auth.signInWithPassword({email:m.email,password:m.password});if(e)throw e}else{const{data:e,error:t}=await ar.auth.signUp({email:m.email,password:m.password});if(t)throw t;if(!e.user)throw new Error("\u041d\u0435 \u0432\u0434\u0430\u043b\u043e\u0441\u044f \u0441\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430.");const{error:n}=await ar.from("user_site").insert({user_id:e.user.id,first_name:m.firstName,last_name:m.lastName,email:m.email});if(n)throw n;d("\u0420\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u044f \u0443\u0441\u043f\u0456\u0448\u043d\u0430! \u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0456\u0442\u044c \u0441\u0432\u043e\u044e \u043f\u043e\u0448\u0442\u0443 \u0442\u0430 \u0443\u0432\u0456\u0439\u0434\u0456\u0442\u044c \u0432 \u0430\u043a\u0430\u0443\u043d\u0442."),x()}}catch(n){const e=n.message||"\u0421\u0442\u0430\u043b\u0430\u0441\u044f \u043d\u0435\u0432\u0456\u0434\u043e\u043c\u0430 \u043f\u043e\u043c\u0438\u043b\u043a\u0430.";e.includes("User already registered")?l("\u041a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447 \u0437 \u0442\u0430\u043a\u043e\u044e \u043f\u043e\u0448\u0442\u043e\u044e \u0432\u0436\u0435 \u0456\u0441\u043d\u0443\u0454."):e.includes("Invalid login credentials")?l("\u041d\u0435\u0432\u0456\u0440\u043d\u0430 \u043f\u043e\u0448\u0442\u0430 \u0430\u0431\u043e \u043f\u0430\u0440\u043e\u043b\u044c."):l(e)}finally{h(!1)}},className:"space-y-5",children:[!t&&(0,or.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,or.jsx)(_p,{name:"firstName",type:"text",placeholder:"\u0406\u043c'\u044f",value:m.firstName,onChange:g,icon:(0,or.jsx)(bp,{}),disabled:u}),(0,or.jsx)(_p,{name:"lastName",type:"text",placeholder:"\u041f\u0440\u0456\u0437\u0432\u0438\u0449\u0435",value:m.lastName,onChange:g,icon:(0,or.jsx)(bp,{}),disabled:u})]}),(0,or.jsx)(_p,{name:"email",type:"email",placeholder:"\u0415\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430 \u043f\u043e\u0448\u0442\u0430",value:m.email,onChange:g,icon:(0,or.jsx)(Zh,{}),disabled:u}),(0,or.jsxs)("div",{className:"relative",children:[(0,or.jsx)(_p,{name:"password",type:s?"text":"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",value:m.password,onChange:g,icon:(0,or.jsx)(Tm,{}),disabled:u,minLength:8}),(0,or.jsx)("button",{type:"button",onClick:()=>r(!s),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-blue-600 transition-colors focus:outline-none",children:s?(0,or.jsx)(sm,{}):(0,or.jsx)(rm,{})})]}),!t&&(0,or.jsxs)(or.Fragment,{children:[(0,or.jsxs)("div",{className:"relative",children:[(0,or.jsx)(_p,{name:"confirmPassword",type:a?"text":"password",placeholder:"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438 \u043f\u0430\u0440\u043e\u043b\u044c",value:m.confirmPassword,onChange:g,icon:(0,or.jsx)(Tm,{}),disabled:u,minLength:8}),(0,or.jsx)("button",{type:"button",onClick:()=>i(!a),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-blue-600 transition-colors focus:outline-none",children:a?(0,or.jsx)(sm,{}):(0,or.jsx)(rm,{})})]}),(0,or.jsx)(Sp,{password:m.password})]}),t&&(0,or.jsx)("div",{className:"flex items-center justify-between",children:(0,or.jsxs)("label",{className:"flex items-center text-sm text-slate-600 cursor-pointer hover:text-slate-800 transition-colors",children:[(0,or.jsx)("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),(0,or.jsx)("span",{className:"ml-2",children:"\u0417\u0430\u043f\u0430\u043c'\u044f\u0442\u0430\u0442\u0438 \u043c\u0435\u043d\u0435"})]})}),(0,or.jsx)(lh.button,{whileHover:{scale:1.02,y:-2},whileTap:{scale:.98,y:0},type:"submit",disabled:u,className:"w-full px-6 py-3.5 bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 disabled:from-slate-400 disabled:to-slate-500 text-white rounded-lg font-bold transition-all duration-300 shadow-lg hover:shadow-blue-500/30 text-base tracking-wider flex items-center justify-center space-x-3 mt-6",children:u?(0,or.jsxs)(or.Fragment,{children:[(0,or.jsxs)("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,or.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,or.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,or.jsx)("span",{children:"\u041e\u0411\u0420\u041e\u0411\u041a\u0410..."})]}):t?(0,or.jsxs)(or.Fragment,{children:[(0,or.jsx)(Km,{}),(0,or.jsx)("span",{children:"\u0423\u0412\u0406\u0419\u0422\u0418"})]}):(0,or.jsxs)(or.Fragment,{children:[(0,or.jsx)(gp,{}),(0,or.jsx)("span",{children:"\u0421\u0422\u0412\u041e\u0420\u0418\u0422\u0418 \u0410\u041a\u0410\u0423\u041d\u0422"})]})})]})]},t?"signIn":"signUp")}),(0,or.jsxs)("div",{className:"mt-8 text-center",children:[(0,or.jsx)("span",{className:"text-sm text-slate-500",children:t?"\u0412\u043f\u0435\u0440\u0448\u0435 \u0442\u0443\u0442?":"\u0412\u0436\u0435 \u043c\u0430\u0454\u0442\u0435 \u0430\u043a\u0430\u0443\u043d\u0442?"}),(0,or.jsx)(lh.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:x,disabled:u,className:"ml-2 text-sm font-semibold text-blue-600 hover:text-blue-800 transition-colors focus:outline-none",children:t?"\u0417\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0432\u0430\u0442\u0438\u0441\u044c":"\u0423\u0432\u0456\u0439\u0442\u0438 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443"})]})]})]})})}const Ep=n.p+"static/media/logoCore1.5a6ec39e808a56b81dff.png",Tp=t=>{let{children:n}=t;const[s,r]=(0,e.useState)(!1),a=te(),i=Q(),{signOut:o}=cr(),l=async()=>{await o(),a("/",{replace:!0})},c=[{path:"/home",label:"\u0413\u043e\u043b\u043e\u0432\u043d\u0430",icon:wm},{path:"/clients",label:"\u041a\u043b\u0456\u0454\u043d\u0442\u0438",icon:yp},{path:"/installations",label:"\u041e\u0431'\u0454\u043a\u0442\u0438",icon:vm},{path:"/employees",label:"\u041f\u0440\u0430\u0446\u0456\u0432\u043d\u0438\u043a\u0438",icon:vp},{path:"/tasks",label:"\u0417\u0430\u0434\u0430\u0447\u0456",icon:np},{path:"/equipment",label:"\u041e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f",icon:qh},{path:"/payments",label:"\u041f\u043b\u0430\u0442\u0435\u0436\u0456",icon:Lm},{path:"/documents",label:"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0438",icon:pm}];return(0,or.jsxs)("div",{className:"flex h-[100dvh] w-full bg-slate-50 overflow-hidden",children:[(0,or.jsxs)("aside",{className:"hidden lg:flex flex-col w-64 bg-white border-r border-slate-200 h-full flex-shrink-0 z-20",children:[(0,or.jsx)("div",{className:"p-6 flex items-center justify-start border-b border-slate-100 min-h-[80px]",children:(0,or.jsx)("img",{src:Ep,alt:"K-Core",className:"h-12 w-auto object-contain transition-all hover:scale-105"})}),(0,or.jsx)("nav",{className:"flex-1 overflow-y-auto p-4 space-y-1 custom-scrollbar",children:c.map(e=>{const t=i.pathname.startsWith(e.path);return(0,or.jsxs)("button",{onClick:()=>a(e.path),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all font-medium text-sm\n                   ${t?"bg-indigo-600 text-white shadow-md shadow-indigo-200":"text-slate-500 hover:bg-slate-50 hover:text-indigo-600"}\n                 `,children:[(0,or.jsx)(e.icon,{className:t?"text-white":"text-slate-400",size:18}),e.label]},e.path)})}),(0,or.jsx)("div",{className:"p-4 border-t border-slate-100",children:(0,or.jsxs)("button",{onClick:l,className:"flex items-center gap-3 px-4 py-3 text-slate-500 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all w-full text-sm font-medium",children:[(0,or.jsx)(Gm,{})," \u0412\u0438\u0445\u0456\u0434"]})})]}),(0,or.jsx)(Sr,{children:s&&(0,or.jsxs)(or.Fragment,{children:[(0,or.jsx)(lh.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>r(!1),className:"fixed inset-0 bg-black/50 z-40 lg:hidden"}),(0,or.jsxs)(lh.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"tween",ease:"easeOut",duration:.3},className:"fixed inset-y-0 right-0 z-50 w-72 bg-white shadow-2xl flex flex-col lg:hidden will-change-transform",children:[(0,or.jsxs)("div",{className:"p-5 flex justify-between items-center border-b border-slate-100 min-h-[80px]",children:[(0,or.jsx)("img",{src:Ep,alt:"K-Core",className:"h-9 w-auto object-contain"}),(0,or.jsx)("button",{onClick:()=>r(!1),className:"p-2 bg-slate-50 rounded-full text-slate-400 hover:text-slate-600",children:(0,or.jsx)(ap,{size:20})})]}),(0,or.jsx)("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:c.map(e=>{const t=i.pathname.startsWith(e.path);return(0,or.jsxs)("button",{onClick:()=>{a(e.path),r(!1)},className:`w-full flex items-center gap-4 px-4 py-3.5 rounded-xl font-medium text-sm transition-colors\n                         ${t?"bg-indigo-600 text-white shadow-lg shadow-indigo-200":"text-slate-600 hover:bg-slate-50"}\n                       `,children:[(0,or.jsx)(e.icon,{size:18,className:t?"text-white":"text-slate-400"}),e.label]},e.path)})}),(0,or.jsx)("div",{className:"p-4 border-t border-slate-100 bg-slate-50 pb-safe",children:(0,or.jsxs)("button",{onClick:()=>{l(),r(!1)},className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-white border border-slate-200 text-red-500 rounded-xl font-bold shadow-sm active:scale-95 transition-all",children:[(0,or.jsx)(Gm,{})," \u0412\u0438\u0439\u0442\u0438"]})})]})]})}),(0,or.jsxs)("div",{className:"flex-1 flex flex-col min-w-0 relative h-full",children:[(0,or.jsxs)("header",{className:"lg:hidden flex items-center justify-between px-5 py-3 bg-white border-b border-slate-200 flex-shrink-0 z-30 min-h-[64px]",children:[(0,or.jsx)("img",{src:Ep,alt:"K-Core",className:"h-8 w-auto object-contain"}),(0,or.jsx)("button",{onClick:()=>r(!0),className:"p-2.5 -mr-2 text-slate-600 bg-slate-50 hover:bg-slate-100 rounded-xl transition-colors border border-slate-100",children:(0,or.jsx)(kh,{size:22})})]}),(0,or.jsx)("main",{className:"flex-1 overflow-y-auto bg-slate-100 w-full relative scroll-smooth",children:n})]})]})},Pp=n.p+"static/media/rbplogo.5b0d296404d124215ae8.png",zp=[{value:"survey",label:"\u0422\u0435\u0445. \u043e\u0433\u043b\u044f\u0434"},{value:"waiting_project",label:"\u041e\u0447\u0456\u043a\u0443\u0454\u043c\u043e \u043f\u0440\u043e\u0435\u043a\u0442"},{value:"project_done",label:"\u041f\u0440\u043e\u0435\u043a\u0442 \u0433\u043e\u0442\u043e\u0432\u0438\u0439"},{value:"project_approved",label:"\u041f\u0440\u043e\u0435\u043a\u0442 \u043f\u043e\u0433\u043e\u0434\u0436\u0435\u043d\u043e"},{value:"kp_done",label:"\u041a\u041f \u0433\u043e\u0442\u043e\u0432\u0435"},{value:"kp_approved",label:"\u041a\u041f \u043f\u043e\u0433\u043e\u0434\u0436\u0435\u043d\u043e"},{value:"advance_payment",label:"\u0410\u0432\u0430\u043d\u0441"},{value:"equipment_order",label:"\u0417\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f"},{value:"waiting_equipment",label:"\u041e\u0447\u0456\u043a\u0443\u0454\u043c\u043e \u043e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f"},{value:"materials_packing",label:"\u041a\u043e\u043c\u043f\u043b\u0435\u043a\u0442\u0430\u0446\u0456\u044f"},{value:"protection_packing",label:"\u0417\u0430\u0445\u0438\u0441\u0442"},{value:"installation_start",label:"\u0421\u0442\u0430\u0440\u0442 \u043c\u043e\u043d\u0442\u0430\u0436\u0443"},{value:"res_connection",label:"\u041f\u0456\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u044f \u0420\u0415\u0421"},{value:"final_settlement",label:"\u0420\u043e\u0437\u0440\u0430\u0445\u0443\u043d\u043e\u043a"},{value:"final_report",label:"\u0417\u0432\u0456\u0442"},{value:"installation_finish",label:"\u0424\u0456\u043d\u0456\u0448"}],Lp=e=>{const t=zp.find(t=>t.value===e);return t?t.label:e},Ap=e=>(e||0).toLocaleString("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}),Mp=e=>{let{title:t,value:n,subValue:s,icon:r,color:a,isNegative:i}=e;return(0,or.jsxs)("div",{className:"bg-white rounded-2xl p-4 sm:p-5 shadow-sm border border-slate-100 flex flex-col justify-between h-full relative overflow-hidden group hover:shadow-md transition-all",children:[(0,or.jsx)("div",{className:`absolute top-0 right-0 p-4 opacity-10 ${a} text-5xl group-hover:scale-110 transition-transform`,children:(0,or.jsx)(r,{})}),(0,or.jsxs)("div",{children:[(0,or.jsx)("p",{className:"text-slate-500 text-xs font-bold uppercase tracking-wider mb-1",children:t}),(0,or.jsx)("h3",{className:"text-xl sm:text-2xl font-extrabold text-slate-800",children:n})]}),s&&(0,or.jsxs)("div",{className:"mt-2 sm:mt-3 flex items-center gap-1 text-xs font-bold "+(i?"text-amber-500":"text-slate-400"),children:[i&&(0,or.jsx)(em,{}),s]})]})},Op=e=>{var t;let{item:n}=e;const s=te();if(!n.installation)return(0,or.jsxs)("div",{className:"flex items-center gap-3 py-3 border-b border-slate-50 last:border-0 p-2 rounded-lg bg-slate-50/50",children:[(0,or.jsx)("div",{className:"flex flex-col items-center justify-center min-w-[3.5rem] h-10 rounded-lg bg-slate-200 border border-slate-300 text-slate-500 shrink-0",children:(0,or.jsx)(ip,{className:"text-lg"})}),(0,or.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,or.jsx)("h4",{className:"font-bold text-slate-700 text-sm truncate",children:n.notes||"\u0420\u043e\u0431\u043e\u0442\u0430 \u0431\u0435\u0437 \u043e\u043f\u0438\u0441\u0443"}),(0,or.jsx)("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"\u0406\u043d\u0434\u0438\u0432\u0456\u0434\u0443\u0430\u043b\u044c\u043d\u0435 \u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f"})]})]});const r=n.installation,a=(e=>{if(!e)return 0;const t=zp.findIndex(t=>t.value===e);return-1===t?0:Math.round((t+1)/zp.length*100)})(r.workflow_stage),i=Lp(r.workflow_stage),o=null===(t=r.client)||void 0===t?void 0:t.populated_place;return(0,or.jsxs)("div",{onClick:()=>s(`/project/${r.custom_id}`),className:"group flex items-center gap-3 py-3 border-b border-slate-50 last:border-0 hover:bg-indigo-50/30 transition-all p-2 rounded-lg cursor-pointer active:bg-indigo-50",children:[(0,or.jsxs)("div",{className:"flex flex-col items-center justify-center min-w-[3.5rem] h-10 rounded-lg bg-indigo-50 border border-indigo-100 text-indigo-700 shrink-0 shadow-sm",children:[(0,or.jsx)("span",{className:"font-extrabold text-sm leading-none",children:Math.round(r.capacity_kw||0)}),(0,or.jsx)("span",{className:"text-[9px] font-bold opacity-70 leading-none mt-0.5",children:"\u043a\u0412\u0442"})]}),(0,or.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,or.jsxs)("div",{className:"flex justify-between items-center mb-1 gap-2",children:[(0,or.jsx)("h4",{className:"font-bold text-slate-700 text-sm truncate group-hover:text-indigo-700 transition-colors",children:r.name||"\u0411\u0435\u0437 \u043d\u0430\u0437\u0432\u0438"}),(0,or.jsxs)("span",{className:"shrink-0 text-[10px] font-mono font-bold text-slate-400 bg-slate-100 px-1.5 py-0.5 rounded border border-slate-200",children:["#",r.custom_id]})]}),(0,or.jsxs)("div",{className:"flex items-center gap-2 mb-1.5",children:[(0,or.jsx)("div",{className:"w-full bg-slate-100 rounded-full h-1.5 overflow-hidden",children:(0,or.jsx)("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-500 h-1.5 rounded-full",style:{width:`${a}%`}})}),(0,or.jsxs)("span",{className:"text-[10px] font-bold text-indigo-600 w-6 text-right",children:[a,"%"]})]}),(0,or.jsxs)("div",{className:"flex justify-between items-center text-[11px] text-slate-500 font-medium",children:[(0,or.jsxs)("button",{onClick:e=>{e.stopPropagation();let t=r.gps_link;!t&&r.latitude&&r.longitude&&(t=`https://www.google.com/maps?q=${r.latitude},${r.longitude}`),!t&&o&&(t=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(o)}`),t?window.open(t,"_blank"):alert("\u0413\u0435\u043e\u043b\u043e\u043a\u0430\u0446\u0456\u044f \u043d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u0430")},className:"flex items-center gap-1 hover:text-blue-600 hover:underline decoration-blue-300 truncate max-w-[55%]",children:[(0,or.jsx)(Pm,{className:"text-red-400 shrink-0"}),(0,or.jsx)("span",{className:"truncate",children:o||"\u041b\u043e\u043a\u0430\u0446\u0456\u044f \u043d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u0430"}),(0,or.jsx)(nm,{size:8,className:"opacity-0 group-hover:opacity-50 ml-0.5"})]}),(0,or.jsx)("span",{className:"px-2 py-0.5 rounded bg-blue-50 text-blue-600 border border-blue-100 text-[9px] uppercase tracking-wide",children:i})]})]})]})},Dp=e=>{let{item:t}=e;const n=te();if("task"===t.type){const e=new Date(t.due_date)<new Date((new Date).setHours(0,0,0,0));return(0,or.jsxs)("div",{onClick:()=>t.installation_id&&n(`/project/${t.installation_custom_id}`),className:`p-3 rounded-xl border-l-4 flex gap-3 mb-2 transition-colors cursor-pointer\n                    ${e?"border-red-500 bg-red-50 hover:bg-red-100":"border-orange-400 bg-orange-50 hover:bg-orange-100"}\n                `,children:[(0,or.jsx)("div",{className:"mt-1 shrink-0 "+(e?"text-red-500":"text-orange-500"),children:(0,or.jsx)(np,{})}),(0,or.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,or.jsx)("div",{className:"flex justify-between items-start mb-1",children:(0,or.jsx)("p",{className:"text-sm font-bold text-slate-800 line-clamp-2 leading-snug",children:t.task_text})}),(0,or.jsxs)("div",{className:"flex justify-between items-end mt-1",children:[t.installation_name?(0,or.jsx)("span",{className:"text-[10px] bg-white/60 px-1.5 py-0.5 rounded text-slate-600 truncate max-w-[60%] border border-black/5",children:t.installation_name}):(0,or.jsx)("span",{}),(0,or.jsxs)("span",{className:"text-[10px] font-bold flex items-center gap-1 "+(e?"text-red-600":"text-orange-600"),children:[(0,or.jsx)(Mh,{size:10}),e?"\u0422\u0435\u0440\u043c\u0456\u043d \u0441\u043f\u043b\u0438\u0432":"\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456"]})]})]})]})}return(0,or.jsxs)("div",{onClick:()=>n(`/project/${t.custom_id}`),className:"p-3 rounded-xl border-l-4 border-amber-500 bg-amber-50/50 flex gap-3 mb-2 hover:bg-amber-50 transition-colors cursor-pointer",children:[(0,or.jsx)("div",{className:"mt-1 text-amber-500 shrink-0",children:(0,or.jsx)(em,{})}),(0,or.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,or.jsx)("div",{className:"flex justify-between items-center mb-1",children:(0,or.jsxs)("p",{className:"text-sm font-bold text-slate-800 truncate",children:[t.name," ",(0,or.jsxs)("span",{className:"text-slate-400 font-normal text-xs",children:["#",t.custom_id]})]})}),(0,or.jsx)("p",{className:"text-xs text-amber-700 font-bold mb-1",children:t.attentionReason}),t.attentionComment&&(0,or.jsxs)("div",{className:"text-xs text-slate-600 italic bg-white p-2 rounded border border-amber-100 flex gap-2 items-start",children:[(0,or.jsx)(Wh,{className:"mt-0.5 text-amber-300 shrink-0"}),(0,or.jsx)("span",{className:"line-clamp-2",children:t.attentionComment})]})]})]})};function Rp(){const[t,n]=(0,e.useState)(!0),[s,r]=(0,e.useState)({incomeMonth:0,totalDebt:0,totalCapacity:0,workersToday:0,workersOff:0}),[a,i]=(0,e.useState)([]),[o,l]=(0,e.useState)([]),c=te(),d=(0,e.useCallback)(async()=>{n(!0);const e=new Date,t=e.toISOString().split("T")[0],s=new Date(e.getFullYear(),e.getMonth(),1).toISOString();try{const e=ar.from("payment_history").select("amount").gte("paid_at",s),n=ar.from("installations").select("id, custom_id, name, status, total_cost, paid_amount, capacity_kw, workflow_stage, workflow_data").neq("status","cancelled"),a=ar.from("installation_workers").select("\n                    id, notes, work_date, installation_custom_id,\n                    installation:installations (\n                        id, custom_id, name, status, capacity_kw, workflow_stage, \n                        gps_link, latitude, longitude,\n                        client:clients(populated_place)\n                    )\n                ").eq("work_date",t),o=ar.from("attendance").select("id").eq("work_date",t).in("status",["OFF","VACATION","SICK_LEAVE"]),c=ar.from("microtasks").select("\n                    custom_id, task_text, due_date, status, installation_id, \n                    installation:installations(name, custom_id)\n                ").lte("due_date",t).neq("status","\u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043e").neq("status","\u0441\u043a\u0430\u0441\u043e\u0432\u0430\u043d\u043e"),[d,u,h,m,p]=await Promise.all([e,n,a,o,c]),f=d.data?d.data.reduce((e,t)=>e+(parseFloat(t.amount)||0),0):0,g=m.data?m.count||m.data.length:0;let x=0,v=0;const b=[];(u.data||[]).forEach(e=>{const t=parseFloat(e.total_cost)||0,n=parseFloat(e.paid_amount)||0;t>n&&(x+=t-n),v+=parseFloat(e.capacity_kw)||0;let s=null,r=null;if("on_hold"===e.status?s="\u0421\u0442\u0430\u0442\u0443\u0441: \u041f\u0420\u0418\u0417\u0423\u041f\u0418\u041d\u0415\u041d\u041e":e.workflow_stage&&e.workflow_stage.includes("waiting")&&(s=`\u0417\u0430\u0441\u0442\u0440\u044f\u0433 \u043d\u0430 \u0435\u0442\u0430\u043f\u0456: ${Lp(e.workflow_stage)}`),s){if(e.workflow_data)try{var a;const t="string"===typeof e.workflow_data?JSON.parse(e.workflow_data):e.workflow_data;null!==(a=t[e.workflow_stage])&&void 0!==a&&a.comment&&(r=t[e.workflow_stage].comment)}catch(px){}b.push({type:"project",...e,attentionReason:s,attentionComment:r})}});(p.data||[]).forEach(e=>{var t,n;b.push({type:"task",id:e.custom_id,task_text:e.task_text,due_date:e.due_date,installation_name:null===(t=e.installation)||void 0===t?void 0:t.name,installation_id:e.installation_id,installation_custom_id:null===(n=e.installation)||void 0===n?void 0:n.custom_id})}),b.sort((e,t)=>"task"===e.type&&"task"!==t.type?-1:"task"!==e.type&&"task"===t.type?1:0);const y=h.data||[],w=[],j=new Set;y.forEach(e=>{e.installation&&e.installation.custom_id?j.has(e.installation.custom_id)||(j.add(e.installation.custom_id),w.push({type:"project",installation:e.installation,notes:e.notes})):e.notes&&w.push({type:"manual",installation:null,notes:e.notes})}),r({incomeMonth:f,totalDebt:x,totalCapacity:v,workersToday:y.length,workersOff:g}),i(w),l(b)}catch(a){console.error("Dashboard Error:",a)}finally{n(!1)}},[]);return(0,e.useEffect)(()=>{d()},[d]),(0,or.jsx)(Tp,{children:(0,or.jsxs)("div",{className:"p-4 sm:p-8 space-y-4 sm:space-y-6 max-w-[1600px] mx-auto pb-safe h-[100dvh] flex flex-col box-border",children:[(0,or.jsxs)("div",{className:"flex-none flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-2",children:[(0,or.jsxs)("div",{className:"flex items-center gap-3",children:[(0,or.jsx)("img",{src:Pp,alt:"K-Core Logo",className:"h-12 sm:h-12 w-auto"}),(0,or.jsxs)("div",{children:[(0,or.jsx)("h1",{className:"text-xl sm:text-2xl font-bold text-slate-800",children:"\u041e\u0433\u043b\u044f\u0434 \u043a\u043e\u043c\u043f\u0430\u043d\u0456\u0457"}),(0,or.jsxs)("p",{className:"text-slate-500 text-xs sm:text-sm",children:["\u041e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u0438\u0439 \u0441\u0442\u0430\u043d \u043d\u0430 ",(new Date).toLocaleDateString("uk-UA")]})]})]}),(0,or.jsxs)("div",{className:"flex gap-2 w-full sm:w-auto",children:[(0,or.jsxs)("button",{onClick:()=>c("/installations"),className:"flex-1 sm:flex-none justify-center bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-xl text-sm font-bold shadow-lg shadow-indigo-200 transition-all active:scale-95 flex items-center gap-2",children:[(0,or.jsx)(vm,{})," ",(0,or.jsx)("span",{children:"\u041f\u0440\u043e\u0435\u043a\u0442\u0438"})]}),(0,or.jsxs)("button",{onClick:()=>c("/payments"),className:"flex-1 sm:flex-none justify-center bg-white border border-slate-200 hover:bg-slate-50 text-slate-700 px-4 py-2 rounded-xl text-sm font-bold transition-all flex items-center gap-2",children:[(0,or.jsx)(Lm,{})," ",(0,or.jsx)("span",{children:"\u041f\u043b\u0430\u0442\u0435\u0436\u0456"})]})]})]}),(0,or.jsxs)("div",{className:"flex-none grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[(0,or.jsx)(Mp,{title:"\u041d\u0430\u0434\u0445\u043e\u0434\u0436\u0435\u043d\u043d\u044f",value:Ap(s.incomeMonth),icon:Lm,color:"text-emerald-500"}),(0,or.jsx)(Mp,{title:"\u0414\u0435\u0431\u0456\u0442\u043e\u0440\u043a\u0430",value:Ap(s.totalDebt),icon:em,color:"text-amber-500",isNegative:s.totalDebt>0,subValue:s.totalDebt>0?"\u0421\u0443\u043c\u0430 \u0431\u043e\u0440\u0433\u0443":"\u0427\u0438\u0441\u0442\u043e"}),(0,or.jsx)(Mp,{title:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u043b",value:s.workersToday,icon:mp,color:"text-indigo-500",subValue:`${s.workersOff} \u0432\u0438\u0445\u0456\u0434\u043d\u0456`}),(0,or.jsx)(Mp,{title:"\u041f\u043e\u0442\u0443\u0436\u043d\u0456\u0441\u0442\u044c",value:`${(s.totalCapacity/1e3).toFixed(1)} \u041c\u0412\u0442`,icon:Ch,color:"text-blue-500",subValue:`${s.totalCapacity.toFixed(0)} \u043a\u0412\u0442`})]}),(0,or.jsxs)("div",{className:"flex-1 grid grid-cols-1 lg:grid-cols-3 gap-6 min-h-0 pb-4",children:[(0,or.jsx)("div",{className:"lg:col-span-2 flex flex-col h-full min-h-[300px]",children:(0,or.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 flex flex-col h-full overflow-hidden",children:[(0,or.jsxs)("div",{className:"p-4 sm:p-5 border-b border-slate-50 flex justify-between items-center bg-emerald-50/30 flex-none",children:[(0,or.jsxs)("h3",{className:"font-bold text-slate-800 flex items-center gap-2 text-sm sm:text-base",children:[(0,or.jsx)(Bh,{className:"text-emerald-600"})," \u0412\u0438\u043a\u043e\u043d\u0443\u0454\u0442\u044c\u0441\u044f \u0441\u044c\u043e\u0433\u043e\u0434\u043d\u0456",(0,or.jsx)("span",{className:"bg-emerald-100 text-emerald-700 text-xs px-2 py-0.5 rounded-full",children:a.length})]}),(0,or.jsxs)("button",{onClick:()=>c("/installations"),className:"text-xs font-bold text-emerald-600 hover:underline flex items-center gap-1",children:["\u0412\u0441\u0456 \u043e\u0431'\u0454\u043a\u0442\u0438 ",(0,or.jsx)(wh,{size:10})]})]}),(0,or.jsx)("div",{className:"p-4 flex-1 overflow-y-auto custom-scrollbar",children:t?(0,or.jsx)("div",{className:"space-y-4 animate-pulse",children:[1,2,3].map(e=>(0,or.jsx)("div",{className:"h-16 bg-slate-100 rounded-xl"},e))}):a.length>0?(0,or.jsx)("div",{className:"flex flex-col gap-3",children:a.map((e,t)=>(0,or.jsx)(Op,{item:e},t))}):(0,or.jsxs)("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 border-2 border-dashed border-slate-100 rounded-xl",children:[(0,or.jsx)(Dh,{className:"mb-2 text-3xl opacity-20 text-emerald-500"}),(0,or.jsx)("p",{children:"\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456 \u0440\u043e\u0431\u043e\u0442\u0438 \u043d\u0435 \u0437\u0430\u043f\u043b\u0430\u043d\u043e\u0432\u0430\u043d\u043e"})]})})]})}),(0,or.jsx)("div",{className:"flex flex-col h-full min-h-[300px]",children:(0,or.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 flex flex-col h-full overflow-hidden",children:[(0,or.jsx)("div",{className:"p-4 sm:p-5 border-b border-slate-50 bg-red-50/30 flex-none",children:(0,or.jsxs)("h3",{className:"font-bold text-slate-800 flex items-center gap-2 text-sm sm:text-base",children:[(0,or.jsx)(em,{className:"text-amber-500"})," \u041e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u0430 \u0443\u0432\u0430\u0433\u0430",o.length>0&&(0,or.jsx)("span",{className:"bg-amber-100 text-amber-700 text-xs px-2 py-0.5 rounded-full animate-pulse",children:o.length})]})}),(0,or.jsx)("div",{className:"p-4 flex-1 overflow-y-auto custom-scrollbar",children:o.length>0?(0,or.jsx)("div",{className:"flex flex-col gap-2",children:o.map((e,t)=>(0,or.jsx)(Dp,{item:e},t))}):(0,or.jsxs)("div",{className:"h-full flex flex-col items-center justify-center text-slate-400",children:[(0,or.jsx)(Dh,{className:"text-4xl mb-3 text-emerald-100"}),(0,or.jsx)("p",{className:"text-sm font-medium text-emerald-600",children:"\u0412\u0441\u0435 \u0447\u0438\u0441\u0442\u043e!"})]})})]})})]})]})})}const $p="https://quiet-water-a1ad.kairosost38500.workers.dev",Ip=["\u041a\u043e\u043c\u0435\u0440\u0446\u0456\u0439\u043d\u0430 \u043f\u0440\u043e\u043f\u043e\u0437\u0438\u0446\u0456\u044f","\u0422\u0435\u0445\u043d\u0456\u0447\u043d\u0438\u0439 \u043f\u0440\u043e\u0454\u043a\u0442","\u0424\u043e\u0442\u043e\u0437\u0432\u0456\u0442","\u0424\u043e\u0442\u043e \u043e\u0431'\u0454\u043a\u0442\u0430","3D-\u0432\u0456\u0437\u0443\u0430\u043b\u0456\u0437\u0430\u0446\u0456\u044f","\u0427\u0435\u043a","\u041d\u0430\u043a\u043b\u0430\u0434\u043d\u0430","\u0410\u043a\u0442","\u0406\u043d\u0448\u0435"];function Vp(t){let{project:n,onClose:s}=t;const[r,a]=(0,e.useState)([]),[i,o]=(0,e.useState)(!1),[l,c]=(0,e.useState)([]),[d,u]=(0,e.useState)(Ip[0]),[h,m]=(0,e.useState)(""),[p,f]=(0,e.useState)(!1),[g,x]=(0,e.useState)(!1),[v,b]=(0,e.useState)(null),[y,w]=(0,e.useState)(null),j=(0,e.useRef)(null),k=(0,e.useCallback)(async()=>{if(n){o(!0);try{const e=await fetch(`${$p}/documents/${n.custom_id}`),t=await e.json();if("error"===t.status)throw new Error(t.message);a(t.documents||[])}catch(e){console.error(e)}finally{o(!1)}}},[n]);(0,e.useEffect)(()=>{k()},[k]);const N=e=>{if(e&&e.length>0){const t=Array.from(e);c(e=>[...e,...t])}};return(0,or.jsx)(lh.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-none md:backdrop-blur-sm z-[60] flex items-center justify-center p-4",onClick:s,children:(0,or.jsxs)(lh.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white w-full max-w-4xl max-h-[90vh] rounded-2xl shadow-xl flex flex-col border border-gray-200 md:bg-white/95 md:backdrop-blur-xl",onClick:e=>e.stopPropagation(),children:[(0,or.jsxs)("div",{className:"p-4 sm:p-6 border-b flex justify-between items-start bg-white/50 rounded-t-2xl",children:[(0,or.jsxs)("div",{children:[(0,or.jsxs)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800 flex items-center gap-2",children:[(0,or.jsx)(pm,{className:"text-indigo-500"})," \u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0438"]}),(0,or.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[n.name," (#",n.custom_id,")"]})]}),(0,or.jsx)("button",{onClick:s,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition",children:(0,or.jsx)(ap,{size:20})})]}),(0,or.jsxs)("div",{className:"flex-grow overflow-y-auto p-4 sm:p-6 grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,or.jsx)("div",{className:"lg:col-span-1",children:(0,or.jsxs)("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 sticky top-0",children:[(0,or.jsxs)("h4",{className:"font-bold text-slate-700 mb-3 text-xs uppercase tracking-wider flex items-center gap-2",children:[(0,or.jsx)(Hh,{})," \u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f"]}),(0,or.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),0===l.length)return;const t="\u0406\u043d\u0448\u0435"===d?h.trim():d;if(!t)return w({type:"error",msg:"\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u043d\u0430\u0437\u0432\u0443 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430"}),void setTimeout(()=>w(null),3e3);f(!0);const s=new FormData;s.append("object_number",n.custom_id),s.append("doc_type",t),l.forEach(e=>s.append("files",e));try{const e=await fetch(`${$p}/upload/`,{method:"POST",body:s}),t=await e.json();"success"===t.status?(w({type:"success",msg:`\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043e: ${t.count}`}),c([]),m(""),"\u0406\u043d\u0448\u0435"===d&&u(Ip[0]),k()):w({type:"error",msg:t.message})}catch(r){w({type:"error",msg:"\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0437'\u0454\u0434\u043d\u0430\u043d\u043d\u044f"})}finally{f(!1),setTimeout(()=>w(null),3e3)}},className:"space-y-3",children:[(0,or.jsx)("select",{value:d,onChange:e=>u(e.target.value),className:"w-full p-2.5 rounded-lg border border-gray-300 text-sm focus:ring-2 focus:ring-indigo-500 outline-none bg-white",children:Ip.map(e=>(0,or.jsx)("option",{value:e,children:e},e))}),"\u0406\u043d\u0448\u0435"===d&&(0,or.jsx)(lh.input,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430...",value:h,onChange:e=>m(e.target.value),className:"w-full p-2.5 rounded-lg border border-indigo-300 bg-indigo-50/50 text-sm focus:bg-white outline-none",required:!0}),(0,or.jsxs)("div",{className:"relative border-2 border-dashed rounded-xl p-4 transition-all text-center cursor-pointer "+(g?"border-indigo-500 bg-indigo-50":"border-gray-300 hover:border-indigo-400 hover:bg-white"),onDragOver:e=>{e.preventDefault(),x(!0)},onDragLeave:e=>{e.preventDefault(),x(!1)},onDrop:e=>{e.preventDefault(),x(!1),N(e.dataTransfer.files)},onClick:()=>{var e;return null===(e=j.current)||void 0===e?void 0:e.click()},children:[(0,or.jsx)("input",{type:"file",multiple:!0,ref:j,onChange:e=>{N(e.target.files),j.current&&(j.current.value="")},className:"hidden"}),(0,or.jsx)(Hh,{className:"mx-auto text-2xl mb-2 "+(g?"text-indigo-600":"text-gray-400")}),(0,or.jsx)("p",{className:"text-xs text-gray-500 font-medium",children:"\u041d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c \u0430\u0431\u043e \u043f\u0435\u0440\u0435\u0442\u044f\u0433\u043d\u0456\u0442\u044c \u0444\u0430\u0439\u043b\u0438 \u0441\u044e\u0434\u0438"})]}),(0,or.jsx)(Sr,{children:l.length>0&&(0,or.jsx)(lh.ul,{initial:{opacity:0},animate:{opacity:1},className:"bg-white border rounded-lg divide-y max-h-32 overflow-y-auto text-xs shadow-inner",children:l.map((e,t)=>(0,or.jsxs)(lh.li,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},className:"p-2 flex justify-between items-center hover:bg-slate-50",children:[(0,or.jsxs)("div",{className:"flex items-center gap-2 truncate",children:[(0,or.jsx)(kp,{className:"text-gray-400"}),(0,or.jsx)("span",{className:"truncate text-slate-600 max-w-[150px]",children:e.name})]}),(0,or.jsx)("button",{type:"button",onClick:()=>{return e=t,void c(t=>t.filter((t,n)=>n!==e));var e},className:"text-red-400 hover:text-red-600 p-1",children:(0,or.jsx)(op,{size:10})})]},`${e.name}-${t}`))})}),(0,or.jsxs)("button",{type:"submit",disabled:p||0===l.length,className:"w-full py-2.5 bg-indigo-600 text-white rounded-lg text-sm font-bold shadow-md hover:bg-indigo-700 disabled:opacity-50 disabled:shadow-none flex justify-center items-center gap-2 transition-all active:scale-95",children:[p?(0,or.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):(0,or.jsx)(Hh,{}),p?"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f...":`\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 (${l.length})`]})]}),(0,or.jsx)(Sr,{children:y&&(0,or.jsxs)(lh.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},className:"mt-3 p-2.5 rounded-lg text-xs flex items-center gap-2 font-medium "+("error"===y.type?"bg-red-100 text-red-700":"bg-green-100 text-green-700"),children:["error"===y.type?(0,or.jsx)(tm,{}):(0,or.jsx)(Rh,{})," ",y.msg]})})]})}),(0,or.jsxs)("div",{className:"lg:col-span-2",children:[(0,or.jsx)("h4",{className:"font-bold text-slate-700 mb-3 text-xs uppercase tracking-wider pl-1",children:"\u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u0456 \u0444\u0430\u0439\u043b\u0438"}),(0,or.jsx)("div",{className:"space-y-2",children:i?Array.from({length:3}).map((e,t)=>(0,or.jsx)("div",{className:"h-14 bg-slate-50 rounded-xl animate-pulse border border-slate-100"},t)):0===r.length?(0,or.jsxs)("div",{className:"text-center py-12 border-2 border-dashed border-slate-200 rounded-xl",children:[(0,or.jsx)(pm,{className:"mx-auto text-4xl text-slate-200 mb-2"}),(0,or.jsx)("p",{className:"text-slate-400 text-sm",children:"\u041f\u0430\u043f\u043a\u0430 \u043f\u043e\u0440\u043e\u0436\u043d\u044f"})]}):r.map(e=>{return(0,or.jsxs)(lh.div,{layout:!0,className:"flex items-center justify-between p-3 bg-white border border-slate-200 rounded-xl hover:shadow-md hover:border-indigo-200 transition group",children:[(0,or.jsxs)("div",{className:"flex items-center gap-3 min-w-0",children:[(0,or.jsx)("div",{className:"w-10 h-10 flex items-center justify-center bg-slate-50 rounded-lg flex-shrink-0",children:(t=e.mimeType,t?t.includes("pdf")?(0,or.jsx)(cm,{className:"text-red-500 text-xl"}):t.includes("image")?(0,or.jsx)(om,{className:"text-blue-500 text-xl"}):(0,or.jsx)(am,{className:"text-gray-500 text-xl"}):(0,or.jsx)(am,{className:"text-gray-400 text-xl"}))}),(0,or.jsxs)("div",{className:"min-w-0",children:[(0,or.jsx)("p",{className:"font-semibold text-gray-800 text-sm truncate w-full pr-4",title:e.name,children:e.name}),(0,or.jsxs)("div",{className:"flex flex-wrap items-center gap-2 text-xs text-gray-400 mt-0.5",children:[(0,or.jsx)("span",{className:"bg-slate-100 px-2 py-0.5 rounded text-slate-600 font-medium",children:e.docType||"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442"}),(0,or.jsxs)("span",{children:["\u2022 ",new Date(e.createdTime).toLocaleDateString()]})]})]})]}),(0,or.jsxs)("div",{className:"flex gap-1 pl-2",children:[(0,or.jsx)("button",{onClick:()=>b(e.webViewLink),className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition",title:"\u041f\u0435\u0440\u0435\u0433\u043b\u044f\u0434",children:(0,or.jsx)(rm,{})}),e.webContentLink&&(0,or.jsx)("a",{href:e.webContentLink,className:"p-2 text-emerald-600 hover:bg-emerald-50 rounded-lg transition",title:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438",children:(0,or.jsx)(Jh,{})})]})]},e.id);var t})})]})]}),(0,or.jsx)(Sr,{children:v&&(0,or.jsxs)(lh.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[70] bg-black/90 p-2 sm:p-6 flex flex-col backdrop-blur-sm",children:[(0,or.jsxs)("div",{className:"flex justify-between items-center text-white mb-4 px-2",children:[(0,or.jsx)("h3",{className:"font-medium text-lg",children:"\u041f\u043e\u043f\u0435\u0440\u0435\u0434\u043d\u0456\u0439 \u043f\u0435\u0440\u0435\u0433\u043b\u044f\u0434"}),(0,or.jsx)("button",{onClick:()=>b(null),className:"p-2 hover:bg-white/10 rounded-full transition",children:(0,or.jsx)(ap,{size:24})})]}),(0,or.jsx)("div",{className:"flex-grow bg-white rounded-xl overflow-hidden shadow-2xl",children:(0,or.jsx)("iframe",{src:v.replace("/view","/preview"),className:"w-full h-full border-0",title:"Preview"})})]})})]})})}const Fp=t=>{let{project:n,onClose:s,showToast:r,setConfirmModal:a}=t;const[i,o]=(0,e.useState)([]),[l,c]=(0,e.useState)([]),[d,u]=(0,e.useState)(!0),[h,m]=(0,e.useState)(!1),[p,f]=(0,e.useState)({equipment_id:"",quantity:1,status:"\u0417\u0430\u043f\u043b\u0430\u043d\u043e\u0432\u0430\u043d\u043e",ttn_code:"",notes:""}),[g,x]=(0,e.useState)(""),[v,b]=(0,e.useState)(!1),y=((t,n)=>{const[s,r]=(0,e.useState)(t);return(0,e.useEffect)(()=>{const e=setTimeout(()=>r(t),n);return()=>clearTimeout(e)},[t,n]),s})(g,300),[w,j]=(0,e.useState)(null),[k,N]=(0,e.useState)({quantity:"",status:"",ttn_code:"",notes:""}),[_,S]=(0,e.useState)(!1),C=(0,e.useCallback)(async()=>{if(null===n||void 0===n||!n.custom_id)return;u(!0);const{data:e,error:t}=await ar.from("project_procurement").select("*, equipment:equipment(name, category)").eq("installation_custom_id",n.custom_id).order("created_at",{ascending:!1});t?r("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u043e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f","error"):o(e||[]),u(!1)},[n,r]);(0,e.useEffect)(()=>{C(),ar.from("equipment").select("id, name, category").then(e=>{let{data:t}=e;return c(t||[])})},[C]);const E=y?l.filter(e=>e.name.toLowerCase().includes(y.toLowerCase())):[],T=async()=>{b(!0);const{error:e}=await ar.from("project_procurement").update({quantity:k.quantity,status:k.status,ttn_code:k.ttn_code||null,notes:k.notes||null}).eq("id",w);e?r("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f","error"):(r("\u041f\u043e\u0437\u0438\u0446\u0456\u044e \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043e","success"),j(null),C()),b(!1)};return n?(0,or.jsx)(lh.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:s,children:(0,or.jsxs)(lh.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white/95 backdrop-blur-xl rounded-2xl w-full max-w-lg md:max-w-4xl max-h-[90vh] shadow-2xl flex flex-col border border-gray-200/50",onClick:e=>e.stopPropagation(),children:[(0,or.jsxs)("div",{className:"p-4 sm:p-6 border-b flex justify-between items-start",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800",children:"\u041e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f \u0434\u043b\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0443"}),(0,or.jsx)("p",{className:"text-sm sm:text-base text-gray-500",children:n.name||`\u041f\u0440\u043e\u0435\u043a\u0442 #${n.custom_id}`})]}),(0,or.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-600",children:(0,or.jsx)(ap,{size:20})})]}),(0,or.jsxs)("div",{className:"p-4 sm:p-6 flex-grow overflow-y-auto",children:[(0,or.jsxs)("button",{onClick:()=>m(!h),className:"flex items-center gap-2 font-semibold text-indigo-600 mb-4 text-sm",children:[(0,or.jsx)(Vm,{})," ",h?"\u0421\u0445\u043e\u0432\u0430\u0442\u0438 \u0444\u043e\u0440\u043c\u0443":"\u0414\u043e\u0434\u0430\u0442\u0438 \u043e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f"]}),(0,or.jsx)(Sr,{children:h&&(0,or.jsx)(lh.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden mb-4",children:(0,or.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border rounded-lg bg-slate-50",children:[(0,or.jsxs)("div",{className:"md:col-span-2 relative",children:[(0,or.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"\u041f\u043e\u0448\u0443\u043a \u043e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f"}),(0,or.jsx)("input",{type:"text",placeholder:"\u041f\u043e\u0447\u043d\u0456\u0442\u044c \u0432\u0432\u043e\u0434\u0438\u0442\u0438 \u043d\u0430\u0437\u0432\u0443...",value:g,onChange:e=>{x(e.target.value),S(!0)},onBlur:()=>setTimeout(()=>S(!1),200),className:"w-full mt-1 border border-gray-300 rounded-xl px-4 py-2"}),_&&y&&(0,or.jsx)("div",{className:"absolute z-10 w-full bg-white shadow-lg rounded-md mt-1 max-h-48 overflow-y-auto border",children:E.length>0?E.map(e=>(0,or.jsx)("div",{onMouseDown:()=>{f({...p,equipment_id:e.id}),x(e.name),S(!1)},className:"p-2 hover:bg-slate-100 cursor-pointer",children:e.name},e.id)):(0,or.jsxs)("div",{className:"p-2 text-center",children:[(0,or.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:"\u041d\u0456\u0447\u043e\u0433\u043e \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e."}),(0,or.jsx)("button",{onMouseDown:async()=>{if(!y.trim())return;b(!0);const{data:e,error:t}=await ar.from("equipment").insert({name:y.trim(),category:"\u0406\u043d\u0448\u0435"}).select().single();t?r(`\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f: ${t.message}`,"error"):(r(`\u041e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f "${e.name}" \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043e!`,"success"),c(t=>[...t,e]),f(t=>({...t,equipment_id:e.id})),x(e.name),S(!1)),b(!1)},disabled:v,className:"w-full px-4 py-2 bg-indigo-100 text-indigo-700 rounded-lg text-sm font-semibold hover:bg-indigo-200 disabled:opacity-50",children:v?"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f...":`\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438 "${y}"`})]})})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c"}),(0,or.jsx)("input",{type:"number",value:p.quantity,min:"1",onChange:e=>f({...p,quantity:e.target.value}),className:"w-full mt-1 border border-gray-300 rounded-xl px-4 py-2"})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),(0,or.jsxs)("select",{value:p.status,onChange:e=>f({...p,status:e.target.value}),className:"w-full mt-1 border border-gray-300 rounded-xl px-4 py-2 bg-white",children:[(0,or.jsx)("option",{children:"\u0417\u0430\u043f\u043b\u0430\u043d\u043e\u0432\u0430\u043d\u043e"}),(0,or.jsx)("option",{children:"\u0417\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043e"}),(0,or.jsx)("option",{children:"\u0412\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e"}),(0,or.jsx)("option",{children:"\u041d\u0430 \u0441\u043a\u043b\u0430\u0434\u0456"}),(0,or.jsx)("option",{children:"\u0412\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e"})]})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"\u0422\u0422\u041d"}),(0,or.jsx)("input",{type:"text",value:p.ttn_code,onChange:e=>f({...p,ttn_code:e.target.value}),className:"w-full mt-1 border border-gray-300 rounded-xl px-4 py-2"})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"\u041f\u0440\u0438\u043c\u0456\u0442\u043a\u0430"}),(0,or.jsx)("input",{type:"text",value:p.notes,onChange:e=>f({...p,notes:e.target.value}),className:"w-full mt-1 border border-gray-300 rounded-xl px-4 py-2"})]}),(0,or.jsx)("div",{className:"md:col-span-2 flex justify-end",children:(0,or.jsx)("button",{onClick:async()=>{if(!p.equipment_id||p.quantity<=0)return void r("\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u043e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f \u0442\u0430 \u0432\u043a\u0430\u0436\u0456\u0442\u044c \u043a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c","error");b(!0);const{error:e}=await ar.from("project_procurement").insert([{...p,installation_custom_id:n.custom_id}]);e?r("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0434\u043e\u0434\u0430\u0432\u0430\u043d\u043d\u044f \u043e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f","error"):(r("\u041e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0434\u043e\u0434\u0430\u043d\u043e","success"),f({equipment_id:"",quantity:1,status:"\u0417\u0430\u043f\u043b\u0430\u043d\u043e\u0432\u0430\u043d\u043e",ttn_code:"",notes:""}),x(""),m(!1),C()),b(!1)},disabled:v,className:"px-5 py-2 bg-indigo-600 text-white rounded-lg font-semibold disabled:opacity-50 transition hover:bg-indigo-700",children:v?"\u0414\u043e\u0434\u0430\u0432\u0430\u043d\u043d\u044f...":"\u0414\u043e\u0434\u0430\u0442\u0438"})})]})})}),d?(0,or.jsx)("div",{className:"text-center py-8",children:(0,or.jsx)(Ch,{className:"animate-pulse text-3xl text-indigo-500 mx-auto"})}):0===i.length?(0,or.jsx)("div",{className:"text-center text-slate-500 py-10",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f \u043f\u043e\u0440\u043e\u0436\u043d\u0456\u0439."}):(0,or.jsx)("div",{className:"space-y-3",children:i.map(e=>{var t;return(0,or.jsxs)("div",{className:"bg-slate-50 p-3 rounded-lg border flex flex-col sm:flex-row justify-between sm:items-center gap-3",children:[w===e.id?(0,or.jsxs)("div",{className:"flex-grow grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"text-xs font-medium text-gray-600",children:"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c"}),(0,or.jsx)("input",{type:"number",value:k.quantity,onChange:e=>N({...k,quantity:e.target.value}),className:"w-full border-gray-300 rounded-md px-2 py-1"})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"text-xs font-medium text-gray-600",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),(0,or.jsxs)("select",{value:k.status,onChange:e=>N({...k,status:e.target.value}),className:"w-full border-gray-300 rounded-md px-2 py-1 bg-white",children:[(0,or.jsx)("option",{children:"\u0417\u0430\u043f\u043b\u0430\u043d\u043e\u0432\u0430\u043d\u043e"}),(0,or.jsx)("option",{children:"\u0417\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043e"}),(0,or.jsx)("option",{children:"\u0412\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e"}),(0,or.jsx)("option",{children:"\u041d\u0430 \u0441\u043a\u043b\u0430\u0434\u0456"}),(0,or.jsx)("option",{children:"\u0412\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e"})]})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"text-xs font-medium text-gray-600",children:"\u0422\u0422\u041d"}),(0,or.jsx)("input",{type:"text",value:k.ttn_code,onChange:e=>N({...k,ttn_code:e.target.value}),className:"w-full border-gray-300 rounded-md px-2 py-1"})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"text-xs font-medium text-gray-600",children:"\u041f\u0440\u0438\u043c\u0456\u0442\u043a\u0430"}),(0,or.jsx)("input",{type:"text",value:k.notes,onChange:e=>N({...k,notes:e.target.value}),className:"w-full border-gray-300 rounded-md px-2 py-1"})]})]}):(0,or.jsxs)("div",{className:"flex-grow",children:[(0,or.jsx)("p",{className:"font-semibold text-gray-800",children:(null===(t=e.equipment)||void 0===t?void 0:t.name)||"\u041d\u0435\u0432\u0456\u0434\u043e\u043c\u043e"}),(0,or.jsxs)("p",{className:"text-sm text-gray-500",children:["\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c: ",(0,or.jsx)("span",{className:"font-medium text-gray-700",children:e.quantity})," | \u0421\u0442\u0430\u0442\u0443\u0441: ",(0,or.jsx)("span",{className:"font-medium text-gray-700",children:e.status})]}),e.ttn_code&&(0,or.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["\u0422\u0422\u041d: ",(0,or.jsx)("span",{className:"font-mono bg-slate-200 px-1 rounded",children:e.ttn_code})]}),e.notes&&(0,or.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["\u041f\u0440\u0438\u043c\u0456\u0442\u043a\u0430: ",(0,or.jsx)("span",{className:"italic",children:e.notes})]})]}),(0,or.jsx)("div",{className:"flex-shrink-0 flex items-center gap-2 self-end sm:self-center",children:w===e.id?(0,or.jsxs)(or.Fragment,{children:[(0,or.jsx)("button",{onClick:T,disabled:v,className:"p-2 text-green-600 hover:bg-green-100 rounded-md",children:(0,or.jsx)(Rh,{})}),(0,or.jsx)("button",{onClick:()=>j(null),className:"p-2 text-gray-600 hover:bg-gray-200 rounded-md",children:(0,or.jsx)(ap,{})})]}):(0,or.jsxs)(or.Fragment,{children:[(0,or.jsx)("button",{onClick:()=>(e=>{j(e.id),N({quantity:e.quantity,status:e.status,ttn_code:e.ttn_code||"",notes:e.notes||""})})(e),className:"p-2 text-blue-500 hover:bg-blue-100 rounded-md",children:(0,or.jsx)(Rm,{})}),(0,or.jsx)("button",{onClick:()=>{var t;return((e,t)=>{a?a({isOpen:!0,title:"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f",message:`\u0412\u0438 \u0432\u043f\u0435\u0432\u043d\u0435\u043d\u0456, \u0449\u043e \u0445\u043e\u0447\u0435\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 "${t}" \u0437\u0456 \u0441\u043f\u0438\u0441\u043a\u0443 \u043e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f \u0446\u044c\u043e\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0443?`,onConfirm:async()=>{const{error:t}=await ar.from("project_procurement").delete().eq("id",e);t?r("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f","error"):(r("\u041f\u043e\u0437\u0438\u0446\u0456\u044e \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043e","success"),C())}}):window.confirm(`\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 "${t}"?`)&&ar.from("project_procurement").delete().eq("id",e).then(e=>{let{error:t}=e;t?r("\u041f\u043e\u043c\u0438\u043b\u043a\u0430","error"):(r("\u0412\u0438\u0434\u0430\u043b\u0435\u043d\u043e","success"),C())})})(e.id,(null===(t=e.equipment)||void 0===t?void 0:t.name)||"\u041f\u043e\u0437\u0438\u0446\u0456\u044f")},className:"p-2 text-red-500 hover:bg-red-100 rounded-md",children:(0,or.jsx)(op,{})})]})})]},e.id)})})]})]})}):null},Bp=["\u041a\u0430\u0439\u0440\u043e\u0441","\u0420\u043e\u0437\u0443\u043c\u043d\u0435 \u0437\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043d\u044f \u0435\u043d\u0435\u0440\u0433\u0456\u0457"],Up=[{value:"tech_review",label:"\u0417\u0430\u043c\u0456\u0440\u0438",icon:Pm,color:"bg-indigo-50 text-indigo-700 border-indigo-200"},{value:"project",label:"\u041f\u0440\u043e\u0435\u043a\u0442",icon:Yh,color:"bg-orange-50 text-orange-700 border-orange-200"},{value:"proposal",label:"\u041a\u041f",icon:lm,color:"bg-fuchsia-50 text-fuchsia-700 border-fuchsia-200"},{value:"equipment",label:"\u041e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f",icon:lp,color:"bg-amber-50 text-amber-700 border-amber-200"},{value:"complectation",label:"\u041a\u043e\u043c\u043f\u043b\u0435\u043a\u0442\u0430\u0446\u0456\u044f",icon:Eh,color:"bg-blue-50 text-blue-700 border-blue-200"},{value:"installation",label:"\u041c\u043e\u043d\u0442\u0430\u0436",icon:Jm,color:"bg-blue-100 text-blue-800 border-blue-300"},{value:"grid_connection",label:"\u041c\u0435\u0440\u0435\u0436\u0430",icon:dm,color:"bg-purple-100 text-purple-800 border-purple-300"},{value:"monitoring_setup",label:"\u0417\u0430\u043f\u0443\u0441\u043a",icon:Ph,color:"bg-cyan-50 text-cyan-800 border-cyan-300"}],Hp={project_design:"project",commercial_proposal:"proposal",advance_payment:"proposal",tech_measurements:"tech_review",mon_launch_station:"monitoring_setup"},qp=(0,e.memo)(t=>{let{message:n,type:s="success",isVisible:r,onClose:a}=t;(0,e.useEffect)(()=>{if(r){const e=setTimeout(a,4e3);return()=>clearTimeout(e)}},[r,a]);const i={success:"bg-green-600 text-white",error:"bg-red-600 text-white",info:"bg-blue-600 text-white"},o={success:(0,or.jsx)(Rh,{}),error:(0,or.jsx)(tm,{}),info:(0,or.jsx)(Nm,{})};return(0,or.jsx)(Sr,{children:r&&(0,or.jsx)(lh.div,{initial:{opacity:0,x:300,scale:.8},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:300,scale:.8},className:"fixed top-20 right-4 z-[100] max-w-[90vw]",children:(0,or.jsx)("div",{className:`${i[s]||i.info} rounded-lg shadow-lg p-4 min-w-[280px] border border-white/10`,children:(0,or.jsxs)("div",{className:"flex items-center space-x-3",children:[o[s]||o.info,(0,or.jsx)("span",{className:"font-medium text-sm",children:n}),(0,or.jsx)("button",{onClick:a,className:"ml-auto text-white/80 hover:text-white transition-colors",children:(0,or.jsx)(ap,{className:"text-sm"})})]})})})})}),Wp=e=>{let{isOpen:t,onClose:n,onConfirm:s,title:r,message:a}=e;return(0,or.jsx)(Sr,{children:t&&(0,or.jsx)(lh.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[100] flex items-center justify-center p-4",onClick:n,children:(0,or.jsxs)(lh.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl w-full max-w-md shadow-2xl p-6",onClick:e=>e.stopPropagation(),children:[(0,or.jsxs)("div",{className:"flex items-start gap-4",children:[(0,or.jsx)("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:(0,or.jsx)(tm,{className:"h-6 w-6 text-red-600"})}),(0,or.jsxs)("div",{className:"mt-0 text-left",children:[(0,or.jsx)("h3",{className:"text-lg leading-6 font-bold text-gray-900",children:r}),(0,or.jsx)("div",{className:"mt-2",children:(0,or.jsx)("p",{className:"text-sm text-gray-500",children:a})})]})]}),(0,or.jsxs)("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse gap-3",children:[(0,or.jsx)("button",{type:"button",className:"w-full inline-flex justify-center rounded-lg shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 sm:ml-3 sm:w-auto sm:text-sm",onClick:()=>{s(),n()},children:"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438"}),(0,or.jsx)("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-lg border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 sm:mt-0 sm:w-auto sm:text-sm",onClick:n,children:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"})]})]})})})};function Kp(){const{role:t}=cr(),n="admin"===t||"super_admin"===t||"office"===t,[s,r]=(0,e.useState)([]),[a,i]=(0,e.useState)(!0),[o,l]=(0,e.useState)(""),c=((t,n)=>{const[s,r]=(0,e.useState)(t);return(0,e.useEffect)(()=>{const e=setTimeout(()=>r(t),n);return()=>clearTimeout(e)},[t,n]),s})(o,400),[d,u]=(0,e.useState)(null),[h,m]=(0,e.useState)("active"),[p,f]=(0,e.useState)("all"),[g,x]=(0,e.useState)("all"),[v,b]=(0,e.useState)(!1),[y,w]=(0,e.useState)(null),[j,k]=(0,e.useState)(!1),[N,_]=(0,e.useState)(!1),[S,C]=(0,e.useState)(null),[E,T]=(0,e.useState)(null),[P,z]=(0,e.useState)({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),[L,A]=(0,e.useState)([]),[M,O]=(0,e.useState)([]),[D,R]=(0,e.useState)(""),[$,I]=(0,e.useState)(""),V=te(),F={name:"",working_company:"",bank:"",client_id:"",gps_link:"",latitude:"",longitude:"",mount_type:"",station_type:"",capacity_kw:"",responsible_emp_id:"",start_date:"",end_date:"",total_cost:"",payment_status:"pending",paid_amount:"",status:"planning",workflow_stage:"tech_review",notes:"",creator_email:""},[B,U]=(0,e.useState)(F),[H,q]=(0,e.useState)({}),[W,K]=(0,e.useState)(!1),[G,J]=(0,e.useState)(1),[Y,X]=(0,e.useState)(0),[Q,Z]=(0,e.useState)({isVisible:!1,message:"",type:"success"}),ee=(0,e.useCallback)(function(e){return Z({isVisible:!0,message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"})},[]),ne=(0,e.useCallback)(()=>Z(e=>({...e,isVisible:!1})),[]),se=(e,t)=>{const n=parseFloat(e),s=parseFloat(t);if(!n||n<=0)return"pending";if(!s||s<0)return"pending";const r=s/n*100;return r>=100?"paid":r>0?"partial":"pending"};(0,e.useEffect)(()=>{(async()=>{const{data:{user:e}}=await ar.auth.getUser();if(e&&e.email){const{data:t}=await ar.from("employees").select("custom_id").eq("email",e.email).maybeSingle();t&&w(t.custom_id)}})()},[]),(0,e.useEffect)(()=>{(async()=>{try{const[e,t]=await Promise.all([ar.from("clients").select("custom_id, name, company_name").order("name"),ar.from("employees").select("custom_id, name, position, email").order("name")]);A(e.data||[]),O(t.data||[])}catch(e){ee("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0434\u043e\u0432\u0456\u0434\u043d\u0438\u043a\u0456\u0432","error")}})()},[ee]);const re=(0,e.useCallback)(async()=>{i(!0);try{const e=6*(G-1),t=e+6-1;let n=ar.from("installations").select("*, client:clients(*), responsible_employee:employees(*)",{count:"exact"});if(j&&y&&(n=n.eq("responsible_emp_id",y)),c&&c.trim().length>0){const e=c.trim();n=/^\d+$/.test(e)?n.or(`custom_id.eq.${e},client_id.eq.${e}`):n.or(`name.ilike.%${e}%,notes.ilike.%${e}%,working_company.ilike.%${e}%`)}else"active"===h?n=n.in("status",["planning","in_progress","on_hold"]):"all"!==h&&(n=n.eq("status",h)),"all"!==p&&(n=n.eq("payment_status",p)),"all"!==g&&(n=n.eq("working_company",g));const{data:s,error:a,count:i}=await n.order("created_at",{ascending:!1}).range(e,t);if(a)throw a;r(s||[]),X(i||0)}catch(e){ee(`\u041f\u043e\u043c\u0438\u043b\u043a\u0430: ${e.message}`,"error")}finally{i(!1)}},[G,h,p,g,c,ee,j,y]);(0,e.useEffect)(()=>{re()},[re]),(0,e.useEffect)(()=>{J(1)},[c,h,p,g,j]);const ae=()=>{_(!1),C(null),U(F)},ie=(e,t)=>{U(n=>({...n,[e]:t}))},oe=D?L.filter(e=>{var t;return null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(D.toLowerCase())}):[],le=$?M.filter(e=>{var t;return null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes($.toLowerCase())}):[],ce=e=>{let{currentPage:t,totalCount:n,projectsPerPage:s,onPageChange:r}=e;const a=Math.ceil(n/s);return a<=1?null:(0,or.jsxs)("div",{className:"flex items-center justify-center space-x-4 py-4",children:[(0,or.jsx)("button",{onClick:()=>r(t-1),disabled:1===t,className:"p-2 disabled:opacity-50 bg-white rounded-md shadow-sm border border-gray-200",children:(0,or.jsx)(Ih,{})}),(0,or.jsxs)("span",{className:"font-medium text-gray-700",children:["\u0421\u0442\u043e\u0440\u0456\u043d\u043a\u0430 ",t," \u0437 ",a]}),(0,or.jsx)("button",{onClick:()=>r(t+1),disabled:t===a,className:"p-2 disabled:opacity-50 bg-white rounded-md shadow-sm border border-gray-200",children:(0,or.jsx)(Vh,{})})]})};return(0,or.jsx)(Tp,{children:(0,or.jsxs)("div",{className:"p-4 sm:p-8 space-y-6 max-w-[1600px] mx-auto pb-safe min-h-[calc(100vh-80px)] flex flex-col text-slate-800",children:[(0,or.jsx)(qp,{message:Q.message,type:Q.type,isVisible:Q.isVisible,onClose:ne}),(0,or.jsx)(Wp,{...P,onClose:()=>z({...P,isOpen:!1})}),(0,or.jsxs)(Sr,{children:[E&&(0,or.jsx)(Fp,{project:E,onClose:()=>T(null),showToast:ee,setConfirmModal:z}),d&&(0,or.jsx)(Vp,{project:d,onClose:()=>u(null)})]}),(0,or.jsxs)("div",{className:"flex flex-col gap-4 flex-none",children:[(0,or.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight",children:"\u041f\u0440\u043e\u0435\u043a\u0442\u0438"}),(0,or.jsx)("p",{className:"text-slate-500 text-sm mt-1",children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0456\u043d\u043d\u044f \u043e\u0431'\u0454\u043a\u0442\u0430\u043c\u0438 \u0421\u0415\u0421"})]}),(0,or.jsxs)("button",{onClick:()=>{U(F),C(null),_(!0)},className:"flex items-center justify-center gap-2 px-5 py-2.5 bg-indigo-600 text-white rounded-xl font-bold shadow-lg hover:bg-indigo-700 active:scale-95 transition-all w-full sm:w-auto",children:[(0,or.jsx)(Vm,{})," ",(0,or.jsx)("span",{children:"\u041d\u043e\u0432\u0438\u0439 \u043f\u0440\u043e\u0435\u043a\u0442"})]})]}),(0,or.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,or.jsxs)("div",{className:"relative w-full",children:[(0,or.jsx)(qm,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),(0,or.jsx)("input",{type:"text",placeholder:"\u041f\u043e\u0448\u0443\u043a (\u041d\u0430\u0437\u0432\u0430 \u0430\u0431\u043e ID)...",value:o,onChange:e=>l(e.target.value),className:"w-full pl-11 pr-4 py-3 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 transition shadow-sm text-sm outline-none"})]}),(0,or.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[y?(0,or.jsxs)("div",{className:"bg-white p-1 rounded-xl border border-slate-200 flex items-center shadow-sm flex-1 sm:flex-none",children:[(0,or.jsx)("button",{onClick:()=>k(!1),className:"flex-1 sm:flex-none px-4 py-2.5 rounded-lg text-sm font-bold transition-all "+(j?"text-slate-500 hover:text-slate-700":"bg-indigo-100 text-indigo-700 shadow-sm"),children:"\u0412\u0441\u0456"}),(0,or.jsxs)("button",{onClick:()=>k(!0),className:"flex-1 sm:flex-none px-4 py-2.5 rounded-lg text-sm font-bold transition-all flex items-center justify-center gap-2 "+(j?"bg-indigo-600 text-white shadow-md":"text-slate-500 hover:text-slate-700"),children:[(0,or.jsx)(vp,{className:j?"text-white":"text-slate-400"}),(0,or.jsx)("span",{children:"\u041c\u043e\u0457"})]})]}):(0,or.jsx)("div",{}),(0,or.jsxs)("button",{onClick:()=>b(!v),className:"flex-shrink-0 flex items-center justify-center gap-2 px-4 py-3 rounded-xl font-semibold transition shadow-sm border "+(v?"bg-slate-800 text-white border-slate-800":"bg-white text-slate-700 border-slate-200 hover:bg-slate-50"),children:[(0,or.jsx)(hm,{})," ",(0,or.jsx)("span",{children:"\u0424\u0456\u043b\u044c\u0442\u0440\u0438"})]})]})]}),(0,or.jsx)(Sr,{children:v&&(0,or.jsx)(lh.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:(0,or.jsxs)("div",{className:"bg-white p-4 rounded-xl border border-slate-200 grid grid-cols-1 md:grid-cols-3 gap-4 shadow-sm",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("span",{className:"text-xs font-bold text-slate-400 uppercase mb-2 block",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),(0,or.jsx)("div",{className:"flex flex-wrap gap-2",children:[{v:"active",l:"\u0410\u043a\u0442\u0438\u0432\u043d\u0456"},{v:"all",l:"\u0412\u0441\u0456"},{v:"planning",l:"\u041f\u043b\u0430\u043d"},{v:"in_progress",l:"\u0420\u043e\u0431\u043e\u0442\u0430"},{v:"on_hold",l:"\u041f\u0430\u0443\u0437\u0430"},{v:"completed",l:"\u0424\u0456\u043d\u0456\u0448"},{v:"cancelled",l:"\u0412\u0456\u0434\u043c\u0456\u043d\u0430"}].map(e=>(0,or.jsx)("button",{onClick:()=>m(e.v),className:"px-3 py-1.5 rounded-lg text-xs font-bold transition-colors "+(h===e.v?"bg-indigo-100 text-indigo-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"),children:e.l},e.v))})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("span",{className:"text-xs font-bold text-slate-400 uppercase mb-2 block",children:"\u041e\u043f\u043b\u0430\u0442\u0430"}),(0,or.jsx)("div",{className:"flex flex-wrap gap-2",children:[{v:"all",l:"\u0412\u0441\u0456"},{v:"pending",l:"\u041e\u0447\u0456\u043a\u0443\u0454"},{v:"partial",l:"\u0427\u0430\u0441\u0442\u043a\u043e\u0432\u043e"},{v:"paid",l:"\u0421\u043f\u043b\u0430\u0447\u0435\u043d\u043e"},{v:"overdue",l:"\u0411\u043e\u0440\u0433"}].map(e=>(0,or.jsx)("button",{onClick:()=>f(e.v),className:"px-3 py-1.5 rounded-lg text-xs font-bold transition-colors "+(p===e.v?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"),children:e.l},e.v))})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("span",{className:"text-xs font-bold text-slate-400 uppercase mb-2 block",children:"\u041a\u043e\u043c\u043f\u0430\u043d\u0456\u044f"}),(0,or.jsx)("div",{className:"flex flex-wrap gap-2",children:[{v:"all",l:"\u0412\u0441\u0456"},...Bp.map(e=>({v:e,l:e}))].map(e=>(0,or.jsx)("button",{onClick:()=>x(e.v),className:"px-3 py-1.5 rounded-lg text-xs font-bold transition-colors "+(g===e.v?"bg-purple-100 text-purple-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"),children:e.l},e.v))})]})]})})})]}),(0,or.jsx)("div",{className:"flex-1 min-h-[300px]",children:a?(0,or.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((e,t)=>(0,or.jsx)("div",{className:"h-64 bg-white rounded-xl animate-pulse shadow-sm border border-slate-100"},t))}):0===s.length?(0,or.jsxs)("div",{className:"text-center py-20 bg-white rounded-2xl border border-dashed border-slate-300",children:[(0,or.jsx)(Fm,{className:"mx-auto text-4xl text-slate-300 mb-3"}),(0,or.jsx)("h3",{className:"text-lg font-bold text-slate-600",children:"\u041f\u0440\u043e\u0435\u043a\u0442\u0456\u0432 \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e"}),(0,or.jsx)("p",{className:"text-slate-400 text-sm",children:"\u0421\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0437\u043c\u0456\u043d\u0438\u0442\u0438 \u0444\u0456\u043b\u044c\u0442\u0440\u0438"})]}):(0,or.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(e=>{var t,s,r;const a={planning:{label:"\u041f\u043b\u0430\u043d\u0443\u0432\u0430\u043d\u043d\u044f",color:"bg-blue-500",icon:Uh},in_progress:{label:"\u0412\u0438\u043a\u043e\u043d\u0443\u0454\u0442\u044c\u0441\u044f",color:"bg-yellow-500",icon:ip},on_hold:{label:"\u041f\u0440\u0438\u0437\u0443\u043f\u0438\u043d\u0435\u043d\u043e",color:"bg-orange-500",icon:Om},completed:{label:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e",color:"bg-green-500",icon:Dh},cancelled:{label:"\u0421\u043a\u0430\u0441\u043e\u0432\u0430\u043d\u043e",color:"bg-red-500",icon:tm}}[e.status]||{label:"\u041d\u0435\u0432\u0456\u0434\u043e\u043c\u043e",color:"bg-gray-500",icon:Nm};const i={pending:{label:"\u041e\u0447\u0456\u043a\u0443\u0454 \u043e\u043f\u043b\u0430\u0442\u0438",color:"text-orange-600 bg-orange-50 border-orange-100"},partial:{label:"\u0427\u0430\u0441\u0442\u043a\u043e\u0432\u0430 \u043e\u043f\u043b\u0430\u0442\u0430",color:"text-blue-600 bg-blue-50 border-blue-100"},paid:{label:"\u041e\u043f\u043b\u0430\u0447\u0435\u043d\u043e",color:"text-green-600 bg-green-50 border-green-100"},overdue:{label:"\u041f\u0440\u043e\u0441\u0442\u0440\u043e\u0447\u0435\u043d\u043e",color:"text-red-600 bg-red-50 border-red-100"}}[e.payment_status]||{label:"\u041d\u0435\u0432\u0456\u0434\u043e\u043c\u043e",color:"text-gray-600 bg-gray-50 border-gray-100"};const o=(e=>{const t=Hp[e]||e;return Up.find(e=>e.value===t)||{label:e||"\u041d\u0435 \u0432\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u043e",color:"bg-gray-50 text-gray-500 border border-gray-200",icon:Nm}})(e.workflow_stage),l=a.icon,c=o.icon||Nm,d=M.find(t=>t.email===e.creator_email),h=d?d.name:e.creator_email;return(0,or.jsxs)(lh.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-white border border-slate-200 rounded-xl p-5 shadow-sm flex flex-col justify-between hover:shadow-md transition-all hover:-translate-y-1",children:[(0,or.jsxs)("div",{children:[(0,or.jsxs)("div",{className:"flex justify-between items-start gap-3 mb-4",children:[(0,or.jsxs)("div",{className:"pr-1 flex-1 min-w-0",children:[(0,or.jsx)("h3",{className:"text-lg font-bold text-slate-800 leading-tight line-clamp-2",title:e.name,children:e.name||(null===(t=e.client)||void 0===t?void 0:t.company_name)||"\u0411\u0435\u0437 \u043d\u0430\u0437\u0432\u0438"}),(0,or.jsxs)("span",{className:"text-xs font-mono font-medium text-slate-400 bg-slate-100 px-1.5 py-0.5 rounded mt-1 inline-block",children:["#",e.custom_id]})]}),(0,or.jsxs)("div",{className:"flex flex-col items-end gap-2 min-w-[140px] flex-shrink-0",children:[(0,or.jsxs)("div",{title:a.label,className:`flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-bold text-white shadow-sm ${a.color}`,children:[(0,or.jsx)(l,{className:"text-[10px]"}),(0,or.jsx)("span",{children:a.label})]}),(0,or.jsxs)("div",{className:`flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-bold border shadow-sm ${o.color}`,children:[(0,or.jsx)(c,{className:"text-[10px]"}),(0,or.jsx)("span",{className:"truncate max-w-[130px]",children:o.label})]})]})]}),(0,or.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,or.jsxs)("div",{className:"flex items-center gap-3 text-sm text-slate-600",children:[(0,or.jsx)("div",{className:"w-5 flex justify-center text-slate-400",children:(0,or.jsx)(fp,{size:16})}),(0,or.jsx)("span",{className:"font-medium truncate",children:(null===(s=e.client)||void 0===s?void 0:s.name)||"\u0411\u0435\u0437 \u043a\u043b\u0456\u0454\u043d\u0442\u0430"})]}),(0,or.jsxs)("div",{className:"flex items-center gap-3 text-sm text-slate-600",children:[(0,or.jsx)("div",{className:"w-5 flex justify-center text-amber-500",children:(0,or.jsx)(Ch,{size:16})}),(0,or.jsxs)("span",{children:["\u041f\u043e\u0442\u0443\u0436\u043d\u0456\u0441\u0442\u044c: ",(0,or.jsx)("span",{className:"font-bold text-slate-800",children:e.capacity_kw?`${e.capacity_kw} \u043a\u0412\u0442`:"N/A"})]})]}),(0,or.jsxs)("div",{className:"flex items-center gap-3 text-sm text-slate-600",children:[(0,or.jsx)("div",{className:"w-5 flex justify-center text-indigo-500",children:(0,or.jsx)(vm,{size:16})}),(0,or.jsxs)("span",{children:["\u0412\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0430\u043b\u044c\u043d\u0438\u0439: ",(0,or.jsx)("span",{className:"font-bold text-slate-800",children:(null===(r=e.responsible_employee)||void 0===r?void 0:r.name)||"\u041d\u0435 \u043f\u0440\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u043e"})]})]}),e.creator_email&&(0,or.jsxs)("div",{className:"flex items-center gap-3 text-xs text-slate-400 mt-2 pt-2 border-t border-slate-100",children:[(0,or.jsx)("div",{className:"w-5 flex justify-center",children:(0,or.jsx)(pp,{size:14})}),(0,or.jsxs)("span",{children:["\u0414\u043e\u0434\u0430\u0432: ",h]})]})]})]}),(0,or.jsxs)("div",{className:"border-t border-slate-100 pt-4 flex justify-between items-center",children:[(0,or.jsx)("div",{className:`text-xs font-bold px-3 py-1.5 rounded-lg border ${i.color}`,children:i.label}),(0,or.jsxs)("div",{className:"flex items-center gap-1",children:[(0,or.jsx)("button",{onClick:()=>(e=>V(`/project/${e.custom_id}`))(e),className:"w-9 h-9 flex items-center justify-center hover:bg-slate-100 rounded-lg text-slate-500 hover:text-blue-600 transition-colors",children:(0,or.jsx)(jp,{size:18})}),(0,or.jsx)("button",{onClick:()=>T(e),className:"w-9 h-9 flex items-center justify-center hover:bg-slate-100 rounded-lg text-slate-500 transition-colors",children:(0,or.jsx)(cp,{})}),(0,or.jsx)("button",{onClick:()=>u(e),className:"w-9 h-9 flex items-center justify-center hover:bg-slate-100 rounded-lg text-slate-500 transition-colors",children:(0,or.jsx)(pm,{className:"text-indigo-500"})}),n&&(0,or.jsx)("button",{onClick:()=>{return t=e.custom_id,s=e.name,void(n?z({isOpen:!0,title:"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f",message:`\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u043f\u0440\u043e\u0435\u043a\u0442 "${s}"?`,onConfirm:async()=>{const{error:e}=await ar.from("installations").delete().eq("custom_id",t);e||(ee("\u0412\u0438\u0434\u0430\u043b\u0435\u043d\u043e","success"),re())}}):ee("\u0423 \u0432\u0430\u0441 \u043d\u0435\u043c\u0430\u0454 \u043f\u0440\u0430\u0432 \u043d\u0430 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f","error"));var t,s},className:"w-9 h-9 flex items-center justify-center hover:bg-red-50 rounded-lg text-red-500 transition-colors",children:(0,or.jsx)(op,{})})]})]})]},e.custom_id)})})}),(0,or.jsx)("div",{className:"relative pt-4 border-t border-slate-200",children:(0,or.jsx)(ce,{currentPage:G,totalCount:Y,projectsPerPage:6,onPageChange:J})}),(0,or.jsx)(Sr,{children:N&&(0,or.jsx)(lh.div,{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:ae,children:(0,or.jsxs)(lh.div,{className:"bg-white rounded-2xl p-4 sm:p-8 w-full max-w-lg md:max-w-4xl shadow-2xl border border-gray-200 my-8 max-h-[90vh] flex flex-col",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:e=>e.stopPropagation(),children:[(0,or.jsx)("div",{className:"mb-6",children:(0,or.jsx)("h2",{className:"text-2xl sm:text-3xl font-bold text-slate-800",children:S?"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438":"\u041d\u043e\u0432\u0438\u0439 \u043f\u0440\u043e\u0435\u043a\u0442"})}),(0,or.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4 overflow-y-auto pr-2 flex-grow",children:[(0,or.jsxs)("div",{className:"md:col-span-2 relative",children:[(0,or.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["\u041a\u043b\u0456\u0454\u043d\u0442 ",(0,or.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,or.jsx)("input",{type:"text",value:D,onChange:e=>{R(e.target.value),B.client_id&&ie("client_id","")},placeholder:"\u041f\u043e\u0448\u0443\u043a...",className:"w-full border rounded-xl px-4 py-3 "+(H.client_id?"border-red-500":"border-gray-300")}),D&&oe.length>0&&!B.client_id&&(0,or.jsx)("div",{className:"absolute z-20 w-full bg-white border border-gray-300 rounded-lg mt-1 shadow-lg max-h-60 overflow-y-auto",children:oe.map(e=>(0,or.jsxs)("button",{type:"button",onClick:()=>(e=>{U(t=>({...t,client_id:e.custom_id})),R(`${e.company_name||e.name} (ID: ${e.custom_id})`)})(e),className:"w-full px-4 py-3 text-left hover:bg-gray-50 border-b last:border-b-0",children:[(0,or.jsx)("div",{className:"font-medium",children:e.company_name||e.name}),(0,or.jsxs)("div",{className:"text-xs text-gray-500",children:["ID: ",e.custom_id]})]},e.custom_id))})]}),(0,or.jsxs)("div",{className:"md:col-span-2",children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u041d\u0430\u0437\u0432\u0430"}),(0,or.jsx)("input",{type:"text",value:B.name||"",onChange:e=>ie("name",e.target.value),className:"w-full border border-gray-300 rounded-xl px-4 py-3"})]}),(0,or.jsxs)("div",{className:"md:col-span-2 bg-slate-50 p-4 rounded-xl border border-slate-200 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),(0,or.jsxs)("select",{value:B.status||"",onChange:e=>ie("status",e.target.value),className:"w-full border border-gray-300 rounded-xl px-4 py-3 bg-white",children:[(0,or.jsx)("option",{value:"planning",children:"\u041f\u043b\u0430\u043d\u0443\u0432\u0430\u043d\u043d\u044f"}),(0,or.jsx)("option",{value:"in_progress",children:"\u0412\u0438\u043a\u043e\u043d\u0443\u0454\u0442\u044c\u0441\u044f"}),(0,or.jsx)("option",{value:"on_hold",children:"\u041f\u0440\u0438\u0437\u0443\u043f\u0438\u043d\u0435\u043d\u043e"}),(0,or.jsx)("option",{value:"completed",children:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e"}),(0,or.jsx)("option",{value:"cancelled",children:"\u0421\u043a\u0430\u0441\u043e\u0432\u0430\u043d\u043e"})]})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0415\u0442\u0430\u043f"}),(0,or.jsx)("select",{value:B.workflow_stage||"tech_review",onChange:e=>ie("workflow_stage",e.target.value),className:"w-full border border-gray-300 rounded-xl px-4 py-3 bg-white text-indigo-900 font-medium",children:Up.map(e=>(0,or.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u041a\u043e\u043c\u043f\u0430\u043d\u0456\u044f"}),(0,or.jsxs)("select",{value:B.working_company||"",onChange:e=>ie("working_company",e.target.value),className:"w-full border border-gray-300 rounded-xl px-4 py-3 bg-white",children:[(0,or.jsx)("option",{value:"",children:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c..."}),Bp.map(e=>(0,or.jsx)("option",{value:e,children:e},e))]})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0411\u0430\u043d\u043a?"}),(0,or.jsxs)("select",{value:B.bank||"",onChange:e=>ie("bank",e.target.value),className:"w-full border border-gray-300 rounded-xl px-4 py-3 bg-white",children:[(0,or.jsx)("option",{value:"",children:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c..."}),(0,or.jsx)("option",{value:"\u0422\u0430\u043a",children:"\u0422\u0430\u043a"}),(0,or.jsx)("option",{value:"\u041d\u0456",children:"\u041d\u0456"})]})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"GPS"}),(0,or.jsx)("input",{type:"url",value:B.gps_link||"",onChange:e=>ie("gps_link",e.target.value),className:"w-full border border-gray-300 rounded-xl px-4 py-3"})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u041a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442\u0438"}),(0,or.jsxs)("div",{className:"flex space-x-2",children:[(0,or.jsx)("input",{type:"number",step:"any",value:B.latitude||"",onChange:e=>ie("latitude",e.target.value),className:"w-1/2 border border-gray-300 rounded-xl px-4 py-3",placeholder:"\u0428\u0438\u0440\u043e\u0442\u0430"}),(0,or.jsx)("input",{type:"number",step:"any",value:B.longitude||"",onChange:e=>ie("longitude",e.target.value),className:"w-1/2 border border-gray-300 rounded-xl px-4 py-3",placeholder:"\u0414\u043e\u0432\u0433\u043e\u0442\u0430"})]})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0422\u0438\u043f \u043c\u043e\u043d\u0442\u0430\u0436\u0443"}),(0,or.jsxs)("select",{value:B.mount_type||"",onChange:e=>ie("mount_type",e.target.value),className:"w-full border border-gray-300 rounded-xl px-4 py-3 bg-white",children:[(0,or.jsx)("option",{value:"",children:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c..."}),(0,or.jsx)("option",{value:"\u0414\u0430\u0445\u043e\u0432\u0435 \u043a\u0440\u0456\u043f\u043b\u0435\u043d\u043d\u044f (\u0421\u043a\u0430\u0442\u043d\u0438\u0439 \u0434\u0430\u0445)",children:"\u0414\u0430\u0445\u043e\u0432\u0435 \u043a\u0440\u0456\u043f\u043b\u0435\u043d\u043d\u044f (\u0421\u043a\u0430\u0442\u043d\u0438\u0439 \u0434\u0430\u0445)"}),(0,or.jsx)("option",{value:"\u0414\u0430\u0445\u043e\u0432\u0435 \u043a\u0440\u0456\u043f\u043b\u0435\u043d\u043d\u044f (\u041f\u043b\u043e\u0441\u043a\u0438\u0439 \u0434\u0430\u0445)",children:"\u0414\u0430\u0445\u043e\u0432\u0435 \u043a\u0440\u0456\u043f\u043b\u0435\u043d\u043d\u044f (\u041f\u043b\u043e\u0441\u043a\u0438\u0439 \u0434\u0430\u0445)"}),(0,or.jsx)("option",{value:"\u041d\u0430\u0437\u0435\u043c\u043d\u0435 \u043a\u0440\u0456\u043f\u043b\u0435\u043d\u043d\u044f",children:"\u041d\u0430\u0437\u0435\u043c\u043d\u0435 \u043a\u0440\u0456\u043f\u043b\u0435\u043d\u043d\u044f"}),(0,or.jsx)("option",{value:"\u0422\u0440\u0435\u043a\u0435\u0440\u043d\u0430 \u0441\u0438\u0441\u0442\u0435\u043c\u0430",children:"\u0422\u0440\u0435\u043a\u0435\u0440\u043d\u0430 \u0441\u0438\u0441\u0442\u0435\u043c\u0430"}),(0,or.jsx)("option",{value:"\u0414\u0430\u0445/\u0417\u0435\u043c\u043b\u044f",children:"\u0414\u0430\u0445/\u0417\u0435\u043c\u043b\u044f"}),(0,or.jsx)("option",{value:"\u0415\u043b\u0435\u043a\u0442\u0440\u043e\u043c\u043e\u043d\u0442\u0430\u0436",children:"\u0415\u043b\u0435\u043a\u0442\u0440\u043e\u043c\u043e\u043d\u0442\u0430\u0436"}),(0,or.jsx)("option",{value:"\u0406\u043d\u0448\u0435",children:"\u0406\u043d\u0448\u0435"})]})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0422\u0438\u043f \u0441\u0442\u0430\u043d\u0446\u0456\u0457"}),(0,or.jsxs)("select",{value:B.station_type||"",onChange:e=>ie("station_type",e.target.value),className:"w-full border border-gray-300 rounded-xl px-4 py-3 bg-white",children:[(0,or.jsx)("option",{value:"",children:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c..."}),(0,or.jsx)("option",{value:"\u041c\u0435\u0440\u0435\u0436\u0435\u0432\u0430",children:"\u041c\u0435\u0440\u0435\u0436\u0435\u0432\u0430"}),(0,or.jsx)("option",{value:"\u0410\u0432\u0442\u043e\u043d\u043e\u043c\u043d\u0430",children:"\u0410\u0432\u0442\u043e\u043d\u043e\u043c\u043d\u0430"}),(0,or.jsx)("option",{value:"\u0413\u0456\u0431\u0440\u0438\u0434\u043d\u0430",children:"\u0413\u0456\u0431\u0440\u0438\u0434\u043d\u0430"})]})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u041f\u043e\u0442\u0443\u0436\u043d\u0456\u0441\u0442\u044c (\u043a\u0412\u0442)"}),(0,or.jsx)("input",{type:"number",step:"0.1",min:"0",value:B.capacity_kw||"",onChange:e=>ie("capacity_kw",e.target.value),className:"w-full border border-gray-300 rounded-xl px-4 py-3"})]}),(0,or.jsxs)("div",{className:"relative",children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0412\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0430\u043b\u044c\u043d\u0438\u0439"}),(0,or.jsx)("input",{type:"text",value:$,onChange:e=>{I(e.target.value),B.responsible_emp_id&&ie("responsible_emp_id","")},placeholder:"\u041f\u043e\u0448\u0443\u043a...",className:"w-full border border-gray-300 rounded-xl px-4 py-3"}),$&&le.length>0&&!B.responsible_emp_id&&(0,or.jsx)("div",{className:"absolute z-10 w-full bg-white border rounded-lg mt-1 shadow-lg max-h-60 overflow-y-auto",children:le.map(e=>(0,or.jsxs)("button",{type:"button",onClick:()=>{return t=e,U(e=>({...e,responsible_emp_id:t.custom_id})),void I(`${t.name} (ID: ${t.custom_id})`);var t},className:"w-full px-4 py-3 text-left hover:bg-gray-50 border-b",children:[(0,or.jsx)("div",{className:"font-medium",children:e.name}),(0,or.jsxs)("div",{className:"text-xs text-gray-500",children:["ID: ",e.custom_id]})]},e.custom_id))})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0421\u0442\u0430\u0440\u0442"}),(0,or.jsx)("input",{type:"date",value:B.start_date||"",onChange:e=>ie("start_date",e.target.value),className:"w-full border border-gray-300 rounded-xl px-4 py-3"})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0424\u0456\u043d\u0456\u0448"}),(0,or.jsx)("input",{type:"date",value:B.end_date||"",onChange:e=>ie("end_date",e.target.value),className:"w-full border border-gray-300 rounded-xl px-4 py-3"})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0412\u0430\u0440\u0442\u0456\u0441\u0442\u044c (USD)"}),(0,or.jsx)("input",{type:"number",min:"0",step:"0.01",value:B.total_cost||"",onChange:e=>ie("total_cost",e.target.value),className:"w-full border border-gray-300 rounded-xl px-4 py-3"})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0421\u043f\u043b\u0430\u0447\u0435\u043d\u043e (USD)"}),(0,or.jsx)("input",{type:"number",min:"0",step:"0.01",value:B.paid_amount||"",onChange:e=>ie("paid_amount",e.target.value),className:"w-full border border-gray-300 rounded-xl px-4 py-3"})]}),(0,or.jsxs)("div",{className:"md:col-span-2",children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u041f\u0440\u0438\u043c\u0456\u0442\u043a\u0438"}),(0,or.jsx)("textarea",{rows:"3",value:B.notes||"",onChange:e=>ie("notes",e.target.value),className:"w-full border border-gray-300 rounded-xl px-4 py-3 resize-none"})]})]}),(0,or.jsxs)("div",{className:"flex justify-end gap-3 pt-6 border-t border-gray-200 mt-6 flex-shrink-0",children:[(0,or.jsx)("button",{type:"button",onClick:ae,disabled:W,className:"px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-xl font-medium transition",children:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"}),(0,or.jsx)("button",{type:"button",onClick:async()=>{if(B.client_id){K(!0);try{const{client:e,responsible_employee:t,...n}=B,s={...n,payment_status:se(n.total_cost,n.paid_amount)};for(let r in s)""===s[r]&&(s[r]=null);if(S)await ar.from("installations").update(s).eq("custom_id",S.custom_id);else{const{data:{user:e}}=await ar.auth.getUser();e&&(s.creator_email=e.email),await ar.from("installations").insert([s])}ee("\u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043e","success"),ae(),re()}catch(px){ee(px.message,"error")}finally{K(!1)}}else q({client_id:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u043a\u043b\u0456\u0454\u043d\u0442\u0430"})},disabled:W,className:"px-6 py-3 bg-indigo-600 text-white rounded-xl font-medium transition hover:bg-indigo-700 flex items-center space-x-2",children:W?(0,or.jsx)("span",{children:"\u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043d\u044f..."}):(0,or.jsx)("span",{children:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"})})]})]})})})]})})}const Gp=(0,e.memo)(e=>{let{notifications:t,removeNotification:n}=e;return(0,or.jsx)("div",{className:"fixed top-20 right-5 z-[9999] w-full max-w-sm pointer-events-none",children:(0,or.jsx)(Sr,{children:t.map(e=>(0,or.jsxs)(lh.div,{layout:!0,initial:{opacity:0,y:-20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,x:100,scale:.9},className:"pointer-events-auto p-4 rounded-xl shadow-xl text-white font-medium text-sm flex items-center gap-3 mb-3\n              "+("success"===e.type?"bg-emerald-500":"bg-red-500"),children:["success"===e.type?(0,or.jsx)(Rh,{}):(0,or.jsx)(ap,{}),(0,or.jsx)("span",{children:e.message}),(0,or.jsx)("button",{onClick:()=>n(e.id),className:"ml-auto opacity-70 hover:opacity-100",children:(0,or.jsx)(ap,{})})]},e.id))})})}),Jp=(0,e.memo)(e=>{let{client:t,onEdit:n,canEdit:s}=e;const r={"\u041f\u0440\u0438\u0432\u0430\u0442\u043d\u0438\u0439 \u0431\u0443\u0434\u0438\u043d\u043e\u043a":{icon:zh,color:"text-blue-600 bg-blue-50",label:"\u041f\u0440\u0438\u0432\u0430\u0442\u043d\u0438\u0439"},"\u041f\u0440\u043e\u043c\u0438\u0441\u043b\u043e\u0432\u0435 \u043f\u0456\u0434\u043f\u0440\u0438\u0454\u043c\u0441\u0442\u0432\u043e":{icon:km,color:"text-purple-600 bg-purple-50",label:"\u041f\u0440\u043e\u043c\u0438\u0441\u043b\u043e\u0432\u0456\u0441\u0442\u044c"},"\u041e\u0444\u0456\u0441\u043d\u0430 \u0431\u0443\u0434\u0456\u0432\u043b\u044f":{icon:vp,color:"text-green-600 bg-green-50",label:"\u041e\u0444\u0456\u0441"},"\u041a\u043e\u043c\u0435\u0440\u0446\u0456\u0439\u043d\u0438\u0439 \u043e\u0431'\u0454\u043a\u0442":{icon:xm,color:"text-orange-600 bg-orange-50",label:"\u041a\u043e\u043c\u0435\u0440\u0446\u0456\u044f"}},{icon:a,color:i,label:o}=r[t.object_type]||{icon:zh,color:"text-gray-600 bg-gray-50",label:t.object_type||"\u0406\u043d\u0448\u0435"};return(0,or.jsxs)("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-slate-200 hover:shadow-md transition-shadow flex flex-col h-full",children:[(0,or.jsxs)("div",{className:"flex-grow",children:[(0,or.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,or.jsxs)("div",{className:"flex-1 min-w-0 pr-2",children:[(0,or.jsx)("h3",{className:"font-bold text-slate-800 text-lg truncate leading-tight",title:t.company_name||t.name,children:t.company_name||t.name}),t.company_name&&(0,or.jsx)("p",{className:"text-sm text-slate-500 truncate mt-0.5",children:t.name})]}),(0,or.jsxs)("span",{className:"text-[10px] text-slate-500 bg-slate-100 px-2 py-1 rounded-md font-mono flex-shrink-0 border border-slate-200",children:["#",t.custom_id]})]}),(0,or.jsxs)("div",{className:"space-y-2.5 text-sm",children:[(0,or.jsxs)("div",{className:`flex items-center gap-2 p-1.5 rounded-lg w-fit ${i}`,children:[(0,or.jsx)(a,{className:"w-3.5 h-3.5"})," ",(0,or.jsx)("span",{className:"font-semibold text-xs",children:o})]}),(0,or.jsxs)("div",{className:"flex items-center gap-2 text-slate-600",children:[(0,or.jsx)(Pm,{className:"text-slate-400 flex-shrink-0 text-xs"}),(0,or.jsx)("span",{className:"truncate text-xs sm:text-sm",children:[t.populated_place,t.oblast].filter(Boolean).join(", ")||"---"})]}),(0,or.jsxs)("div",{className:"flex items-center gap-2 text-slate-600",children:[(0,or.jsx)($m,{className:"text-slate-400 flex-shrink-0 text-xs"}),(0,or.jsx)("a",{href:`tel:${t.phone}`,className:"hover:text-indigo-600 truncate text-xs sm:text-sm font-medium",children:t.phone||"---"})]})]})]}),(0,or.jsxs)("div",{className:"mt-4 pt-3 border-t border-slate-100 flex justify-between items-center",children:[(0,or.jsxs)("span",{className:"text-[10px] text-slate-400",children:["\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043e: ",(l=t.created_at,l?new Date(l).toLocaleDateString("uk-UA"):"N/A")]}),s&&(0,or.jsxs)("button",{onClick:()=>n(t),className:"flex items-center gap-1.5 px-3 py-1.5 bg-slate-50 hover:bg-indigo-50 text-slate-600 hover:text-indigo-700 rounded-lg text-xs font-bold transition-colors border border-slate-200 hover:border-indigo-200",children:[(0,or.jsx)(Xh,{})," \u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438"]})]})]});var l}),Yp=(0,e.memo)(e=>{let{currentPage:t,totalPages:n,onPageChange:s}=e;return n<=1?null:(0,or.jsxs)("div",{className:"flex items-center justify-center gap-2 mt-8 pb-8",children:[(0,or.jsx)("button",{onClick:()=>s(t-1),disabled:1===t,className:"w-8 h-8 flex items-center justify-center bg-white rounded-lg border border-slate-200 disabled:opacity-50 text-slate-600 hover:bg-slate-50 transition",children:(0,or.jsx)(Ih,{size:12})}),(0,or.jsxs)("span",{className:"text-sm font-medium text-slate-600 px-2",children:["\u0421\u0442\u043e\u0440. ",t," \u0437 ",n]}),(0,or.jsx)("button",{onClick:()=>s(t+1),disabled:t===n,className:"w-8 h-8 flex items-center justify-center bg-white rounded-lg border border-slate-200 disabled:opacity-50 text-slate-600 hover:bg-slate-50 transition",children:(0,or.jsx)(Vh,{size:12})})]})});function Xp(){const{role:t}=cr(),n="admin"===t||"super_admin"===t||"office"===t,[s,r]=(0,e.useState)([]),[a,i]=(0,e.useState)(!0),[o,l]=(0,e.useState)(""),c=((t,n)=>{const[s,r]=(0,e.useState)(t);return(0,e.useEffect)(()=>{const e=setTimeout(()=>r(t),n);return()=>clearTimeout(e)},[t,n]),s})(o,300),[d,u]=(0,e.useState)({type:"all",subcontract:"all",company:"all"}),[h,m]=(0,e.useState)(!1),[p,f]=(0,e.useState)(1),[g]=(0,e.useState)(9),[x,v]=(0,e.useState)(0),[b,y]=(0,e.useState)(!1),[w,j]=(0,e.useState)(null),[k,N]=(0,e.useState)([]),[_,S]=(0,e.useState)({name:"",oblast:"",populated_place:"",phone:"+380",object_type:"",company_name:"",is_subcontract:!1,contractor_company:"",first_contact:"",notes:"",working_company:""}),[C,E]=(0,e.useState)({}),[T,P]=(0,e.useState)(!1),z=(0,e.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4e3;const s=Date.now();N(n=>[...n,{id:s,message:e,type:t}]),setTimeout(()=>N(e=>e.filter(e=>e.id!==s)),n)},[]),L=(0,e.useCallback)(e=>{N(t=>t.filter(t=>t.id!==e))},[]),A=(0,e.useCallback)(async e=>{i(!0);try{const t=(e-1)*g;let n=ar.from("clients").select("*",{count:"exact"});if(c){const e=c.trim(),t=[`name.ilike.%${e}%`,`company_name.ilike.%${e}%`,`phone.ilike.%${e}%`];/^\d+$/.test(e)&&t.push(`custom_id.eq.${e}`),n=n.or(t.join(","))}"private"===d.type?n=n.eq("object_type","\u041f\u0440\u0438\u0432\u0430\u0442\u043d\u0438\u0439 \u0431\u0443\u0434\u0438\u043d\u043e\u043a"):"business"===d.type&&(n=n.not("object_type","eq","\u041f\u0440\u0438\u0432\u0430\u0442\u043d\u0438\u0439 \u0431\u0443\u0434\u0438\u043d\u043e\u043a")),"all"!==d.subcontract&&(n=n.eq("is_subcontract","subcontract"===d.subcontract)),"all"!==d.company&&(n=n.eq("working_company",d.company));const{data:s,error:a,count:i}=await n.order("created_at",{ascending:!1}).range(t,t+g-1);if(a)throw a;r(s||[]),v(i||0)}catch(t){z("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445","error")}finally{i(!1)}},[g,c,d,z]);(0,e.useEffect)(()=>{f(1)},[c,d]),(0,e.useEffect)(()=>{A(p)},[p,A]);const M=e=>{n?(j(e),S({name:e.name||"",oblast:e.oblast||"",populated_place:e.populated_place||"",phone:e.phone||"+380",object_type:e.object_type||"",company_name:e.company_name||"",is_subcontract:e.is_subcontract||!1,contractor_company:e.contractor_company||"",first_contact:e.first_contact?new Date(e.first_contact).toISOString().split("T")[0]:"",notes:e.notes||"",working_company:e.working_company||""}),y(!0)):z("\u0423 \u0432\u0430\u0441 \u043d\u0435\u043c\u0430\u0454 \u043f\u0440\u0430\u0432 \u043d\u0430 \u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043d\u043d\u044f","error")},O=(e,t)=>{"phone"===e&&(t.startsWith("+380")||(t="+380"+t.replace(/^\+380/,"").replace(/[^\d]/g,"")),t.length>13&&(t=t.substring(0,13))),S(n=>({...n,[e]:t})),C[e]&&E(t=>({...t,[e]:""}))},D=async e=>{e.preventDefault();const t={};if(_.name.trim()||(t.name="\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0456\u043c'\u044f"),_.working_company||(t.working_company="\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u043a\u043e\u043c\u043f\u0430\u043d\u0456\u044e"),Object.keys(t).length>0)E(t);else{P(!0);try{const e={..._,first_contact:_.first_contact||null};let t;if(w){if(!n)throw new Error("\u041d\u0435\u043c\u0430\u0454 \u043f\u0440\u0430\u0432 \u043d\u0430 \u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043d\u043d\u044f");t=await ar.from("clients").update({...e,updated_at:(new Date).toISOString(),telegram_synced:!1}).eq("custom_id",w.custom_id)}else t=await ar.from("clients").insert([e]);if(t.error)throw t.error;z(w?"\u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043e!":"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043e!","success"),y(!1),A(p)}catch(s){z("\u041f\u043e\u043c\u0438\u043b\u043a\u0430: "+s.message,"error")}finally{P(!1)}}};return(0,or.jsxs)(Tp,{children:[(0,or.jsxs)("div",{className:"p-4 sm:p-8 space-y-6 max-w-[1600px] mx-auto pb-safe",children:[(0,or.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,or.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 tracking-tight",children:"\u041a\u043b\u0456\u0454\u043d\u0442\u0438"}),(0,or.jsx)("p",{className:"text-slate-500 text-sm mt-1",children:"\u0411\u0430\u0437\u0430 \u0437\u0430\u043c\u043e\u0432\u043d\u0438\u043a\u0456\u0432 \u0442\u0430 \u043e\u0431'\u0454\u043a\u0442\u0456\u0432"})]}),(0,or.jsxs)("button",{onClick:()=>{j(null),S({name:"",oblast:"",populated_place:"",phone:"+380",object_type:"",company_name:"",is_subcontract:!1,contractor_company:"",first_contact:"",notes:"",working_company:""}),y(!0)},className:"flex items-center justify-center gap-2 px-5 py-2.5 bg-indigo-600 text-white rounded-xl font-bold shadow-lg shadow-indigo-200 hover:bg-indigo-700 active:scale-95 transition-all w-full sm:w-auto",children:[(0,or.jsx)(Vm,{})," ",(0,or.jsx)("span",{children:"\u041d\u043e\u0432\u0438\u0439 \u043a\u043b\u0456\u0454\u043d\u0442"})]})]}),(0,or.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,or.jsxs)("div",{className:"relative flex-grow",children:[(0,or.jsx)(qm,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),(0,or.jsx)("input",{type:"text",placeholder:"\u041f\u043e\u0448\u0443\u043a \u043a\u043b\u0456\u0454\u043d\u0442\u0430...",value:o,onChange:e=>l(e.target.value),className:"w-full pl-11 pr-4 py-3 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition shadow-sm text-sm"})]}),(0,or.jsxs)("button",{onClick:()=>m(!h),className:"flex-shrink-0 flex items-center justify-center gap-2 px-4 py-3 rounded-xl font-semibold transition shadow-sm border "+(h?"bg-slate-800 text-white border-slate-800":"bg-white text-slate-700 border-slate-200 hover:bg-slate-50"),children:[(0,or.jsx)(hm,{})," ",(0,or.jsx)("span",{className:"hidden sm:inline",children:"\u0424\u0456\u043b\u044c\u0442\u0440\u0438"})]})]}),(0,or.jsx)(Sr,{children:h&&(0,or.jsx)(lh.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:(0,or.jsx)("div",{className:"bg-white p-4 rounded-xl border border-slate-200 grid grid-cols-1 md:grid-cols-3 gap-4 shadow-sm",children:[{label:"\u041a\u043e\u043c\u043f\u0430\u043d\u0456\u044f",key:"company",opts:[{v:"all",l:"\u0412\u0441\u0456"},{v:"\u041a\u0430\u0439\u0440\u043e\u0441",l:"\u041a\u0430\u0439\u0440\u043e\u0441"},{v:"\u0420\u043e\u0437\u0443\u043c\u043d\u0435 \u0437\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043d\u044f \u0435\u043d\u0435\u0440\u0433\u0456\u0457",l:"\u0420\u0417\u0415"}]},{label:"\u0422\u0438\u043f \u043e\u0431'\u0454\u043a\u0442\u0430",key:"type",opts:[{v:"all",l:"\u0412\u0441\u0456"},{v:"private",l:"\u041f\u0440\u0438\u0432\u0430\u0442\u043d\u0438\u0439"},{v:"business",l:"\u0411\u0456\u0437\u043d\u0435\u0441"}]},{label:"\u0421\u043f\u0456\u0432\u043f\u0440\u0430\u0446\u044f",key:"subcontract",opts:[{v:"all",l:"\u0412\u0441\u0456"},{v:"direct",l:"\u041f\u0440\u044f\u043c\u0456"},{v:"subcontract",l:"\u0421\u0443\u0431\u043f\u0456\u0434\u0440\u044f\u0434"}]}].map((e,t)=>(0,or.jsxs)("div",{children:[(0,or.jsx)("span",{className:"text-xs font-bold text-slate-400 uppercase mb-2 block",children:e.label}),(0,or.jsx)("div",{className:"flex flex-wrap gap-2",children:e.opts.map(t=>(0,or.jsx)("button",{onClick:()=>u(n=>({...n,[e.key]:t.v})),className:"px-3 py-1.5 rounded-lg text-xs font-bold transition-colors "+(d[e.key]===t.v?"bg-indigo-100 text-indigo-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"),children:t.l},t.v))})]},t))})})})]}),(0,or.jsx)("div",{className:"min-h-[300px]",children:a?(0,or.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:Array.from({length:6}).map((e,t)=>(0,or.jsx)("div",{className:"bg-white h-40 rounded-2xl animate-pulse border border-slate-100"},t))}):0===s.length?(0,or.jsxs)("div",{className:"text-center py-20 bg-white rounded-2xl border border-dashed border-slate-300",children:[(0,or.jsx)(yp,{className:"mx-auto text-4xl text-slate-300 mb-3"}),(0,or.jsx)("h3",{className:"text-lg font-bold text-slate-600",children:"\u041a\u043b\u0456\u0454\u043d\u0442\u0456\u0432 \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e"}),(0,or.jsx)("p",{className:"text-slate-400 text-sm",children:"\u0421\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0437\u043c\u0456\u043d\u0438\u0442\u0438 \u0444\u0456\u043b\u044c\u0442\u0440\u0438"})]}):(0,or.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:s.map(e=>(0,or.jsx)(Jp,{client:e,onEdit:M,canEdit:n},e.custom_id))})}),!a&&x>g&&(0,or.jsx)(Yp,{currentPage:p,totalPages:Math.ceil(x/g),onPageChange:f})]}),(0,or.jsx)(Gp,{notifications:k,removeNotification:L}),(0,or.jsx)(Sr,{children:b&&(0,or.jsxs)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 sm:p-6",onClick:()=>y(!1),children:[(0,or.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm"}),(0,or.jsxs)(lh.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},className:"bg-white rounded-2xl w-full max-w-3xl max-h-[90vh] shadow-2xl flex flex-col relative z-10 overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,or.jsxs)("div",{className:"p-5 border-b border-slate-100 flex justify-between items-center bg-white sticky top-0 z-20",children:[(0,or.jsx)("h2",{className:"text-xl font-bold text-slate-800",children:w?"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043d\u043d\u044f":"\u041d\u043e\u0432\u0438\u0439 \u043a\u043b\u0456\u0454\u043d\u0442"}),(0,or.jsx)("button",{onClick:()=>y(!1),className:"p-2 bg-slate-50 rounded-full hover:bg-slate-100 text-slate-400 hover:text-slate-600 transition",children:(0,or.jsx)(ap,{})})]}),(0,or.jsxs)("form",{onSubmit:D,className:"p-6 overflow-y-auto custom-scrollbar",children:[(0,or.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-5",children:[(0,or.jsxs)("div",{className:"sm:col-span-2",children:[(0,or.jsxs)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5",children:["\u0406\u043c'\u044f / \u041d\u0430\u0437\u0432\u0430 ",(0,or.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,or.jsx)("input",{type:"text",value:_.name,onChange:e=>O("name",e.target.value),className:"w-full border rounded-xl px-4 py-3 bg-slate-50 focus:bg-white transition-colors outline-none focus:ring-2 focus:ring-indigo-500 "+(C.name?"border-red-500":"border-slate-200"),placeholder:"\u041f\u0406\u0411 \u0430\u0431\u043e \u043d\u0430\u0437\u0432\u0430"})]}),(0,or.jsxs)("div",{children:[(0,or.jsxs)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5",children:["\u041a\u043e\u043c\u043f\u0430\u043d\u0456\u044f-\u0432\u0438\u043a\u043e\u043d\u0430\u0432\u0435\u0446\u044c ",(0,or.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,or.jsxs)("select",{value:_.working_company,onChange:e=>O("working_company",e.target.value),className:"w-full border rounded-xl px-4 py-3 bg-slate-50 focus:bg-white outline-none "+(C.working_company?"border-red-500":"border-slate-200"),children:[(0,or.jsx)("option",{value:"",children:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c..."}),(0,or.jsx)("option",{value:"\u041a\u0430\u0439\u0440\u043e\u0441",children:"\u041a\u0430\u0439\u0440\u043e\u0441"}),(0,or.jsx)("option",{value:"\u0420\u043e\u0437\u0443\u043c\u043d\u0435 \u0437\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043d\u044f \u0435\u043d\u0435\u0440\u0433\u0456\u0457",children:"\u0420\u0417\u0415"})]})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5",children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"}),(0,or.jsx)("input",{type:"tel",value:_.phone,onChange:e=>O("phone",e.target.value),className:"w-full border border-slate-200 rounded-xl px-4 py-3 bg-slate-50 focus:bg-white outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"+380..."})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5",children:"\u0422\u0438\u043f \u043e\u0431'\u0454\u043a\u0442\u0430"}),(0,or.jsxs)("select",{value:_.object_type,onChange:e=>O("object_type",e.target.value),className:"w-full border border-slate-200 rounded-xl px-4 py-3 bg-slate-50 focus:bg-white outline-none",children:[(0,or.jsx)("option",{value:"",children:"\u041d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u043e"}),(0,or.jsx)("option",{value:"\u041f\u0440\u0438\u0432\u0430\u0442\u043d\u0438\u0439 \u0431\u0443\u0434\u0438\u043d\u043e\u043a",children:"\u041f\u0440\u0438\u0432\u0430\u0442\u043d\u0438\u0439 \u0431\u0443\u0434\u0438\u043d\u043e\u043a"}),(0,or.jsx)("option",{value:"\u041f\u0440\u043e\u043c\u0438\u0441\u043b\u043e\u0432\u0435 \u043f\u0456\u0434\u043f\u0440\u0438\u0454\u043c\u0441\u0442\u0432\u043e",children:"\u041f\u0440\u043e\u043c\u0438\u0441\u043b\u043e\u0432\u0435 \u043f\u0456\u0434\u043f\u0440\u0438\u0454\u043c\u0441\u0442\u0432\u043e"}),(0,or.jsx)("option",{value:"\u041e\u0444\u0456\u0441\u043d\u0430 \u0431\u0443\u0434\u0456\u0432\u043b\u044f",children:"\u041e\u0444\u0456\u0441\u043d\u0430 \u0431\u0443\u0434\u0456\u0432\u043b\u044f"}),(0,or.jsx)("option",{value:"\u041a\u043e\u043c\u0435\u0440\u0446\u0456\u0439\u043d\u0438\u0439 \u043e\u0431'\u0454\u043a\u0442",children:"\u041a\u043e\u043c\u0435\u0440\u0446\u0456\u0439\u043d\u0438\u0439 \u043e\u0431'\u0454\u043a\u0442"})]})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5",children:"\u041d\u0430\u0437\u0432\u0430 \u043a\u043e\u043c\u043f\u0430\u043d\u0456\u0457 (\u044f\u043a\u0449\u043e \u0454)"}),(0,or.jsx)("input",{type:"text",value:_.company_name,onChange:e=>O("company_name",e.target.value),className:"w-full border border-slate-200 rounded-xl px-4 py-3 bg-slate-50 focus:bg-white outline-none",placeholder:"\u0422\u041e\u0412..."})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5",children:"\u041e\u0431\u043b\u0430\u0441\u0442\u044c"}),(0,or.jsx)("input",{type:"text",value:_.oblast,onChange:e=>O("oblast",e.target.value),className:"w-full border border-slate-200 rounded-xl px-4 py-3 bg-slate-50 focus:bg-white outline-none"})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5",children:"\u041d\u0430\u0441\u0435\u043b\u0435\u043d\u0438\u0439 \u043f\u0443\u043d\u043a\u0442"}),(0,or.jsx)("input",{type:"text",value:_.populated_place,onChange:e=>O("populated_place",e.target.value),className:"w-full border border-slate-200 rounded-xl px-4 py-3 bg-slate-50 focus:bg-white outline-none"})]})]}),(0,or.jsxs)("div",{className:"mt-5 p-4 bg-slate-50 rounded-xl border border-slate-100",children:[(0,or.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,or.jsx)("input",{type:"checkbox",id:"subcontract",checked:_.is_subcontract,onChange:e=>O("is_subcontract",e.target.checked),className:"w-5 h-5 text-indigo-600 rounded focus:ring-indigo-500"}),(0,or.jsx)("label",{htmlFor:"subcontract",className:"text-sm font-bold text-slate-700 select-none",children:"\u0421\u0443\u0431\u043f\u0456\u0434\u0440\u044f\u0434"})]}),_.is_subcontract&&(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5",children:"\u041d\u0430\u0437\u0432\u0430 \u043f\u0456\u0434\u0440\u044f\u0434\u043d\u0438\u043a\u0430"}),(0,or.jsx)("input",{type:"text",value:_.contractor_company,onChange:e=>O("contractor_company",e.target.value),className:"w-full border border-slate-200 rounded-xl px-4 py-3 bg-white outline-none",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u0430\u0437\u0432\u0443..."})]})]}),(0,or.jsxs)("div",{className:"mt-5",children:[(0,or.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5",children:"\u041f\u0440\u0438\u043c\u0456\u0442\u043a\u0438"}),(0,or.jsx)("textarea",{rows:"3",value:_.notes,onChange:e=>O("notes",e.target.value),className:"w-full border border-slate-200 rounded-xl px-4 py-3 bg-slate-50 focus:bg-white outline-none resize-none",placeholder:"\u0414\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u0430 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f..."})]})]}),(0,or.jsxs)("div",{className:"p-5 border-t border-slate-100 bg-slate-50 flex justify-end gap-3 sticky bottom-0 z-20",children:[(0,or.jsx)("button",{type:"button",onClick:()=>y(!1),className:"px-6 py-3 bg-white border border-slate-200 text-slate-600 rounded-xl font-bold hover:bg-slate-100 transition",children:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"}),(0,or.jsx)("button",{type:"submit",onClick:D,disabled:T,className:"px-6 py-3 bg-indigo-600 text-white rounded-xl font-bold shadow-lg hover:shadow-xl hover:bg-indigo-700 active:scale-95 transition-all disabled:opacity-50 flex items-center gap-2",children:T?"\u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043d\u044f...":w?"\u041e\u043d\u043e\u0432\u0438\u0442\u0438":"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438"})]})]})]})})]})}const Qp=e=>{const t=new Date(e),n=t.getTimezoneOffset();return new Date(t.getTime()-60*n*1e3).toISOString().split("T")[0]},Zp=e=>{let{employee:t,status:n,onClick:s}=e;const r=(e=>{if(!e)return null;const t=new Date,n=new Date(e);let s=t.getFullYear()-n.getFullYear();const r=t.getMonth()-n.getMonth();return(r<0||0===r&&t.getDate()<n.getDate())&&s--,s})(t.date_birth),a=(e=>{if(!e)return"??";const t=e.trim().split(" ");return 1===t.length?t[0].substring(0,2).toUpperCase():(t[0][0]+t[1][0]).toUpperCase()})(t.name),i=(o=t.department)&&0!==o.length?o.includes("\u041e\u0444\u0456\u0441")?"bg-purple-600":o.includes("\u041c\u043e\u043d\u0442\u0430\u0436")?"bg-blue-600":o.includes("\u0412\u043e\u0434\u0456\u0457")?"bg-orange-500":o.includes("\u041f\u0440\u043e\u0435\u043a\u0442\u0443\u0432\u0430\u043d\u043d\u044f")?"bg-teal-600":"bg-indigo-500":"bg-slate-500";var o;const l="OFF"!==n&&"VACATION"!==n&&"SICK_LEAVE"!==n,c=t.department&&t.department.length>0?t.department.join(", "):"";return(0,or.jsxs)(lh.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},transition:{duration:.15},onClick:()=>s(t),className:"bg-white rounded-2xl p-4 shadow-sm border border-gray-100 relative overflow-visible flex items-center gap-4 active:scale-[0.98] transition-transform cursor-pointer group",children:[(0,or.jsxs)("div",{className:"relative",children:[(0,or.jsx)("div",{className:`w-14 h-14 rounded-2xl ${i} flex items-center justify-center text-white font-bold text-xl shadow-sm flex-shrink-0`,children:a}),(0,or.jsx)("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-white "+(l?"bg-green-500":"bg-red-500")})]}),(0,or.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,or.jsx)("div",{className:"flex justify-between items-start",children:(0,or.jsxs)("h3",{className:"font-bold text-gray-800 truncate text-base pr-6",children:[t.name,(0,or.jsxs)("span",{className:"text-gray-400 font-normal ml-1 text-sm",children:["#",t.custom_id]})]})}),(0,or.jsxs)("div",{className:"text-xs text-gray-500 font-medium truncate mb-1",children:[t.position||"\u041f\u043e\u0441\u0430\u0434\u0430 \u043d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u0430",c&&(0,or.jsx)("span",{className:"text-gray-400 mx-1",children:"\u2022"}),(0,or.jsx)("span",{className:"text-indigo-500",children:c})]}),(0,or.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mt-1.5",children:[t.phone&&(0,or.jsxs)("a",{href:`tel:${t.phone}`,onClick:e=>e.stopPropagation(),className:"text-xs text-slate-600 bg-slate-100 px-2 py-1 rounded-lg flex items-center gap-1 hover:bg-slate-200 transition-colors",children:[(0,or.jsx)($m,{className:"text-[10px]"})," ",t.phone]}),null!==r&&(0,or.jsxs)("span",{className:"text-xs text-slate-500 flex items-center gap-1 bg-slate-50 px-2 py-1 rounded-lg border border-slate-100",children:[(0,or.jsx)(Sh,{className:"text-pink-400 text-[10px]"})," ",r," \u0440."]})]})]}),(0,or.jsx)("button",{onClick:e=>{e.stopPropagation(),s(t)},className:"absolute top-4 right-4 p-2 -mr-2 -mt-2 text-gray-300 hover:text-gray-600 transition-colors",children:(0,or.jsx)(Qh,{size:16})})]})},ef=t=>{let{isOpen:n,onClose:s,employee:r,onSave:a}=t;const[i,o]=(0,e.useState)({name:"",phone:"+380",position:"",department:[],skills:[],date_birth:"",notes:""}),[l,c]=(0,e.useState)(""),[d,u]=(0,e.useState)(!1);(0,e.useEffect)(()=>{o(r?{name:r.name||"",phone:r.phone||"+380",position:r.position||"",department:r.department||[],skills:r.skills||[],date_birth:r.date_birth||"",notes:r.notes||""}:{name:"",phone:"+380",position:"",department:[],skills:[],date_birth:"",notes:""})},[r,n]);const h=()=>{l.trim()&&!i.skills.includes(l.trim())&&(o(e=>({...e,skills:[...e.skills,l.trim()]})),c(""))};return n?(0,or.jsx)("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-black/40 backdrop-blur-sm p-0 sm:p-6",onClick:s,children:(0,or.jsxs)(lh.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"tween",ease:"easeOut",duration:.25},className:"bg-white w-full max-w-lg rounded-t-2xl sm:rounded-2xl shadow-2xl flex flex-col max-h-[90vh]",onClick:e=>e.stopPropagation(),children:[(0,or.jsxs)("div",{className:"p-5 border-b border-gray-100 flex justify-between items-center bg-white rounded-t-2xl",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:r?"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043d\u043d\u044f":"\u041d\u043e\u0432\u0438\u0439 \u043f\u0440\u0430\u0446\u0456\u0432\u043d\u0438\u043a"}),r&&(0,or.jsxs)("p",{className:"text-xs text-gray-400",children:["#",r.custom_id]})]}),(0,or.jsx)("button",{onClick:s,className:"p-2 bg-gray-50 rounded-full hover:bg-gray-100 transition",children:(0,or.jsx)(ap,{className:"text-gray-500"})})]}),(0,or.jsxs)("div",{className:"p-5 overflow-y-auto space-y-6",children:[(0,or.jsxs)("div",{className:"space-y-3",children:[(0,or.jsx)("label",{className:"text-sm font-bold text-gray-700 block",children:"\u041f\u0406\u0411 *"}),(0,or.jsxs)("div",{className:"relative",children:[(0,or.jsx)(bp,{className:"absolute top-3.5 left-3 text-gray-400"}),(0,or.jsx)("input",{type:"text",value:i.name,onChange:e=>o({...i,name:e.target.value}),className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none transition-all",placeholder:"\u0406\u0432\u0430\u043d \u0406\u0432\u0430\u043d\u043e\u0432"})]})]}),(0,or.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,or.jsxs)("div",{className:"space-y-2",children:[(0,or.jsx)("label",{className:"text-sm font-bold text-gray-700 block",children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"}),(0,or.jsx)("input",{type:"tel",value:i.phone,onChange:e=>o({...i,phone:e.target.value}),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-indigo-500 outline-none"})]}),(0,or.jsxs)("div",{className:"space-y-2",children:[(0,or.jsx)("label",{className:"text-sm font-bold text-gray-700 block",children:"\u0414\u0430\u0442\u0430 \u043d\u0430\u0440\u043e\u0434\u0436\u0435\u043d\u043d\u044f"}),(0,or.jsx)("input",{type:"date",value:i.date_birth,onChange:e=>o({...i,date_birth:e.target.value}),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-indigo-500 outline-none"})]})]}),(0,or.jsxs)("div",{className:"p-4 bg-slate-50 rounded-xl space-y-5 border border-slate-100",children:[(0,or.jsxs)("div",{className:"space-y-2",children:[(0,or.jsx)("label",{className:"text-sm font-bold text-gray-700",children:"\u041f\u043e\u0441\u0430\u0434\u0430"}),(0,or.jsxs)("div",{className:"relative",children:[(0,or.jsx)(vp,{className:"absolute top-3.5 left-3 text-gray-400"}),(0,or.jsx)("input",{type:"text",value:i.position,onChange:e=>o({...i,position:e.target.value}),className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 focus:border-indigo-500 outline-none bg-white",placeholder:"\u041d\u0430\u043f\u0440. \u0413\u043e\u043b\u043e\u0432\u043d\u0438\u0439 \u0456\u043d\u0436\u0435\u043d\u0435\u0440"})]})]}),(0,or.jsxs)("div",{className:"space-y-2",children:[(0,or.jsx)("label",{className:"text-sm font-bold text-gray-700",children:"\u0412\u0456\u0434\u0434\u0456\u043b"}),(0,or.jsx)("div",{className:"flex flex-wrap gap-2",children:["\u041c\u043e\u043d\u0442\u0430\u0436","\u041e\u0444\u0456\u0441","\u0412\u043e\u0434\u0456\u0457","\u041f\u0440\u043e\u0435\u043a\u0442\u0443\u0432\u0430\u043d\u043d\u044f","\u0421\u043a\u043b\u0430\u0434"].map(e=>{const t=i.department.includes(e);return(0,or.jsx)("button",{onClick:()=>(e=>{o(t=>{const n=t.department.includes(e);return{...t,department:n?t.department.filter(t=>t!==e):[...t.department,e]}})})(e),className:"px-3 py-1.5 rounded-lg text-xs font-bold uppercase tracking-wider border transition-all "+(t?"bg-indigo-600 text-white border-indigo-600 shadow-md":"bg-white text-gray-500 border-gray-200 hover:border-indigo-300"),children:e},e)})})]}),(0,or.jsxs)("div",{className:"space-y-2",children:[(0,or.jsxs)("label",{className:"text-sm font-bold text-gray-700 flex items-center gap-2",children:[(0,or.jsx)(tp,{className:"text-indigo-500"})," \u041d\u0430\u0432\u0438\u0447\u043a\u0438"]}),(0,or.jsxs)("div",{className:"flex gap-2",children:[(0,or.jsx)("input",{type:"text",value:l,onChange:e=>c(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),h())},className:"flex-1 px-4 py-2 rounded-xl border border-gray-200 focus:border-indigo-500 outline-none bg-white text-sm",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0442\u0430 \u043d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c +"}),(0,or.jsx)("button",{onClick:h,className:"bg-indigo-600 text-white px-4 rounded-xl text-sm font-bold hover:bg-indigo-700 transition",children:(0,or.jsx)(Vm,{})})]}),(0,or.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:i.skills.map((e,t)=>(0,or.jsxs)("span",{className:"bg-indigo-100 text-indigo-700 px-3 py-1 rounded-lg text-sm font-medium flex items-center gap-2",children:[e,(0,or.jsx)("button",{onClick:()=>{return t=e,void o(e=>({...e,skills:e.skills.filter(e=>e!==t)}));var t},className:"text-indigo-400 hover:text-indigo-900",children:(0,or.jsx)(ap,{size:12})})]},t))})]})]}),(0,or.jsxs)("div",{className:"pt-2",children:[(0,or.jsx)("label",{className:"text-xs font-bold text-gray-400 uppercase mb-1 block",children:"\u0414\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u0456 \u043d\u043e\u0442\u0430\u0442\u043a\u0438"}),(0,or.jsx)("textarea",{rows:"2",value:i.notes,onChange:e=>o({...i,notes:e.target.value}),className:"w-full p-3 rounded-xl border border-gray-200 focus:border-indigo-500 outline-none resize-none text-sm bg-gray-50 focus:bg-white transition-colors",placeholder:"\u0406\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f..."})]})]}),(0,or.jsxs)("div",{className:"p-5 border-t border-gray-100 flex gap-3 bg-white",children:[(0,or.jsx)("button",{onClick:s,className:"flex-1 py-3 rounded-xl font-medium text-gray-600 bg-gray-100 hover:bg-gray-200 transition",children:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"}),(0,or.jsx)("button",{onClick:async()=>{i.name.trim()&&(u(!0),await a({...i,id:null===r||void 0===r?void 0:r.id,custom_id:null===r||void 0===r?void 0:r.custom_id}),u(!1),s())},disabled:d,className:"flex-1 py-3 rounded-xl font-bold text-white bg-indigo-600 hover:bg-indigo-700 shadow-lg shadow-indigo-200 transition flex items-center justify-center gap-2",children:d?"\u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043d\u044f...":(0,or.jsxs)(or.Fragment,{children:[(0,or.jsx)(Hm,{})," \u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"]})})]})]})}):null};function tf(){const[t,n]=(0,e.useState)([]),[s,r]=(0,e.useState)([]),[a,i]=(0,e.useState)(!0),[o,l]=(0,e.useState)(""),[c,d]=(0,e.useState)("\u0412\u0441\u0456"),[u,h]=(0,e.useState)(new Date),[m,p]=(0,e.useState)(!1),[f,g]=(0,e.useState)(null),x=async()=>{try{const{data:e}=await ar.from("employees").select("*").order("name"),t=new Date,s=new Date;s.setMonth(s.getMonth()+1);const{data:a}=await ar.from("attendance").select("*").gte("work_date",Qp(t)).lte("work_date",Qp(s));n(e||[]),r(a||[])}catch(e){console.error("Error:",e)}finally{i(!1)}};(0,e.useEffect)(()=>{x()},[]);const v=e=>{g(e),p(!0)},b=(0,e.useMemo)(()=>t.filter(e=>{const t=o.toLowerCase();if(!(e.name.toLowerCase().includes(t)||e.phone&&e.phone.includes(t)||e.position&&e.position.toLowerCase().includes(t)||e.custom_id&&e.custom_id.toString().includes(t)))return!1;if("\u0412\u0441\u0456"===c)return!0;const n=e.department||[];return"\u0406\u043d\u0448\u0435"===c?0===n.length:n.includes(c)}),[t,o,c]),y=(0,e.useMemo)(()=>{const e=Qp(u),n=t.filter(e=>{if("\u0412\u0441\u0456"===c)return!0;const t=e.department||[];return"\u0406\u043d\u0448\u0435"===c?0===t.length:t.includes(c)}),r=new Set(n.map(e=>e.custom_id)),a=s.filter(t=>t.work_date===e&&r.has(t.employee_custom_id)),i=n.length,o=a.length;return{totalAvailable:Math.max(0,i-o),totalOff:o}},[t,s,u,c]),w=Qp(u)===Qp(new Date),j=e=>{const t=Qp(new Date),n=s.find(n=>n.employee_custom_id===e&&n.work_date===t);return n?n.status:"ACTIVE"},k=[{id:"\u0412\u0441\u0456",icon:bp},{id:"\u041c\u043e\u043d\u0442\u0430\u0436",icon:vm},{id:"\u041e\u0444\u0456\u0441",icon:vp},{id:"\u0406\u043d\u0448\u0435",icon:zh}];return(0,or.jsxs)("div",{className:"min-h-screen bg-slate-50 pb-24",children:[(0,or.jsxs)("header",{className:"sticky top-0 z-30 bg-white/95 backdrop-blur-md border-b border-gray-200/50 shadow-sm",children:[(0,or.jsxs)("div",{className:"px-4 pt-4 pb-2",children:[(0,or.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,or.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"\u041a\u043e\u043c\u0430\u043d\u0434\u0430"}),(0,or.jsx)("button",{onClick:()=>{const e=new Date,t=new Date(e);t.setDate(t.getDate()+1),Qp(u)===Qp(e)?h(t):h(e)},className:"flex items-center gap-3 px-3 py-2 rounded-xl transition-all border active:scale-95 "+(w?"bg-indigo-50 border-indigo-200":"bg-orange-50 border-orange-200"),children:(0,or.jsxs)("div",{className:"text-left",children:[(0,or.jsxs)("div",{className:"text-[10px] font-bold uppercase tracking-wider text-gray-500 flex items-center gap-1",children:[w?(0,or.jsx)(Ah,{}):(0,or.jsx)(Mh,{}),w?"\u041f\u043b\u0430\u043d \u043d\u0430 \u0441\u044c\u043e\u0433\u043e\u0434\u043d\u0456":"\u041f\u043b\u0430\u043d \u043d\u0430 \u0437\u0430\u0432\u0442\u0440\u0430"]}),(0,or.jsxs)("div",{className:"flex items-center gap-2 text-sm font-semibold",children:[(0,or.jsx)("span",{className:"text-green-600",children:y.totalAvailable}),(0,or.jsx)("span",{className:"text-gray-300",children:"/"}),(0,or.jsx)("span",{className:"text-red-500",children:y.totalOff})]})]})})]}),(0,or.jsxs)("div",{className:"relative mb-2",children:[(0,or.jsx)(qm,{className:"absolute left-3.5 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,or.jsx)("input",{type:"text",placeholder:"\u041f\u043e\u0448\u0443\u043a (\u0456\u043c'\u044f, ID, \u043f\u043e\u0441\u0430\u0434\u0430)...",value:o,onChange:e=>l(e.target.value),className:"w-full bg-slate-100 border-none rounded-xl pl-10 pr-4 py-3 text-sm focus:ring-2 focus:ring-indigo-500 focus:bg-white transition-all shadow-inner"}),o&&(0,or.jsx)("button",{onClick:()=>l(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:(0,or.jsx)(ap,{})})]})]}),(0,or.jsx)("div",{className:"px-4 pb-2",children:(0,or.jsx)("div",{className:"flex w-full bg-slate-100 p-1 rounded-xl",children:k.map(e=>{const t=c===e.id;return(0,or.jsxs)("button",{onClick:()=>d(e.id),className:`\n                                        flex-1 flex flex-col sm:flex-row items-center justify-center gap-1 sm:gap-2 py-2 rounded-lg text-[10px] sm:text-xs font-bold transition-all duration-200\n                                        ${t?"bg-white text-indigo-600 shadow-sm ring-1 ring-black/5":"text-gray-500 hover:text-gray-700 hover:bg-slate-200/50"}\n                                    `,children:[(0,or.jsx)(e.icon,{className:t?"text-indigo-600":"text-gray-400",size:14}),(0,or.jsx)("span",{children:e.id})]},e.id)})})})]}),(0,or.jsx)("main",{className:"p-4",children:a?(0,or.jsx)("div",{className:"space-y-3",children:Array.from({length:6}).map((e,t)=>(0,or.jsx)("div",{className:"h-20 bg-white rounded-2xl animate-pulse shadow-sm"},t))}):0===b.length?(0,or.jsx)("div",{className:"text-center py-12",children:(0,or.jsx)("h3",{className:"text-lg font-medium text-gray-600",children:"\u041d\u0456\u043a\u043e\u0433\u043e \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e"})}):(0,or.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:(0,or.jsx)(Sr,{children:b.map(e=>(0,or.jsx)(Zp,{employee:e,status:j(e.custom_id),onClick:v},e.id))})})}),(0,or.jsx)("button",{onClick:()=>{g(null),p(!0)},className:"fixed bottom-6 right-6 w-14 h-14 bg-indigo-600 text-white rounded-full shadow-2xl shadow-indigo-400/50 flex items-center justify-center hover:bg-indigo-700 active:scale-90 transition-all z-40",children:(0,or.jsx)(Vm,{size:24})}),(0,or.jsx)(Sr,{children:m&&(0,or.jsx)(ef,{isOpen:m,onClose:()=>p(!1),employee:f,onSave:async e=>{try{const t={name:e.name,phone:e.phone,position:e.position,department:e.department,skills:e.skills,date_birth:e.date_birth||null,notes:e.notes};e.id?await ar.from("employees").update(t).eq("id",e.id):await ar.from("employees").insert([t]),x()}catch(px){alert("\u041f\u043e\u043c\u0438\u043b\u043a\u0430: "+px.message)}}})})]})}const nf=e=>{const t=new Date(e),n=t.getTimezoneOffset();return new Date(t.getTime()-60*n*1e3).toISOString().split("T")[0]},sf=e=>{const t=new Date(e),n=t.getDay(),s=t.getDate()-n+(0===n?-6:1);return new Date(t.setDate(s))},rf=(e,t)=>{const n=new Date(e);return n.setDate(n.getDate()+t),n},af=t=>{let{options:n,value:s,onChange:r,placeholder:a,icon:i,disabledItems:o=[],error:l,showInitialList:c=!1}=t;const[d,u]=(0,e.useState)(!1),[h,m]=(0,e.useState)(""),p=(0,e.useRef)(null),f=(0,e.useMemo)(()=>{if(!h&&!c)return[];const e=h.toLowerCase();let t=0;return n.filter(n=>{if(t>50)return!1;const s=o.includes(n.value),r=!h||n.label.toLowerCase().includes(e)||n.subLabel&&n.subLabel.toLowerCase().includes(e);return!(s||!r)&&(t++,!0)})},[n,h,o,c]),g=n.find(e=>e.value===s);return(0,e.useEffect)(()=>{d&&p.current&&p.current.focus()},[d]),(0,or.jsxs)("div",{className:"relative",children:[(0,or.jsx)("button",{onClick:()=>u(!d),className:"w-full flex items-center justify-between bg-white border rounded-xl px-4 py-3 text-sm font-medium text-gray-700 shadow-sm active:bg-gray-50 transition-all "+(l?"border-red-500 ring-1 ring-red-500":"border-gray-300 hover:border-gray-400"),children:(0,or.jsxs)("span",{className:"flex items-center gap-2 truncate",children:[i&&(0,or.jsx)(i,{className:"flex-shrink-0 "+(l?"text-red-500":"text-indigo-500")}),(0,or.jsx)("span",{className:"truncate",children:g?g.label:(0,or.jsx)("span",{className:"text-gray-400",children:a})})]})}),(0,or.jsx)(Sr,{children:d&&(0,or.jsxs)(or.Fragment,{children:[(0,or.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>u(!1)}),(0,or.jsxs)(lh.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.15},className:"absolute z-[100] w-full mt-2 bg-white border border-gray-200 rounded-xl shadow-xl overflow-hidden",children:[(0,or.jsx)("div",{className:"p-2 border-b border-gray-100 bg-gray-50",children:(0,or.jsxs)("div",{className:"relative",children:[(0,or.jsx)(qm,{className:"absolute left-3 top-2.5 text-gray-400 text-xs"}),(0,or.jsx)("input",{ref:p,type:"text",className:"w-full pl-8 pr-3 py-2 bg-white rounded-lg text-sm outline-none border border-gray-200 focus:border-indigo-300 transition-all",placeholder:c?"\u041f\u043e\u0448\u0443\u043a...":"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0434\u043b\u044f \u043f\u043e\u0448\u0443\u043a\u0443...",value:h,onChange:e=>m(e.target.value)})]})}),(0,or.jsx)("div",{className:"max-h-56 overflow-y-auto",children:f.length>0?f.map(e=>(0,or.jsxs)("button",{onClick:()=>{r(e.value),u(!1),m("")},className:"w-full text-left px-4 py-3 text-sm hover:bg-indigo-50 transition-colors border-b border-gray-50 last:border-0",children:[(0,or.jsx)("div",{className:"font-medium text-gray-800",children:e.label}),e.subLabel&&(0,or.jsx)("div",{className:"text-[10px] text-gray-400",children:e.subLabel})]},e.value)):(0,or.jsx)("div",{className:"p-4 text-center text-xs text-gray-400 italic",children:h||c?"\u041d\u0456\u0447\u043e\u0433\u043e \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e":"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0442\u0435\u043a\u0441\u0442 \u0434\u043b\u044f \u043f\u043e\u0448\u0443\u043a\u0443..."})})]})]})}),l&&(0,or.jsx)("p",{className:"text-red-500 text-xs mt-1 ml-1",children:l})]})},of=t=>{let{employees:n,date:s,onAdd:r}=t;const[a,i]=(0,e.useState)(""),[o,l]=(0,e.useState)("OFF"),c=n.map(e=>({value:e.custom_id,label:e.name,subLabel:e.position}));return(0,or.jsxs)("div",{className:"bg-red-50 border border-red-100 rounded-xl p-3 mb-4",children:[(0,or.jsxs)("h4",{className:"text-xs font-bold text-red-400 uppercase tracking-wider mb-2 flex items-center gap-2",children:[(0,or.jsx)(xp,{})," \u0412\u0456\u0434\u043c\u0456\u0442\u0438\u0442\u0438 \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u0456\u0441\u0442\u044c"]}),(0,or.jsxs)("div",{className:"space-y-2",children:[(0,or.jsx)(af,{options:c,value:a,onChange:i,placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0456\u043c'\u044f \u043f\u0440\u0430\u0446\u0456\u0432\u043d\u0438\u043a\u0430...",icon:bp}),(0,or.jsxs)("div",{className:"flex gap-2",children:[(0,or.jsxs)("select",{value:o,onChange:e=>l(e.target.value),className:"flex-1 bg-white border border-red-200 text-red-700 text-sm rounded-lg px-3 py-2 outline-none",children:[(0,or.jsx)("option",{value:"OFF",children:"\u0412\u0438\u0445\u0456\u0434\u043d\u0438\u0439"}),(0,or.jsx)("option",{value:"SICK_LEAVE",children:"\u041b\u0456\u043a\u0430\u0440\u043d\u044f\u043d\u0438\u0439"}),(0,or.jsx)("option",{value:"VACATION",children:"\u0412\u0456\u0434\u043f\u0443\u0441\u0442\u043a\u0430"})]}),(0,or.jsx)("button",{onClick:()=>{a&&(r(a,o),i(""))},disabled:!a,className:"bg-red-500 text-white px-4 py-2 rounded-lg text-sm font-bold shadow-sm disabled:opacity-50",children:(0,or.jsx)(Rh,{})})]})]})]})},lf=e=>{let{employees:t}=e;return t&&0!==t.length?(0,or.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(0,or.jsxs)("h4",{className:"text-xs font-bold text-red-400 uppercase tracking-wider mb-3 flex items-center gap-2",children:[(0,or.jsx)(_h,{})," \u0412\u0438\u0445\u0456\u0434\u043d\u0456 \u0441\u044c\u043e\u0433\u043e\u0434\u043d\u0456 (",t.length,")"]}),(0,or.jsx)("div",{className:"space-y-2",children:t.map(e=>(0,or.jsxs)("div",{className:"flex justify-between items-center text-sm p-2 bg-white rounded-lg text-red-700 border border-red-100 shadow-sm",children:[(0,or.jsx)("span",{className:"font-medium",children:e.name}),(0,or.jsx)("span",{className:"text-[10px] font-bold px-2 py-0.5 bg-red-50 rounded-md text-red-500 border border-red-100 uppercase",children:"OFF"===e.status?"\u0412\u0438\u0445\u0456\u0434\u043d\u0438\u0439":"VACATION"===e.status?"\u0412\u0456\u0434\u043f\u0443\u0441\u0442\u043a\u0430":"\u041b\u0456\u043a\u0430\u0440\u043d\u044f\u043d\u0438\u0439"})]},e.id))})]}):null},cf=e=>{let{schedule:t,employees:n,installations:s,isPreviewMode:r,onEdit:a,onSave:i,onCancel:o,isSaving:l,absentEmployees:c,isPast:d,canManageSchedule:u}=e;return(0,or.jsxs)("div",{className:"flex flex-col h-full bg-slate-50",children:[(0,or.jsxs)("div",{className:"p-4 border-b flex items-center justify-between bg-white rounded-t-2xl shadow-sm z-20 flex-none",children:[(0,or.jsxs)("h3",{className:"font-bold text-lg text-gray-800 flex items-center gap-2",children:[r?"\u041f\u043e\u043f\u0435\u0440\u0435\u0434\u043d\u0456\u0439 \u043f\u0435\u0440\u0435\u0433\u043b\u044f\u0434":"\u041f\u043b\u0430\u043d \u0440\u043e\u0431\u0456\u0442",d&&(0,or.jsxs)("span",{className:"text-xs bg-gray-100 text-gray-500 px-2 py-1 rounded-full flex items-center gap-1",children:[(0,or.jsx)(Tm,{size:10})," \u0410\u0440\u0445\u0456\u0432"]})]}),(0,or.jsx)("button",{onClick:o,className:"p-2 bg-gray-100 rounded-full text-gray-500 hover:text-gray-800",children:(0,or.jsx)(ap,{})})]}),(0,or.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[0===t.length?(0,or.jsxs)("div",{className:"text-center py-10 text-gray-400",children:[(0,or.jsx)(Lh,{className:"mx-auto text-4xl mb-3 opacity-20"}),(0,or.jsx)("p",{children:"\u041d\u0435\u043c\u0430\u0454 \u0437\u0430\u043f\u043b\u0430\u043d\u043e\u0432\u0430\u043d\u0438\u0445 \u0440\u043e\u0431\u0456\u0442"})]}):t.map(e=>{var t;const r="custom"===e.installationId,a=r?e.notes||"\u041a\u0430\u0441\u0442\u043e\u043c\u043d\u0435 \u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f":e.installationId?(null===(t=s.find(t=>{var n,s;return(null===(n=t.custom_id)||void 0===n?void 0:n.toString())===(null===(s=e.installationId)||void 0===s?void 0:s.toString())}))||void 0===t?void 0:t.name)||`\u041e\u0431'\u0454\u043a\u0442 #${e.installationId}`:"\u041d\u0435 \u043e\u0431\u0440\u0430\u043d\u043e",i=!r&&e.installationId?`#${e.installationId}`:"";return(0,or.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:[(0,or.jsxs)("div",{className:"flex items-start gap-3 mb-3 border-b border-gray-100 pb-3",children:[(0,or.jsx)("div",{className:"p-2 rounded-lg "+(r?"bg-amber-100 text-amber-600":"bg-blue-100 text-blue-600"),children:r?(0,or.jsx)(np,{}):(0,or.jsx)(Th,{})}),(0,or.jsxs)("div",{className:"flex-1",children:[(0,or.jsxs)("h4",{className:"font-bold text-gray-800 text-sm",children:[a," ",(0,or.jsx)("span",{className:"text-gray-400 font-normal ml-1",children:i})]}),r&&(0,or.jsx)("span",{className:"text-xs text-amber-500 font-medium",children:"\u0420\u0443\u0447\u043d\u0435 \u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f"})]})]}),e.notes&&!r&&(0,or.jsxs)("div",{className:"mb-3 text-xs text-gray-500 bg-gray-50 p-2 rounded-lg italic",children:['"',e.notes,'"']}),(0,or.jsxs)("div",{className:"space-y-2",children:[0===e.workers.length&&(0,or.jsx)("p",{className:"text-xs text-red-400 italic",children:"\u041f\u0440\u0430\u0446\u0456\u0432\u043d\u0438\u043a\u0456\u0432 \u043d\u0435 \u043f\u0440\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u043e"}),e.workers.map(e=>{var t;const s=n.find(t=>t.custom_id===e);return(0,or.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,or.jsx)("div",{className:"w-8 h-8 rounded-full bg-indigo-50 text-indigo-600 flex items-center justify-center font-bold text-xs",children:null===s||void 0===s||null===(t=s.name)||void 0===t?void 0:t.charAt(0)}),(0,or.jsx)("span",{className:"text-gray-700 font-medium",children:null===s||void 0===s?void 0:s.name})]},e)})]})]},e.id)}),(0,or.jsx)(lf,{employees:c})]}),(0,or.jsx)("div",{className:"p-4 border-t bg-white shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] space-y-3 flex-none",children:r?(0,or.jsxs)(or.Fragment,{children:[(0,or.jsx)("button",{onClick:i,disabled:l,className:"w-full py-3 bg-indigo-600 text-white rounded-xl font-bold shadow-lg active:scale-95 transition-all flex items-center justify-center gap-2",children:l?"\u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043d\u044f...":(0,or.jsxs)(or.Fragment,{children:[(0,or.jsx)(Hm,{})," \u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u0437\u043c\u0456\u043d\u0438"]})}),(0,or.jsx)("button",{onClick:a,className:"w-full py-3 bg-gray-100 text-gray-700 rounded-xl font-medium hover:bg-gray-200 transition-colors",children:"\u041f\u043e\u0432\u0435\u0440\u043d\u0443\u0442\u0438\u0441\u044c \u0434\u043e \u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043d\u043d\u044f"})]}):!d&&u?(0,or.jsxs)("button",{onClick:a,className:"w-full py-3 bg-indigo-600 text-white rounded-xl font-bold shadow-lg active:scale-95 transition-all flex items-center justify-center gap-2",children:[(0,or.jsx)(Rm,{})," \u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u043f\u043b\u0430\u043d"]}):(0,or.jsx)("div",{className:"text-center text-gray-400 text-sm py-2 flex items-center justify-center gap-2",children:d?(0,or.jsxs)(or.Fragment,{children:[(0,or.jsx)(Tm,{})," \u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043d\u043d\u044f \u043c\u0438\u043d\u0443\u043b\u0438\u0445 \u043f\u0435\u0440\u0456\u043e\u0434\u0456\u0432 \u0437\u0430\u0431\u043e\u0440\u043e\u043d\u0435\u043d\u043e"]}):(0,or.jsx)("span",{className:"italic",children:"\u0422\u0456\u043b\u044c\u043a\u0438 \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u0433\u043b\u044f\u0434\u0443"})})})]})};function df(){const{role:t}=cr(),n="admin"===t||"super_admin"===t||"office"===t,s=(()=>{const[t,n]=(0,e.useState)(window.innerWidth>=768);return(0,e.useEffect)(()=>{const e=()=>n(window.innerWidth>=768);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),t})(),[r,a]=(0,e.useState)(()=>{const e=new Date;if(0===e.getDay()){const t=rf(e,1);return sf(t)}return sf(e)}),[i,o]=(0,e.useState)({}),[l,c]=(0,e.useState)(null),[d,u]=(0,e.useState)([]),[h,m]=(0,e.useState)("view"),[p,f]=(0,e.useState)({}),[g,x]=(0,e.useState)(!1),[v,b]=(0,e.useState)([]),[y,w]=(0,e.useState)([]),[j,k]=(0,e.useState)({}),[N,_]=(0,e.useState)(!0),[S,C]=(0,e.useState)(!1),E=(0,e.useRef)(null),T=(0,e.useRef)(null),P=(0,e.useCallback)(async()=>{_(!0);const e=nf(r),t=nf(rf(r,6));try{const{data:n}=await ar.from("installations").select("custom_id, name, status").neq("status","completed").neq("status","cancelled").order("created_at",{ascending:!1}),{data:s}=await ar.from("employees").select("custom_id, name, department, position").order("name"),{data:r}=await ar.from("attendance").select("employee_custom_id, work_date, status").gte("work_date",e).lte("work_date",t).in("status",["OFF","VACATION","SICK_LEAVE"]),{data:a}=await ar.from("installation_workers").select("installation_custom_id, employee_custom_id, work_date, notes").gte("work_date",e).lte("work_date",t);b(n||[]),w(s||[]);const i={};null===r||void 0===r||r.forEach(e=>{i[e.work_date]||(i[e.work_date]={}),i[e.work_date][e.employee_custom_id]=e.status}),k(i);const l={};a&&a.forEach(e=>{const t=e.work_date;l[t]||(l[t]=[]);const n=e.installation_custom_id||"custom_"+e.notes;let s=l[t].find(e=>e._groupKey===n);s||(s={id:Date.now()+Math.random(),_groupKey:n,installationId:e.installation_custom_id||"custom",notes:e.notes,workers:[]},l[t].push(s)),e.employee_custom_id&&s.workers.push(e.employee_custom_id)}),o(l)}catch(n){console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430:",n)}finally{_(!1)}},[r]);(0,e.useEffect)(()=>{P()},[P]),(0,e.useEffect)(()=>{!N&&E.current&&E.current.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})},[N,r]);const z=e=>{const t=(e=>{const t=new Date;t.setHours(0,0,0,0);const n=new Date(e);return n.setHours(0,0,0,0),n<t})(e);x(t);const s=nf(e),r=i[s]?JSON.parse(JSON.stringify(i[s])):[];u(r),c(e),f({}),n?t?m("view"):0===r.length?(u([{id:Date.now(),installationId:null,workers:[],notes:""}]),m("edit")):m("view"):m("view")},L=()=>{c(null),u([]),m("view"),f({}),x(!1)},A=e=>{const t=new Set,n=new Set;d.forEach((s,r)=>{r!==e?s.workers.forEach(e=>t.add(e)):s.workers.forEach(e=>n.add(e))});const s=nf(l),r=j[s]||{};return y.filter(e=>{e.department;return!r.hasOwnProperty(e.custom_id)&&(!t.has(e.custom_id)&&!n.has(e.custom_id))}).map(e=>({value:e.custom_id,label:e.name,subLabel:`${e.position||""}`}))},M=(e,t,n)=>{const s=[...d];s[e][t]=n,"installationId"===t&&"custom"===n&&(s[e].notes||(s[e].notes="")),u(s),p[e]&&p[e][t]&&f(n=>({...n,[e]:{...n[e],[t]:null}}))},O=(0,e.useMemo)(()=>[{value:"custom",label:"\u26a1 \u0406\u043d\u0448\u0435 / \u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0432\u0440\u0443\u0447\u043d\u0443",subLabel:"\u0414\u043b\u044f \u0440\u043e\u0431\u0456\u0442 \u043f\u043e\u0437\u0430 \u0431\u0430\u0437\u043e\u044e"},...v.map(e=>({value:e.custom_id,label:`${e.name} (#${e.custom_id})`,subLabel:`ID: ${e.custom_id}`}))],[v]),D=(0,e.useMemo)(()=>Array.from({length:6}).map((e,t)=>rf(r,t)),[r]),R=(()=>{if(!l)return[];const e=nf(l),t=j[e]||{};return y.filter(e=>t.hasOwnProperty(e.custom_id)).map(e=>({...e,status:t[e.custom_id]}))})(),$=(0,e.useMemo)(()=>{if(!l)return[];const e=nf(l),t=j[e]||{};return y.filter(e=>!t.hasOwnProperty(e.custom_id))},[y,j,l]);return(0,or.jsxs)("div",{className:"min-h-screen bg-slate-100 pb-20",children:[(0,or.jsx)("div",{className:"bg-white relative z-30 shadow-sm border-b border-gray-200",children:(0,or.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-3 flex items-center justify-between",children:[(0,or.jsx)("button",{onClick:()=>a(e=>rf(e,-7)),className:"p-2 hover:bg-gray-100 rounded-full text-gray-600",children:(0,or.jsx)(yh,{})}),(0,or.jsx)("div",{className:"flex-1 flex justify-center",children:(0,or.jsxs)("div",{onClick:()=>{try{T.current&&(T.current.showPicker?T.current.showPicker():(T.current.focus(),T.current.click()))}catch(px){console.error("Error opening date picker:",px)}},className:"relative group cursor-pointer px-4 py-1.5 rounded-xl hover:bg-gray-50 transition-colors",children:[(0,or.jsx)("input",{ref:T,type:"date",onChange:e=>{const t=new Date(e.target.value);isNaN(t)||a(sf(t))},className:"absolute top-0 left-0 w-0 h-0 opacity-0"}),(0,or.jsxs)("div",{className:"text-center",children:[(0,or.jsxs)("h2",{className:"text-base font-bold text-gray-800 flex items-center justify-center gap-2 group-hover:text-indigo-600 transition-colors",children:[(0,or.jsx)(wp,{className:"text-indigo-500"}),(0,or.jsxs)("span",{className:"whitespace-nowrap",children:[D[0].toLocaleDateString("uk-UA",{day:"numeric",month:"short"})," \u2014 ",D[5].toLocaleDateString("uk-UA",{day:"numeric",month:"short"})]})]}),(0,or.jsx)("p",{className:"text-[10px] text-gray-400 font-medium",children:D[0].getFullYear()})]})]})}),(0,or.jsx)("button",{onClick:()=>a(e=>rf(e,7)),className:"p-2 hover:bg-gray-100 rounded-full text-gray-600",children:(0,or.jsx)(wh,{})})]})}),(0,or.jsx)("div",{className:"max-w-7xl mx-auto p-2 sm:p-4 overflow-x-auto",children:(0,or.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-3 min-w-[300px]",children:N?Array.from({length:6}).map((e,t)=>(0,or.jsxs)("div",{className:"min-h-[120px] bg-white rounded-xl border border-gray-100 p-3 flex flex-col gap-2 animate-pulse",children:[(0,or.jsx)("div",{className:"h-4 w-10 bg-gray-200 rounded"}),(0,or.jsx)("div",{className:"h-6 w-full bg-gray-100 rounded-lg mt-2"})]},t)):D.map(e=>{const t=nf(e),s=t===nf(new Date),r=i[t]||[],a=Object.keys(j[t]||{}).length;return(0,or.jsxs)("div",{ref:s?E:null,onClick:()=>z(e),className:`\n                                        min-h-[120px] bg-white rounded-xl border p-3 flex flex-col gap-2 cursor-pointer transition-all active:scale-[0.98] hover:shadow-md\n                                        ${s?"border-indigo-500 ring-2 ring-indigo-100":"border-gray-200 hover:border-indigo-300"}\n                                    `,children:[(0,or.jsxs)("div",{className:"flex justify-between items-center pb-2 border-b border-gray-50",children:[(0,or.jsx)("span",{className:"text-sm font-bold "+(s?"text-indigo-600":"text-gray-700"),children:e.toLocaleDateString("uk-UA",{weekday:"short"}).toUpperCase()}),(0,or.jsx)("span",{className:"text-xs px-2 py-0.5 rounded-full "+(s?"bg-indigo-100 text-indigo-700":"bg-gray-100 text-gray-500"),children:e.getDate()})]}),(0,or.jsx)("div",{className:"flex-1 space-y-1.5 overflow-hidden",children:r.length>0?r.map((e,t)=>{var n;const s="custom"===e.installationId,r=s?e.notes||"\u0411\u0435\u0437 \u043d\u0430\u0437\u0432\u0438":e.installationId?(null===(n=v.find(t=>{var n,s;return(null===(n=t.custom_id)||void 0===n?void 0:n.toString())===(null===(s=e.installationId)||void 0===s?void 0:s.toString())}))||void 0===n?void 0:n.name)||`\u041e\u0431'\u0454\u043a\u0442 #${e.installationId}`:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f...";return(0,or.jsxs)("div",{className:"text-xs px-2 py-1.5 rounded-lg truncate font-medium flex items-center gap-1.5 "+(s?"bg-amber-50 text-amber-700":"bg-blue-50 text-blue-700"),children:[s?(0,or.jsx)(np,{size:10}):(0,or.jsx)(Th,{size:10}),(0,or.jsx)("span",{className:"truncate",children:r}),(0,or.jsx)("span",{className:"opacity-60 ml-auto text-[10px]",children:e.workers.length})]},t)}):n&&!g&&(0,or.jsx)("div",{className:"h-full flex items-center justify-center text-gray-300 text-xs",children:(0,or.jsx)(Vm,{})})}),a>0&&(0,or.jsxs)("div",{className:"mt-auto pt-2 text-[10px] text-red-400 font-medium flex items-center gap-1",children:[(0,or.jsx)(tm,{size:10})," ",a," \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u0456"]})]},t)})})}),(0,or.jsx)(Sr,{children:l&&(0,or.jsx)(lh.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/30 flex justify-center items-end md:justify-end md:items-start",onClick:L,children:(0,or.jsxs)(lh.div,{initial:s?{x:"100%"}:{y:"100%"},animate:s?{x:0}:{y:0},exit:s?{x:"100%"}:{y:"100%"},transition:{type:"tween",ease:"easeOut",duration:.25},className:"bg-white w-full h-[100dvh] md:h-full md:w-[600px] shadow-2xl flex flex-col rounded-t-2xl md:rounded-l-2xl md:rounded-tr-none",onClick:e=>e.stopPropagation(),children:[("view"===h||"preview"===h)&&(0,or.jsx)(cf,{schedule:d,employees:y,installations:v,isPreviewMode:"preview"===h,onEdit:()=>m("edit"),onSave:async()=>{if(g)return void alert("\u041d\u0435\u043c\u043e\u0436\u043b\u0438\u0432\u043e \u0437\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u0437\u043c\u0456\u043d\u0438 \u0434\u043b\u044f \u043c\u0438\u043d\u0443\u043b\u043e\u0457 \u0434\u0430\u0442\u0438.");C(!0);const e=nf(l),t=[];for(const n of d)n.installationId&&("custom"!==n.installationId||n.notes.trim())&&n.workers.length>0&&n.workers.forEach(s=>{t.push({work_date:e,installation_custom_id:"custom"===n.installationId?null:n.installationId,employee_custom_id:s,notes:n.notes,work_hours:8})});try{if(await ar.from("installation_workers").delete().eq("work_date",e),t.length>0){const{error:e}=await ar.from("installation_workers").insert(t);if(e)throw e}await P(),L()}catch(px){alert("\u041f\u043e\u043c\u0438\u043b\u043a\u0430: "+px.message)}finally{C(!1)}},onCancel:L,isSaving:S,absentEmployees:R,isPast:g,canManageSchedule:n}),"edit"===h&&n&&(0,or.jsxs)(or.Fragment,{children:[(0,or.jsxs)("div",{className:"p-4 border-b flex items-center justify-between bg-white z-20 rounded-t-2xl md:rounded-tl-2xl flex-none shadow-sm",children:[(0,or.jsx)("button",{onClick:L,className:"p-2 -ml-2 text-gray-600 hover:bg-gray-100 rounded-full md:hidden",children:(0,or.jsx)(Ih,{size:20})}),(0,or.jsxs)("div",{className:"text-center flex-1 md:text-left md:flex-none",children:[(0,or.jsx)("h3",{className:"font-bold text-lg text-gray-800",children:l.toLocaleDateString("uk-UA",{day:"numeric",month:"long"})}),(0,or.jsx)("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043d\u043d\u044f"})]}),(0,or.jsx)("button",{onClick:L,className:"p-2 bg-gray-100 rounded-full text-gray-500 hover:text-gray-800 shadow-sm hidden md:block",children:(0,or.jsx)(ap,{})}),(0,or.jsx)("div",{className:"w-10 md:hidden"})]}),(0,or.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 bg-slate-50 space-y-6",children:[(0,or.jsxs)("div",{className:"space-y-4",children:[d.map((e,t)=>{var n,s,r,a;return(0,or.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow-sm border relative "+(p[t]?"border-red-300 ring-1 ring-red-100":"border-gray-200"),children:[(0,or.jsx)("button",{onClick:()=>(e=>{const t=d.filter((t,n)=>n!==e);u(t),f({})})(t),className:"absolute top-2 right-2 text-gray-300 hover:text-red-500 p-2",children:(0,or.jsx)(op,{size:14})}),(0,or.jsxs)("div",{className:"mb-3 pr-6",children:[(0,or.jsxs)("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-1 block",children:["\u0417\u0430\u0432\u0434\u0430\u043d\u043d\u044f #",t+1]}),(0,or.jsx)(af,{options:O,value:e.installationId,onChange:e=>M(t,"installationId",e),placeholder:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u043e\u0431'\u0454\u043a\u0442...",icon:Th,disabledItems:d.filter((e,n)=>n!==t).map(e=>e.installationId).filter(e=>"custom"!==e),error:null===(n=p[t])||void 0===n?void 0:n.installationId,showInitialList:!0})]}),"custom"===e.installationId&&(0,or.jsxs)("div",{className:"mb-3",children:[(0,or.jsxs)("label",{className:"text-[10px] font-bold text-amber-500 uppercase tracking-wider mb-1 block flex items-center gap-1",children:[(0,or.jsx)(Dm,{size:10})," \u041d\u0430\u0437\u0432\u0430 \u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f"]}),(0,or.jsx)("input",{type:"text",placeholder:"\u041d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434: \u041f\u0440\u0438\u0431\u0438\u0440\u0430\u043d\u043d\u044f \u0441\u043a\u043b\u0430\u0434\u0443...",value:e.notes,onChange:e=>M(t,"notes",e.target.value),className:"w-full border rounded-lg px-3 py-2 text-sm focus:ring-2 outline-none "+(null!==(s=p[t])&&void 0!==s&&s.notes?"border-red-500 ring-red-100":"border-amber-200 bg-amber-50/50 focus:ring-amber-200"),autoFocus:!0}),(null===(r=p[t])||void 0===r?void 0:r.notes)&&(0,or.jsx)("p",{className:"text-red-500 text-xs mt-1",children:p[t].notes})]}),e.installationId&&(0,or.jsxs)("div",{children:[(0,or.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:e.workers.map(e=>{const n=y.find(t=>t.custom_id===e);return(0,or.jsxs)("span",{className:"inline-flex items-center gap-2 px-2 py-1 bg-indigo-50 text-indigo-700 rounded-lg text-xs font-medium border border-indigo-100",children:[(0,or.jsx)(bp,{size:10})," ",(null===n||void 0===n?void 0:n.name)||e,(0,or.jsx)("button",{onClick:()=>((e,t)=>{const n=[...d];n[e].workers=n[e].workers.filter(e=>e!==t),u(n)})(t,e),className:"text-indigo-300 hover:text-red-500",children:(0,or.jsx)(ap,{size:10})})]},e)})}),(0,or.jsx)(af,{options:A(t),onChange:e=>((e,t)=>{var n;const s=[...d];s[e].workers.includes(t)||s[e].workers.push(t),u(s),null!==(n=p[e])&&void 0!==n&&n.workers&&f(t=>({...t,[e]:{...t[e],workers:null}}))})(t,e),placeholder:"\u0414\u043e\u0434\u0430\u0442\u0438 \u043f\u0440\u0430\u0446\u0456\u0432\u043d\u0438\u043a\u0430...",icon:gp,value:null}),(null===(a=p[t])||void 0===a?void 0:a.workers)&&(0,or.jsx)("p",{className:"text-red-500 text-xs mt-1",children:p[t].workers})]})]},e.id)}),(0,or.jsxs)("button",{onClick:()=>u([...d,{id:Date.now(),installationId:null,workers:[],notes:""}]),className:"w-full py-3 border-2 border-dashed border-gray-300 rounded-xl text-gray-500 text-sm font-medium hover:border-indigo-400 hover:text-indigo-600 transition-colors flex items-center justify-center gap-2",children:[(0,or.jsx)(Vm,{})," \u0414\u043e\u0434\u0430\u0442\u0438 \u0449\u0435 \u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f"]})]}),(0,or.jsxs)("div",{className:"border-t border-gray-200 pt-4",children:[(0,or.jsx)(of,{employees:$,date:l,onAdd:async(e,t)=>{if(!l)return;const n=nf(l);try{const{error:s}=await ar.from("attendance").upsert({employee_custom_id:e,work_date:n,status:t},{onConflict:"employee_custom_id, work_date"});if(s)throw s;k(s=>({...s,[n]:{...s[n]||{},[e]:t}}));const r=d.map(t=>({...t,workers:t.workers.filter(t=>t!==e)}));u(r)}catch(px){alert("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0437\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043d\u044f \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u043e\u0441\u0442\u0456: "+px.message)}}}),(0,or.jsx)(lf,{employees:R})]})]}),(0,or.jsx)("div",{className:"p-4 border-t bg-white sticky bottom-0 z-20 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] rounded-b-none md:rounded-b-2xl flex-none",children:(0,or.jsxs)("button",{onClick:()=>{const e={};let t=!1;d.forEach((n,s)=>{n.installationId||(e[s]||(e[s]={}),e[s].installationId="\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u043e\u0431'\u0454\u043a\u0442 \u0430\u0431\u043e \u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f",t=!0),"custom"!==n.installationId||n.notes.trim()||(e[s]||(e[s]={}),e[s].notes="\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u0430\u0437\u0432\u0443 \u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f",t=!0),n.installationId&&0===n.workers.length&&(e[s]||(e[s]={}),e[s].workers="\u0414\u043e\u0434\u0430\u0439\u0442\u0435 \u043f\u0440\u0430\u0446\u0456\u0432\u043d\u0438\u043a\u0456\u0432",t=!0)}),t?f(e):m("preview")},className:"w-full py-3.5 bg-indigo-600 text-white rounded-xl font-bold shadow-lg active:scale-95 transition-all flex items-center justify-center gap-2 text-lg hover:bg-indigo-700",children:[(0,or.jsx)(rm,{})," \u041f\u043e\u043f\u0435\u0440\u0435\u0434\u043d\u0456\u0439 \u043f\u0435\u0440\u0435\u0433\u043b\u044f\u0434"]})})]})]})})})]})}const uf=e=>{const t=new Date(e),n=t.getTimezoneOffset();return new Date(t.getTime()-60*n*1e3).toISOString().split("T")[0]},hf=t=>{let{options:n,value:s,onChange:r,placeholder:a,icon:i}=t;const[o,l]=(0,e.useState)(!1),[c,d]=(0,e.useState)(""),u=(0,e.useMemo)(()=>{if(""===c.trim())return[];const e=c.toLowerCase();return n.filter(t=>t.label.toLowerCase().includes(e)||String(t.value).includes(e))},[n,c]),h=n.find(e=>e.value===s);return(0,or.jsxs)("div",{className:"relative",children:[(0,or.jsx)("button",{onClick:()=>l(!o),className:"w-full flex items-center justify-between bg-white border border-gray-300 rounded-xl px-4 py-3 text-sm font-medium text-gray-700 shadow-sm active:bg-gray-50 transition-all",children:(0,or.jsxs)("span",{className:"flex items-center gap-2 truncate",children:[i&&(0,or.jsx)(i,{className:"text-indigo-500"}),(0,or.jsx)("span",{className:"truncate flex items-center gap-2",children:h?(0,or.jsxs)(or.Fragment,{children:[(0,or.jsx)("span",{className:"bg-gray-100 text-gray-500 px-1.5 py-0.5 rounded text-xs font-mono",children:h.value}),h.label]}):(0,or.jsx)("span",{className:"text-gray-400",children:a})})]})}),(0,or.jsx)(Sr,{children:o&&(0,or.jsxs)(or.Fragment,{children:[(0,or.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>l(!1)}),(0,or.jsxs)(lh.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},className:"absolute z-50 w-full mt-2 bg-white border border-gray-200 rounded-xl shadow-xl overflow-hidden max-h-60 overflow-y-auto",children:[(0,or.jsx)("div",{className:"p-2 border-b border-gray-100 sticky top-0 bg-white z-10",children:(0,or.jsxs)("div",{className:"relative",children:[(0,or.jsx)(qm,{className:"absolute left-3 top-2.5 text-gray-400 text-xs"}),(0,or.jsx)("input",{autoFocus:!0,type:"text",className:"w-full pl-8 pr-3 py-2 bg-gray-50 rounded-lg text-sm outline-none focus:ring-2 focus:ring-indigo-100 transition-all",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0456\u043c'\u044f \u0430\u0431\u043e ID...",value:c,onChange:e=>d(e.target.value)})]})}),(0,or.jsx)("div",{children:""===c?(0,or.jsxs)("div",{className:"p-8 text-center text-gray-400 text-sm",children:[(0,or.jsx)(Sm,{className:"mx-auto mb-2 text-2xl opacity-20"}),"\u041f\u043e\u0447\u043d\u0456\u0442\u044c \u0432\u0432\u043e\u0434\u0438\u0442\u0438 \u0456\u043c'\u044f \u0430\u0431\u043e ID..."]}):u.length>0?u.map(e=>(0,or.jsx)("button",{onClick:()=>{r(e.value),l(!1),d("")},className:"w-full text-left px-4 py-3 text-sm hover:bg-indigo-50 transition-colors border-b border-gray-50 last:border-0",children:(0,or.jsxs)("div",{className:"font-medium text-gray-800 flex items-center gap-3",children:[(0,or.jsx)("span",{className:"bg-gray-100 text-gray-500 px-1.5 py-0.5 rounded text-xs font-mono w-8 text-center",children:e.value}),e.label]})},e.value)):(0,or.jsx)("div",{className:"p-4 text-center text-xs text-gray-400",children:"\u041d\u0456\u0447\u043e\u0433\u043e \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e"})})]})]})})]})},mf=e=>{let{isOpen:t,onClose:n,onConfirm:s}=e;return t?(0,or.jsx)(Sr,{children:(0,or.jsx)(lh.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/40 backdrop-blur-sm p-4",onClick:n,children:(0,or.jsxs)(lh.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:e=>e.stopPropagation(),className:"bg-white w-full max-w-sm rounded-2xl shadow-2xl overflow-hidden",children:[(0,or.jsxs)("div",{className:"p-6 text-center",children:[(0,or.jsx)("div",{className:"w-16 h-16 bg-red-100 text-red-500 rounded-full flex items-center justify-center mx-auto mb-4 text-2xl",children:(0,or.jsx)(tm,{})}),(0,or.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0437\u0430\u043f\u0438\u0441?"}),(0,or.jsx)("p",{className:"text-gray-500 text-sm",children:"\u0426\u044e \u0434\u0456\u044e \u043d\u0435\u043c\u043e\u0436\u043b\u0438\u0432\u043e \u0441\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438. \u0412\u0438 \u0432\u043f\u0435\u0432\u043d\u0435\u043d\u0456, \u0449\u043e \u0445\u043e\u0447\u0435\u0442\u0435 \u043f\u0440\u043e\u0434\u043e\u0432\u0436\u0438\u0442\u0438?"})]}),(0,or.jsxs)("div",{className:"flex border-t border-gray-100",children:[(0,or.jsx)("button",{onClick:n,className:"flex-1 py-4 text-sm font-medium text-gray-600 hover:bg-gray-50 transition-colors",children:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"}),(0,or.jsx)("div",{className:"w-px bg-gray-100"}),(0,or.jsx)("button",{onClick:s,className:"flex-1 py-4 text-sm font-bold text-red-600 hover:bg-red-50 transition-colors",children:"\u0422\u0430\u043a, \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438"})]})]})})}):null};function pf(){var t;const{role:n,employee:s}=cr(),r="installer"===n,a="admin"===n||"super_admin"===n||"office"===n,i=null===s||void 0===s?void 0:s.custom_id,o=(()=>{const[t,n]=(0,e.useState)(window.innerWidth>=768);return(0,e.useEffect)(()=>{const e=()=>n(window.innerWidth>=768);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),t})(),[l,c]=(0,e.useState)(!1);(0,e.useEffect)(()=>{c(!!o)},[o]);const[d,u]=(0,e.useState)([]),[h,m]=(0,e.useState)([]),[p,f]=(0,e.useState)(!0),[g,x]=(0,e.useState)(!1),[v,b]=(0,e.useState)({show:!1,id:null}),[y,w]=(0,e.useState)("RANGE"),[j,k]=(0,e.useState)([]),[N,_]=(0,e.useState)(uf(new Date)),[S,C]=(0,e.useState)({employeeId:null,type:"OFF",startDate:uf(new Date),endDate:uf(new Date),notes:""}),E=async()=>{f(!0);const e=new Date,t=new Date;t.setDate(e.getDate()+10);const n=uf(e),s=uf(t);try{const{data:e}=await ar.from("employees").select("custom_id, name").order("name");u(e||[]);const{data:t}=await ar.from("attendance").select("*").gte("work_date",n).lte("work_date",s).order("work_date",{ascending:!0});m(t||[])}catch(r){console.error(r)}finally{f(!1)}};(0,e.useEffect)(()=>{E()},[]),(0,e.useEffect)(()=>{r&&i&&C(e=>({...e,employeeId:i}))},[r,i]);const T=(0,e.useMemo)(()=>{const e={};return h.forEach(t=>{e[t.work_date]||(e[t.work_date]=[]),e[t.work_date].push(t)}),e},[h]),P=()=>{!o&&l&&c(!1)},z=(0,e.useMemo)(()=>d.map(e=>({value:e.custom_id,label:e.name})),[d]);return(0,or.jsxs)("div",{className:"min-h-screen bg-slate-100 flex flex-col md:flex-row h-screen overflow-hidden",children:[(0,or.jsx)(mf,{isOpen:v.show,onClose:()=>b({show:!1,id:null}),onConfirm:async()=>{if(v.id)try{await ar.from("attendance").delete().eq("id",v.id),await E()}catch(px){alert("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f")}finally{b({show:!1,id:null})}}}),(0,or.jsxs)("div",{className:"bg-white border-b md:border-b-0 md:border-r border-gray-200 md:w-[400px] flex-shrink-0 z-20 shadow-md md:h-full transition-all overflow-y-auto custom-scrollbar relative",children:[(0,or.jsxs)("div",{onClick:()=>!o&&c(!l),className:"p-6 flex justify-between items-center cursor-pointer md:cursor-default sticky top-0 bg-white z-10 border-b border-gray-50",children:[(0,or.jsxs)("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[(0,or.jsx)(Vm,{className:"text-indigo-600"})," \u041d\u043e\u0432\u0438\u0439 \u0437\u0430\u043f\u0438\u0441"]}),!o&&(0,or.jsx)("div",{className:"text-gray-400",children:l?(0,or.jsx)(Fh,{}):(0,or.jsx)($h,{})})]}),(0,or.jsx)(Sr,{children:l&&(0,or.jsx)(lh.div,{initial:o?{opacity:1,height:"auto"}:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:(0,or.jsxs)("div",{className:"px-6 pb-6 space-y-5 pt-2",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase mb-1 block",children:"\u041f\u0440\u0430\u0446\u0456\u0432\u043d\u0438\u043a"}),r?(0,or.jsxs)("div",{className:"w-full flex items-center justify-between bg-gray-100 border border-gray-300 rounded-xl px-4 py-3 text-sm font-medium text-gray-500 cursor-not-allowed",children:[(0,or.jsxs)("span",{className:"flex items-center gap-2 truncate",children:[(0,or.jsx)(bp,{className:"text-gray-400"}),(0,or.jsx)("span",{className:"truncate flex items-center gap-2",children:i?(0,or.jsxs)(or.Fragment,{children:[(0,or.jsx)("span",{className:"bg-gray-200 text-gray-600 px-1.5 py-0.5 rounded text-xs font-mono",children:i}),(null===(t=d.find(e=>e.custom_id===i))||void 0===t?void 0:t.name)||"\u042f"]}):"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f..."})]}),(0,or.jsx)(Tm,{className:"text-gray-400 text-xs"})]}):(0,or.jsx)(hf,{options:z,value:S.employeeId,onChange:e=>C({...S,employeeId:e}),placeholder:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0437\u0456 \u0441\u043f\u0438\u0441\u043a\u0443...",icon:bp})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase mb-1 block",children:"\u041f\u0440\u0438\u0447\u0438\u043d\u0430"}),(0,or.jsx)("div",{className:"grid grid-cols-3 gap-2",children:[{id:"OFF",label:"\u0412\u0438\u0445\u0456\u0434\u043d\u0438\u0439",icon:_h,color:"red"},{id:"VACATION",label:"\u0412\u0456\u0434\u043f\u0443\u0441\u0442\u043a\u0430",icon:Im,color:"blue"},{id:"SICK_LEAVE",label:"\u041b\u0456\u043a\u0430\u0440\u043d\u044f\u043d\u0438\u0439",icon:Am,color:"orange"}].map(e=>(0,or.jsxs)("button",{onClick:()=>C({...S,type:e.id}),className:`\n                                                    flex flex-col items-center justify-center p-3 rounded-xl border-2 transition-all\n                                                    ${S.type===e.id?`bg-${e.color}-50 border-${e.color}-500 text-${e.color}-700`:"bg-white border-gray-100 text-gray-400 hover:border-gray-300"}\n                                                `,children:[(0,or.jsx)(e.icon,{size:18,className:"mb-1"}),(0,or.jsx)("span",{className:"text-[10px] font-bold uppercase",children:e.label})]},e.id))})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase mb-1 block",children:"\u0420\u0435\u0436\u0438\u043c \u0432\u0438\u0431\u043e\u0440\u0443 \u0434\u0430\u0442"}),(0,or.jsxs)("div",{className:"bg-gray-100 p-1 rounded-xl flex text-sm font-medium",children:[(0,or.jsxs)("button",{onClick:()=>w("RANGE"),className:"flex-1 py-2 rounded-lg flex items-center justify-center gap-2 transition-all "+("RANGE"===y?"bg-white text-indigo-600 shadow-sm":"text-gray-400"),children:[(0,or.jsx)(jh,{})," \u041f\u0435\u0440\u0456\u043e\u0434"]}),(0,or.jsxs)("button",{onClick:()=>w("DATES"),className:"flex-1 py-2 rounded-lg flex items-center justify-center gap-2 transition-all "+("DATES"===y?"bg-white text-indigo-600 shadow-sm":"text-gray-400"),children:[(0,or.jsx)(Em,{})," \u041e\u043a\u0440\u0435\u043c\u0456 \u0434\u0430\u0442\u0438"]})]})]}),"RANGE"===y?(0,or.jsxs)("div",{className:"grid grid-cols-2 gap-3 animate-fadeIn",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase mb-1 block",children:"\u0417 \u0434\u0430\u0442\u0438"}),(0,or.jsx)("input",{type:"date",value:S.startDate,onChange:e=>C({...S,startDate:e.target.value,endDate:e.target.value>S.endDate?e.target.value:S.endDate}),className:"w-full p-3 rounded-xl border border-gray-300 text-sm focus:ring-2 focus:ring-indigo-500 outline-none font-medium"})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase mb-1 block",children:"\u041f\u043e \u0434\u0430\u0442\u0443"}),(0,or.jsx)("input",{type:"date",value:S.endDate,min:S.startDate,onChange:e=>C({...S,endDate:e.target.value}),className:"w-full p-3 rounded-xl border border-gray-300 text-sm focus:ring-2 focus:ring-indigo-500 outline-none font-medium"})]})]}):(0,or.jsxs)("div",{className:"space-y-3 animate-fadeIn",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase mb-1 block",children:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0434\u0430\u0442\u0443 \u0434\u043e \u0441\u043f\u0438\u0441\u043a\u0443"}),(0,or.jsxs)("div",{className:"flex gap-2",children:[(0,or.jsx)("input",{type:"date",value:N,onChange:e=>_(e.target.value),className:"flex-1 p-3 rounded-xl border border-gray-300 text-sm focus:ring-2 focus:ring-indigo-500 outline-none font-medium"}),(0,or.jsx)("button",{onClick:()=>{N&&(j.includes(N)||k([...j,N].sort()))},className:"w-12 bg-gray-800 text-white rounded-xl flex items-center justify-center hover:bg-black transition-colors",children:(0,or.jsx)(Vm,{})})]})]}),j.length>0&&(0,or.jsxs)("div",{className:"bg-gray-50 p-3 rounded-xl border border-gray-200",children:[(0,or.jsxs)("div",{className:"text-xs font-bold text-gray-400 mb-2 uppercase flex justify-between",children:[(0,or.jsxs)("span",{children:["\u0412\u0438\u0431\u0440\u0430\u043d\u0456 \u0434\u0430\u0442\u0438 (",j.length,")"]}),(0,or.jsx)("button",{onClick:()=>k([]),className:"text-red-400 hover:text-red-600",children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u0438"})]}),(0,or.jsx)("div",{className:"flex flex-wrap gap-2",children:j.map(e=>(0,or.jsxs)("div",{className:"bg-white border border-gray-300 px-3 py-1.5 rounded-lg text-sm font-mono flex items-center gap-2 shadow-sm",children:[e,(0,or.jsx)("button",{onClick:()=>{return t=e,void k(j.filter(e=>e!==t));var t},className:"text-red-400 hover:text-red-600",children:(0,or.jsx)(ap,{size:10})})]},e))})]})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase mb-1 block",children:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440"}),(0,or.jsx)("input",{type:"text",value:S.notes,onChange:e=>C({...S,notes:e.target.value}),placeholder:"\u041d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434: \u0421\u0456\u043c\u0435\u0439\u043d\u0456 \u043e\u0431\u0441\u0442\u0430\u0432\u0438\u043d\u0438",className:"w-full p-3 rounded-xl border border-gray-300 text-sm focus:ring-2 focus:ring-indigo-500 outline-none"})]}),(0,or.jsx)("button",{onClick:async()=>{if(!S.employeeId)return void alert("\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u043f\u0440\u0430\u0446\u0456\u0432\u043d\u0438\u043a\u0430");let e=[];if("RANGE"===y){const t=new Date(S.startDate),n=new Date(S.endDate);if(n<t)return void alert("\u0414\u0430\u0442\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044f \u043d\u0435 \u043c\u043e\u0436\u0435 \u0431\u0443\u0442\u0438 \u0440\u0430\u043d\u0456\u0448\u0435 \u0434\u0430\u0442\u0438 \u043f\u043e\u0447\u0430\u0442\u043a\u0443");for(let s=new Date(t);s<=n;s.setDate(s.getDate()+1))e.push(uf(s))}else{if(0===j.length)return void alert("\u0414\u043e\u0434\u0430\u0439\u0442\u0435 \u0445\u043e\u0447\u0430 \u0431 \u043e\u0434\u043d\u0443 \u0434\u0430\u0442\u0443");e=[...j]}x(!0);const t=e.map(e=>({work_date:e,employee_custom_id:S.employeeId,status:S.type,notes:S.notes}));try{const{error:e}=await ar.from("attendance").upsert(t,{onConflict:"employee_custom_id, work_date"});if(e)throw e;await E(),C(e=>({...e,employeeId:r?i:null,notes:""})),k([]),o||c(!1)}catch(px){alert("\u041f\u043e\u043c\u0438\u043b\u043a\u0430: "+px.message)}finally{x(!1)}},disabled:g,className:"w-full py-4 bg-indigo-600 text-white rounded-xl font-bold shadow-lg shadow-indigo-200 hover:bg-indigo-700 active:scale-95 transition-all flex items-center justify-center gap-2",children:g?"\u041e\u0431\u0440\u043e\u0431\u043a\u0430...":(0,or.jsxs)(or.Fragment,{children:[(0,or.jsx)(Rh,{})," \u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"]})})]})})})]}),(0,or.jsx)("div",{className:"flex-1 bg-slate-50 overflow-y-auto p-4 md:p-8",onScroll:P,onClick:P,children:(0,or.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,or.jsxs)("h2",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:[(0,or.jsx)(Lh,{className:"text-indigo-500"})," \u0413\u0440\u0430\u0444\u0456\u043a \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u043e\u0441\u0442\u0456",(0,or.jsx)("span",{className:"text-sm font-normal text-gray-400 ml-2 bg-white px-2 py-1 rounded-lg border",children:"\u041d\u0430\u0439\u0431\u043b\u0438\u0436\u0447\u0456 10 \u0434\u043d\u0456\u0432"})]}),p?(0,or.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,or.jsx)("div",{className:"h-24 bg-white rounded-2xl animate-pulse"},e))}):0===h.length?(0,or.jsxs)("div",{className:"text-center py-20 bg-white rounded-3xl border border-dashed border-gray-300",children:[(0,or.jsx)(_h,{className:"text-gray-300 text-5xl mx-auto mb-4"}),(0,or.jsx)("p",{className:"text-gray-500 font-medium",children:"\u0412\u0441\u0456 \u0432 \u0441\u0442\u0440\u043e\u044e!"}),(0,or.jsx)("p",{className:"text-sm text-gray-400",children:"\u041d\u0430 \u043d\u0430\u0439\u0431\u043b\u0438\u0436\u0447\u0456 10 \u0434\u043d\u0456\u0432 \u0437\u0430\u043f\u043b\u0430\u043d\u043e\u0432\u0430\u043d\u0438\u0445 \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u043e\u0441\u0442\u0435\u0439 \u043d\u0435\u043c\u0430\u0454."})]}):(0,or.jsx)("div",{className:"space-y-6",children:Object.keys(T).map(e=>{const t=T[e],n=(e=>{const t=new Date,n=new Date(t);n.setDate(n.getDate()+1);const s=new Date(e),r=uf(t),a=uf(n);return e===r?"\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456":e===a?"\u0417\u0430\u0432\u0442\u0440\u0430":s.toLocaleDateString("uk-UA",{weekday:"long",day:"numeric",month:"long"})})(e),s="\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456"===n;return(0,or.jsxs)("div",{className:"relative",children:[(0,or.jsxs)("div",{className:"sticky top-0 z-10 py-2 mb-2 flex items-center gap-3 "+(s?"text-indigo-600":"text-gray-500"),children:[(0,or.jsx)("div",{className:"font-bold text-lg "+(s?"bg-indigo-50 px-3 py-1 rounded-lg":"bg-slate-100/80 backdrop-blur px-3 py-1 rounded-lg"),children:n}),(0,or.jsx)("div",{className:"h-px bg-gray-200 flex-1"}),(0,or.jsx)("div",{className:"text-xs font-mono opacity-50",children:e})]}),(0,or.jsx)("div",{className:"grid grid-cols-1 gap-3 pl-2 border-l-2 border-gray-100 ml-4",children:t.map(e=>{const t=d.find(t=>t.custom_id===e.employee_custom_id);let n={icon:_h,text:"\u0412\u0438\u0445\u0456\u0434\u043d\u0438\u0439",bg:"bg-red-50",border:"border-red-100",textCol:"text-red-700"};"VACATION"===e.status&&(n={icon:Im,text:"\u0412\u0456\u0434\u043f\u0443\u0441\u0442\u043a\u0430",bg:"bg-blue-50",border:"border-blue-100",textCol:"text-blue-700"}),"SICK_LEAVE"===e.status&&(n={icon:Am,text:"\u041b\u0456\u043a\u0430\u0440\u043d\u044f\u043d\u0438\u0439",bg:"bg-orange-50",border:"border-orange-100",textCol:"text-orange-700"});const s=a||r&&e.employee_custom_id===i;return(0,or.jsxs)(lh.div,{layout:!0,initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:`bg-white p-4 rounded-xl border ${n.border} shadow-sm flex justify-between items-center group`,children:[(0,or.jsxs)("div",{className:"flex items-center gap-4",children:[(0,or.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${n.bg} ${n.textCol}`,children:(0,or.jsx)(n.icon,{})}),(0,or.jsxs)("div",{children:[(0,or.jsx)("h4",{className:"font-bold text-gray-800 text-sm md:text-base",children:(null===t||void 0===t?void 0:t.name)||"\u041d\u0435\u0432\u0456\u0434\u043e\u043c\u0438\u0439"}),(0,or.jsxs)("div",{className:"flex items-center gap-2 mt-0.5",children:[(0,or.jsx)("span",{className:`text-[10px] font-bold uppercase px-1.5 py-0.5 rounded ${n.bg} ${n.textCol}`,children:n.text}),e.notes&&(0,or.jsx)("span",{className:"text-xs text-gray-400 italic truncate max-w-[150px]",children:e.notes})]})]})]}),s&&(0,or.jsx)("button",{onClick:t=>{t.stopPropagation(),(e=>{b({show:!0,id:e})})(e.id)},className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0437\u0430\u043f\u0438\u0441",children:(0,or.jsx)(op,{})})]},e.id)})})]},e)})})]})})]})}function ff(){const[t,n]=(0,e.useState)("team"),s=[{id:"team",label:"\u041e\u0433\u043b\u044f\u0434",icon:yp},{id:"planning",label:"\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440",icon:Lh},{id:"timeoff",label:"\u0412\u0438\u0445\u0456\u0434\u043d\u0456",icon:dp}];return(0,or.jsx)(Tp,{children:(0,or.jsxs)("div",{className:"flex flex-col min-h-full bg-slate-50",children:[(0,or.jsx)("div",{className:"sticky top-0 z-30 bg-white border-b border-slate-200 shadow-sm",children:(0,or.jsx)("div",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 py-4",children:(0,or.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,or.jsxs)("div",{children:[(0,or.jsxs)("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight flex items-center gap-2",children:[(0,or.jsx)(vp,{className:"text-indigo-600"}),"\u0423\u043f\u0440\u0430\u0432\u043b\u0456\u043d\u043d\u044f \u043a\u043e\u043c\u0430\u043d\u0434\u043e\u044e"]}),(0,or.jsx)("p",{className:"text-xs text-slate-500 mt-1 font-medium",children:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u043b, \u043f\u043b\u0430\u043d\u0443\u0432\u0430\u043d\u043d\u044f \u0442\u0430 \u043e\u0431\u043b\u0456\u043a \u0447\u0430\u0441\u0443"})]}),(0,or.jsx)("div",{className:"grid grid-cols-3 bg-slate-100 p-1 rounded-xl w-full md:w-auto",children:s.map(e=>{const s=t===e.id;return(0,or.jsxs)("button",{onClick:()=>n(e.id),className:`\n                                                flex items-center justify-center gap-2 px-2 md:px-6 py-2.5 rounded-lg text-sm font-bold transition-all duration-200 whitespace-nowrap\n                                                ${s?"bg-white text-indigo-600 shadow-sm ring-1 ring-black/5":"text-slate-500 hover:text-slate-700 hover:bg-slate-200/50"}\n                                            `,children:[(0,or.jsx)(e.icon,{className:s?"text-indigo-600":"text-slate-400"}),(0,or.jsx)("span",{children:e.label})]},e.id)})})]})})}),(0,or.jsx)("div",{className:"flex-1 w-full max-w-[1600px] mx-auto",children:(0,or.jsx)(Sr,{mode:"wait",children:(0,or.jsxs)(lh.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"h-full",children:["team"===t&&(0,or.jsx)("div",{className:"pb-safe",children:(0,or.jsx)(tf,{})}),"planning"===t&&(0,or.jsx)("div",{className:"h-full",children:(0,or.jsx)(df,{})}),"timeoff"===t&&(0,or.jsx)("div",{className:"h-full",children:(0,or.jsx)(pf,{})})]},t)})})]})})}const gf=e=>{let{status:t}=e;const n={"\u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043e":"bg-emerald-100 text-emerald-800 border-emerald-200","\u0432 \u043f\u0440\u043e\u0446\u0435\u0441\u0456":"bg-blue-100 text-blue-800 border-blue-200","\u043d\u043e\u0432\u0435":"bg-amber-100 text-amber-800 border-amber-200","\u0441\u043a\u0430\u0441\u043e\u0432\u0430\u043d\u043e":"bg-slate-100 text-slate-600 border-slate-200",default:"bg-slate-100 text-slate-800 border-slate-200"};return(0,or.jsx)("span",{className:`px-2.5 py-1 rounded-full text-xs font-bold border ${n[t]||n.default}`,children:t})},xf=()=>(0,or.jsx)("div",{className:"flex-1 flex items-center justify-center min-h-[50vh]",children:(0,or.jsxs)("div",{className:"text-center",children:[(0,or.jsx)("div",{className:"w-16 h-16 bg-indigo-50 text-indigo-600 rounded-2xl flex items-center justify-center shadow-sm mb-4 animate-pulse mx-auto border border-indigo-100",children:(0,or.jsx)(np,{className:"text-3xl"})}),(0,or.jsx)("p",{className:"text-slate-500 font-medium",children:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0437\u0430\u0434\u0430\u0447..."})]})}),vf=e=>{let{tasks:t,filter:n,setFilter:s}=e;const r=[{id:"\u0432\u0441\u0456",label:"\u0412\u0441\u0456",color:"indigo",icon:np},{id:"\u043d\u043e\u0432\u0435",label:"\u041d\u043e\u0432\u0456",color:"amber",icon:Vm},{id:"\u0432 \u043f\u0440\u043e\u0446\u0435\u0441\u0456",label:"\u0412 \u0440\u043e\u0431\u043e\u0442\u0456",color:"blue",icon:Uh},{id:"\u043f\u0440\u043e\u0441\u0442\u0440\u043e\u0447\u0435\u043d\u043e",label:"\u0413\u043e\u0440\u044f\u0442\u044c",color:"red",icon:mm},{id:"\u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043e",label:"\u0413\u043e\u0442\u043e\u0432\u043e",color:"emerald",icon:Rh},{id:"\u0441\u043a\u0430\u0441\u043e\u0432\u0430\u043d\u043e",label:"\u0421\u043a\u0430\u0441\u043e\u0432\u0430\u043d\u043e",color:"slate",icon:ap}];return(0,or.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3 mb-6",children:r.map(e=>{const r=(e=>{if("\u0432\u0441\u0456"===e)return t.length;if("\u043f\u0440\u043e\u0441\u0442\u0440\u043e\u0447\u0435\u043d\u043e"===e){const e=(new Date).setHours(0,0,0,0);return t.filter(t=>t.due_date&&new Date(t.due_date)<e&&"\u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043e"!==t.status&&"\u0441\u043a\u0430\u0441\u043e\u0432\u0430\u043d\u043e"!==t.status).length}return t.filter(t=>t.status===e).length})(e.id),a=n===e.id,i={indigo:a?"bg-indigo-50 border-indigo-500 text-indigo-700":"border-l-indigo-500 hover:bg-indigo-50/50",amber:a?"bg-amber-50 border-amber-500 text-amber-700":"border-l-amber-500 hover:bg-amber-50/50",blue:a?"bg-blue-50 border-blue-500 text-blue-700":"border-l-blue-500 hover:bg-blue-50/50",red:a?"bg-red-50 border-red-500 text-red-700":"border-l-red-500 hover:bg-red-50/50",emerald:a?"bg-emerald-50 border-emerald-500 text-emerald-700":"border-l-emerald-500 hover:bg-emerald-50/50",slate:a?"bg-slate-100 border-slate-500 text-slate-700":"border-l-slate-400 hover:bg-slate-50"}[e.color];return(0,or.jsxs)("div",{onClick:()=>s(e.id),className:`\n                        relative overflow-hidden cursor-pointer rounded-xl p-3 sm:p-4 border shadow-sm transition-all duration-200 active:scale-95\n                        bg-white border-slate-100 border-l-4 ${i}\n                        ${a?"shadow-md ring-1 ring-black/5":""}\n                    `,children:[(0,or.jsx)(e.icon,{className:"absolute -right-2 -bottom-2 text-4xl opacity-10 "+(a?"scale-110":"scale-100")}),(0,or.jsxs)("div",{className:"relative z-10",children:[(0,or.jsx)("p",{className:"text-xs font-bold uppercase tracking-wider opacity-70 mb-1",children:e.label}),(0,or.jsx)("p",{className:"text-2xl font-extrabold",children:r})]})]},e.id)})})},bf=e=>{let{task:t,employees:n,onEdit:s,onDelete:r,onUpdateStatus:a,formatDateTime:i,formatDate:o,isOverdue:l,canEdit:c,canDelete:d,canComplete:u}=e;const h=n.find(e=>e.email===t.creator_email),m=h?h.name:t.creator_email,p=n.find(e=>e.custom_id===t.assigned_to),f=p?p.name:null;return(0,or.jsxs)(lh.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},className:"group bg-white rounded-xl shadow-sm border border-slate-200 hover:shadow-md transition-all flex flex-col md:flex-row overflow-hidden",children:[(0,or.jsxs)("div",{className:"p-4 flex-1",children:[(0,or.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,or.jsxs)("div",{className:"flex items-center gap-2",children:[(0,or.jsxs)("span",{className:"font-mono font-bold text-slate-500 bg-slate-100 px-1.5 py-0.5 rounded text-xs border border-slate-200",children:["#",t.custom_id]}),(0,or.jsx)(gf,{status:t.status})]}),(0,or.jsxs)("div",{className:"flex md:hidden items-center gap-2",children:["\u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043e"!==t.status&&u&&(0,or.jsx)("button",{onClick:()=>a(t.custom_id,"\u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043e"),className:"p-2 text-emerald-600 bg-emerald-50 rounded-lg",children:(0,or.jsx)(Rh,{size:14})}),c&&(0,or.jsx)("button",{onClick:()=>s(t),className:"p-2 text-blue-600 bg-blue-50 rounded-lg",children:(0,or.jsx)(Xh,{size:14})})]})]}),(0,or.jsx)("p",{className:"font-bold text-slate-800 text-lg mb-3 leading-snug",children:t.task_text}),t.installation&&(0,or.jsxs)("div",{className:"mb-3 inline-flex items-center gap-1.5 text-xs font-bold text-indigo-700 bg-indigo-50 px-2.5 py-1.5 rounded-lg border border-indigo-100",children:[(0,or.jsx)(Cm,{size:10}),(0,or.jsxs)("span",{children:[t.installation.name," ",(0,or.jsxs)("span",{className:"opacity-70",children:["#",t.installation.custom_id]})]})]}),(0,or.jsxs)("div",{className:"flex flex-wrap gap-4 text-xs text-slate-500 border-t border-slate-100 pt-3 mt-1",children:[(0,or.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,or.jsx)(Uh,{className:"text-slate-400"}),(0,or.jsxs)("span",{children:["\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043e: ",(0,or.jsx)("span",{className:"font-medium text-slate-700",children:i(t.created_at)})]})]}),t.due_date&&(0,or.jsxs)("div",{className:"flex items-center gap-1.5 "+(l(t.due_date,t.status)?"text-red-600 bg-red-50 px-2 py-0.5 rounded font-bold":""),children:[l(t.due_date,t.status)?(0,or.jsx)(mm,{className:"text-red-500"}):(0,or.jsx)(Lh,{className:"text-slate-400"}),(0,or.jsxs)("span",{children:["\u0414\u0435\u0434\u043b\u0430\u0439\u043d: ",(0,or.jsx)("span",{className:"font-medium text-slate-700",children:o(t.due_date)})]})]}),t.data_complete&&"\u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043e"===t.status&&(0,or.jsxs)("div",{className:"flex items-center gap-1.5 text-emerald-600 bg-emerald-50 px-2 py-0.5 rounded font-bold",children:[(0,or.jsx)(Rh,{className:"text-emerald-500"}),(0,or.jsxs)("span",{children:["\u0412\u0438\u043a\u043e\u043d\u0430\u043d\u043e: ",(0,or.jsx)("span",{className:"font-medium text-emerald-700",children:i(t.data_complete)})]})]})]})]}),(0,or.jsxs)("div",{className:"bg-slate-50/50 p-4 border-t md:border-t-0 md:border-l border-slate-200 w-full md:w-64 flex flex-col justify-center gap-3",children:[(0,or.jsxs)("div",{className:"flex items-start gap-2",children:[(0,or.jsx)("div",{className:"mt-0.5 p-1.5 bg-white rounded-full shadow-sm text-slate-400 border border-slate-100",children:(0,or.jsx)(pp,{size:10})}),(0,or.jsxs)("div",{children:[(0,or.jsx)("p",{className:"text-[10px] uppercase tracking-wider text-slate-400 font-bold",children:"\u0412\u0456\u0434 \u043a\u043e\u0433\u043e"}),(0,or.jsx)("p",{className:"text-xs font-bold text-slate-700",children:m||"\u041d\u0435\u0432\u0456\u0434\u043e\u043c\u043e"})]})]}),(0,or.jsxs)("div",{className:"flex items-start gap-2",children:[(0,or.jsx)("div",{className:"mt-0.5 p-1.5 rounded-full shadow-sm border "+(f?"bg-indigo-100 text-indigo-600 border-indigo-200":"bg-white text-slate-300 border-slate-100"),children:(0,or.jsx)(vp,{size:10})}),(0,or.jsxs)("div",{children:[(0,or.jsx)("p",{className:"text-[10px] uppercase tracking-wider text-slate-400 font-bold",children:"\u0414\u043b\u044f \u043a\u043e\u0433\u043e"}),(0,or.jsx)("p",{className:"text-xs font-bold "+(f?"text-indigo-700":"text-slate-400 italic"),children:f||"\u041d\u0435 \u043f\u0440\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u043e"})]})]}),(0,or.jsxs)("div",{className:"hidden md:flex items-center justify-end gap-2 mt-auto pt-2",children:["\u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043e"!==t.status&&u&&(0,or.jsx)("button",{onClick:()=>a(t.custom_id,"\u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043e"),className:"p-2 text-emerald-600 hover:bg-emerald-100 rounded-lg transition-colors border border-transparent hover:border-emerald-200",title:"\u0412\u0438\u043a\u043e\u043d\u0430\u043d\u043e",children:(0,or.jsx)(Rh,{})}),c&&(0,or.jsx)("button",{onClick:()=>s(t),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-lg transition-colors border border-transparent hover:border-blue-200",title:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",children:(0,or.jsx)(Xh,{})}),d&&(0,or.jsx)("button",{onClick:()=>r(t.custom_id),className:"p-2 text-red-600 hover:bg-red-100 rounded-lg transition-colors border border-transparent hover:border-red-200",title:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438",children:(0,or.jsx)(op,{})})]})]})]})},yf=t=>{let{installations:n,selectedId:s,onChange:r}=t;const[a,i]=(0,e.useState)(""),[o,l]=(0,e.useState)(!1),c=(0,e.useMemo)(()=>{var e;return(null===(e=n.find(e=>e.id===s))||void 0===e?void 0:e.name)||"\u041d\u0435 \u0432\u0438\u0431\u0440\u0430\u043d\u043e"},[s,n]),d=(0,e.useMemo)(()=>{if(!a)return n;const e=a.toLowerCase();return n.filter(t=>t.name.toLowerCase().includes(e)||t.custom_id.toString().includes(e))},[a,n]);return(0,or.jsxs)("div",{className:"relative",children:[(0,or.jsxs)("button",{type:"button",onClick:()=>l(!o),className:"w-full border border-slate-300 rounded-xl p-3 text-left bg-white flex justify-between items-center text-sm outline-none focus:ring-2 focus:ring-indigo-500",children:[(0,or.jsx)("span",{className:s?"":"text-slate-500",children:c}),(0,or.jsx)($h,{className:"transition-transform text-slate-400 "+(o?"rotate-180":"")})]}),(0,or.jsx)(Sr,{children:o&&(0,or.jsxs)(lh.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute z-10 w-full mt-1 bg-white border border-slate-200 rounded-xl shadow-xl max-h-60 overflow-y-auto",children:[(0,or.jsx)("div",{className:"p-2 sticky top-0 bg-white border-b border-slate-100",children:(0,or.jsxs)("div",{className:"relative",children:[(0,or.jsx)(qm,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),(0,or.jsx)("input",{type:"text",placeholder:"\u041f\u043e\u0448\u0443\u043a...",value:a,onChange:e=>i(e.target.value),className:"w-full pl-9 pr-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none",autoFocus:!0})]})}),(0,or.jsxs)("ul",{children:[(0,or.jsx)("li",{onClick:()=>{r(""),l(!1)},className:"px-4 py-2 hover:bg-slate-50 cursor-pointer text-sm text-slate-500 italic",children:"\u041d\u0435 \u0432\u0438\u0431\u0440\u0430\u043d\u043e"}),d.map(e=>(0,or.jsxs)("li",{onClick:()=>{r(e.id),l(!1)},className:"px-4 py-2 hover:bg-indigo-50 cursor-pointer text-sm border-b border-slate-50 last:border-0",children:[e.name," ",(0,or.jsxs)("span",{className:"text-slate-400 text-xs",children:["(#",e.custom_id,")"]})]},e.id)),0===d.length&&(0,or.jsx)("li",{className:"px-4 py-3 text-sm text-slate-400 text-center",children:"\u041d\u0456\u0447\u043e\u0433\u043e \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e"})]})]})})]})},wf=t=>{let{employees:n,selectedCustomId:s,onChange:r}=t;const[a,i]=(0,e.useState)(""),[o,l]=(0,e.useState)(!1),c=(0,e.useMemo)(()=>n.find(e=>e.custom_id===s),[s,n]),d=c?c.name:"\u041d\u0435 \u043f\u0440\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u043e",u=(0,e.useMemo)(()=>{if(!a)return n;const e=a.toLowerCase();return n.filter(t=>t.name.toLowerCase().includes(e)||t.custom_id.toString().includes(e))},[a,n]);return(0,or.jsxs)("div",{className:"relative",children:[(0,or.jsxs)("button",{type:"button",onClick:()=>l(!o),className:"w-full border border-slate-300 rounded-xl p-3 text-left bg-white flex justify-between items-center text-sm outline-none focus:ring-2 focus:ring-indigo-500",children:[(0,or.jsx)("span",{className:s?"":"text-slate-500",children:d}),(0,or.jsx)($h,{className:"transition-transform text-slate-400 "+(o?"rotate-180":"")})]}),(0,or.jsx)(Sr,{children:o&&(0,or.jsxs)(lh.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute z-10 w-full mt-1 bg-white border border-slate-200 rounded-xl shadow-xl max-h-60 overflow-y-auto",children:[(0,or.jsx)("div",{className:"p-2 sticky top-0 bg-white border-b border-slate-100",children:(0,or.jsxs)("div",{className:"relative",children:[(0,or.jsx)(qm,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),(0,or.jsx)("input",{type:"text",placeholder:"\u0406\u043c'\u044f \u0430\u0431\u043e ID...",value:a,onChange:e=>i(e.target.value),className:"w-full pl-9 pr-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none",autoFocus:!0})]})}),(0,or.jsxs)("ul",{children:[(0,or.jsx)("li",{onClick:()=>{r(""),l(!1)},className:"px-4 py-2 hover:bg-slate-50 cursor-pointer text-sm text-slate-500 italic",children:"\u041d\u0435 \u043f\u0440\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u043e"}),u.map(e=>(0,or.jsxs)("li",{onClick:()=>{r(e.custom_id),l(!1)},className:"px-4 py-2 hover:bg-indigo-50 cursor-pointer text-sm border-b border-slate-50 last:border-0",children:[e.name," ",(0,or.jsxs)("span",{className:"text-slate-400 text-xs",children:["(ID: ",e.custom_id,")"]})]},e.id)),0===u.length&&(0,or.jsx)("li",{className:"px-4 py-3 text-sm text-slate-400 text-center",children:"\u041d\u0456\u0447\u043e\u0433\u043e \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e"})]})]})})]})},jf=e=>{if(!e)return"";const t=new Date(e);return new Date(t.getTime()+6e4*t.getTimezoneOffset()).toISOString().split("T")[0]},kf=t=>{let{isOpen:n,onClose:s,onSubmit:r,task:a,installations:i,employees:o,submitting:l}=t;const[c,d]=(0,e.useState)({task_text:"",due_date:"",status:"\u043d\u043e\u0432\u0435",installation_id:"",assigned_to:""});(0,e.useEffect)(()=>{n&&d(a?{task_text:a.task_text||"",due_date:a.due_date?jf(a.due_date):"",status:a.status||"\u043d\u043e\u0432\u0435",installation_id:a.installation_id||"",assigned_to:a.assigned_to||""}:{task_text:"",due_date:"",status:"\u043d\u043e\u0432\u0435",installation_id:"",assigned_to:""})},[a,n]);const u=e=>{const{name:t,value:n}=e.target;d(e=>({...e,[t]:n}))};return(0,or.jsx)(Sr,{children:n&&(0,or.jsx)(lh.div,{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-start sm:items-center justify-center p-4 z-50 overflow-y-auto",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:s,children:(0,or.jsxs)(lh.div,{className:"bg-white rounded-2xl p-6 sm:p-8 w-full max-w-xl shadow-2xl relative my-8",initial:{scale:.95,y:20,opacity:0},animate:{scale:1,y:0,opacity:1},exit:{scale:.95,y:20,opacity:0},onClick:e=>e.stopPropagation(),children:[(0,or.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,or.jsx)("h2",{className:"text-xl font-bold text-slate-800",children:a?"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0437\u0430\u0434\u0430\u0447\u0443":"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0437\u0430\u0434\u0430\u0447\u0443"}),(0,or.jsx)("button",{onClick:s,className:"p-2 text-slate-400 hover:bg-slate-100 rounded-full",children:(0,or.jsx)(ap,{})})]}),(0,or.jsxs)("form",{onSubmit:e=>{e.preventDefault(),c.task_text.trim()&&r(c)},className:"space-y-5",children:[(0,or.jsxs)("div",{children:[(0,or.jsxs)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5",children:["\u041e\u043f\u0438\u0441 \u0437\u0430\u0434\u0430\u0447\u0456 ",(0,or.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,or.jsx)("textarea",{name:"task_text",value:c.task_text,onChange:u,rows:"4",required:!0,className:"w-full border border-slate-300 rounded-xl p-3 focus:ring-2 focus:ring-indigo-500 outline-none resize-none",placeholder:"\u0429\u043e \u0442\u0440\u0435\u0431\u0430 \u0437\u0440\u043e\u0431\u0438\u0442\u0438?"})]}),(0,or.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-5",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5",children:"\u041f\u0440\u0438\u0432'\u044f\u0437\u0430\u0442\u0438 \u0434\u043e \u043e\u0431'\u0454\u043a\u0442\u0430"}),(0,or.jsx)(yf,{installations:i,selectedId:c.installation_id,onChange:e=>d(t=>({...t,installation_id:e}))})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5",children:"\u0412\u0438\u043a\u043e\u043d\u0430\u0432\u0435\u0446\u044c"}),(0,or.jsx)(wf,{employees:o,selectedCustomId:c.assigned_to,onChange:e=>d(t=>({...t,assigned_to:e}))})]})]}),(0,or.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-5",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5",children:"\u0414\u0435\u0434\u043b\u0430\u0439\u043d"}),(0,or.jsx)("input",{type:"date",name:"due_date",value:c.due_date,onChange:u,className:"w-full border border-slate-300 rounded-xl p-3 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),(0,or.jsxs)("select",{name:"status",value:c.status,onChange:u,className:"w-full border border-slate-300 rounded-xl p-3 focus:ring-2 focus:ring-indigo-500 bg-white outline-none",children:[(0,or.jsx)("option",{value:"\u043d\u043e\u0432\u0435",children:"\u041d\u043e\u0432\u0435"}),(0,or.jsx)("option",{value:"\u0432 \u043f\u0440\u043e\u0446\u0435\u0441\u0456",children:"\u0412 \u043f\u0440\u043e\u0446\u0435\u0441\u0456"}),(0,or.jsx)("option",{value:"\u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043e",children:"\u0412\u0438\u043a\u043e\u043d\u0430\u043d\u043e"}),a&&(0,or.jsx)("option",{value:"\u0441\u043a\u0430\u0441\u043e\u0432\u0430\u043d\u043e",children:"\u0421\u043a\u0430\u0441\u043e\u0432\u0430\u043d\u043e"})]})]})]}),(0,or.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-100 mt-4",children:[(0,or.jsx)("button",{type:"button",onClick:s,className:"px-5 py-2.5 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl font-bold transition-all",children:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"}),(0,or.jsx)("button",{type:"submit",disabled:l,className:"px-5 py-2.5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-bold transition-all shadow-lg active:scale-95 disabled:opacity-60",children:l?"\u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043d\u044f...":a?"\u041e\u043d\u043e\u0432\u0438\u0442\u0438":"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438"})]})]})]})})})},Nf=e=>{let{message:t,type:n,onClose:s}=e;const r="error"===n;return(0,or.jsxs)(lh.div,{layout:!0,initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.9},className:"fixed top-20 right-5 z-[100] flex items-center p-4 rounded-xl shadow-xl text-white "+(r?"bg-red-500":"bg-emerald-500"),children:[(0,or.jsx)("div",{className:"text-xl",children:r?(0,or.jsx)(tm,{}):(0,or.jsx)(Rh,{})}),(0,or.jsx)("p",{className:"ml-3 font-bold text-sm",children:t}),(0,or.jsx)("button",{onClick:s,className:"ml-4 p-1 rounded-full hover:bg-white/20",children:(0,or.jsx)(ap,{})})]})},_f=e=>{let{isOpen:t,onClose:n,onConfirm:s,title:r,message:a}=e;return(0,or.jsx)(Sr,{children:t&&(0,or.jsx)(lh.div,{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-[90]",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:n,children:(0,or.jsxs)(lh.div,{className:"bg-white rounded-2xl p-6 w-full max-w-sm shadow-2xl relative",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:e=>e.stopPropagation(),children:[(0,or.jsxs)("div",{className:"flex items-start gap-4",children:[(0,or.jsx)("div",{className:"flex-shrink-0 flex items-center justify-center h-10 w-10 rounded-full bg-red-100 text-red-600",children:(0,or.jsx)(tm,{})}),(0,or.jsxs)("div",{children:[(0,or.jsx)("h3",{className:"text-lg font-bold text-slate-800",children:r}),(0,or.jsx)("p",{className:"text-sm text-slate-500 mt-1",children:a})]})]}),(0,or.jsxs)("div",{className:"mt-6 flex flex-row-reverse gap-3",children:[(0,or.jsx)("button",{onClick:s,type:"button",className:"w-full inline-flex justify-center rounded-xl px-4 py-2 bg-red-600 text-sm font-bold text-white hover:bg-red-700 shadow-lg",children:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"}),(0,or.jsx)("button",{onClick:n,type:"button",className:"w-full inline-flex justify-center rounded-xl border border-slate-200 px-4 py-2 bg-white text-sm font-bold text-slate-700 hover:bg-slate-50",children:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"})]})]})})})};function Sf(){const{role:t,user:n,employee:s}=cr(),r="admin"===t||"super_admin"===t||"office"===t,a=null===n||void 0===n?void 0:n.email,i=null===s||void 0===s?void 0:s.custom_id,[o,l]=(0,e.useState)([]),[c,d]=(0,e.useState)(!0),[u,h]=(0,e.useState)(!1),[m,p]=(0,e.useState)(null),[f,g]=(0,e.useState)("\u043d\u043e\u0432\u0435"),[x,v]=(0,e.useState)("all"),[b,y]=(0,e.useState)("created_at"),[w,j]=(0,e.useState)("desc"),[k,N]=(0,e.useState)(""),[_,S]=(0,e.useState)(!1),[C,E]=(0,e.useState)([]),[T,P]=(0,e.useState)([]),[z,L]=(0,e.useState)(null),[A,M]=(0,e.useState)(null),O=(te(),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;const s=Date.now();L({id:s,message:e,type:t}),setTimeout(()=>{L(null)},n)}),D=(0,e.useCallback)(async()=>{d(!0);try{const[e,t,n]=await Promise.all([ar.from("microtasks").select("*, installations(id, name, custom_id)").order("created_at",{ascending:!1}),ar.from("installations").select("id, name, custom_id"),ar.from("employees").select("id, custom_id, name, email, position")]);if(e.error)throw e.error;if(t.error)throw t.error;if(n.error)throw n.error;const s=e.data.map(e=>({...e,installation:e.installations}));l(s||[]),E(t.data||[]),P(n.data||[])}catch(e){O(`\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f: ${e.message}`,"error")}finally{d(!1)}},[]);(0,e.useEffect)(()=>{D()},[D]);const R=(0,e.useMemo)(()=>{let e=[...o];if("\u043f\u0440\u043e\u0441\u0442\u0440\u043e\u0447\u0435\u043d\u043e"===f){const t=(new Date).setHours(0,0,0,0);e=e.filter(e=>e.due_date&&new Date(e.due_date)<t&&"\u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043e"!==e.status&&"\u0441\u043a\u0430\u0441\u043e\u0432\u0430\u043d\u043e"!==e.status)}else"\u0432\u0441\u0456"!==f&&(e=e.filter(e=>e.status===f));if("created_by_me"===x?e=e.filter(e=>e.creator_email===a):"assigned_to_me"===x&&(e=i?e.filter(e=>e.assigned_to===i):[]),k){const t=k.toLowerCase();e=e.filter(e=>e.task_text.toLowerCase().includes(t)||e.custom_id&&e.custom_id.toString().includes(t)||e.installation&&(e.installation.name.toLowerCase().includes(t)||e.installation.custom_id.toString().includes(t)))}return e.sort((e,t)=>{let n=e[b]||"",s=t[b]||"";return"created_at"!==b&&"due_date"!==b||(n=new Date(n),s=new Date(s)),"asc"===w?n>s?1:-1:n<s?1:-1}),e},[o,f,x,b,w,k,a,i]),$=e=>{r?M(e):O("\u0423 \u0432\u0430\u0441 \u043d\u0435\u043c\u0430\u0454 \u043f\u0440\u0430\u0432 \u043d\u0430 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f \u0437\u0430\u0434\u0430\u0447","error")},I=async(e,t)=>{try{const n={status:t};"\u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043e"===t?n.data_complete=(new Date).toISOString():"\u043d\u043e\u0432\u0435"!==t&&"\u0432 \u043f\u0440\u043e\u0446\u0435\u0441\u0456"!==t||(n.data_complete=null);const{data:s,error:r}=await ar.from("microtasks").update(n).eq("custom_id",e).select("*, installations(id, name, custom_id)").single();if(r)throw r;const a={...s,installation:s.installations};l(t=>t.map(t=>t.custom_id===e?a:t)),O("\u0421\u0442\u0430\u0442\u0443\u0441 \u0437\u0430\u0434\u0430\u0447\u0456 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043e.")}catch(n){O(`\u041f\u043e\u043c\u0438\u043b\u043a\u0430: ${n.message}`,"error")}},V=e=>{const t=e.creator_email===a,n=e.assigned_to===i;r||t||n?(p(e),h(!0)):O("\u0423 \u0432\u0430\u0441 \u043d\u0435\u043c\u0430\u0454 \u043f\u0440\u0430\u0432 \u043d\u0430 \u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043d\u043d\u044f \u0446\u0456\u0454\u0457 \u0437\u0430\u0434\u0430\u0447\u0456","error")},F=()=>{p(null),h(!0)},B=()=>{h(!1)},U=e=>e?new Date(e).toLocaleString("uk-UA",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}):"\u041d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u043e",H=e=>e?new Date(e).toLocaleDateString("uk-UA",{day:"2-digit",month:"2-digit",year:"numeric"}):"\u041d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u043e",q=(e,t)=>"\u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043e"!==t&&e&&new Date(e).setHours(0,0,0,0)<(new Date).setHours(0,0,0,0);return(0,or.jsx)(Tp,{children:(0,or.jsxs)("div",{className:"p-4 sm:p-8 space-y-6 max-w-[1600px] mx-auto pb-safe min-h-[calc(100dvh-80px)] flex flex-col",children:[(0,or.jsxs)("div",{className:"flex flex-col gap-4 flex-none",children:[(0,or.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 tracking-tight",children:"\u041c\u0456\u043a\u0440\u043e\u0437\u0430\u0434\u0430\u0447\u0456"}),(0,or.jsx)("p",{className:"text-slate-500 text-sm mt-1",children:"\u0428\u0432\u0438\u0434\u043a\u0456 \u0434\u043e\u0440\u0443\u0447\u0435\u043d\u043d\u044f \u0442\u0430 \u043d\u043e\u0442\u0430\u0442\u043a\u0438"})]}),(0,or.jsxs)("button",{onClick:F,className:"hidden sm:flex items-center justify-center gap-2 px-5 py-2.5 bg-indigo-600 text-white rounded-xl font-bold shadow-lg hover:bg-indigo-700 active:scale-95 transition-all w-full sm:w-auto",children:[(0,or.jsx)(Vm,{})," ",(0,or.jsx)("span",{children:"\u041d\u043e\u0432\u0430 \u0437\u0430\u0434\u0430\u0447\u0430"})]})]}),(0,or.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,or.jsxs)("div",{className:"flex bg-slate-100 p-1 rounded-xl w-full sm:w-fit",children:[(0,or.jsx)("button",{onClick:()=>v("all"),className:"flex-1 sm:flex-none px-4 py-2 rounded-lg text-sm font-bold transition-all "+("all"===x?"bg-white text-indigo-700 shadow-sm":"text-slate-500 hover:text-slate-700"),children:"\u0412\u0441\u0456"}),(0,or.jsxs)("button",{onClick:()=>v("created_by_me"),className:"flex-1 sm:flex-none px-4 py-2 rounded-lg text-sm font-bold transition-all flex items-center justify-center gap-2 "+("created_by_me"===x?"bg-white text-indigo-700 shadow-sm":"text-slate-500 hover:text-slate-700"),children:[(0,or.jsx)(pp,{className:"text-xs"})," \u0412\u0456\u0434 \u043c\u0435\u043d\u0435"]}),(0,or.jsxs)("button",{onClick:()=>v("assigned_to_me"),className:"flex-1 sm:flex-none px-4 py-2 rounded-lg text-sm font-bold transition-all flex items-center justify-center gap-2 "+("assigned_to_me"===x?"bg-white text-indigo-700 shadow-sm":"text-slate-500 hover:text-slate-700"),children:[(0,or.jsx)(vp,{className:"text-xs"})," \u0414\u043b\u044f \u043c\u0435\u043d\u0435"]})]}),(0,or.jsx)(vf,{tasks:o,filter:f,setFilter:g}),(0,or.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,or.jsxs)("div",{className:"relative flex-grow",children:[(0,or.jsx)(qm,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),(0,or.jsx)("input",{type:"text",value:k,onChange:e=>N(e.target.value),placeholder:"\u041f\u043e\u0448\u0443\u043a...",className:"w-full pl-11 pr-4 py-3 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 transition shadow-sm text-sm outline-none"})]}),(0,or.jsxs)("div",{className:"flex gap-2",children:[(0,or.jsxs)("div",{className:"relative flex-grow sm:flex-grow-0",children:[(0,or.jsx)("select",{value:b,onChange:e=>y(e.target.value),className:"w-full sm:w-auto pl-4 pr-8 py-3 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm appearance-none font-bold text-slate-700",children:[{value:"created_at",label:"\u0417\u0430 \u0434\u0430\u0442\u043e\u044e \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f"},{value:"due_date",label:"\u0417\u0430 \u0434\u0435\u0434\u043b\u0430\u0439\u043d\u043e\u043c"},{value:"status",label:"\u0417\u0430 \u0441\u0442\u0430\u0442\u0443\u0441\u043e\u043c"}].map(e=>(0,or.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,or.jsx)($h,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none",size:12})]}),(0,or.jsx)("button",{onClick:()=>j(e=>"asc"===e?"desc":"asc"),className:"p-3 bg-white border border-slate-200 rounded-xl hover:bg-slate-50 transition shadow-sm",children:"asc"===w?(0,or.jsx)(Xm,{className:"text-slate-600"}):(0,or.jsx)(Ym,{className:"text-slate-600"})})]})]})]})]}),(0,or.jsx)("div",{className:"flex-1",children:c?(0,or.jsx)(xf,{}):0===R.length?(0,or.jsxs)("div",{className:"text-center py-16 bg-white rounded-2xl border border-dashed border-slate-300",children:[(0,or.jsx)(np,{className:"text-slate-300 text-5xl mx-auto mb-4"}),(0,or.jsx)("p",{className:"text-slate-500 font-bold",children:"\u0417\u0430\u0434\u0430\u0447 \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e"}),"all"!==x&&(0,or.jsx)("p",{className:"text-slate-400 text-xs mt-1",children:"\u0417\u043c\u0456\u043d\u0456\u0442\u044c \u0444\u0456\u043b\u044c\u0442\u0440 \u0440\u043e\u043b\u0435\u0439"})]}):(0,or.jsx)("div",{className:"space-y-3",children:(0,or.jsx)(Sr,{children:R.map(e=>{const t=e.creator_email===a,n=e.assigned_to===i,s=r||t||n,o=r;return(0,or.jsx)(bf,{task:e,employees:T,onEdit:V,onDelete:$,onUpdateStatus:I,formatDateTime:U,formatDate:H,isOverdue:q,canEdit:s,canComplete:s,canDelete:o},e.custom_id)})})})}),(0,or.jsx)("div",{className:"sm:hidden fixed bottom-6 right-6 z-40",children:(0,or.jsx)("button",{onClick:F,className:"w-14 h-14 bg-indigo-600 hover:bg-indigo-700 text-white rounded-full flex items-center justify-center shadow-2xl shadow-indigo-400 active:scale-90 transition-transform",children:(0,or.jsx)(Vm,{size:24})})}),(0,or.jsx)(kf,{isOpen:u,onClose:B,onSubmit:async e=>{S(!0);try{let t;const n={task_text:e.task_text,status:e.status,due_date:e.due_date||null,installation_id:e.installation_id||null,assigned_to:e.assigned_to||null};if("\u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043e"===e.status&&(n.data_complete=(new Date).toISOString()),m?t=await ar.from("microtasks").update(n).eq("custom_id",m.custom_id).select("*, installations(id, name, custom_id)").single():(a&&(n.creator_email=a),t=await ar.from("microtasks").insert(n).select("*, installations(id, name, custom_id)").single()),t.error)throw t.error;const s={...t.data,installation:t.data.installations};l(e=>m?e.map(e=>e.custom_id===m.custom_id?s:e):[s,...e]),B(),O(m?"\u0417\u0430\u0434\u0430\u0447\u0443 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043e!":"\u0417\u0430\u0434\u0430\u0447\u0443 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043e!")}catch(t){O(`\u041f\u043e\u043c\u0438\u043b\u043a\u0430: ${t.message}`,"error")}finally{S(!1)}},task:m,installations:C,employees:T,submitting:_}),(0,or.jsx)(_f,{isOpen:!!A,onClose:()=>M(null),onConfirm:async()=>{if(A)try{const{error:e}=await ar.from("microtasks").delete().eq("custom_id",A);if(e)throw e;l(e=>e.filter(e=>e.custom_id!==A)),O("\u0417\u0430\u0434\u0430\u0447\u0443 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043e.")}catch(e){O(`\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f: ${e.message}`,"error")}finally{M(null)}},title:"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f",message:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0446\u044e \u0437\u0430\u0434\u0430\u0447\u0443 \u0431\u0435\u0437\u043f\u043e\u0432\u043e\u0440\u043e\u0442\u043d\u043e?"}),(0,or.jsx)(Sr,{children:z&&(0,or.jsx)(Nf,{message:z.message,type:z.type,onClose:()=>L(null)},z.id)})]})})}const Cf=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},Ef=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()},Tf=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var Pf={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const zf=(0,e.forwardRef)((t,n)=>{let{color:s="currentColor",size:r=24,strokeWidth:a=2,absoluteStrokeWidth:i,className:o="",children:l,iconNode:c,...d}=t;return(0,e.createElement)("svg",{ref:n,...Pf,width:r,height:r,stroke:s,strokeWidth:i?24*Number(a)/Number(r):a,className:Ef("lucide",o),...!l&&!Tf(d)&&{"aria-hidden":"true"},...d},[...c.map(t=>{let[n,s]=t;return(0,e.createElement)(n,s)}),...Array.isArray(l)?l:[l]])}),Lf=(t,n)=>{const s=(0,e.forwardRef)((s,r)=>{let{className:a,...i}=s;return(0,e.createElement)(zf,{ref:r,iconNode:n,className:Ef(`lucide-${o=Cf(t),o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${t}`,a),...i});var o});return s.displayName=Cf(t),s},Af=Lf("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),Mf=Lf("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Of=Lf("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Df=Lf("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Rf=Lf("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),$f=Lf("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),If=()=>{const[t,n]=(0,e.useState)(""),[s,r]=(0,e.useState)(!1),[a,i]=(0,e.useState)(""),[o,l]=(0,e.useState)(null),[c,d]=(0,e.useState)({client:!0,object:!0,equipment:!0,workers:!0,payments:!0,summary:!0}),u="https://logxutaepqzmvgsvscle.supabase.co",h="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxvZ3h1dGFlcHF6bXZnc3ZzY2xlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM5ODU4MDEsImV4cCI6MjA2OTU2MTgwMX0.NhbaKL5X48jHyPPxZ-6EadLcBfM-NMxMA8qbksT9VhE",m=(e,t)=>{var n,s,r,a,i,o,l,c;const{installation:d,installedEquipment:u,workers:h,payments:m}=e,p=(new Date).toLocaleDateString("uk-UA"),f=e=>e?new Date(e).toLocaleDateString("uk-UA"):"\u041d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u043e",g=e=>null!=e?`${e.toLocaleString("uk-UA")} \u0433\u0440\u043d`:"0 \u0433\u0440\u043d",x=h.reduce((e,t)=>{var n;const s=t.work_date?f(t.work_date):"\u0414\u0430\u0442\u0430 \u043d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u0430";return e[s]||(e[s]=[]),e[s].push((null===(n=t.employees)||void 0===n?void 0:n.name)||"\u0406\u043c'\u044f \u043d\u0435\u0432\u0456\u0434\u043e\u043c\u0435"),e},{});return`\n<!DOCTYPE html>\n<html lang="uk">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>\u0417\u0432\u0456\u0442 \u043f\u043e \u043e\u0431'\u0454\u043a\u0442\u0443 \u2116 ${d.custom_id}</title>\n    <style>\n        body { font-family: 'Helvetica Neue', Arial, sans-serif; line-height: 1.6; color: #333; max-width: 800px; margin: 20px auto; padding: 20px; background: #f9fafb; }\n        .report-container { background: white; padding: 30px; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }\n        h1 { text-align: center; color: #1a274d; border-bottom: 2px solid #3b82f6; padding-bottom: 10px; margin-bottom: 30px; font-weight: 600; }\n        h2 { color: #1a274d; border-bottom: 1px solid #e5e7eb; padding-bottom: 8px; margin-top: 30px; margin-bottom: 15px; font-size: 1.4em; }\n        .header-info { text-align: center; margin-bottom: 30px; background: #f3f4f6; padding: 15px; border-radius: 8px; border: 1px solid #e5e7eb; }\n        .info-section { margin-bottom: 25px; }\n        .info-section p { margin: 6px 0; padding: 6px 12px; border-left: 3px solid #3b82f6; background-color: #f9fafb; border-radius: 0 4px 4px 0; }\n        table { width: 100%; border-collapse: collapse; margin-bottom: 20px; font-size: 14px; }\n        th, td { padding: 12px; text-align: left; border: 1px solid #e5e7eb; vertical-align: top; }\n        th { background-color: #f3f4f6; font-weight: 600; color: #1f2937; }\n        tr:nth-child(even) { background-color: #f9fafb; }\n        .summary-table { background: #f3f4f6; border: 2px solid #3b82f6; border-radius: 8px; overflow: hidden; margin-top: 20px; }\n        .summary-table th { background: #3b82f6; color: white; }\n        .signature-section { margin-top: 50px; padding-top: 20px; border-top: 1px solid #e5e7eb; }\n        .no-data { text-align: center; color: #6b7280; font-style: italic; padding: 20px; background: #f9fafb; border-radius: 8px; }\n        .credentials { font-size: 0.9em; color: #4b5563; line-height: 1.4; }\n        @media print { body { margin: 0; padding: 10px; background: white; } .report-container { box-shadow: none; border-radius: 0; } }\n    </style>\n</head>\n<body>\n<div class="report-container">\n    <h1>\u0417\u0432\u0456\u0442 \u043f\u043e \u043e\u0431'\u0454\u043a\u0442\u0443 \u2116 ${d.custom_id}</h1>\n    \n    <div class="header-info">\n        <h3>${d.name||"\u041d\u0430\u0437\u0432\u0430 \u043e\u0431'\u0454\u043a\u0442\u0430 \u043d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u0430"}</h3>\n        <p><strong>\u0414\u0430\u0442\u0430 \u0444\u043e\u0440\u043c\u0443\u0432\u0430\u043d\u043d\u044f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430:</strong> ${p}</p>\n    </div>\n\n    ${t.client?`\n    <h2>\u0406\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f \u043f\u0440\u043e \u043a\u043b\u0456\u0454\u043d\u0442\u0430</h2>\n    <div class="info-section">\n        <p><strong>\u041a\u043e\u043c\u043f\u0430\u043d\u0456\u044f/\u041f\u0406\u0411:</strong> ${(null===(n=d.clients)||void 0===n?void 0:n.company_name)||(null===(s=d.clients)||void 0===s?void 0:s.name)||"\u041d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u043e"}</p>\n        ${null!==(r=d.clients)&&void 0!==r&&r.oblast?`<p><strong>\u041e\u0431\u043b\u0430\u0441\u0442\u044c:</strong> ${d.clients.oblast}</p>`:""}\n        ${null!==(a=d.clients)&&void 0!==a&&a.populated_place?`<p><strong>\u041d\u0430\u0441\u0435\u043b\u0435\u043d\u0438\u0439 \u043f\u0443\u043d\u043a\u0442:</strong> ${d.clients.populated_place}</p>`:""}\n        ${null!==(i=d.clients)&&void 0!==i&&i.phone?`<p><strong>\u0422\u0435\u043b\u0435\u0444\u043e\u043d:</strong> ${d.clients.phone}</p>`:""}\n        ${null!==(o=d.clients)&&void 0!==o&&o.notes?`<p><strong>\u041f\u0440\u0438\u043c\u0456\u0442\u043a\u0438 \u043f\u043e \u043a\u043b\u0456\u0454\u043d\u0442\u0443:</strong> ${d.clients.notes}</p>`:""}\n    </div>\n    `:""}\n\n    ${t.object?`\n    <h2>\u0406\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f \u043f\u0440\u043e \u043e\u0431'\u0454\u043a\u0442</h2>\n    <div class="info-section">\n        ${d.station_type?`<p><strong>\u0422\u0438\u043f \u0441\u0442\u0430\u043d\u0446\u0456\u0457:</strong> ${b=d.station_type,{hybrid:"\u0413\u0456\u0431\u0440\u0438\u0434\u043d\u0430",grid_tied:"\u041c\u0435\u0440\u0435\u0436\u0435\u0432\u0430",off_grid:"\u0410\u0432\u0442\u043e\u043d\u043e\u043c\u043d\u0430"}[b]||b||"\u041d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u043e"}</p>`:""}\n        ${d.mount_type?`<p><strong>\u0422\u0438\u043f \u043c\u043e\u043d\u0442\u0430\u0436\u0443:</strong> ${(e=>({ground:"\u041d\u0430\u0437\u0435\u043c\u043d\u0430",roof:"\u0414\u0430\u0445\u043e\u0432\u0430",facade:"\u0424\u0430\u0441\u0430\u0434\u043d\u0430"}[e]||e||"\u041d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u043e"))(d.mount_type)}</p>`:""}\n        ${d.capacity_kw?`<p><strong>\u041f\u043e\u0442\u0443\u0436\u043d\u0456\u0441\u0442\u044c:</strong> ${d.capacity_kw} \u043a\u0412\u0442</p>`:""}\n        ${d.gps_link?`<p><strong>GPS:</strong> <a href="${d.gps_link}" target="_blank">${d.gps_link}</a></p>`:""}\n        ${d.latitude&&d.longitude?`<p><strong>\u041a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442\u0438:</strong> ${d.latitude}, ${d.longitude}</p>`:""}\n        ${d.start_date?`<p><strong>\u0414\u0430\u0442\u0430 \u043f\u043e\u0447\u0430\u0442\u043a\u0443 \u0440\u043e\u0431\u0456\u0442:</strong> ${f(d.start_date)}</p>`:""}\n        ${d.end_date?`<p><strong>\u0414\u0430\u0442\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044f \u0440\u043e\u0431\u0456\u0442:</strong> ${f(d.end_date)}</p>`:""}\n        ${null!==(l=d.employees)&&void 0!==l&&l.name?`<p><strong>\u0412\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0430\u043b\u044c\u043d\u0438\u0439 \u043f\u0440\u0430\u0446\u0456\u0432\u043d\u0438\u043a:</strong> ${d.employees.name}</p>`:""}\n        ${d.status?`<p><strong>\u0421\u0442\u0430\u0442\u0443\u0441 \u043e\u0431'\u0454\u043a\u0442\u0443:</strong> ${v=d.status,{planned:"\u0417\u0430\u043f\u043b\u0430\u043d\u043e\u0432\u0430\u043d\u043e",in_progress:"\u0412 \u0440\u043e\u0431\u043e\u0442\u0456",completed:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e",paused:"\u041f\u0440\u0438\u0437\u0443\u043f\u0438\u043d\u0435\u043d\u043e",cancelled:"\u0421\u043a\u0430\u0441\u043e\u0432\u0430\u043d\u043e"}[v]||v||"\u041d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u043e"}</p>`:""}\n        ${d.notes?`<p><strong>\u041f\u0440\u0438\u043c\u0456\u0442\u043a\u0438 \u043f\u043e \u043e\u0431'\u0454\u043a\u0442\u0443:</strong> ${d.notes}</p>`:""}\n    </div>\n    `:""}\n\n    ${t.equipment&&u.length>0?`\n    <h2>\u0412\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0435 \u043e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f</h2>\n    <table>\n        <thead>\n            <tr>\n                <th>\u041d\u0430\u0437\u0432\u0430 / \u041a-\u0441\u0442\u044c</th>\n                <th>\u0421\u0435\u0440\u0456\u0439\u043d\u0438\u0439 \u043d\u043e\u043c\u0435\u0440</th>\n                <th>\u041e\u0431\u043b\u0456\u043a\u043e\u0432\u0456 \u0434\u0430\u043d\u0456</th>\n                <th>\u0412\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0430\u043b\u044c\u043d\u0438\u0439 \u0437\u0430 \u043c\u043e\u043d\u0442\u0430\u0436</th>\n            </tr>\n        </thead>\n        <tbody>\n            ${u.map(e=>{var t,n;return`\n            <tr>\n                <td>\n                    <strong>${(null===(t=e.equipment)||void 0===t?void 0:t.name)||"\u041d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u043e"}</strong>\n                    <br>\n                    <span>\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c: ${e.quantity||1} \u0448\u0442.</span>\n                </td>\n                <td>${e.serial_number||"\u041d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u043e"}</td>\n                <td class="credentials">\n                    ${e.login?`\u041b\u043e\u0433\u0456\u043d: ${e.login}`:""}\n                    ${e.password?`<br>\u041f\u0430\u0440\u043e\u043b\u044c: ${e.password}`:""}\n                    ${e.login||e.password?"":"\u041d\u0435\u043c\u0430\u0454"}\n                </td>\n                <td>${(null===(n=e.employees)||void 0===n?void 0:n.name)||"\u041d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u043e"}</td>\n            </tr>\n            `}).join("")}\n        </tbody>\n    </table>\n    `:t.equipment?'<div class="no-data">\u041e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f \u043d\u0435 \u0434\u043e\u0434\u0430\u043d\u043e</div>':""}\n\n    ${t.workers&&Object.keys(x).length>0?`\n    <h2>\u041f\u0440\u0430\u0446\u0456\u0432\u043d\u0438\u043a\u0438 \u043d\u0430 \u043e\u0431'\u0454\u043a\u0442\u0456</h2>\n    <table>\n        <thead>\n            <tr>\n                <th>\u0414\u0430\u0442\u0430 \u0440\u043e\u0431\u043e\u0442\u0438</th>\n                <th>\u041f\u0440\u0430\u0446\u0456\u0432\u043d\u0438\u043a\u0438</th>\n            </tr>\n        </thead>\n        <tbody>\n            ${Object.entries(x).map(e=>{let[t,n]=e;return`\n            <tr>\n                <td><strong>${t}</strong></td>\n                <td>${n.join(", ")}</td>\n            </tr>\n            `}).join("")}\n        </tbody>\n    </table>\n    `:t.workers?'<div class="no-data">\u041f\u0440\u0430\u0446\u0456\u0432\u043d\u0438\u043a\u0438 \u043d\u0435 \u0434\u043e\u0434\u0430\u043d\u0456</div>':""}\n    \n    ${t.payments&&m.length>0?`\n    <h2>\u0406\u0441\u0442\u043e\u0440\u0456\u044f \u043f\u043b\u0430\u0442\u0435\u0436\u0456\u0432</h2>\n    <table>\n        <thead>\n            <tr>\n                <th>\u0414\u0430\u0442\u0430</th>\n                <th>\u0421\u0443\u043c\u0430</th>\n                <th>\u041c\u0435\u0442\u043e\u0434 \u043e\u043f\u043b\u0430\u0442\u0438</th>\n                <th>\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440</th>\n            </tr>\n        </thead>\n        <tbody>\n            ${m.map(e=>{return`\n            <tr>\n                <td>${f(e.paid_at)}</td>\n                <td>${g(e.amount)}</td>\n                <td>${t=e.payment_method,{cash:"\u0413\u043e\u0442\u0456\u0432\u043a\u0430",bank_transfer:"\u0411\u0435\u0437\u0433\u043e\u0442\u0456\u0432\u043a\u043e\u0432\u0438\u0439 \u0440\u043e\u0437\u0440\u0430\u0445\u0443\u043d\u043e\u043a",card:"\u041e\u043f\u043b\u0430\u0442\u0430 \u043a\u0430\u0440\u0442\u043e\u044e"}[t]||t||"\u041d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u043e"}</td>\n                <td>${e.comment||""}</td>\n            </tr>\n            `;var t}).join("")}\n        </tbody>\n    </table>\n    `:t.payments?'<div class="no-data">\u0406\u0441\u0442\u043e\u0440\u0456\u044f \u043f\u043b\u0430\u0442\u0435\u0436\u0456\u0432 \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u044f</div>':""}\n\n    ${t.summary?`\n    <table class="summary-table">\n        <thead>\n            <tr>\n                <th>\u0424\u0456\u043d\u0430\u043d\u0441\u043e\u0432\u0430 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f</th>\n                <th>\u0421\u0443\u043c\u0430</th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr>\n                <td><strong>\u0417\u0430\u0433\u0430\u043b\u044c\u043d\u0430 \u0432\u0430\u0440\u0442\u0456\u0441\u0442\u044c</strong></td>\n                <td><strong>${g(d.total_cost)}</strong></td>\n            </tr>\n            <tr>\n                <td><strong>\u0421\u043f\u043b\u0430\u0447\u0435\u043d\u043e</strong></td>\n                <td><strong>${g(d.paid_amount)}</strong></td>\n            </tr>\n            <tr>\n                <td><strong>\u0421\u0442\u0430\u0442\u0443\u0441 \u043f\u043b\u0430\u0442\u0435\u0436\u0443</strong></td>\n                <td><strong>${(e=>({paid:"\u0421\u043f\u043b\u0430\u0447\u0435\u043d\u043e",partially_paid:"\u0427\u0430\u0441\u0442\u043a\u043e\u0432\u043e \u0441\u043f\u043b\u0430\u0447\u0435\u043d\u043e",unpaid:"\u041d\u0435 \u0441\u043f\u043b\u0430\u0447\u0435\u043d\u043e",overpaid:"\u041f\u0435\u0440\u0435\u043f\u043b\u0430\u0442\u0430"}[e]||e||"\u041d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u043e"))(d.payment_status)}</strong></td>\n            </tr>\n        </tbody>\n    </table>\n    `:""}\n\n    <div class="signature-section">\n        <h3>\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0435\u043d\u043d\u044f</h3>\n        <p>\u0412\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0430\u043b\u044c\u043d\u0430 \u043e\u0441\u043e\u0431\u0430: ${(null===(c=d.employees)||void 0===c?void 0:c.name)||"_____________________"}</p>\n        <br>\n        <p>\u041f\u0456\u0434\u043f\u0438\u0441: _____________________</p>\n        <br>\n        <p>\u0414\u0430\u0442\u0430: _____________________</p>\n        <p style="margin-top: 20px; font-size: 12px; color: #6b7280;">\n            \u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u0437\u0433\u0435\u043d\u0435\u0440\u043e\u0432\u0430\u043d\u043e \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u043d\u043e ${p}\n        </p>\n    </div>\n</div>\n</body>\n</html>`;var v,b},p=async()=>{if(t.trim()){r(!0),i("");try{const e=await(async e=>{try{const t={"Content-Type":"application/json",apikey:h,Authorization:`Bearer ${h}`},n=await fetch(`${u}/rest/v1/installations?custom_id=eq.${e}&select=*,clients(*),employees(*)`,{headers:t});if(!n.ok)throw new Error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445 \u043e\u0431'\u0454\u043a\u0442\u0430");const s=await n.json();if(0===s.length)throw new Error("\u041e\u0431'\u0454\u043a\u0442 \u0437 \u0442\u0430\u043a\u0438\u043c ID \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e");const r=s[0],a=await fetch(`${u}/rest/v1/installed_equipment?installation_custom_id=eq.${e}&select=*,equipment:equipment_id(name),employees:employee_custom_id(name,phone)`,{headers:t}),i=await a.json(),o=await fetch(`${u}/rest/v1/installation_workers?installation_custom_id=eq.${e}&select=*,employees(*)&order=work_date.asc`,{headers:t}),l=await o.json(),c=await fetch(`${u}/rest/v1/payment_history?installation_custom_id=eq.${e}&order=paid_at.asc`,{headers:t});return{installation:r,installedEquipment:i,workers:l,payments:await c.json()}}catch(a){throw new Error(`\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445: ${a.message}`)}})(t.trim());l(e)}catch(e){i(e.message),l(null)}finally{r(!1)}}else i("\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0432\u0432\u0435\u0434\u0456\u0442\u044c ID \u043e\u0431'\u0454\u043a\u0442\u0430")},f=e=>{const{name:t,checked:n}=e.target;d(e=>({...e,[t]:n}))};return(0,or.jsxs)("div",{className:"max-w-2xl mx-auto p-6 bg-white rounded-lg shadow-lg",children:[(0,or.jsxs)("div",{className:"text-center mb-8",children:[(0,or.jsx)(Af,{className:"mx-auto h-12 w-12 text-blue-600 mb-4"}),(0,or.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"\u0413\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440 \u0437\u0432\u0456\u0442\u0456\u0432"}),(0,or.jsx)("p",{className:"text-gray-600",children:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c ID \u043e\u0431'\u0454\u043a\u0442\u0430 \u0434\u043b\u044f \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0437\u0432\u0456\u0442\u0443"})]}),(0,or.jsxs)("div",{className:"mb-4",children:[(0,or.jsx)("label",{htmlFor:"objectId",className:"block text-sm font-medium text-gray-700 mb-2",children:"ID \u043e\u0431'\u0454\u043a\u0442\u0430"}),(0,or.jsxs)("div",{className:"flex gap-3",children:[(0,or.jsx)("input",{id:"objectId",type:"text",value:t,onChange:e=>n(e.target.value),onKeyPress:e=>"Enter"===e.key&&p(),placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c custom_id \u043e\u0431'\u0454\u043a\u0442\u0430",className:"flex-1 px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",disabled:s}),(0,or.jsxs)("button",{onClick:p,disabled:s,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 transition-colors",children:[s?(0,or.jsx)(Mf,{className:"h-4 w-4 animate-spin"}):(0,or.jsx)(Af,{className:"h-4 w-4"}),s?"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f...":"\u0413\u0435\u043d\u0435\u0440\u0443\u0432\u0430\u0442\u0438"]})]})]}),(0,or.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 border border-gray-200 rounded-md",children:[(0,or.jsxs)("h3",{className:"text-md font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[(0,or.jsx)(Of,{className:"h-5 w-5 text-gray-600"}),"\u041d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0437\u0432\u0456\u0442\u0443"]}),(0,or.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-x-4 gap-y-2 text-sm",children:Object.keys(c).map(e=>(0,or.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,or.jsx)("input",{type:"checkbox",name:e,checked:c[e],onChange:f,className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,or.jsx)("span",{className:"text-gray-700",children:{client:"\u0406\u043d\u0444\u043e \u043f\u0440\u043e \u043a\u043b\u0456\u0454\u043d\u0442\u0430",object:"\u0406\u043d\u0444\u043e \u043f\u0440\u043e \u043e\u0431'\u0454\u043a\u0442",equipment:"\u041e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f",workers:"\u041f\u0440\u0430\u0446\u0456\u0432\u043d\u0438\u043a\u0438",payments:"\u041f\u043b\u0430\u0442\u0435\u0436\u0456",summary:"\u0424\u0456\u043d\u0430\u043d\u0441\u0438"}[e]})]},e))})]}),a&&(0,or.jsxs)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-md flex items-start gap-3",children:[(0,or.jsx)(Df,{className:"h-5 w-5 text-red-500 flex-shrink-0 mt-0.5"}),(0,or.jsx)("p",{className:"text-red-700",children:a})]}),o&&(0,or.jsxs)("div",{className:"border-t pt-6",children:[(0,or.jsxs)("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-md",children:[(0,or.jsxs)("h3",{className:"text-lg font-semibold text-green-800 mb-2",children:["\u0417\u0432\u0456\u0442 \u0433\u043e\u0442\u043e\u0432\u0438\u0439 \u0434\u043b\u044f \u043e\u0431'\u0454\u043a\u0442\u0430 \u2116 ",o.installation.custom_id]}),(0,or.jsx)("p",{className:"text-green-700",children:o.installation.name||"\u041d\u0430\u0437\u0432\u0430 \u043e\u0431'\u0454\u043a\u0442\u0430 \u043d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u0430"})]}),(0,or.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[(0,or.jsxs)("button",{onClick:()=>{if(!o)return;const e=m(o,c),t=window.open("","_blank","width=800,height=600,scrollbars=yes,resizable=yes");t.document.write(e),t.document.close()},className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors flex items-center justify-center gap-2",children:[(0,or.jsx)(Rf,{className:"h-4 w-4"}),"\u041f\u0435\u0440\u0435\u0433\u043b\u044f\u043d\u0443\u0442\u0438"]}),(0,or.jsxs)("button",{onClick:()=>{if(!o)return;const e=m(o,c),t=window.open("","_blank");t.document.write(e),t.document.close(),t.onload=()=>{setTimeout(()=>{t.print()},250)}},className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors flex items-center justify-center gap-2",children:[(0,or.jsx)($f,{className:"h-4 w-4"}),"PDF (\u0414\u0440\u0443\u043a)"]}),(0,or.jsxs)("button",{onClick:()=>{if(!o)return;const e=m(o,c),t=new Blob([e],{type:"text/html;charset=utf-8"}),n=URL.createObjectURL(t),s=document.createElement("a");s.href=n,s.download=`zvit_object_${o.installation.custom_id}.html`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(n)},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[(0,or.jsx)($f,{className:"h-4 w-4"}),"HTML \u0444\u0430\u0439\u043b"]})]})]})]})},Vf=e=>({solar_panel:{icon:Jm,name:"\u0421\u043e\u043d\u044f\u0447\u043d\u0430 \u043f\u0430\u043d\u0435\u043b\u044c",color:"text-amber-600 bg-amber-50",border:"border-amber-200"},battery:{icon:Nh,name:"\u0410\u043a\u0443\u043c\u0443\u043b\u044f\u0442\u043e\u0440",color:"text-emerald-600 bg-emerald-50",border:"border-emerald-200"},inverter:{icon:zm,name:"\u0406\u043d\u0432\u0435\u0440\u0442\u043e\u0440",color:"text-blue-600 bg-blue-50",border:"border-blue-200"},logger:{icon:Wm,name:"\u041b\u043e\u0433\u0435\u0440",color:"text-purple-600 bg-purple-50",border:"border-purple-200"}}[e]||{icon:qh,name:"\u0406\u043d\u0448\u0435",color:"text-slate-600 bg-slate-50",border:"border-slate-200"}),Ff=(0,e.memo)(e=>{let{children:t,closeModal:n,size:s="md"}=e;return(0,or.jsx)(Sr,{children:(0,or.jsx)(lh.div,{className:"fixed inset-0 bg-black/60 z-[100] flex items-center justify-center p-4 sm:p-6",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:n,children:(0,or.jsx)(lh.div,{className:`bg-white rounded-2xl w-full ${{sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"}[s]} shadow-xl flex flex-col max-h-[90dvh] overflow-hidden`,initial:{scale:.95,opacity:0,y:10},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:10},transition:{duration:.2},onClick:e=>e.stopPropagation(),children:t})})})}),Bf=(0,e.memo)(e=>{let{icon:t,label:n,error:s,showPassword:r,onTogglePassword:a,...i}=e;return(0,or.jsxs)("div",{children:[n&&(0,or.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5 ml-1",children:n}),(0,or.jsxs)("div",{className:"relative",children:[t&&(0,or.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none text-lg",children:t}),(0,or.jsx)("input",{...i,className:`w-full border rounded-xl ${t?"pl-12":"pl-4"} pr-4 py-3.5 text-base sm:text-sm focus:ring-2 focus:ring-indigo-500 outline-none transition bg-white border-slate-200 ${i.disabled?"bg-slate-50 text-slate-400":""} ${s?"border-red-500 focus:ring-red-200":""}`}),"password"===i.type&&a&&(0,or.jsx)("button",{type:"button",onClick:a,className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 p-2",children:r?(0,or.jsx)(sm,{size:18}):(0,or.jsx)(rm,{size:18})})]}),s&&(0,or.jsx)("p",{className:"text-red-500 text-xs mt-1 font-bold ml-1",children:s})]})}),Uf=(0,e.memo)(e=>{let{icon:t,label:n,children:s,error:r,...a}=e;return(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5 ml-1",children:n}),(0,or.jsxs)("div",{className:"relative",children:[(0,or.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none text-lg",children:t}),(0,or.jsx)("select",{...a,className:"w-full appearance-none border rounded-xl pl-12 pr-10 py-3.5 text-base sm:text-sm focus:ring-2 focus:ring-indigo-500 outline-none bg-white border-slate-200",children:s}),(0,or.jsx)($h,{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400"})]}),r&&(0,or.jsx)("p",{className:"text-red-500 text-xs mt-1 ml-1",children:r})]})}),Hf=(0,e.memo)(t=>{let{options:n,value:s,onChange:r,icon:a,label:i,placeholder:o="\u041e\u0431\u0435\u0440\u0456\u0442\u044c...",disabled:l=!1}=t;const[c,d]=(0,e.useState)(!1),[u,h]=(0,e.useState)(""),m=(0,e.useRef)(null),p=n.find(e=>e.value===s),f=n.filter(e=>e.label.toLowerCase().includes(u.toLowerCase()));return(0,e.useEffect)(()=>{const e=e=>{m.current&&!m.current.contains(e.target)&&d(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,or.jsxs)("div",{ref:m,className:l?"opacity-50 pointer-events-none":"",children:[i&&(0,or.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5 ml-1",children:i}),(0,or.jsxs)("div",{className:"relative",children:[(0,or.jsxs)("button",{type:"button",onClick:()=>d(!c),className:"w-full border border-slate-200 rounded-xl pl-12 pr-10 py-3.5 text-base sm:text-sm text-left bg-white flex items-center justify-between focus:ring-2 focus:ring-indigo-500 outline-none",children:[(0,or.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 text-lg",children:a}),(0,or.jsx)("span",{className:"truncate "+(p?"text-slate-800":"text-slate-500"),children:p?p.label:o}),(0,or.jsx)($h,{className:`transition-transform ${c?"rotate-180":""} text-slate-400 flex-shrink-0`})]}),(0,or.jsx)(Sr,{children:c&&(0,or.jsxs)(lh.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute z-20 top-full mt-2 w-full bg-white border border-slate-200 rounded-xl shadow-xl overflow-hidden max-h-60 overflow-y-auto",children:[(0,or.jsx)("div",{className:"p-2 sticky top-0 bg-white border-b border-slate-100",children:(0,or.jsx)("input",{type:"text",autoFocus:!0,placeholder:"\u041f\u043e\u0448\u0443\u043a...",value:u,onChange:e=>h(e.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-base sm:text-sm outline-none focus:border-indigo-500"})}),(0,or.jsx)("ul",{children:f.length>0?f.map(e=>(0,or.jsx)("li",{onClick:()=>{return t=e.value,r({target:{name:"equipment_id",value:t}}),d(!1),void h("");var t},className:"px-4 py-3 hover:bg-indigo-50 cursor-pointer text-sm text-slate-700 border-b border-slate-50 last:border-0",children:e.label},e.value)):(0,or.jsx)("li",{className:"px-4 py-3 text-sm text-slate-400 text-center",children:"\u041d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e"})})]})})]})]})}),qf=t=>{let{serials:n,onChange:s,max:r}=t;const[a,i]=(0,e.useState)(""),o=()=>{if(!a.trim())return;if(n.length>=r)return;const e=[...n,a.trim()];s(e),i("")};return(0,or.jsxs)("div",{children:[(0,or.jsxs)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5 ml-1",children:["\u0421\u0435\u0440\u0456\u0439\u043d\u0456 \u043d\u043e\u043c\u0435\u0440\u0438 (",n.length," / ",r,")"]}),(0,or.jsxs)("div",{className:"border border-slate-200 rounded-xl bg-white p-2 focus-within:ring-2 focus-within:ring-indigo-500 focus-within:border-transparent transition-all",children:[(0,or.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:n.map((e,t)=>(0,or.jsxs)("span",{className:"bg-indigo-50 text-indigo-700 px-2 py-1 rounded-lg text-xs font-bold flex items-center gap-1 border border-indigo-100",children:[e,(0,or.jsx)("button",{type:"button",onClick:()=>(e=>{const t=n.filter((t,n)=>n!==e);s(t)})(t),className:"text-indigo-400 hover:text-indigo-900",children:(0,or.jsx)(ap,{size:10})})]},t))}),n.length<r&&(0,or.jsxs)("div",{className:"flex items-center gap-2",children:[(0,or.jsx)(ep,{className:"text-slate-400 ml-2"}),(0,or.jsx)("input",{type:"text",value:a,onChange:e=>i(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),o())},placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c S/N \u0456 \u043d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c +",className:"flex-1 text-base sm:text-sm outline-none py-1 text-slate-700 placeholder:text-slate-400"}),(0,or.jsx)("button",{type:"button",onClick:o,disabled:!a.trim(),className:"p-2 bg-slate-100 text-slate-600 rounded-lg hover:bg-slate-200 disabled:opacity-50",children:(0,or.jsx)(Vm,{size:12})})]})]}),n.length<r&&(0,or.jsxs)("p",{className:"text-[10px] text-amber-500 mt-1 ml-1 font-medium",children:["\u0429\u0435 \u043c\u043e\u0436\u043d\u0430 \u0434\u043e\u0434\u0430\u0442\u0438 ",r-n.length," \u0448\u0442. (\u043d\u0435 \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u043e)"]})]})},Wf=t=>{let{notification:n,onDismiss:s}=t;return(0,e.useEffect)(()=>{if(n.message){const e=setTimeout(s,4e3);return()=>clearTimeout(e)}},[n,s]),(0,or.jsx)(Sr,{children:n.message&&(0,or.jsxs)(lh.div,{initial:{opacity:0,y:-50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-50,scale:.9},className:`\n                        fixed z-[200] flex items-center gap-3 p-4 rounded-xl shadow-2xl text-white font-medium\n                        top-4 left-4 right-4  /* \u041c\u043e\u0431\u0456\u043b\u044c\u043d\u0438\u0439: \u0437\u0432\u0435\u0440\u0445\u0443, \u043d\u0430 \u0432\u0441\u044e \u0448\u0438\u0440\u0438\u043d\u0443 */\n                        sm:left-auto sm:right-6 sm:w-auto sm:min-w-[300px] /* \u041f\u041a: \u0441\u043f\u0440\u0430\u0432\u0430 \u0437\u0432\u0435\u0440\u0445\u0443 */\n                        ${"error"===n.type?"bg-red-500":"bg-emerald-500"}\n                    `,children:[(0,or.jsx)("div",{className:"flex-shrink-0 text-xl",children:"error"===n.type?(0,or.jsx)(rp,{}):(0,or.jsx)(Dh,{})}),(0,or.jsx)("p",{className:"text-sm flex-1",children:n.message}),(0,or.jsx)("button",{onClick:s,className:"opacity-80 hover:opacity-100 p-1",children:(0,or.jsx)(ap,{})})]})})},Kf=e=>{let{isOpen:t,onClose:n,onConfirm:s,title:r,children:a}=e;return t?(0,or.jsx)(Ff,{closeModal:n,size:"sm",children:(0,or.jsxs)("div",{className:"p-6 text-center",children:[(0,or.jsx)("div",{className:"mx-auto w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mb-4",children:(0,or.jsx)(tm,{className:"text-red-500 text-xl"})}),(0,or.jsx)("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:r}),(0,or.jsx)("p",{className:"text-slate-500 text-sm mb-6",children:a}),(0,or.jsxs)("div",{className:"flex justify-center gap-3",children:[(0,or.jsx)("button",{onClick:n,className:"px-5 py-2.5 bg-slate-100 text-slate-700 rounded-xl font-bold hover:bg-slate-200",children:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"}),(0,or.jsx)("button",{onClick:s,className:"px-5 py-2.5 bg-red-500 text-white rounded-xl font-bold hover:bg-red-600",children:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"})]})]})}):null};function Gf(){te();const[t,n]=(0,e.useState)("installations"),[s,r]=(0,e.useState)({type:null,data:null}),[a,i]=(0,e.useState)(!0),[o,l]=(0,e.useState)({message:null,type:"success"}),[c,d]=(0,e.useState)({isOpen:!1}),[u,h]=(0,e.useState)("all"),[m,p]=(0,e.useState)([]),[f,g]=(0,e.useState)([]),[x,v]=(0,e.useState)([]),[b,y]=(0,e.useState)([]),[w,j]=(0,e.useState)(""),[k,N]=(0,e.useState)(1),_=(0,e.useCallback)(function(e){return l({message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"})},[]),S=(0,e.useCallback)(async()=>{i(!0);try{const[e,t,n,s]=await Promise.all([ar.from("equipment").select("*").order("name"),ar.from("installations").select("*, clients!inner(name)").order("created_at",{ascending:!1}),ar.from("installed_equipment").select("*, equipment:equipment_id(*), employees:employee_custom_id(name, phone)").order("created_at",{ascending:!1}),ar.from("employees").select("custom_id, name, phone").order("name")]);if(e.error)throw e.error;if(t.error)throw t.error;if(n.error)throw n.error;if(s.error)throw s.error;p(e.data),v(t.data),g(n.data),y(s.data)}catch(px){_(px.message,"error")}finally{i(!1)}},[_]);(0,e.useEffect)(()=>{S()},[S]);const C=(0,e.useMemo)(()=>{const e=new Map(x.map(e=>[e.custom_id,{...e,equipment:[]}]));return f.forEach(t=>{e.has(t.installation_custom_id)&&e.get(t.installation_custom_id).equipment.push(t)}),Array.from(e.values())},[x,f]),E=(0,e.useMemo)(()=>{const e=w.toLowerCase();return C.filter(t=>{var n,s,r;return(null===(n=t.name)||void 0===n?void 0:n.toLowerCase().includes(e))||(null===(s=t.clients)||void 0===s||null===(r=s.name)||void 0===r?void 0:r.toLowerCase().includes(e))||t.custom_id.toString().includes(e)})},[C,w]),T=(0,e.useMemo)(()=>{let e=m;return"all"!==u&&(e=e.filter(e=>e.category===u)),e},[m,u]),P=(0,e.useMemo)(()=>{const e=9*(k-1);return E.slice(e,e+9)},[E,k]),z=async(e,t)=>{i(!0);const{error:n}=await e;n?_(n.message,"error"):(_(t),r({type:null}),S()),i(!1)},L=e=>{d({isOpen:!0,title:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0442\u0438\u043f?",message:"\u0426\u0435 \u0432\u043f\u043b\u0438\u043d\u0435 \u043d\u0430 \u0432\u0441\u0456 \u0437\u0430\u043f\u0438\u0441\u0438.",onConfirm:()=>{d({isOpen:!1}),z(ar.from("equipment").delete().eq("id",e),"\u0412\u0438\u0434\u0430\u043b\u0435\u043d\u043e")}})};return(0,or.jsx)(Tp,{children:(0,or.jsxs)("div",{className:"p-4 sm:p-8 space-y-6 max-w-[1600px] mx-auto pb-safe min-h-[calc(100dvh-80px)] flex flex-col",children:[(0,or.jsx)(Wf,{notification:o,onDismiss:()=>l({message:null})}),(0,or.jsx)(Kf,{...c,onClose:()=>d({isOpen:!1})}),(0,or.jsxs)("div",{className:"flex flex-col gap-4 flex-none",children:[(0,or.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,or.jsxs)("div",{children:[(0,or.jsxs)("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 tracking-tight flex items-center gap-2",children:[(0,or.jsx)(Ch,{className:"text-indigo-600"})," \u041e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f"]}),(0,or.jsx)("p",{className:"text-slate-500 text-sm mt-1",children:"\u041e\u0431\u043b\u0456\u043a \u0442\u0430 \u0440\u043e\u0437\u043f\u043e\u0434\u0456\u043b \u043f\u043e \u043e\u0431'\u0454\u043a\u0442\u0430\u0445"})]}),(0,or.jsxs)("div",{className:"flex bg-slate-100 p-1 rounded-xl w-full sm:w-auto",children:[(0,or.jsx)("button",{onClick:()=>n("installations"),className:"flex-1 sm:flex-none px-6 py-2.5 rounded-lg text-sm font-bold transition-all "+("installations"===t?"bg-white text-indigo-700 shadow-sm":"text-slate-500 hover:text-slate-700"),children:"\u041e\u0431'\u0454\u043a\u0442\u0438"}),(0,or.jsx)("button",{onClick:()=>n("catalog"),className:"flex-1 sm:flex-none px-6 py-2.5 rounded-lg text-sm font-bold transition-all "+("catalog"===t?"bg-white text-indigo-700 shadow-sm":"text-slate-500 hover:text-slate-700"),children:"\u0414\u043e\u0432\u0456\u0434\u043d\u0438\u043a"})]})]}),"installations"===t&&(0,or.jsxs)("div",{className:"relative",children:[(0,or.jsx)(qm,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),(0,or.jsx)("input",{type:"text",placeholder:"\u041f\u043e\u0448\u0443\u043a \u043e\u0431'\u0454\u043a\u0442\u0430...",value:w,onChange:e=>{j(e.target.value),N(1)},className:"w-full pl-11 pr-4 py-3 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none text-base sm:text-sm shadow-sm"})]}),"catalog"===t&&(0,or.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,or.jsx)("div",{className:"flex bg-white border border-slate-200 p-1 rounded-xl overflow-x-auto no-scrollbar flex-1",children:[{id:"all",l:"\u0412\u0441\u0456"},{id:"inverter",l:"\u0406\u043d\u0432\u0435\u0440\u0442\u043e\u0440\u0438"},{id:"battery",l:"\u0410\u041a\u0411"},{id:"solar_panel",l:"\u041f\u0430\u043d\u0435\u043b\u0456"},{id:"logger",l:"\u041b\u043e\u0433\u0435\u0440\u0438"}].map(e=>(0,or.jsx)("button",{onClick:()=>h(e.id),className:"px-4 py-2 rounded-lg text-xs font-bold whitespace-nowrap transition-all "+(u===e.id?"bg-slate-800 text-white shadow":"text-slate-600 hover:bg-slate-50"),children:e.l},e.id))}),(0,or.jsxs)("button",{onClick:()=>r({type:"addType",data:null}),className:"w-full sm:w-auto self-end flex items-center justify-center gap-2 py-2.5 px-5 bg-indigo-600 text-white rounded-xl font-bold shadow-lg hover:bg-indigo-700 active:scale-95 transition-all text-sm",children:[(0,or.jsx)(Vm,{})," ",(0,or.jsx)("span",{children:"\u0414\u043e\u0434\u0430\u0442\u0438"})]})]})]}),(0,or.jsx)("div",{className:"flex-1",children:(0,or.jsx)(Sr,{mode:"wait",children:"installations"===t?(0,or.jsx)(lh.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"grid grid-cols-1 lg:grid-cols-2 2xl:grid-cols-3 gap-6",children:a?(0,or.jsx)("div",{className:"col-span-full text-center py-20 text-slate-400",children:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f..."}):0===P.length?(0,or.jsx)("div",{className:"col-span-full text-center py-20 text-slate-400 bg-white rounded-2xl border border-dashed border-slate-200",children:"\u041d\u0456\u0447\u043e\u0433\u043e \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e"}):P.map(e=>{var t;return(0,or.jsxs)("div",{className:"bg-white border border-slate-200 rounded-2xl p-5 shadow-sm hover:shadow-md transition-all flex flex-col",children:[(0,or.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("h3",{className:"font-bold text-lg text-slate-800 line-clamp-1",children:e.name||"\u0411\u0435\u0437 \u043d\u0430\u0437\u0432\u0438"}),(0,or.jsx)("p",{className:"text-xs text-slate-500 font-medium",children:null===(t=e.clients)||void 0===t?void 0:t.name})]}),(0,or.jsxs)("span",{className:"text-xs font-mono font-bold bg-slate-100 text-slate-500 px-2 py-1 rounded",children:["#",e.custom_id]})]}),(0,or.jsx)("div",{className:"flex-1 space-y-2 mb-4 overflow-y-auto max-h-60 pr-1 custom-scrollbar",children:e.equipment.length>0?e.equipment.map(e=>{var t,n,s;const{icon:a,color:i}=Vf(null===(t=e.equipment)||void 0===t?void 0:t.category);let o="S/N ---";try{const t=JSON.parse(e.serial_number);Array.isArray(t)&&t.length>0?o=`${t[0]}...`:e.serial_number&&(o=e.serial_number)}catch(px){e.serial_number&&(o=e.serial_number.substring(0,10)+"...")}return(0,or.jsxs)("div",{className:"flex items-center justify-between p-2.5 bg-slate-50 rounded-xl border border-slate-100",children:[(0,or.jsxs)("div",{className:"flex items-center gap-3",children:[(0,or.jsx)("div",{className:`p-2 rounded-lg ${i}`,children:(0,or.jsx)(a,{})}),(0,or.jsxs)("div",{children:[(0,or.jsx)("p",{className:"text-sm font-bold text-slate-700",children:null===(n=e.equipment)||void 0===n?void 0:n.name}),(0,or.jsx)("p",{className:"text-[10px] text-slate-400 font-mono",children:"solar_panel"===(null===(s=e.equipment)||void 0===s?void 0:s.category)?"\u041f\u0430\u043d\u0435\u043b\u044c":o})]})]}),(0,or.jsxs)("div",{className:"flex items-center gap-1",children:[(0,or.jsxs)("span",{className:"text-xs font-bold text-slate-600 mr-2",children:["x",e.quantity]}),(0,or.jsx)("button",{onClick:()=>r({type:"viewDetails",data:e}),className:"p-1.5 text-blue-500 hover:bg-blue-50 rounded-lg",children:(0,or.jsx)(rm,{})}),(0,or.jsx)("button",{onClick:()=>r({type:"editDetails",data:e}),className:"p-1.5 text-amber-500 hover:bg-amber-50 rounded-lg",children:(0,or.jsx)(Rm,{})}),(0,or.jsx)("button",{onClick:()=>(e=>{d({isOpen:!0,title:"\u0417\u043d\u044f\u0442\u0438 \u043e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f?",message:"\u0412\u0438 \u0432\u043f\u0435\u0432\u043d\u0435\u043d\u0456?",onConfirm:()=>{d({isOpen:!1}),z(ar.from("installed_equipment").delete().eq("id",e),"\u0417\u043d\u044f\u0442\u043e")}})})(e.id),className:"p-1.5 text-red-500 hover:bg-red-50 rounded-lg",children:(0,or.jsx)(op,{})})]})]},e.id)}):(0,or.jsx)("p",{className:"text-sm text-slate-400 italic text-center py-4",children:"\u041e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u0454"})}),(0,or.jsxs)("button",{onClick:()=>r({type:"assign",data:e}),className:"w-full py-2.5 border-2 border-dashed border-indigo-200 text-indigo-600 rounded-xl font-bold hover:bg-indigo-50 transition-colors flex items-center justify-center gap-2",children:[(0,or.jsx)(Vm,{})," \u0414\u043e\u0434\u0430\u0442\u0438"]})]},e.custom_id)})},"installations"):(0,or.jsxs)(lh.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:[(0,or.jsx)("div",{className:"hidden md:block bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:(0,or.jsx)("div",{className:"overflow-x-auto",children:(0,or.jsxs)("table",{className:"w-full text-left",children:[(0,or.jsx)("thead",{className:"bg-slate-50 border-b border-slate-200",children:(0,or.jsxs)("tr",{children:[(0,or.jsx)("th",{className:"p-4 text-xs font-bold text-slate-500 uppercase",children:"\u041d\u0430\u0437\u0432\u0430"}),(0,or.jsx)("th",{className:"p-4 text-xs font-bold text-slate-500 uppercase",children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044f"}),(0,or.jsx)("th",{className:"p-4 text-xs font-bold text-slate-500 uppercase",children:"\u041f\u043e\u0442\u0443\u0436\u043d\u0456\u0441\u0442\u044c"}),(0,or.jsx)("th",{className:"p-4 text-xs font-bold text-slate-500 uppercase",children:"\u0412\u0438\u0440\u043e\u0431\u043d\u0438\u043a"}),(0,or.jsx)("th",{className:"p-4 text-xs font-bold text-slate-500 uppercase text-right",children:"\u0414\u0456\u0457"})]})}),(0,or.jsx)("tbody",{className:"divide-y divide-slate-100",children:T.map(e=>{const{name:t,color:n}=Vf(e.category);return(0,or.jsxs)("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[(0,or.jsx)("td",{className:"p-4 text-sm font-bold text-slate-700",children:e.name}),(0,or.jsx)("td",{className:"p-4",children:(0,or.jsx)("span",{className:`px-2.5 py-1 rounded-full text-xs font-bold ${n}`,children:t})}),(0,or.jsx)("td",{className:"p-4 text-sm text-slate-600",children:e.power_kw?`${e.power_kw} \u043a\u0412\u0442`:"\u2014"}),(0,or.jsx)("td",{className:"p-4 text-sm text-slate-600",children:e.manufacturer||"\u2014"}),(0,or.jsxs)("td",{className:"p-4 text-right",children:[(0,or.jsx)("button",{onClick:()=>r({type:"editType",data:e}),className:"p-2 text-slate-400 hover:text-indigo-600",children:(0,or.jsx)(Xh,{})}),(0,or.jsx)("button",{onClick:()=>L(e.id),className:"p-2 text-slate-400 hover:text-red-600",children:(0,or.jsx)(op,{})})]})]},e.id)})})]})})}),(0,or.jsx)("div",{className:"md:hidden space-y-3",children:T.map(e=>{const{name:t,color:n,icon:s}=Vf(e.category);return(0,or.jsxs)("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm flex flex-col gap-3",children:[(0,or.jsxs)("div",{className:"flex justify-between items-start",children:[(0,or.jsxs)("div",{className:"flex items-center gap-3",children:[(0,or.jsx)("div",{className:`p-2.5 rounded-lg ${n}`,children:(0,or.jsx)(s,{})}),(0,or.jsxs)("div",{children:[(0,or.jsx)("h4",{className:"font-bold text-slate-800 text-sm",children:e.name}),(0,or.jsx)("span",{className:"text-xs text-slate-500 font-medium",children:t})]})]}),(0,or.jsxs)("div",{className:"flex gap-1",children:[(0,or.jsx)("button",{onClick:()=>r({type:"editType",data:e}),className:"p-2 text-slate-400 hover:text-indigo-600 bg-slate-50 rounded-lg",children:(0,or.jsx)(Xh,{})}),(0,or.jsx)("button",{onClick:()=>L(e.id),className:"p-2 text-slate-400 hover:text-red-600 bg-slate-50 rounded-lg",children:(0,or.jsx)(op,{})})]})]}),(0,or.jsxs)("div",{className:"flex justify-between text-xs pt-2 border-t border-slate-100 text-slate-500",children:[(0,or.jsx)("span",{children:e.manufacturer||"\u0412\u0438\u0440\u043e\u0431\u043d\u0438\u043a \u043d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u0438\u0439"}),(0,or.jsx)("span",{children:e.power_kw?`${e.power_kw} \u043a\u0412\u0442`:""})]})]},e.id)})})]},"catalog")})}),(0,or.jsxs)(Sr,{children:["assign"===s.type&&(0,or.jsx)(Jf,{closeModal:()=>r({type:null}),installation:s.data,onAssign:e=>{const t={...e,equipment_id:parseInt(e.equipment_id),quantity:parseInt(e.quantity)};z(ar.from("installed_equipment").insert([t]),"\u0414\u043e\u0434\u0430\u043d\u043e \u043d\u0430 \u043e\u0431'\u0454\u043a\u0442")},equipmentCatalog:m,showNotification:_}),("addType"===s.type||"editType"===s.type)&&(0,or.jsx)(Yf,{closeModal:()=>r({type:null}),onSubmit:e=>{var t,n;const r={...e,power_kw:e.power_kw?parseFloat(e.power_kw):null},a=null!==(t=s.data)&&void 0!==t&&t.id?ar.from("equipment").update(r).eq("id",s.data.id):ar.from("equipment").insert([r]);z(a,null!==(n=s.data)&&void 0!==n&&n.id?"\u041e\u043d\u043e\u0432\u043b\u0435\u043d\u043e":"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043e")},initialData:s.data,loading:a}),"viewDetails"===s.type&&(0,or.jsx)(Xf,{closeModal:()=>r({type:null}),item:s.data}),"editDetails"===s.type&&(0,or.jsx)(Qf,{closeModal:()=>r({type:null}),onSubmit:e=>{const{id:t,...n}=e;n.employee_custom_id=n.employee_custom_id?parseInt(n.employee_custom_id):null,n.serial_number&&Array.isArray(n.serial_number)&&(n.serial_number=JSON.stringify(n.serial_number)),z(ar.from("installed_equipment").update(n).eq("id",t),"\u041e\u043d\u043e\u0432\u043b\u0435\u043d\u043e")},initialData:s.data,employees:b,loading:a})]})]})})}function Jf(t){let{closeModal:n,installation:s,onAssign:r,equipmentCatalog:a,showNotification:i}=t;const[o,l]=(0,e.useState)({installation_custom_id:s.custom_id,equipment_id:"",serial_number:"",quantity:1}),[c,d]=(0,e.useState)(""),u=(0,e.useMemo)(()=>{let e=a;return c&&(e=e.filter(e=>e.category===c)),e.map(e=>({value:e.id,label:e.name}))},[a,c]);return(0,or.jsx)(Ff,{closeModal:n,size:"md",children:(0,or.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!o.equipment_id)return i("\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0442\u0438\u043f","error");r(o)},className:"flex flex-col h-full overflow-hidden",children:[(0,or.jsxs)("div",{className:"flex-none p-6 border-b border-slate-100",children:[(0,or.jsx)("h3",{className:"text-xl font-bold text-slate-800",children:"\u0414\u043e\u0434\u0430\u0442\u0438 \u043d\u0430 \u043e\u0431'\u0454\u043a\u0442"}),(0,or.jsx)("p",{className:"text-sm text-indigo-600",children:s.name})]}),(0,or.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5 ml-1",children:"\u0424\u0456\u043b\u044c\u0442\u0440 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u0439"}),(0,or.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,or.jsx)("button",{type:"button",onClick:()=>d(""),className:"px-3 py-1.5 rounded-lg text-xs font-bold "+(c?"bg-slate-100 text-slate-600":"bg-slate-800 text-white"),children:"\u0412\u0441\u0456"}),[{id:"solar_panel",l:"\u041f\u0430\u043d\u0435\u043b\u0456"},{id:"inverter",l:"\u0406\u043d\u0432\u0435\u0440\u0442\u043e\u0440\u0438"},{id:"battery",l:"\u0410\u041a\u0411"},{id:"logger",l:"\u041b\u043e\u0433\u0435\u0440\u0438"},{id:"other",l:"\u0406\u043d\u0448\u0435"}].map(e=>(0,or.jsx)("button",{type:"button",onClick:()=>d(e.id),className:"px-3 py-1.5 rounded-lg text-xs font-bold "+(c===e.id?"bg-indigo-600 text-white":"bg-slate-100 text-slate-600"),children:e.l},e.id))]})]}),(0,or.jsx)(Hf,{label:"\u041c\u043e\u0434\u0435\u043b\u044c \u043e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f",icon:(0,or.jsx)(Eh,{}),options:u,value:o.equipment_id,onChange:e=>l({...o,equipment_id:e.target.value}),placeholder:c?"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0437\u0456 \u0441\u043f\u0438\u0441\u043a\u0443...":"\u0421\u043f\u043e\u0447\u0430\u0442\u043a\u0443 \u043e\u0431\u0435\u0440\u0456\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044e \u0430\u0431\u043e \u0448\u0443\u043a\u0430\u0439\u0442\u0435..."}),(0,or.jsx)("div",{className:"grid grid-cols-2 gap-4",children:(0,or.jsx)(Bf,{label:"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c",type:"number",min:"1",icon:(0,or.jsx)(bm,{}),value:o.quantity,onChange:e=>l({...o,quantity:e.target.value})})}),(0,or.jsx)("p",{className:"text-xs text-slate-400 italic",children:"\u0414\u0435\u0442\u0430\u043b\u0456 (S/N, \u043b\u043e\u0433\u0456\u043d\u0438) \u0434\u043e\u0434\u0430\u044e\u0442\u044c\u0441\u044f \u0447\u0435\u0440\u0435\u0437 \u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043d\u043d\u044f."})]}),(0,or.jsxs)("div",{className:"flex-none p-6 flex justify-end gap-3 bg-slate-50 border-t border-slate-100 pb-safe",children:[(0,or.jsx)("button",{type:"button",onClick:n,className:"px-4 py-2 bg-white border border-slate-200 rounded-lg font-bold text-slate-600",children:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"}),(0,or.jsx)("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg font-bold shadow-lg",children:"\u0414\u043e\u0434\u0430\u0442\u0438"})]})]})})}function Yf(t){let{closeModal:n,onSubmit:s,initialData:r,loading:a}=t;const[i,o]=(0,e.useState)(r||{name:"",category:"",power_kw:"",manufacturer:""});return(0,or.jsx)(Ff,{closeModal:n,size:"md",children:(0,or.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s(i)},className:"flex flex-col h-full overflow-hidden",children:[(0,or.jsx)("div",{className:"flex-none p-6 border-b border-slate-100",children:(0,or.jsx)("h3",{className:"text-xl font-bold text-slate-800",children:r?"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0442\u0438\u043f":"\u041d\u043e\u0432\u0438\u0439 \u0442\u0438\u043f"})}),(0,or.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[(0,or.jsx)(Bf,{label:"\u041d\u0430\u0437\u0432\u0430",icon:(0,or.jsx)(ep,{}),value:i.name,onChange:e=>o({...i,name:e.target.value}),required:!0}),(0,or.jsxs)(Uf,{label:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044f",icon:(0,or.jsx)(hm,{}),value:i.category,onChange:e=>o({...i,category:e.target.value}),children:[(0,or.jsx)("option",{value:"",children:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c..."}),(0,or.jsx)("option",{value:"solar_panel",children:"\u041f\u0430\u043d\u0435\u043b\u044c"}),(0,or.jsx)("option",{value:"inverter",children:"\u0406\u043d\u0432\u0435\u0440\u0442\u043e\u0440"}),(0,or.jsx)("option",{value:"battery",children:"\u0410\u041a\u0411"}),(0,or.jsx)("option",{value:"logger",children:"\u041b\u043e\u0433\u0435\u0440"})]}),(0,or.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,or.jsx)(Bf,{label:"\u041f\u043e\u0442\u0443\u0436\u043d\u0456\u0441\u0442\u044c (\u043a\u0412\u0442)",type:"number",step:"0.01",icon:(0,or.jsx)(Ch,{}),value:i.power_kw,onChange:e=>o({...i,power_kw:e.target.value})}),(0,or.jsx)(Bf,{label:"\u0412\u0438\u0440\u043e\u0431\u043d\u0438\u043a",icon:(0,or.jsx)(zh,{}),value:i.manufacturer,onChange:e=>o({...i,manufacturer:e.target.value})})]})]}),(0,or.jsxs)("div",{className:"flex-none p-6 flex justify-end gap-3 bg-slate-50 border-t border-slate-100 pb-safe",children:[(0,or.jsx)("button",{type:"button",onClick:n,className:"px-4 py-2 bg-white border border-slate-200 rounded-lg font-bold text-slate-600",children:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"}),(0,or.jsx)("button",{type:"submit",disabled:a,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg font-bold shadow-lg",children:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"})]})]})})}function Xf(t){var n,s,r,a,i;let{closeModal:o,item:l}=t;const[c,d]=(0,e.useState)(!1);let u="---";try{const e=JSON.parse(l.serial_number);u=Array.isArray(e)?e.join(", "):l.serial_number||"---"}catch(px){u=l.serial_number||"---"}return(0,or.jsx)(Ff,{closeModal:o,size:"sm",children:(0,or.jsxs)("div",{className:"flex flex-col h-full overflow-hidden",children:[(0,or.jsx)("div",{className:"flex-none p-6 border-b border-slate-100",children:(0,or.jsx)("h3",{className:"text-lg font-bold text-slate-800",children:null===(n=l.equipment)||void 0===n?void 0:n.name})}),(0,or.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:["solar_panel"!==(null===(s=l.equipment)||void 0===s?void 0:s.category)&&(0,or.jsxs)("div",{className:"flex flex-col border-b pb-4 gap-2",children:[(0,or.jsx)("span",{className:"text-slate-500 text-sm",children:"\u0421\u0435\u0440\u0456\u0439\u043d\u0456 \u043d\u043e\u043c\u0435\u0440\u0438"}),(0,or.jsx)("div",{className:"flex flex-wrap gap-2",children:u.split(", ").map((e,t)=>(0,or.jsx)("span",{className:"bg-slate-100 text-slate-700 px-2 py-1 rounded text-xs font-mono border border-slate-200",children:e},t))})]}),"solar_panel"!==(null===(r=l.equipment)||void 0===r?void 0:r.category)&&"battery"!==(null===(a=l.equipment)||void 0===a?void 0:a.category)&&(l.login||l.password)&&(0,or.jsxs)("div",{className:"bg-slate-50 p-3 rounded-lg space-y-2 border border-slate-100",children:[(0,or.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,or.jsx)("span",{className:"text-slate-500",children:"\u041b\u043e\u0433\u0456\u043d"}),(0,or.jsx)("span",{className:"font-bold",children:l.login})]}),(0,or.jsxs)("div",{className:"flex justify-between text-sm items-center",children:[(0,or.jsx)("span",{className:"text-slate-500",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),(0,or.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,or.jsx)("span",{className:"font-mono",children:c?l.password:"\u2022\u2022\u2022\u2022\u2022\u2022"}),(0,or.jsx)("button",{onClick:()=>d(!c),className:"text-slate-400",children:(0,or.jsx)(rm,{})})]})]})]}),(0,or.jsxs)("div",{className:"flex justify-between items-start pt-2 gap-4",children:[(0,or.jsx)("span",{className:"text-slate-500 text-sm whitespace-nowrap",children:"\u0412\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0430\u043b\u044c\u043d\u0438\u0439"}),(0,or.jsx)("span",{className:"font-bold text-indigo-600 text-right",children:(null===(i=l.employees)||void 0===i?void 0:i.name)||"---"})]})]}),(0,or.jsx)("div",{className:"flex-none p-4 bg-slate-50 text-right pb-safe",children:(0,or.jsx)("button",{onClick:o,className:"px-4 py-2 bg-white border border-slate-200 rounded-lg font-bold text-slate-600",children:"\u0417\u0430\u043a\u0440\u0438\u0442\u0438"})})]})})}function Qf(t){let{closeModal:n,onSubmit:s,initialData:r,employees:a,loading:i}=t,o=[];try{const e=JSON.parse(r.serial_number);Array.isArray(e)?o=e:r.serial_number&&(o=[r.serial_number])}catch(px){r.serial_number&&(o=[r.serial_number])}const[l,c]=(0,e.useState)({id:r.id,login:r.login||"",password:r.password||"",employee_custom_id:r.employee_custom_id||""}),[d,u]=(0,e.useState)(o),[h,m]=(0,e.useState)(!1),p=r.equipment,f=null===p||void 0===p?void 0:p.category,g=r.quantity||1,x="solar_panel"===f,v="inverter"===f||"logger"===f,b=(0,e.useCallback)(e=>{const{name:t,value:n}=e.target;c(e=>({...e,[t]:n}))},[]),y=(0,e.useCallback)(e=>{e.preventDefault();const t={...l,serial_number:JSON.stringify(d)};s(t)},[l,s,d]);return(0,or.jsx)(Ff,{closeModal:n,size:"lg",children:(0,or.jsxs)("form",{onSubmit:y,className:"flex flex-col h-full overflow-hidden",children:[(0,or.jsxs)("div",{className:"flex-none p-6 md:p-8 border-b border-slate-100",children:[(0,or.jsx)("h3",{className:"text-xl font-bold text-slate-800 mb-1",children:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0434\u0435\u0442\u0430\u043b\u0456"}),(0,or.jsxs)("div",{className:"flex items-center gap-2 text-sm text-indigo-600 font-medium",children:[(0,or.jsx)("span",{className:"bg-indigo-50 px-2 py-0.5 rounded",children:null===p||void 0===p?void 0:p.name}),(0,or.jsxs)("span",{className:"text-slate-400",children:["x",g," \u0448\u0442."]})]})]}),(0,or.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 space-y-6",children:[!x&&(0,or.jsx)(qf,{serials:d,onChange:u,max:g}),v&&(0,or.jsxs)("div",{className:"bg-blue-50/50 p-4 rounded-xl border border-blue-100 space-y-4",children:[(0,or.jsx)("p",{className:"font-bold text-blue-800 text-xs uppercase tracking-wider",children:"\u041e\u0431\u043b\u0456\u043a\u043e\u0432\u0456 \u0434\u0430\u043d\u0456"}),(0,or.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,or.jsx)(Bf,{name:"login",label:"\u041b\u043e\u0433\u0456\u043d",icon:(0,or.jsx)(hp,{}),value:l.login,onChange:b}),(0,or.jsx)(Bf,{name:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c",icon:(0,or.jsx)(_m,{}),type:h?"text":"password",value:l.password,onChange:b,showPassword:h,onTogglePassword:()=>m(!h)})]})]}),(0,or.jsxs)(Uf,{name:"employee_custom_id",label:"\u0412\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0430\u043b\u044c\u043d\u0438\u0439 \u043f\u0440\u0430\u0446\u0456\u0432\u043d\u0438\u043a",icon:(0,or.jsx)(vp,{}),value:l.employee_custom_id,onChange:b,children:[(0,or.jsx)("option",{value:"",children:"\u041d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u043e"}),a.map(e=>(0,or.jsx)("option",{value:e.custom_id,children:e.name},e.custom_id))]})]}),(0,or.jsxs)("div",{className:"flex-none flex justify-end gap-3 p-6 bg-slate-50/50 rounded-b-2xl border-t border-slate-100 pb-safe",children:[(0,or.jsx)("button",{type:"button",onClick:n,className:"px-5 py-2.5 bg-white border border-slate-200 text-slate-600 rounded-xl font-bold hover:bg-slate-50 transition",children:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"}),(0,or.jsx)("button",{type:"submit",disabled:i,className:"px-5 py-2.5 rounded-xl font-bold shadow-lg transition flex items-center gap-2 bg-indigo-600 text-white hover:bg-indigo-700 hover:shadow-xl",children:i?"\u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043d\u044f...":"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"})]})]})})}const Zf=e=>"number"!==typeof e?"$0.00":e.toLocaleString("en-US",{style:"currency",currency:"USD"}),eg=e=>{switch(e){case"Bank Transfer":return(0,or.jsx)(up,{className:"text-blue-500"});case"Cash":return(0,or.jsx)(Lm,{className:"text-green-500"});case"Card":return(0,or.jsx)(Kh,{className:"text-purple-500"});default:return(0,or.jsx)(Bm,{className:"text-gray-400"})}},tg=e=>{let{title:t,value:n,icon:s,color:r,isCurrency:a=!0}=e;return(0,or.jsxs)("div",{className:`p-5 rounded-2xl border ${{red:"bg-red-50 text-red-600 border-red-100",green:"bg-emerald-50 text-emerald-600 border-emerald-100",indigo:"bg-indigo-50 text-indigo-600 border-indigo-100"}[r]} shadow-sm flex items-center gap-4`,children:[(0,or.jsx)("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center text-white shadow-md ${{red:"bg-red-500",green:"bg-emerald-500",indigo:"bg-indigo-500"}[r]}`,children:(0,or.jsx)(s,{className:"text-xl"})}),(0,or.jsxs)("div",{children:[(0,or.jsx)("p",{className:"text-xs font-bold uppercase tracking-wider opacity-70 mb-0.5",children:t}),(0,or.jsx)("p",{className:"text-2xl font-extrabold",children:a?Zf(n):n})]})]})},ng=e=>{let{installation:t}=e;const n=(null===t||void 0===t?void 0:t.total_cost)||0,s=(null===t||void 0===t?void 0:t.paid_amount)||0;let r={text:"\u041d\u0435\u0432\u0456\u0434\u043e\u043c\u043e",className:"bg-slate-100 text-slate-600"};return r=n-s<=0?{text:"\u041e\u043f\u043b\u0430\u0447\u0435\u043d\u043e",className:"bg-emerald-100 text-emerald-700 border-emerald-200"}:s>0?{text:"\u0427\u0430\u0441\u0442\u043a\u043e\u0432\u043e",className:"bg-blue-100 text-blue-700 border-blue-200"}:{text:"\u0411\u043e\u0440\u0433",className:"bg-red-100 text-red-700 border-red-200"},(0,or.jsx)("span",{className:`px-2.5 py-1 rounded-full text-xs font-bold border ${r.className}`,children:r.text})},sg=e=>{var t,n;let{payment:s,onClick:r}=e;const a=s.installation,i=((null===a||void 0===a?void 0:a.total_cost)||0)-((null===a||void 0===a?void 0:a.paid_amount)||0);return(0,or.jsxs)("div",{onClick:r,className:"bg-white rounded-xl shadow-sm border border-slate-200 p-4 flex flex-col gap-3 active:scale-[0.98] transition-transform cursor-pointer",children:[(0,or.jsxs)("div",{className:"flex justify-between items-start",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("h4",{className:"font-bold text-slate-800 text-lg",children:Zf(s.amount)}),(0,or.jsxs)("p",{className:"text-xs text-slate-500 font-medium flex items-center gap-1 mt-1",children:[(0,or.jsx)(Lh,{})," ",new Date(s.paid_at).toLocaleDateString("uk-UA")]})]}),(0,or.jsx)(ng,{installation:a})]}),(0,or.jsxs)("div",{className:"bg-slate-50 rounded-lg p-3 border border-slate-100",children:[(0,or.jsx)("p",{className:"text-sm font-bold text-slate-700 mb-1",children:(null===(t=a.client)||void 0===t?void 0:t.company_name)||(null===(n=a.client)||void 0===n?void 0:n.name)}),(0,or.jsxs)("p",{className:"text-xs text-slate-500",children:["\u041f\u0440\u043e\u0435\u043a\u0442: ",(0,or.jsxs)("span",{className:"font-mono",children:[a.name||"---"," (#",a.custom_id,")"]})]})]}),(0,or.jsxs)("div",{className:"flex justify-between items-center text-xs pt-2 border-t border-slate-100",children:[(0,or.jsx)("span",{className:"text-slate-400",children:"\u0417\u0430\u0433\u0430\u043b\u044c\u043d\u0438\u0439 \u0431\u043e\u0440\u0433:"}),(0,or.jsx)("span",{className:"font-bold "+(i>0?"text-red-500":"text-emerald-500"),children:i>0?Zf(i):"0.00"})]}),s.comment&&(0,or.jsxs)("div",{className:"flex items-start gap-2 text-xs text-slate-500 bg-yellow-50/50 p-2 rounded border border-yellow-100",children:[(0,or.jsx)(Wh,{className:"mt-0.5 text-yellow-500 flex-shrink-0"}),(0,or.jsx)("span",{className:"line-clamp-2",children:s.comment})]})]})},rg=e=>{var t,n;let{onClose:s,payment:r}=e;const a=r.installation,i=(null===a||void 0===a?void 0:a.total_cost)||0,o=i-((null===a||void 0===a?void 0:a.paid_amount)||0);return(0,or.jsx)(lh.div,{className:"fixed inset-0 bg-black/60 z-[100] flex items-center justify-center p-4 sm:p-6",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:s,children:(0,or.jsxs)(lh.div,{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl flex flex-col max-h-[85dvh] overflow-hidden relative",initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},onClick:e=>e.stopPropagation(),children:[(0,or.jsxs)("div",{className:"flex-none p-5 border-b border-slate-100 flex justify-between items-start bg-slate-50/50",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("h3",{className:"text-xl font-bold text-slate-800",children:"\u0414\u0435\u0442\u0430\u043b\u0456 \u043f\u043b\u0430\u0442\u0435\u0436\u0443"}),(0,or.jsx)("p",{className:"text-sm text-slate-500",children:new Date(r.paid_at).toLocaleDateString("uk-UA")})]}),(0,or.jsx)("button",{onClick:s,className:"p-2 bg-white text-slate-400 hover:text-slate-600 rounded-full shadow-sm",children:(0,or.jsx)(ap,{})})]}),(0,or.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 overscroll-contain",children:[(0,or.jsxs)("div",{className:"text-center",children:[(0,or.jsx)("p",{className:"text-xs text-slate-500 uppercase font-bold tracking-wider mb-1",children:"\u0421\u0443\u043c\u0430 \u043f\u043b\u0430\u0442\u0435\u0436\u0443"}),(0,or.jsx)("h2",{className:"text-4xl font-extrabold text-emerald-600",children:Zf(r.amount)}),(0,or.jsxs)("div",{className:"flex items-center justify-center gap-2 mt-3 text-sm text-slate-700 bg-slate-100 py-1.5 px-4 rounded-full w-fit mx-auto border border-slate-200",children:[eg(r.payment_method),(0,or.jsx)("span",{className:"font-medium",children:(l=r.payment_method,{"Bank Transfer":"\u0411\u0430\u043d\u043a\u0456\u0432\u0441\u044c\u043a\u0438\u0439 \u043f\u0435\u0440\u0435\u043a\u0430\u0437",Cash:"\u0413\u043e\u0442\u0456\u0432\u043a\u0430",Card:"\u041a\u0430\u0440\u0442\u043a\u0430",Other:"\u0406\u043d\u0448\u0435"}[l]||l||"\u041d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u043e")})]})]}),(0,or.jsx)("div",{className:"border-t border-slate-100"}),(0,or.jsxs)("div",{className:"space-y-3",children:[(0,or.jsxs)("h4",{className:"font-bold text-slate-800 text-xs uppercase flex items-center gap-2 tracking-wider",children:[(0,or.jsx)(lm,{})," \u041f\u0440\u043e\u0435\u043a\u0442"]}),(0,or.jsxs)("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-100 space-y-2",children:[(0,or.jsxs)("div",{className:"flex justify-between",children:[(0,or.jsx)("span",{className:"text-slate-500 text-sm",children:"\u041a\u043b\u0456\u0454\u043d\u0442"}),(0,or.jsx)("span",{className:"font-bold text-slate-700 text-right",children:(null===(t=a.client)||void 0===t?void 0:t.company_name)||(null===(n=a.client)||void 0===n?void 0:n.name)})]}),(0,or.jsxs)("div",{className:"flex justify-between",children:[(0,or.jsx)("span",{className:"text-slate-500 text-sm",children:"\u041e\u0431'\u0454\u043a\u0442"}),(0,or.jsxs)("span",{className:"font-medium text-slate-700 text-right",children:[a.name," (#",a.custom_id,")"]})]})]})]}),(0,or.jsxs)("div",{className:"space-y-3",children:[(0,or.jsxs)("h4",{className:"font-bold text-slate-800 text-xs uppercase flex items-center gap-2 tracking-wider",children:[(0,or.jsx)(Kh,{})," \u0411\u0430\u043b\u0430\u043d\u0441 \u043f\u0440\u043e\u0435\u043a\u0442\u0443"]}),(0,or.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,or.jsxs)("div",{className:"p-3 bg-slate-50 rounded-xl border border-slate-100 text-center",children:[(0,or.jsx)("p",{className:"text-[10px] uppercase text-slate-400 font-bold mb-1",children:"\u0412\u0441\u044c\u043e\u0433\u043e"}),(0,or.jsx)("p",{className:"font-bold text-slate-800",children:Zf(i)})]}),(0,or.jsxs)("div",{className:"p-3 bg-red-50 rounded-xl border border-red-100 text-center",children:[(0,or.jsx)("p",{className:"text-[10px] uppercase text-red-400 font-bold mb-1",children:"\u0411\u043e\u0440\u0433"}),(0,or.jsx)("p",{className:"font-bold text-red-600",children:Zf(o>0?o:0)})]})]})]}),r.comment&&(0,or.jsxs)("div",{className:"space-y-2",children:[(0,or.jsxs)("h4",{className:"font-bold text-slate-800 text-xs uppercase flex items-center gap-2 tracking-wider",children:[(0,or.jsx)(Wh,{})," \u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440"]}),(0,or.jsx)("div",{className:"bg-yellow-50 p-4 rounded-xl border border-yellow-100 text-slate-700 text-sm italic leading-relaxed whitespace-pre-wrap",children:r.comment})]})]}),(0,or.jsx)("div",{className:"flex-none p-4 border-t border-slate-100 bg-slate-50 pb-safe",children:(0,or.jsx)("button",{onClick:s,className:"w-full py-3.5 bg-white border border-slate-200 text-slate-700 font-bold rounded-xl shadow-sm hover:bg-slate-50 active:scale-95 transition-transform",children:"\u0417\u0430\u043a\u0440\u0438\u0442\u0438"})})]})});var l},ag=t=>{let{onClose:n,installations:s,onSuccess:r,showToast:a}=t;const[i,o]=(0,e.useState)({installation_custom_id:"",amount:"",paid_at:(new Date).toISOString().split("T")[0],payment_method:"Bank Transfer",comment:""}),[l,c]=(0,e.useState)(""),[d,u]=(0,e.useState)({}),[h,m]=(0,e.useState)(!1),p=(0,e.useMemo)(()=>{if(!l)return[];const e=l.toLowerCase();return s.filter(t=>{var n;return t.custom_id.toString().includes(e)||t.name&&t.name.toLowerCase().includes(e)||(null===(n=t.client)||void 0===n?void 0:n.name)&&t.client.name.toLowerCase().includes(e)})},[s,l]);return(0,or.jsx)(lh.div,{className:"fixed inset-0 bg-black/60 z-[100] flex items-center justify-center p-4 sm:p-6",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:n,children:(0,or.jsxs)(lh.div,{className:"bg-white rounded-2xl w-full max-w-lg shadow-2xl flex flex-col max-h-[90dvh] overflow-hidden",initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},onClick:e=>e.stopPropagation(),children:[(0,or.jsxs)("div",{className:"flex-none p-5 border-b border-slate-100 flex justify-between items-center bg-white",children:[(0,or.jsx)("h2",{className:"text-xl font-bold text-slate-800",children:"\u041d\u043e\u0432\u0438\u0439 \u043f\u043b\u0430\u0442\u0456\u0436"}),(0,or.jsx)("button",{onClick:n,className:"p-2 bg-slate-50 text-slate-400 hover:text-slate-600 rounded-full",children:(0,or.jsx)(ap,{})})]}),(0,or.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-5 bg-slate-50/30",children:[(0,or.jsxs)("div",{className:"relative",children:[(0,or.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5 ml-1",children:"\u041e\u0431'\u0454\u043a\u0442"}),(0,or.jsxs)("div",{className:"relative",children:[(0,or.jsx)(qm,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),(0,or.jsx)("input",{type:"text",value:l,onChange:e=>{c(e.target.value),i.installation_custom_id&&o(e=>({...e,installation_custom_id:""}))},placeholder:"\u041f\u043e\u0448\u0443\u043a (ID, \u041d\u0430\u0437\u0432\u0430, \u041a\u043b\u0456\u0454\u043d\u0442)...",className:"w-full border rounded-xl pl-11 pr-4 py-3.5 text-base sm:text-sm focus:ring-2 focus:ring-indigo-500 outline-none transition bg-white "+(d.installation_custom_id?"border-red-500":"border-slate-200")})]}),l&&!i.installation_custom_id&&(0,or.jsx)("div",{className:"absolute z-20 w-full bg-white border border-slate-200 rounded-xl mt-1 shadow-xl max-h-48 overflow-y-auto",children:p.length>0?p.map(e=>{var t,n;return(0,or.jsxs)("button",{type:"button",onClick:()=>(e=>{o(t=>({...t,installation_custom_id:e.custom_id})),c(`#${e.custom_id} - ${e.name||"\u0411\u0435\u0437 \u043d\u0430\u0437\u0432\u0438"}`),u(e=>({...e,installation_custom_id:""}))})(e),className:"w-full px-4 py-3 text-left hover:bg-indigo-50 border-b border-slate-50 last:border-0",children:[(0,or.jsxs)("div",{className:"font-bold text-slate-800 text-sm",children:["#",e.custom_id," - ",e.name]}),(0,or.jsx)("div",{className:"text-xs text-slate-500",children:(null===(t=e.client)||void 0===t?void 0:t.company_name)||(null===(n=e.client)||void 0===n?void 0:n.name)})]},e.custom_id)}):(0,or.jsx)("div",{className:"p-4 text-sm text-slate-400 text-center",children:"\u041d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e"})}),d.installation_custom_id&&(0,or.jsx)("p",{className:"text-red-500 text-xs mt-1 font-bold ml-1",children:d.installation_custom_id})]}),(0,or.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5 ml-1",children:"\u0421\u0443\u043c\u0430 ($)"}),(0,or.jsxs)("div",{className:"relative",children:[(0,or.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none",children:"$"}),(0,or.jsx)("input",{type:"number",min:"0",step:"0.01",value:i.amount,onChange:e=>o(t=>({...t,amount:e.target.value})),className:"w-full border rounded-xl pl-8 pr-4 py-3.5 text-base sm:text-sm outline-none focus:ring-2 focus:ring-indigo-500 "+(d.amount?"border-red-500":"border-slate-200"),placeholder:"0.00"})]})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5 ml-1",children:"\u0414\u0430\u0442\u0430"}),(0,or.jsx)("input",{type:"date",value:i.paid_at,onChange:e=>o(t=>({...t,paid_at:e.target.value})),className:"w-full border border-slate-200 rounded-xl px-4 py-3.5 text-base sm:text-sm outline-none focus:ring-2 focus:ring-indigo-500 bg-white"})]})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5 ml-1",children:"\u041c\u0435\u0442\u043e\u0434 \u043e\u043f\u043b\u0430\u0442\u0438"}),(0,or.jsxs)("select",{value:i.payment_method,onChange:e=>o(t=>({...t,payment_method:e.target.value})),className:"w-full border border-slate-200 rounded-xl px-4 py-3.5 text-base sm:text-sm outline-none focus:ring-2 focus:ring-indigo-500 bg-white appearance-none",children:[(0,or.jsx)("option",{value:"Bank Transfer",children:"\u0411\u0430\u043d\u043a\u0456\u0432\u0441\u044c\u043a\u0438\u0439 \u043f\u0435\u0440\u0435\u043a\u0430\u0437"}),(0,or.jsx)("option",{value:"Cash",children:"\u0413\u043e\u0442\u0456\u0432\u043a\u0430"}),(0,or.jsx)("option",{value:"Card",children:"\u041a\u0430\u0440\u0442\u043a\u0430"}),(0,or.jsx)("option",{value:"Other",children:"\u0406\u043d\u0448\u0435"})]})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5 ml-1",children:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440"}),(0,or.jsx)("textarea",{rows:"3",value:i.comment,onChange:e=>o(t=>({...t,comment:e.target.value})),className:"w-full border border-slate-200 rounded-xl p-4 text-base sm:text-sm focus:ring-2 focus:ring-indigo-500 outline-none resize-none bg-white",placeholder:"\u041f\u0440\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f \u043f\u043b\u0430\u0442\u0435\u0436\u0443..."})]})]}),(0,or.jsxs)("div",{className:"flex-none p-6 bg-white border-t border-slate-100 flex justify-end gap-3 pb-safe",children:[(0,or.jsx)("button",{type:"button",onClick:n,disabled:h,className:"px-5 py-2.5 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl font-bold transition",children:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"}),(0,or.jsxs)("button",{type:"button",onClick:async e=>{e.preventDefault();const t={};if(i.installation_custom_id||(t.installation_custom_id="\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u043e\u0431'\u0454\u043a\u0442"),(!i.amount||parseFloat(i.amount)<=0)&&(t.amount="\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0441\u0443\u043c\u0443"),Object.keys(t).length>0)u(t);else{m(!0);try{const{error:e}=await ar.from("payment_history").insert([{installation_custom_id:parseInt(i.installation_custom_id),amount:parseFloat(i.amount),paid_at:i.paid_at,payment_method:i.payment_method,comment:i.comment||null}]);if(e)throw e;a("\u041f\u043b\u0430\u0442\u0456\u0436 \u0434\u043e\u0434\u0430\u043d\u043e!","success"),r(),n()}catch(s){a(s.message,"error")}finally{m(!1)}}},disabled:h,className:"px-5 py-2.5 bg-emerald-600 hover:bg-emerald-700 text-white rounded-xl font-bold shadow-lg transition flex items-center gap-2",children:[h?(0,or.jsx)(Zm,{className:"animate-spin"}):(0,or.jsx)(Vm,{})," ",(0,or.jsx)("span",{children:"\u0414\u043e\u0434\u0430\u0442\u0438"})]})]})]})})},ig=t=>{let{message:n,type:s,onClose:r}=t;return(0,e.useEffect)(()=>{const e=setTimeout(r,4e3);return()=>clearTimeout(e)},[r]),(0,or.jsxs)(lh.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},className:"fixed top-4 left-4 right-4 sm:left-auto sm:right-6 sm:w-auto z-[200] flex items-center gap-3 p-4 rounded-xl shadow-2xl text-white font-medium "+("error"===s?"bg-red-500":"bg-emerald-500"),children:[(0,or.jsx)("div",{className:"text-xl",children:"error"===s?(0,or.jsx)(em,{}):(0,or.jsx)(Dh,{})}),(0,or.jsx)("p",{className:"text-sm flex-1",children:n}),(0,or.jsx)("button",{onClick:r,className:"opacity-80 hover:opacity-100",children:(0,or.jsx)(ap,{})})]})};function og(){te();const[t,n]=(0,e.useState)([]),[s,r]=(0,e.useState)([]),[a,i]=(0,e.useState)(!0),[o,l]=(0,e.useState)(""),[c,d]=(0,e.useState)("all"),[u,h]=(0,e.useState)({start:"",end:""}),[m,p]=(0,e.useState)({key:"paid_at",direction:"descending"}),[f,g]=(0,e.useState)(!1),[x,v]=(0,e.useState)(null),[b,y]=(0,e.useState)(null),w=(0,e.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";return y({id:Date.now(),message:e,type:t})},[]),j=(0,e.useCallback)(async()=>{i(!0);try{const[e,t]=await Promise.all([ar.from("payment_history").select("*, installation:installations!inner(custom_id, name, total_cost, paid_amount, notes, client:clients(name, company_name))").order("paid_at",{ascending:!1}),ar.from("installations").select("custom_id, name, client:clients(name, company_name)")]);if(e.error)throw e.error;if(t.error)throw t.error;n(e.data||[]),r(t.data||[])}catch(e){w(`\u041f\u043e\u043c\u0438\u043b\u043a\u0430: ${e.message}`,"error")}finally{i(!1)}},[w]);(0,e.useEffect)(()=>{j()},[j]);const k=(0,e.useMemo)(()=>{let e=t.filter(e=>{var t,n,s,r,a,i,l,d,h;const m=o.toLowerCase(),p=(null===(t=e.installation)||void 0===t||null===(n=t.client)||void 0===n?void 0:n.name)||"",f=(null===(s=e.installation)||void 0===s||null===(r=s.client)||void 0===r?void 0:r.company_name)||"",g=(null===(a=e.installation)||void 0===a?void 0:a.name)||"",x=(null===(i=e.installation)||void 0===i||null===(l=i.custom_id)||void 0===l?void 0:l.toString())||"",v=p.toLowerCase().includes(m)||f.toLowerCase().includes(m)||g.toLowerCase().includes(m)||x.includes(m),b=new Date(e.paid_at),y=u.start?new Date(u.start):null,w=u.end?new Date(u.end):null;w&&w.setHours(23,59,59,999);const j=(!y||b>=y)&&(!w||b<=w),k=((null===(d=e.installation)||void 0===d?void 0:d.total_cost)||0)-((null===(h=e.installation)||void 0===h?void 0:h.paid_amount)||0);let N=!0;return"debtors"===c&&(N=k>0),"paid"===c&&(N=k<=0),v&&j&&N});return m.key&&e.sort((e,t)=>{let n=e[m.key],s=t[m.key];var r,a,i,o,l,c,d,u;"client"===m.key&&(n=(null===(r=e.installation)||void 0===r||null===(a=r.client)||void 0===a?void 0:a.company_name)||(null===(i=e.installation)||void 0===i||null===(o=i.client)||void 0===o?void 0:o.name),s=(null===(l=t.installation)||void 0===l||null===(c=l.client)||void 0===c?void 0:c.company_name)||(null===(d=t.installation)||void 0===d||null===(u=d.client)||void 0===u?void 0:u.name));return n<s?"ascending"===m.direction?-1:1:n>s?"ascending"===m.direction?1:-1:0}),e},[t,o,c,u,m]),N=(0,e.useMemo)(()=>{const e=new Map;let t=0;k.forEach(n=>{t+=n.amount,n.installation&&e.set(n.installation.custom_id,n.installation)});let n=0;return e.forEach(e=>{const t=(e.total_cost||0)-(e.paid_amount||0);t>0&&(n+=t)}),{count:k.length,totalPaid:t,totalDebt:n}},[k]),_=e=>{p(t=>({key:e,direction:t.key===e&&"ascending"===t.direction?"descending":"ascending"}))};return(0,or.jsx)(Tp,{children:(0,or.jsxs)("div",{className:"p-4 sm:p-8 space-y-6 max-w-[1600px] mx-auto pb-safe min-h-[calc(100dvh-80px)] flex flex-col",children:[(0,or.jsxs)("div",{className:"flex flex-col gap-4 flex-none",children:[(0,or.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,or.jsxs)("div",{children:[(0,or.jsxs)("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 tracking-tight flex items-center gap-2",children:[(0,or.jsx)(Kh,{className:"text-emerald-600"})," \u0424\u0456\u043d\u0430\u043d\u0441\u0438"]}),(0,or.jsx)("p",{className:"text-slate-500 text-sm mt-1",children:"\u0406\u0441\u0442\u043e\u0440\u0456\u044f \u043d\u0430\u0434\u0445\u043e\u0434\u0436\u0435\u043d\u044c \u0442\u0430 \u0437\u0430\u0431\u043e\u0440\u0433\u043e\u0432\u0430\u043d\u0456\u0441\u0442\u044c"})]}),(0,or.jsxs)("button",{onClick:()=>g(!0),className:"hidden sm:flex items-center justify-center gap-2 px-5 py-2.5 bg-emerald-600 text-white rounded-xl font-bold shadow-lg hover:bg-emerald-700 active:scale-95 transition-all w-full sm:w-auto",children:[(0,or.jsx)(Vm,{})," ",(0,or.jsx)("span",{children:"\u041d\u043e\u0432\u0438\u0439 \u043f\u043b\u0430\u0442\u0456\u0436"})]})]}),(0,or.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,or.jsx)(tg,{title:"\u041d\u0430\u0434\u0445\u043e\u0434\u0436\u0435\u043d\u043d\u044f (\u0412\u0438\u0431\u0456\u0440\u043a\u0430)",value:N.totalPaid,icon:Gh,color:"green"}),(0,or.jsx)(tg,{title:"\u0417\u0430\u0433\u0430\u043b\u044c\u043d\u0438\u0439 \u0431\u043e\u0440\u0433 (\u0412\u0438\u0431\u0456\u0440\u043a\u0430)",value:N.totalDebt,icon:lm,color:"red"}),(0,or.jsx)(tg,{title:"\u0422\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0456\u0439",value:N.count,icon:Um,color:"indigo",isCurrency:!1})]}),(0,or.jsxs)("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-slate-200 space-y-4",children:[(0,or.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 justify-between",children:[(0,or.jsxs)("div",{className:"relative flex-grow max-w-md",children:[(0,or.jsx)(qm,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),(0,or.jsx)("input",{type:"text",placeholder:"\u041f\u043e\u0448\u0443\u043a (\u041a\u043b\u0456\u0454\u043d\u0442, ID, \u0421\u0443\u043c\u0430)...",value:o,onChange:e=>l(e.target.value),className:"w-full pl-11 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-emerald-500 outline-none text-sm transition-all"})]}),(0,or.jsx)("div",{className:"flex bg-slate-100 p-1 rounded-xl w-full md:w-auto",children:[{id:"all",l:"\u0412\u0441\u0456"},{id:"debtors",l:"\u0411\u043e\u0440\u0436\u043d\u0438\u043a\u0438"},{id:"paid",l:"\u041e\u043f\u043b\u0430\u0447\u0435\u043d\u0456"}].map(e=>(0,or.jsx)("button",{onClick:()=>d(e.id),className:"flex-1 px-4 py-2 rounded-lg text-xs font-bold transition-all "+(c===e.id?"bg-white text-emerald-700 shadow-sm":"text-slate-500 hover:text-slate-700"),children:e.l},e.id))})]}),(0,or.jsxs)("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-3 text-sm text-slate-600 border-t border-slate-100 pt-4",children:[(0,or.jsxs)("div",{className:"flex items-center gap-2",children:[(0,or.jsx)("span",{className:"font-bold text-slate-700",children:"\u041f\u0435\u0440\u0456\u043e\u0434:"}),(0,or.jsx)("input",{type:"date",value:u.start,onChange:e=>h(t=>({...t,start:e.target.value})),className:"border border-slate-200 rounded-lg px-3 py-1.5 bg-white outline-none focus:border-emerald-500 text-xs"}),(0,or.jsx)("span",{className:"text-slate-400",children:"\u2014"}),(0,or.jsx)("input",{type:"date",value:u.end,onChange:e=>h(t=>({...t,end:e.target.value})),className:"border border-slate-200 rounded-lg px-3 py-1.5 bg-white outline-none focus:border-emerald-500 text-xs"})]}),(u.start||u.end)&&(0,or.jsx)("button",{onClick:()=>h({start:"",end:""}),className:"text-red-600 hover:bg-red-50 px-3 py-1.5 rounded-lg text-xs font-bold transition-colors ml-auto sm:ml-0 bg-red-50/50 border border-red-100",children:"\u0421\u043a\u0438\u043d\u0443\u0442\u0438"})]})]})]}),(0,or.jsx)("div",{className:"flex-1",children:a?(0,or.jsx)("div",{className:"text-center py-20 text-slate-400",children:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f..."}):0===k.length?(0,or.jsx)("div",{className:"text-center py-20 text-slate-400 bg-white rounded-2xl border border-dashed border-slate-200",children:"\u041f\u043b\u0430\u0442\u0435\u0436\u0456\u0432 \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e"}):(0,or.jsxs)(or.Fragment,{children:[(0,or.jsx)("div",{className:"hidden md:block bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:(0,or.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,or.jsx)("thead",{className:"bg-slate-50 border-b border-slate-200 text-xs uppercase text-slate-500 font-bold",children:(0,or.jsxs)("tr",{children:[(0,or.jsxs)("th",{className:"p-4 cursor-pointer hover:bg-slate-100",onClick:()=>_("paid_at"),children:["\u0414\u0430\u0442\u0430 ",(0,or.jsx)(Qm,{className:"inline ml-1"})]}),(0,or.jsxs)("th",{className:"p-4 cursor-pointer hover:bg-slate-100",onClick:()=>_("client"),children:["\u041a\u043b\u0456\u0454\u043d\u0442 ",(0,or.jsx)(Qm,{className:"inline ml-1"})]}),(0,or.jsxs)("th",{className:"p-4 cursor-pointer hover:bg-slate-100",onClick:()=>_("amount"),children:["\u0421\u0443\u043c\u0430 ",(0,or.jsx)(Qm,{className:"inline ml-1"})]}),(0,or.jsx)("th",{className:"p-4",children:"\u041f\u0440\u043e\u0435\u043a\u0442"}),(0,or.jsx)("th",{className:"p-4 text-center",children:"\u0421\u0442\u0430\u0442\u0443\u0441 \u0431\u043e\u0440\u0433\u0443"}),(0,or.jsx)("th",{className:"p-4 text-center",children:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440"})]})}),(0,or.jsx)("tbody",{className:"divide-y divide-slate-100 text-sm",children:k.map(e=>{var t,n,s,r,a,i;return(0,or.jsxs)("tr",{onClick:()=>v(e),className:"hover:bg-slate-50/50 transition-colors cursor-pointer",children:[(0,or.jsx)("td",{className:"p-4 text-slate-600 font-mono",children:new Date(e.paid_at).toLocaleDateString("uk-UA")}),(0,or.jsx)("td",{className:"p-4 font-bold text-slate-800",children:(null===(t=e.installation)||void 0===t||null===(n=t.client)||void 0===n?void 0:n.company_name)||(null===(s=e.installation)||void 0===s||null===(r=s.client)||void 0===r?void 0:r.name)}),(0,or.jsx)("td",{className:"p-4 font-bold text-emerald-600",children:Zf(e.amount)}),(0,or.jsxs)("td",{className:"p-4 text-slate-600",children:[(0,or.jsx)("div",{children:null===(a=e.installation)||void 0===a?void 0:a.name}),(0,or.jsxs)("div",{className:"text-xs text-slate-400 font-mono",children:["#",null===(i=e.installation)||void 0===i?void 0:i.custom_id]})]}),(0,or.jsx)("td",{className:"p-4 text-center",children:(0,or.jsx)(ng,{installation:e.installation})}),(0,or.jsx)("td",{className:"p-4 text-center",children:e.comment&&(0,or.jsx)(Wh,{className:"inline text-slate-400"})})]},e.id)})})]})}),(0,or.jsx)("div",{className:"md:hidden space-y-3",children:k.map(e=>(0,or.jsx)(sg,{payment:e,onClick:()=>v(e)},e.id))})]})}),(0,or.jsx)("div",{className:"sm:hidden fixed bottom-6 right-6 z-40",children:(0,or.jsx)("button",{onClick:()=>g(!0),className:"w-14 h-14 bg-emerald-600 hover:bg-emerald-700 text-white rounded-full flex items-center justify-center shadow-2xl active:scale-90 transition-transform",children:(0,or.jsx)(Vm,{size:24})})}),(0,or.jsxs)(Sr,{children:[f&&(0,or.jsx)(ag,{onClose:()=>g(!1),installations:s,onSuccess:j,showToast:w}),x&&(0,or.jsx)(rg,{onClose:()=>v(null),payment:x}),b&&(0,or.jsx)(ig,{...b,onClose:()=>y(null)},b.id)]})]})})}const lg="https://quiet-water-a1ad.kairosost38500.workers.dev",cg=["\u041a\u043e\u043c\u0435\u0440\u0446\u0456\u0439\u043d\u0430 \u043f\u0440\u043e\u043f\u043e\u0437\u0438\u0446\u0456\u044f","\u0422\u0435\u0445\u043d\u0456\u0447\u043d\u0438\u0439 \u043f\u0440\u043e\u0454\u043a\u0442","\u0424\u043e\u0442\u043e \u043e\u0431'\u0454\u043a\u0442\u0430","3D-\u0432\u0456\u0437\u0443\u0430\u043b\u0456\u0437\u0430\u0446\u0456\u044f","\u0424\u043e\u0442\u043e\u0437\u0432\u0456\u0442","\u0427\u0435\u043a","\u041d\u0430\u043a\u043b\u0430\u0434\u043d\u0430","\u0410\u043a\u0442","\u0406\u043d\u0448\u0435"],dg=(0,e.memo)(t=>{let{message:n,type:s,isVisible:r,onClose:a}=t;return(0,e.useEffect)(()=>{if(r){const e=setTimeout(a,4e3);return()=>clearTimeout(e)}},[r,a]),(0,or.jsx)(Sr,{children:r&&(0,or.jsx)(lh.div,{initial:{opacity:0,y:-20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.9},className:"fixed top-20 right-5 z-[200]",children:(0,or.jsxs)("div",{className:"px-4 py-3 rounded-xl shadow-xl flex items-center gap-3 text-white font-medium "+("error"===s?"bg-red-500":"bg-emerald-500"),children:["error"===s?(0,or.jsx)(tm,{}):(0,or.jsx)(Rh,{}),(0,or.jsx)("span",{children:n}),(0,or.jsx)("button",{onClick:a,children:(0,or.jsx)(ap,{})})]})})})}),ug=e=>{let{isOpen:t,onClose:n,onConfirm:s,fileName:r,isDeleting:a}=e;return(0,or.jsx)(Sr,{children:t&&(0,or.jsx)(lh.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[300] flex items-center justify-center p-4",onClick:n,children:(0,or.jsxs)(lh.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-2xl w-full max-w-sm shadow-2xl overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,or.jsxs)("div",{className:"p-6 text-center",children:[(0,or.jsx)("div",{className:"mx-auto flex items-center justify-center h-14 w-14 rounded-full bg-red-100 mb-4",children:(0,or.jsx)(op,{className:"h-6 w-6 text-red-600"})}),(0,or.jsx)("h3",{className:"text-lg leading-6 font-bold text-gray-900 mb-2",children:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442?"}),(0,or.jsxs)("p",{className:"text-sm text-gray-500",children:["\u0412\u0438 \u0437\u0431\u0438\u0440\u0430\u0454\u0442\u0435\u0441\u044c \u0431\u0435\u0437\u043f\u043e\u0432\u043e\u0440\u043e\u0442\u043d\u043e \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0444\u0430\u0439\u043b ",(0,or.jsx)("br",{}),(0,or.jsxs)("span",{className:"font-semibold text-gray-800",children:['"',r,'"']})," ",(0,or.jsx)("br",{}),"\u0437 Google \u0414\u0438\u0441\u043a\u0443. \u0426\u044e \u0434\u0456\u044e \u043d\u0435\u043c\u043e\u0436\u043b\u0438\u0432\u043e \u0441\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438."]})]}),(0,or.jsxs)("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse gap-2",children:[(0,or.jsx)("button",{type:"button",disabled:a,className:"w-full inline-flex justify-center rounded-xl border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-70 disabled:cursor-not-allowed flex items-center gap-2",onClick:s,children:a?(0,or.jsxs)(or.Fragment,{children:[(0,or.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"\u0412\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f..."]}):"\u0422\u0430\u043a, \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438"}),(0,or.jsx)("button",{type:"button",disabled:a,className:"mt-3 w-full inline-flex justify-center rounded-xl border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:n,children:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"})]})]})})})},hg=(0,e.memo)(e=>{let{doc:t,onPreview:n,onDeleteClick:s,canDelete:r}=e;return(0,or.jsxs)(lh.div,{layout:!0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-4 shadow-sm border border-slate-200 hover:shadow-md transition-all flex items-center gap-4 group",children:[(0,or.jsx)("div",{className:"p-3 bg-slate-50 rounded-lg group-hover:bg-slate-100 transition-colors",children:(i=t.mimeType,i.includes("pdf")?(0,or.jsx)(cm,{className:"text-red-500 text-3xl"}):i.includes("image")?(0,or.jsx)(om,{className:"text-blue-500 text-3xl"}):(0,or.jsx)(am,{className:"text-gray-500 text-3xl"}))}),(0,or.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,or.jsx)("h4",{className:"font-semibold text-slate-800 truncate",title:t.name,children:t.name}),(0,or.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:(a=t.createdTime,new Date(a).toLocaleDateString("uk-UA",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}))})]}),(0,or.jsxs)("div",{className:"flex gap-2",children:[(0,or.jsx)("button",{onClick:()=>n(t.webViewLink),className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",title:"\u041f\u0435\u0440\u0435\u0433\u043b\u044f\u043d\u0443\u0442\u0438",children:(0,or.jsx)(rm,{})}),t.webContentLink&&(0,or.jsx)("a",{href:t.webContentLink,className:"p-2 text-slate-400 hover:text-emerald-600 hover:bg-emerald-50 rounded-lg transition-colors",title:"\u0421\u043a\u0430\u0447\u0430\u0442\u0438",children:(0,or.jsx)(Jh,{})}),r&&(0,or.jsx)("button",{onClick:()=>s(t),className:"p-2 text-red-300 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0437 Google Drive",children:(0,or.jsx)(op,{})})]})]});var a,i});function mg(){var t;const n=(0,e.useRef)(null),{role:s}=cr(),r=["admin","super_admin","office"].includes(s),[a,i]=(0,e.useState)(""),[o,l]=(0,e.useState)([]),[c,d]=(0,e.useState)(null),[u,h]=(0,e.useState)(!1),[m,p]=(0,e.useState)([]),[f,g]=(0,e.useState)(!1),[x,v]=(0,e.useState)("\u0412\u0441\u0456"),[b,y]=(0,e.useState)([]),[w,j]=(0,e.useState)(cg[0]),[k,N]=(0,e.useState)(""),[_,S]=(0,e.useState)(!1),[C,E]=(0,e.useState)(null),[T,P]=(0,e.useState)({isVisible:!1,message:"",type:"success"}),[z,L]=(0,e.useState)(!1),[A,M]=(0,e.useState)({isOpen:!1,doc:null,isDeleting:!1});(0,e.useEffect)(()=>{const e=setTimeout(async()=>{if(!a||a.length<2)l([]);else{h(!0);try{let e=ar.from("installations").select("custom_id, name, client:clients(name)").limit(5);e=/^\d+$/.test(a)?e.eq("custom_id",parseInt(a)):e.ilike("name",`%${a}%`);const{data:t}=await e;l(t||[])}catch(e){console.error(e)}finally{h(!1)}}},300);return()=>clearTimeout(e)},[a]);const O=(0,e.useCallback)(async e=>{g(!0);try{const t=await fetch(`${lg}/documents/${e}`);if(!t.ok)throw new Error("Server error");const n=await t.json();if("error"===n.status)throw new Error(n.message);p(n.documents||[])}catch(t){console.error("Error fetching docs:",t),p([])}finally{g(!1)}},[]),D=e=>{M({isOpen:!0,doc:e,isDeleting:!1})},R=()=>{M({isOpen:!1,doc:null,isDeleting:!1})},$=(e,t)=>{P({isVisible:!0,message:e,type:t})},I=m.filter(e=>"\u0412\u0441\u0456"===x||e.name.startsWith(x));return(0,or.jsx)(Tp,{children:(0,or.jsxs)("div",{className:"p-4 sm:p-8 space-y-6 max-w-[1600px] mx-auto pb-safe min-h-[calc(100dvh-80px)] flex flex-col",children:[(0,or.jsx)(dg,{...T,onClose:()=>P(e=>({...e,isVisible:!1}))}),(0,or.jsx)(ug,{isOpen:A.isOpen,onClose:R,onConfirm:async()=>{const e=A.doc;if(e){M(e=>({...e,isDeleting:!0}));try{const t=await fetch(`${lg}/delete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({file_id:e.id})}),n=await t.json();if("success"!==n.status&&!t.ok)throw new Error(n.message||"\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u043f\u0440\u0438 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u0456");$("\u0424\u0430\u0439\u043b \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043e \u0437 Google Drive","success"),p(t=>t.filter(t=>t.id!==e.id)),R()}catch(t){console.error("Delete failed:",t),$("\u041d\u0435 \u0432\u0434\u0430\u043b\u043e\u0441\u044f \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0444\u0430\u0439\u043b: "+t.message,"error"),M(e=>({...e,isDeleting:!1}))}}},fileName:null===(t=A.doc)||void 0===t?void 0:t.name,isDeleting:A.isDeleting}),(0,or.jsx)("div",{className:"flex flex-col gap-4 flex-none",children:(0,or.jsxs)("div",{className:"flex items-center gap-3",children:[(0,or.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center shadow-lg",children:(0,or.jsx)(pm,{className:"text-white text-lg"})}),(0,or.jsxs)("div",{children:[(0,or.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800",children:"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0438"}),(0,or.jsx)("p",{className:"text-slate-500 text-sm",children:"\u041a\u0435\u0440\u0443\u0432\u0430\u043d\u043d\u044f \u0444\u0430\u0439\u043b\u0430\u043c\u0438 \u043e\u0431'\u0454\u043a\u0442\u0456\u0432"})]})]})}),(0,or.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 flex-1 min-h-0",children:[(0,or.jsxs)("div",{className:"lg:col-span-1 space-y-6 flex flex-col",children:[(0,or.jsxs)("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-slate-200 relative z-30",children:[(0,or.jsx)("h3",{className:"font-bold text-slate-800 mb-3 text-sm uppercase tracking-wide",children:"1. \u041f\u043e\u0448\u0443\u043a \u043e\u0431'\u0454\u043a\u0442\u0430"}),(0,or.jsxs)("div",{className:"relative",children:[(0,or.jsx)(qm,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),(0,or.jsx)("input",{type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430 \u0430\u0431\u043e ID...",value:a,onChange:e=>i(e.target.value),className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 transition outline-none text-sm"}),u&&(0,or.jsx)("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 w-4 h-4 border-2 border-indigo-500 border-t-transparent rounded-full animate-spin"})]}),(0,or.jsx)(Sr,{children:o.length>0&&(0,or.jsx)(lh.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"absolute left-0 right-0 top-full mt-2 bg-white rounded-xl shadow-xl border border-slate-100 overflow-hidden max-h-60 overflow-y-auto z-50 mx-5",children:o.map(e=>{var t;return(0,or.jsxs)("button",{onClick:()=>(e=>{d(e),i(""),l([]),O(e.custom_id)})(e),className:"w-full text-left px-4 py-3 hover:bg-indigo-50 border-b border-slate-50 last:border-0 transition-colors",children:[(0,or.jsx)("div",{className:"font-semibold text-slate-800 text-sm",children:e.name}),(0,or.jsxs)("div",{className:"text-xs text-slate-500 flex justify-between mt-1",children:[(0,or.jsxs)("span",{children:["ID: ",e.custom_id]}),(0,or.jsx)("span",{children:null===(t=e.client)||void 0===t?void 0:t.name})]})]},e.custom_id)})})}),c&&(0,or.jsxs)(lh.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-3 p-3 bg-indigo-50 border border-indigo-100 rounded-xl flex items-center justify-between",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("div",{className:"text-[10px] text-indigo-500 font-bold uppercase tracking-wide",children:"\u041e\u0431\u0440\u0430\u043d\u043e"}),(0,or.jsx)("div",{className:"font-bold text-slate-800 text-sm",children:c.name})]}),(0,or.jsx)("button",{onClick:()=>{d(null),p([])},className:"p-2 text-slate-400 hover:text-red-500",children:(0,or.jsx)(ap,{})})]})]}),(0,or.jsxs)("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-slate-200 transition-all flex-1 "+(c?"":"opacity-50 pointer-events-none grayscale"),children:[(0,or.jsx)("h3",{className:"font-bold text-slate-800 mb-3 text-sm uppercase tracking-wide",children:"2. \u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f"}),(0,or.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!c)return $("\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u043e\u0431'\u0454\u043a\u0442!","error");if(0===b.length)return $("\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0444\u0430\u0439\u043b\u0438!","error");const t="\u0406\u043d\u0448\u0435"===w?k:w;if(!t)return $("\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u0442\u0438\u043f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430!","error");S(!0);const n=new FormData;n.append("object_number",c.custom_id),n.append("doc_type",t),b.forEach(e=>{n.append("files",e)});try{const e=await fetch(`${lg}/upload/`,{method:"POST",body:n}),t=await e.json();if("success"!==t.status)throw new Error(t.message);$(`\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043e \u0444\u0430\u0439\u043b\u0456\u0432: ${t.count}`,"success"),y([]),N(""),O(c.custom_id)}catch(s){$("\u041f\u043e\u043c\u0438\u043b\u043a\u0430: "+s.message,"error")}finally{S(!1)}},className:"space-y-4",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-xs font-bold text-slate-500 mb-1.5 ml-1",children:"\u0422\u0438\u043f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430"}),(0,or.jsx)("select",{value:w,onChange:e=>j(e.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl appearance-none focus:ring-2 focus:ring-indigo-500 outline-none text-sm",children:cg.map(e=>(0,or.jsx)("option",{value:e,children:e},e))}),"\u0406\u043d\u0448\u0435"===w&&(0,or.jsx)(lh.input,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0442\u0438\u043f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430...",value:k,onChange:e=>N(e.target.value),className:"w-full mt-2 px-4 py-2 bg-white border border-indigo-200 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none text-sm"})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-xs font-bold text-slate-500 mb-1.5 ml-1",children:"\u0424\u0430\u0439\u043b\u0438"}),(0,or.jsxs)("label",{className:"flex flex-col items-center justify-center w-full h-24 border-2 border-dashed border-slate-300 rounded-xl cursor-pointer hover:bg-slate-50 hover:border-indigo-400 transition-colors bg-slate-50/50",children:[(0,or.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,or.jsx)(Hh,{className:"w-6 h-6 text-slate-400 mb-1"}),(0,or.jsx)("p",{className:"text-xs text-slate-500",children:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0444\u0430\u0439\u043b\u0438"})]}),(0,or.jsx)("input",{ref:n,type:"file",multiple:!0,className:"hidden",onChange:e=>{const t=Array.from(e.target.files);y(e=>[...e,...t]),n.current&&(n.current.value="")}})]})]}),b.length>0&&(0,or.jsx)("div",{className:"max-h-32 overflow-y-auto space-y-2 custom-scrollbar pr-1",children:b.map((e,t)=>(0,or.jsxs)("div",{className:"flex items-center justify-between p-2 bg-slate-50 rounded-lg border border-slate-100 text-xs",children:[(0,or.jsx)("span",{className:"truncate flex-1 mr-2 text-slate-700",children:e.name}),(0,or.jsx)("button",{type:"button",onClick:()=>{return e=t,void y(t=>t.filter((t,n)=>n!==e));var e},className:"text-red-400 hover:text-red-600 p-1",children:(0,or.jsx)(op,{})})]},t))}),(0,or.jsx)("button",{type:"submit",disabled:_||0===b.length,className:"w-full py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold rounded-xl shadow-lg disabled:opacity-50 flex justify-center items-center gap-2 hover:shadow-xl transition-all active:scale-95",children:_?(0,or.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438"})]})]})]}),(0,or.jsx)("div",{className:"lg:col-span-2 lg:h-full lg:min-h-[500px] h-auto",children:(0,or.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200 lg:h-full h-auto flex flex-col",children:[(0,or.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-4 border-b border-slate-100 pb-4 flex-none",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("h3",{className:"font-bold text-slate-800 text-lg",children:"\u0410\u0440\u0445\u0456\u0432 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0456\u0432"}),(0,or.jsx)("p",{className:"text-sm text-slate-500",children:c?`\u0424\u0430\u0439\u043b\u0438 \u0434\u043b\u044f "${c.name}"`:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u043e\u0431'\u0454\u043a\u0442 \u0437\u043b\u0456\u0432\u0430"})]}),c&&(0,or.jsxs)("div",{className:"relative z-20",children:[(0,or.jsxs)("button",{onClick:()=>L(!z),className:"flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-semibold transition "+(z?"bg-indigo-500 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"),children:[(0,or.jsx)(hm,{})," \u0424\u0456\u043b\u044c\u0442\u0440 ","\u0412\u0441\u0456"!==x&&`(${x.slice(0,5)}...)`]}),(0,or.jsx)(Sr,{children:z&&(0,or.jsxs)(lh.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},className:"absolute right-0 top-full mt-2 w-56 bg-white rounded-xl shadow-xl border border-slate-100 overflow-hidden",children:[(0,or.jsx)("button",{onClick:()=>{v("\u0412\u0441\u0456"),L(!1)},className:"w-full text-left px-4 py-3 hover:bg-indigo-50 text-sm font-medium border-b border-slate-50",children:"\u0412\u0441\u0456 \u0442\u0438\u043f\u0438"}),cg.map(e=>(0,or.jsx)("button",{onClick:()=>{v(e),L(!1)},className:"w-full text-left px-4 py-2.5 hover:bg-indigo-50 text-sm text-slate-700",children:e},e))]})})]})]}),(0,or.jsx)("div",{className:"lg:flex-1 lg:overflow-y-auto lg:pr-1 custom-scrollbar",children:c?f?(0,or.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,or.jsx)("div",{className:"h-16 bg-slate-100 rounded-xl animate-pulse"},e))}):0===I.length?(0,or.jsxs)("div",{className:"h-64 lg:h-full flex flex-col items-center justify-center text-slate-400 py-10",children:[(0,or.jsx)(pm,{className:"text-5xl mb-3 opacity-10"}),(0,or.jsx)("p",{children:"\u0424\u0430\u0439\u043b\u0456\u0432 \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e"})]}):(0,or.jsx)("div",{className:"grid grid-cols-1 gap-3",children:I.map(e=>(0,or.jsx)(hg,{doc:e,onPreview:E,onDeleteClick:D,canDelete:r},e.id))}):(0,or.jsxs)("div",{className:"h-64 lg:h-full flex flex-col items-center justify-center text-slate-400",children:[(0,or.jsx)(zh,{className:"text-6xl mb-4 opacity-10"}),(0,or.jsx)("p",{children:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u043e\u0431'\u0454\u043a\u0442 \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u0433\u043b\u044f\u0434\u0443 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0456\u0432"})]})})]})})]}),(0,or.jsx)(Sr,{children:C&&(0,or.jsxs)(lh.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/90 z-[300] flex flex-col p-4",onClick:()=>E(null),children:[(0,or.jsx)("div",{className:"flex justify-end mb-4",children:(0,or.jsx)("button",{className:"text-white/70 hover:text-white p-2 bg-white/10 rounded-full transition-colors",children:(0,or.jsx)(ap,{className:"text-2xl"})})}),(0,or.jsx)("div",{className:"flex-1 bg-white rounded-lg overflow-hidden relative",onClick:e=>e.stopPropagation(),children:(0,or.jsx)("iframe",{src:C.replace("/view","/preview"),className:"w-full h-full",title:"Document Preview",allow:"autoplay"})})]})})]})})}function pg(t){let{isOpen:n,onClose:s,project:r,currentUser:a,showToast:i}=t;const[o,l]=(0,e.useState)(""),[c,d]=(0,e.useState)(!1);return(0,or.jsx)(Sr,{children:n&&(0,or.jsx)(lh.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[60] flex items-center justify-center p-4",onClick:s,children:(0,or.jsxs)(lh.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl w-full max-w-md shadow-2xl p-6",onClick:e=>e.stopPropagation(),children:[(0,or.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,or.jsxs)("h3",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[(0,or.jsx)(Wh,{className:"text-indigo-600"}),"\u0414\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u0430 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f"]}),(0,or.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-600",children:(0,or.jsx)(ap,{})})]}),(0,or.jsxs)("div",{className:"mb-4",children:[(0,or.jsxs)("p",{className:"text-sm text-gray-500 mb-2",children:["\u0426\u0435 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u0431\u0443\u0434\u0435 \u043d\u0430\u0434\u0456\u0441\u043b\u0430\u043d\u043e \u0432 Telegram-\u0433\u0456\u043b\u043a\u0443 \u043e\u0431'\u0454\u043a\u0442\u0430 ",(0,or.jsxs)("b",{children:["#",r.custom_id]}),"."]}),(0,or.jsx)("textarea",{value:o,onChange:e=>l(e.target.value),rows:"5",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-indigo-500 outline-none resize-none text-sm",placeholder:"\u041d\u0430\u043f\u0438\u0448\u0456\u0442\u044c \u0432\u0430\u0436\u043b\u0438\u0432\u0443 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044e \u0442\u0443\u0442..."})]}),(0,or.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,or.jsx)("button",{onClick:s,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg text-sm font-medium",children:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"}),(0,or.jsx)("button",{onClick:async()=>{if(o.trim()){d(!0);try{const{error:e}=await ar.from("project_additional_info").insert({installation_custom_id:r.custom_id,message_text:o,author_name:(null===a||void 0===a?void 0:a.name)||(null===a||void 0===a?void 0:a.email)||"\u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440",is_sent_to_telegram:!1});if(e)throw e;i("\u041f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u0432\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0432 \u0447\u0435\u0440\u0433\u0443","success"),l(""),s()}catch(e){console.error(e),i("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0432\u0456\u0434\u043f\u0440\u0430\u0432\u043a\u0438","error")}finally{d(!1)}}},disabled:c||!o.trim(),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg text-sm font-bold hover:bg-indigo-700 disabled:opacity-50 flex items-center gap-2",children:c?"\u0412\u0456\u0434\u043f\u0440\u0430\u0432\u043a\u0430...":(0,or.jsxs)(or.Fragment,{children:[(0,or.jsx)(Mm,{})," \u0412\u0456\u0434\u043f\u0440\u0430\u0432\u0438\u0442\u0438"]})})]})]})})})}const fg="https://quiet-water-a1ad.kairosost38500.workers.dev",gg=["\u041a\u043e\u043c\u0435\u0440\u0446\u0456\u0439\u043d\u0430 \u043f\u0440\u043e\u043f\u043e\u0437\u0438\u0446\u0456\u044f","\u0422\u0435\u0445\u043d\u0456\u0447\u043d\u0438\u0439 \u043f\u0440\u043e\u0454\u043a\u0442","\u0424\u043e\u0442\u043e\u0437\u0432\u0456\u0442","\u0424\u043e\u0442\u043e \u043e\u0431'\u0454\u043a\u0442\u0430","3D-\u0432\u0456\u0437\u0443\u0430\u043b\u0456\u0437\u0430\u0446\u0456\u044f","\u0427\u0435\u043a","\u041d\u0430\u043a\u043b\u0430\u0434\u043d\u0430","\u0410\u043a\u0442","\u0406\u043d\u0448\u0435"],xg=e=>e?e.includes("pdf")?(0,or.jsx)(cm,{className:"text-red-500 text-4xl"}):e.includes("image")?(0,or.jsx)(om,{className:"text-blue-500 text-4xl"}):e.includes("sheet")||e.includes("excel")?(0,or.jsx)(im,{className:"text-green-600 text-4xl"}):e.includes("word")||e.includes("document")?(0,or.jsx)(um,{className:"text-blue-700 text-4xl"}):(0,or.jsx)(am,{className:"text-gray-400 text-4xl"}):(0,or.jsx)(am,{className:"text-gray-400 text-4xl"});function vg(t){let{project:n}=t;const{id:s}=ne(),r=(null===n||void 0===n?void 0:n.custom_id)||s,[a,i]=(0,e.useState)([]),[o,l]=(0,e.useState)(!1),[c,d]=(0,e.useState)([]),[u,h]=(0,e.useState)(""),[m,p]=(0,e.useState)(""),[f,g]=(0,e.useState)(!1),[x,v]=(0,e.useState)(!1),[b,y]=(0,e.useState)(!1),[w,j]=(0,e.useState)(null),[k,N]=(0,e.useState)("\u0412\u0441\u0456"),[_,S]=(0,e.useState)(null),C=(0,e.useRef)(null),E=(0,e.useCallback)(async()=>{if(!r)return;const e=new AbortController,t=e.signal;l(!0);try{const e=await fetch(`${fg}/documents/${r}`,{signal:t}),n=await e.json();if("error"===n.status)throw new Error(n.message);i(n.documents||[])}catch(n){"AbortError"!==n.name&&(console.error(n),T("error","\u041d\u0435 \u0432\u0434\u0430\u043b\u043e\u0441\u044f \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0438"))}finally{l(!1)}return()=>e.abort()},[r]);(0,e.useEffect)(()=>{E()},[E]);const T=(e,t)=>{S({type:e,msg:t}),setTimeout(()=>S(null),3e3)},P=(0,e.useMemo)(()=>"\u0412\u0441\u0456"===k?a:a.filter(e=>(e.docType||"\u0406\u043d\u0448\u0435")===k),[a,k]),z=(0,e.useMemo)(()=>{const e={"\u0412\u0441\u0456":a.length};return gg.forEach(t=>e[t]=0),a.forEach(t=>{const n=t.docType||"\u0406\u043d\u0448\u0435";e[n]=(e[n]||0)+1}),e},[a]),L=e=>{e&&e.length>0&&d(t=>[...t,...Array.from(e)])};return(0,or.jsxs)("div",{className:"min-h-screen bg-slate-50 flex flex-col p-4 md:p-6",children:[(0,or.jsxs)("div",{className:"max-w-[1600px] mx-auto w-full grid grid-cols-1 lg:grid-cols-4 gap-6 items-start",children:[(0,or.jsx)("div",{className:"lg:col-span-1 space-y-6",children:(0,or.jsxs)("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-slate-200 sticky top-6",children:[(0,or.jsxs)("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2 text-sm uppercase tracking-wide",children:[(0,or.jsx)(Hh,{className:"text-indigo-500"})," \u0414\u043e\u0434\u0430\u0442\u0438 \u0444\u0430\u0439\u043b"]}),(0,or.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!u)return y(!0),void T("error","\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u043e\u0431\u0435\u0440\u0456\u0442\u044c \u0442\u0438\u043f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430");if(0===c.length)return;const t="\u0406\u043d\u0448\u0435"===u?m.trim():u;if(!t)return T("error","\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u043d\u0430\u0437\u0432\u0443 \u0442\u0438\u043f\u0443 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430");g(!0);const n=new FormData;n.append("object_number",r),n.append("doc_type",t),c.forEach(e=>n.append("files",e));try{const e=await fetch(`${fg}/upload/`,{method:"POST",body:n}),t=await e.json();"success"===t.status?(T("success",`\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043e \u0444\u0430\u0439\u043b\u0456\u0432: ${t.count}`),d([]),p(""),h(""),y(!1),E()):T("error",t.message)}catch(s){T("error","\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0437'\u0454\u0434\u043d\u0430\u043d\u043d\u044f")}finally{g(!1)}},className:"space-y-4",children:[(0,or.jsxs)("div",{className:"relative",children:[(0,or.jsxs)("label",{className:"block text-[10px] font-bold text-slate-400 uppercase mb-1",children:["\u0422\u0438\u043f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430 ",(0,or.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,or.jsxs)("div",{className:"relative",children:[(0,or.jsxs)("select",{value:u,onChange:e=>{h(e.target.value),y(!1)},className:`\n                                            w-full p-2.5 pr-8 rounded-xl border text-sm focus:ring-2 outline-none transition font-medium text-slate-700 appearance-none cursor-pointer\n                                            ${b?"border-red-500 bg-red-50 focus:ring-red-200":"border-slate-200 bg-slate-50 focus:ring-indigo-500 focus:bg-white"}\n                                        `,children:[(0,or.jsx)("option",{value:"",disabled:!0,children:"-- \u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0442\u0438\u043f --"}),gg.map(e=>(0,or.jsx)("option",{value:e,children:e},e))]}),(0,or.jsx)($h,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none text-xs"})]}),b&&(0,or.jsx)("p",{className:"text-[10px] text-red-500 mt-1 font-bold animate-pulse",children:"\u041d\u0435\u043e\u0431\u0445\u0456\u0434\u043d\u043e \u043e\u0431\u0440\u0430\u0442\u0438 \u0442\u0438\u043f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430!"})]}),"\u0406\u043d\u0448\u0435"===u&&(0,or.jsx)("input",{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u0430\u0437\u0432\u0443...",value:m,onChange:e=>p(e.target.value),className:"w-full p-2.5 rounded-xl border border-indigo-200 bg-indigo-50 text-sm focus:bg-white outline-none"}),(0,or.jsxs)("div",{className:`\n                                    relative border-2 border-dashed rounded-xl p-6 transition-all text-center cursor-pointer group\n                                    ${x?"border-indigo-500 bg-indigo-50 scale-[1.02]":"border-slate-300 hover:border-indigo-400 hover:bg-slate-50"}\n                                `,onDragOver:e=>{e.preventDefault(),v(!0)},onDragLeave:e=>{e.preventDefault(),v(!1)},onDrop:e=>{e.preventDefault(),v(!1),L(e.dataTransfer.files)},onClick:()=>{var e;return null===(e=C.current)||void 0===e?void 0:e.click()},children:[(0,or.jsx)("input",{type:"file",multiple:!0,ref:C,onChange:e=>L(e.target.files),className:"hidden"}),(0,or.jsx)("div",{className:"w-12 h-12 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center mx-auto mb-3 group-hover:scale-110 transition",children:(0,or.jsx)(Hh,{size:20})}),(0,or.jsx)("p",{className:"text-xs text-slate-500 font-bold",children:"\u041d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c \u0430\u0431\u043e \u043f\u0435\u0440\u0435\u0442\u044f\u0433\u043d\u0456\u0442\u044c"})]}),(0,or.jsx)(Sr,{children:c.length>0&&(0,or.jsx)(lh.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:(0,or.jsx)("div",{className:"bg-slate-50 rounded-xl border border-slate-200 max-h-32 overflow-y-auto custom-scrollbar p-2 space-y-1",children:c.map((e,t)=>(0,or.jsxs)("div",{className:"flex justify-between items-center text-xs p-2 bg-white rounded border border-slate-100 shadow-sm",children:[(0,or.jsx)("span",{className:"truncate max-w-[80%] text-slate-600",children:e.name}),(0,or.jsx)("button",{type:"button",onClick:()=>d(e=>e.filter((e,n)=>n!==t)),className:"text-red-400 hover:text-red-600",children:(0,or.jsx)(op,{})})]},t))})})}),(0,or.jsxs)("button",{type:"submit",disabled:f||0===c.length,className:"w-full py-3 bg-slate-900 text-white rounded-xl text-sm font-bold shadow-lg hover:bg-slate-800 disabled:opacity-50 disabled:shadow-none flex justify-center items-center gap-2 transition active:scale-[0.98]",children:[f?(0,or.jsx)(Zm,{className:"animate-spin"}):(0,or.jsx)(Rh,{}),f?"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f...":"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u0444\u0430\u0439\u043b\u0438"]})]})]})}),(0,or.jsxs)("div",{className:"lg:col-span-3 flex flex-col gap-6",children:[(0,or.jsxs)("div",{className:"flex justify-between items-center bg-white p-3 rounded-2xl shadow-sm border border-slate-200",children:[(0,or.jsxs)("div",{className:"text-xs font-bold text-slate-400 uppercase flex items-center gap-2 px-2",children:[(0,or.jsx)(hm,{className:"text-indigo-500"})," \u0424\u0456\u043b\u044c\u0442\u0440 \u0444\u0430\u0439\u043b\u0456\u0432"]}),(0,or.jsxs)("div",{className:"relative min-w-[200px] md:min-w-[250px]",children:[(0,or.jsxs)("select",{value:k,onChange:e=>N(e.target.value),className:"w-full p-2 pl-4 pr-10 rounded-xl bg-slate-50 border border-slate-200 text-sm font-bold text-slate-700 outline-none focus:ring-2 focus:ring-indigo-500 appearance-none cursor-pointer hover:bg-slate-100 transition",children:[(0,or.jsxs)("option",{value:"\u0412\u0441\u0456",children:["\u0412\u0441\u0456 \u0444\u0430\u0439\u043b\u0438 (",z["\u0412\u0441\u0456"],")"]}),gg.map(e=>(0,or.jsxs)("option",{value:e,children:[e," (",z[e]||0,")"]},e))]}),(0,or.jsx)($h,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none text-xs"})]})]}),(0,or.jsx)("div",{children:o?(0,or.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:Array.from({length:8}).map((e,t)=>(0,or.jsxs)("div",{className:"aspect-[4/5] bg-white rounded-2xl border border-slate-200 p-4 flex flex-col gap-3 animate-pulse",children:[(0,or.jsx)("div",{className:"flex-1 bg-slate-100 rounded-xl w-full"}),(0,or.jsx)("div",{className:"h-4 bg-slate-100 rounded w-3/4"})]},t))}):0===P.length?(0,or.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[400px] bg-white rounded-3xl border border-dashed border-slate-300 text-slate-400",children:[(0,or.jsx)("div",{className:"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center mb-4",children:(0,or.jsx)(kp,{size:30,className:"opacity-50"})}),(0,or.jsx)("p",{className:"font-bold text-lg",children:"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0456\u0432 \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e"}),(0,or.jsx)("p",{className:"text-sm",children:"\u0421\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0437\u043c\u0456\u043d\u0438\u0442\u0438 \u0444\u0456\u043b\u044c\u0442\u0440 \u0430\u0431\u043e \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0442\u0435 \u0444\u0430\u0439\u043b"})]}):(0,or.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:(0,or.jsx)(Sr,{mode:"popLayout",children:P.map(e=>(0,or.jsx)(bg,{doc:e,onPreview:()=>j(e.webViewLink)},e.id))})})})]})]}),(0,or.jsx)(Sr,{children:w&&(0,or.jsxs)(lh.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] bg-black/90 p-4 flex flex-col backdrop-blur-md",children:[(0,or.jsxs)("div",{className:"flex justify-between items-center text-white mb-4 max-w-7xl mx-auto w-full",children:[(0,or.jsxs)("h3",{className:"font-bold text-lg flex items-center gap-2",children:[(0,or.jsx)(rm,{})," \u041f\u043e\u043f\u0435\u0440\u0435\u0434\u043d\u0456\u0439 \u043f\u0435\u0440\u0435\u0433\u043b\u044f\u0434"]}),(0,or.jsx)("button",{onClick:()=>j(null),className:"p-2 hover:bg-white/10 rounded-full transition",children:(0,or.jsx)(ap,{size:24})})]}),(0,or.jsx)("div",{className:"flex-grow bg-white rounded-2xl overflow-hidden shadow-2xl max-w-7xl mx-auto w-full relative",children:(0,or.jsx)("iframe",{src:w.replace("/view","/preview"),className:"w-full h-full border-0",title:"Preview"})})]})}),(0,or.jsx)(Sr,{children:_&&(0,or.jsxs)(lh.div,{initial:{opacity:0,y:50,x:"-50%"},animate:{opacity:1,y:0,x:"-50%"},exit:{opacity:0,y:20,x:"-50%"},className:`fixed bottom-10 left-1/2 transform -translate-x-1/2 px-6 py-3 rounded-2xl shadow-2xl flex items-center gap-3 font-bold text-sm z-[90]\n                            ${"error"===_.type?"bg-red-500 text-white":"bg-slate-900 text-white"}\n                        `,children:["error"===_.type?(0,or.jsx)(tm,{}):(0,or.jsx)(Rh,{}),_.msg]})})]})}const bg=e=>{var t;let{doc:n,onPreview:s}=e;const r=null===(t=n.mimeType)||void 0===t?void 0:t.includes("image"),a=r?`${fg}/thumb/${n.id}`:null;return(0,or.jsxs)(lh.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"group bg-white rounded-2xl border border-slate-200 overflow-hidden hover:shadow-lg hover:border-indigo-300 transition-all duration-300 flex flex-col relative aspect-[3/4]",children:[(0,or.jsxs)("div",{className:"flex-1 bg-slate-50 relative overflow-hidden flex items-center justify-center p-4 cursor-pointer",onClick:s,children:[r&&a?(0,or.jsx)("img",{src:a,alt:n.name,className:"w-full h-full object-cover absolute inset-0 group-hover:scale-105 transition-transform duration-500",loading:"lazy",onError:e=>{e.target.style.display="none",e.target.parentNode.setAttribute("data-error","true")}}):(0,or.jsx)("div",{className:"transform group-hover:scale-110 transition-transform duration-300",children:xg(n.mimeType)}),r&&a&&(0,or.jsx)("div",{className:"hidden [data-error='true'] & block absolute inset-0 flex items-center justify-center pointer-events-none",children:xg(n.mimeType)}),(0,or.jsxs)("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-3 backdrop-blur-[2px]",children:[(0,or.jsx)("button",{className:"p-3 bg-white text-slate-900 rounded-full shadow-lg hover:scale-110 transition",title:"\u041f\u0435\u0440\u0435\u0433\u043b\u044f\u0434",children:(0,or.jsx)(rm,{})}),n.webContentLink&&(0,or.jsx)("a",{href:n.webContentLink,onClick:e=>e.stopPropagation(),className:"p-3 bg-white text-emerald-600 rounded-full shadow-lg hover:scale-110 transition",title:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438",children:(0,or.jsx)(Jh,{})})]})]}),(0,or.jsxs)("div",{className:"p-3 bg-white border-t border-slate-100 shrink-0",children:[(0,or.jsxs)("div",{className:"flex justify-between items-start gap-2",children:[(0,or.jsxs)("div",{className:"min-w-0",children:[(0,or.jsx)("p",{className:"text-xs font-bold text-slate-800 truncate leading-tight",title:n.name,children:n.name}),(0,or.jsx)("p",{className:"text-[10px] text-slate-400 mt-1 truncate",children:n.docType||"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442"})]}),r&&(0,or.jsx)(jm,{className:"text-slate-300 text-xs shrink-0"})]}),(0,or.jsx)("div",{className:"mt-2 text-[10px] text-slate-400 font-medium",children:new Date(n.createdTime).toLocaleDateString()})]})]})},yg="http://prem-eu1.bot-hosting.net:20174",wg=[{key:"tech_review",label:"\u0417\u0430\u043c\u0456\u0440\u0438",icon:Pm},{key:"project",label:"\u041f\u0440\u043e\u0435\u043a\u0442",icon:Yh},{key:"proposal",label:"\u041a\u041f",icon:lm},{key:"equipment",label:"\u041e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f",icon:lp},{key:"complectation",label:"\u041a\u043e\u043c\u043f\u043b\u0435\u043a\u0442\u0430\u0446\u0456\u044f",icon:Eh},{key:"installation",label:"\u041c\u043e\u043d\u0442\u0430\u0436",icon:Jm},{key:"grid_connection",label:"\u041c\u0435\u0440\u0435\u0436\u0430",icon:dm},{key:"monitoring_setup",label:"\u0417\u0430\u043f\u0443\u0441\u043a",icon:Ph}],jg={tech_review:[{id:"tech_review",title:"\u041f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u043d\u044f \u0437\u0430\u043c\u0456\u0440\u0456\u0432"}],project:[{id:"project_design",title:"\u0420\u043e\u0437\u0440\u043e\u0431\u043a\u0430 3D \u0432\u0456\u0437\u0443\u0430\u043b\u0456\u0437\u0430\u0446\u0456\u0457 (\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f)"},{id:"project_approval",title:"\u0412\u0438\u0431\u0456\u0440 \u0442\u0430 \u0437\u0430\u0442\u0432\u0435\u0440\u0434\u0436\u0435\u043d\u043d\u044f \u0432\u0430\u0440\u0456\u0430\u043d\u0442\u0443"}],proposal:[{id:"commercial_proposal",title:"\u041a\u043e\u043c\u0435\u0440\u0446\u0456\u0439\u043d\u0430 \u043f\u0440\u043e\u043f\u043e\u0437\u0438\u0446\u0456\u044f"}],equipment:[{id:"equipment",title:"\u0417\u0430\u043a\u0443\u043f\u0456\u0432\u043b\u044f \u043e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f"}],complectation:[{id:"complectation",title:"\u041a\u043e\u043c\u043f\u043b\u0435\u043a\u0442\u0430\u0446\u0456\u044f \u043c\u0430\u0442\u0435\u0440\u0456\u0430\u043b\u0456\u0432"},{id:"comp_protection",title:"\u041a\u043e\u043c\u043f\u043b\u0435\u043a\u0442\u0430\u0446\u0456\u044f \u0435\u043b. \u0437\u0430\u0445\u0438\u0441\u0442\u0443"}],installation:[{id:"inst_structure",title:"\u041c\u043e\u043d\u0442\u0430\u0436 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u0457"},{id:"inst_panels",title:"\u0412\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043f\u0430\u043d\u0435\u043b\u0435\u0439"},{id:"inst_cabling",title:"\u041f\u0440\u043e\u043a\u043b\u0430\u0434\u0430\u043d\u043d\u044f \u0442\u0440\u0430\u0441\u0438 DC"},{id:"inst_grounding",title:"\u0417\u0430\u0437\u0435\u043c\u043b\u0435\u043d\u043d\u044f"},{id:"inst_inverter",title:"\u041f\u0456\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u044f \u0456\u043d\u0432\u0435\u0440\u0442\u043e\u0440\u0430"}],grid_connection:[{id:"grid_connection",title:"\u0417\u0430\u0432\u0435\u0434\u0435\u043d\u043d\u044f \u043f\u043e\u0442\u0443\u0436\u043d\u043e\u0441\u0442\u0456"}],monitoring_setup:[{id:"monitoring_setup",title:"\u0417\u0430\u043f\u0443\u0441\u043a \u0441\u0442\u0430\u043d\u0446\u0456\u0457"}]},kg={default:[{key:"todo",label:"\u041d\u0435 \u043f\u043e\u0447\u0430\u0442\u043e",color:"bg-slate-50 text-slate-500 border-slate-200"},{key:"in_progress",label:"\u0412 \u0440\u043e\u0431\u043e\u0442\u0456",color:"bg-indigo-50 text-indigo-700 border-indigo-200"},{key:"done",label:"\u0412\u0438\u043a\u043e\u043d\u0430\u043d\u043e",color:"bg-emerald-50 text-emerald-700 border-emerald-200"}],proposal:[{key:"waiting",label:"\u041e\u0447\u0456\u043a\u0443\u0454\u043c\u043e",color:"bg-amber-50 text-amber-700 border-amber-200"},{key:"in_progress",label:"\u0412 \u043f\u0440\u043e\u0446\u0435\u0441\u0456",color:"bg-indigo-50 text-indigo-700 border-indigo-200"},{key:"created",label:"\u0417\u0440\u043e\u0431\u043b\u0435\u043d\u043e",color:"bg-blue-50 text-blue-700 border-blue-200"},{key:"approved",label:"\u041f\u043e\u0433\u043e\u0434\u0436\u0435\u043d\u043e",color:"bg-emerald-50 text-emerald-700 border-emerald-200"}],project:[{key:"waiting",label:"\u041e\u0447\u0456\u043a\u0443\u0454\u043c\u043e",color:"bg-amber-50 text-amber-700 border-amber-200"},{key:"in_progress",label:"\u0412 \u0440\u043e\u0437\u0440\u043e\u0431\u0446\u0456",color:"bg-indigo-50 text-indigo-700 border-indigo-200"},{key:"created",label:"\u0417\u0440\u043e\u0431\u043b\u0435\u043d\u043e",color:"bg-blue-50 text-blue-700 border-blue-200"},{key:"approved",label:"\u0417\u0430\u0442\u0432\u0435\u0440\u0434\u0436\u0435\u043d\u043e",color:"bg-emerald-50 text-emerald-700 border-emerald-200"}],equipment:[{key:"waiting",label:"\u041d\u0435 \u0440\u043e\u0437\u043f\u043e\u0447\u0430\u0442\u043e",color:"bg-slate-50 text-slate-500 border-slate-200"},{key:"in_progress",label:"\u0412 \u0440\u043e\u0431\u043e\u0442\u0456",color:"bg-indigo-50 text-indigo-700 border-indigo-200"},{key:"ordered",label:"\u0417\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043e",color:"bg-purple-50 text-purple-700 border-purple-200"},{key:"arrived",label:"\u041f\u0440\u0438\u0431\u0443\u043b\u043e",color:"bg-emerald-50 text-emerald-700 border-emerald-200"}],tech_review:[{key:"waiting_client",label:"\u041e\u0447\u0456\u043a\u0443\u0454\u043c\u043e \u0432\u0456\u0434 \u043a\u043b\u0456\u0454\u043d\u0442\u0430",color:"bg-amber-50 text-amber-700 border-amber-200"},{key:"done_on_site",label:"\u0412\u0438\u043a\u043e\u043d\u0430\u043b\u0438 \u043d\u0430 \u0432\u0438\u0457\u0437\u0434\u0456",color:"bg-blue-50 text-blue-700 border-blue-200"},{key:"completed",label:"\u0412\u0438\u043a\u043e\u043d\u0430\u043d\u043e",color:"bg-emerald-50 text-emerald-700 border-emerald-200"}],installation:[{key:"waiting_start",label:"\u041e\u0447\u0456\u043a\u0443\u0454\u043c\u043e \u0441\u0442\u0430\u0440\u0442",color:"bg-slate-50 text-slate-500 border-slate-200"},{key:"started",label:"\u0420\u043e\u0437\u043f\u043e\u0447\u0430\u0442\u043e",color:"bg-indigo-50 text-indigo-700 border-indigo-200"},{key:"completed",label:"\u0412\u0438\u043a\u043e\u043d\u0430\u043d\u043e",color:"bg-emerald-50 text-emerald-700 border-emerald-200"}],project_selector:[{key:"selection_needed",label:"\u041d\u0435\u043e\u0431\u0445\u0456\u0434\u043d\u043e \u043e\u0431\u0440\u0430\u0442\u0438",color:"bg-amber-50 text-amber-700 border-amber-200"},{key:"selected",label:"\u041e\u0431\u0440\u0430\u043d\u043e",color:"bg-emerald-50 text-emerald-700 border-emerald-200"}]},Ng={waiting:"\u041e\u0447\u0456\u043a\u0443\u0454\u043c\u043e",waiting_start:"\u041e\u0447\u0456\u043a\u0443\u0454\u043c\u043e \u0441\u0442\u0430\u0440\u0442",not_started:"\u041d\u0435 \u0440\u043e\u0437\u043f\u043e\u0447\u0430\u0442\u043e",started:"\u0412 \u0440\u043e\u0431\u043e\u0442\u0456",created:"\u0417\u0440\u043e\u0431\u043b\u0435\u043d\u043e",arrived:"\u041f\u0440\u0438\u0431\u0443\u043b\u043e",done_on_site:"\u0412\u0438\u043a\u043e\u043d\u0430\u043b\u0438 \u043d\u0430 \u0432\u0438\u0457\u0437\u0434\u0456",completed:"\u0412\u0438\u043a\u043e\u043d\u0430\u043d\u043e",todo:"\u041d\u0435 \u043f\u043e\u0447\u0430\u0442\u043e",in_progress:"\u0412 \u0440\u043e\u0431\u043e\u0442\u0456",done:"\u0412\u0438\u043a\u043e\u043d\u0430\u043d\u043e",ordered:"\u0417\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043e",approved:"\u041f\u043e\u0433\u043e\u0434\u0436\u0435\u043d\u043e",waiting_client:"\u041e\u0447\u0456\u043a\u0443\u0454\u043c\u043e \u0432\u0456\u0434 \u043a\u043b\u0456\u0454\u043d\u0442\u0430",selection_needed:"\u041e\u0447\u0456\u043a\u0443\u0454 \u0432\u0438\u0431\u043e\u0440\u0443",selected:"\u0412\u0430\u0440\u0456\u0430\u043d\u0442 \u043e\u0431\u0440\u0430\u043d\u043e"},_g=(e,t)=>{let n=kg.default;kg[e]?n=kg[e]:"installation"===e&&(n=kg.installation);const s=n.find(e=>e.key===t);if(s)return s;return{label:Ng[t]||t,color:"bg-slate-100 text-slate-500 border-slate-200"}},Sg=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:240;return`https://drive.google.com/thumbnail?id=${encodeURIComponent(e)}&sz=w${t}-h${t}`},Cg=e=>`https://drive.google.com/thumbnail?id=${encodeURIComponent(e)}&sz=w1600`;const Eg=e=>e?new Date(e).toLocaleString("uk-UA",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"}):"";async function Tg(e){let{user:t,employee:n}=e;if(null!==n&&void 0!==n&&n.name)return n.name;let s=(null===t||void 0===t?void 0:t.email)||"\u041d\u0435\u0432\u0456\u0434\u043e\u043c\u0438\u0439";if(null!==t&&void 0!==t&&t.id){const{data:e}=await ar.from("employees").select("name").eq("user_id",t.id).maybeSingle();if(null!==e&&void 0!==e&&e.name)return e.name}return s}function Pg(t){let{installationId:n,onClose:s}=t;const[r,a]=(0,e.useState)([]),[i,o]=(0,e.useState)(!0),[l,c]=(0,e.useState)(null),d=async()=>{try{o(!0);const e=await fetch(`${yg}/design/variants/${n}`),t=await e.json();t&&"success"===t.status?(a(t.items),c(null)):c("\u041d\u0435 \u0432\u0434\u0430\u043b\u043e\u0441\u044f \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0432\u0430\u0440\u0456\u0430\u043d\u0442\u0438")}catch(px){console.error(px),c("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0437'\u0454\u0434\u043d\u0430\u043d\u043d\u044f \u0437 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c \u0434\u0438\u0437\u0430\u0439\u043d\u0443")}finally{o(!1)}};(0,e.useEffect)(()=>{n&&d()},[n]);return(0,or.jsxs)("div",{className:"flex flex-col h-full bg-slate-50",children:[(0,or.jsxs)("div",{className:"p-5 border-b border-slate-200 bg-white flex justify-between items-center shadow-sm z-10",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("h3",{className:"font-extrabold text-lg text-slate-900",children:"\u0417\u0430\u0442\u0432\u0435\u0440\u0434\u0436\u0435\u043d\u043d\u044f \u0434\u0438\u0437\u0430\u0439\u043d\u0443"}),(0,or.jsx)("p",{className:"text-xs text-slate-500",children:'\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0444\u0456\u043d\u0430\u043b\u044c\u043d\u0438\u0439 \u0432\u0430\u0440\u0456\u0430\u043d\u0442 (\u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u0456 \u0432 \u0435\u0442\u0430\u043f\u0456 "\u041f\u0440\u043e\u0435\u043a\u0442")'})]}),(0,or.jsx)("button",{onClick:s,className:"p-2 bg-slate-100 rounded-full text-slate-500 hover:bg-slate-200",type:"button",children:(0,or.jsx)(ap,{})})]}),(0,or.jsxs)("div",{className:"flex-1 overflow-y-auto p-5 custom-scrollbar",children:[i&&(0,or.jsxs)("div",{className:"flex flex-col items-center justify-center h-40 text-slate-400",children:[(0,or.jsx)(Zm,{className:"animate-spin text-2xl mb-2"})," \u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f..."]}),!i&&!l&&0===r.length&&(0,or.jsxs)("div",{className:"text-center py-12 px-4 border-2 border-dashed border-slate-200 rounded-2xl bg-white",children:[(0,or.jsx)(jm,{className:"mx-auto text-4xl text-slate-200 mb-3"}),(0,or.jsx)("p",{className:"text-slate-500 font-bold",children:"\u0412\u0430\u0440\u0456\u0430\u043d\u0442\u0456\u0432 \u0449\u0435 \u043d\u0435\u043c\u0430\u0454"}),(0,or.jsx)("p",{className:"text-xs text-slate-400 mt-1 max-w-xs mx-auto",children:'\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0442\u0435 \u0444\u043e\u0442\u043e \u0432 \u0437\u0430\u0432\u0434\u0430\u043d\u043d\u0456 "\u0420\u043e\u0437\u0440\u043e\u0431\u043a\u0430 3D", \u0456 \u0432\u043e\u043d\u0438 \u0437\'\u044f\u0432\u043b\u044f\u0442\u044c\u0441\u044f \u0442\u0443\u0442.'})]}),l&&!i&&(0,or.jsx)("div",{className:"text-center py-10 text-red-500 font-bold",children:l}),(0,or.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:r.map(e=>(0,or.jsxs)("div",{onClick:()=>(async e=>{try{a(t=>t.map(t=>({...t,is_selected:t.id===e}))),await fetch(`${yg}/design/select`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({variant_id:e,installation_custom_id:n})})}catch(px){alert("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u0437\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043d\u0456. \u0421\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0449\u0435 \u0440\u0430\u0437."),d()}})(e.id),className:"relative rounded-xl overflow-hidden border-2 transition-all cursor-pointer group bg-white "+(e.is_selected?"border-emerald-500 shadow-xl ring-2 ring-emerald-100 scale-[1.01]":"border-slate-200 hover:border-indigo-400"),children:[(0,or.jsxs)("div",{className:"aspect-video bg-slate-100 relative border-b border-slate-50",children:[(0,or.jsx)("img",{src:Cg(e.google_file_id),alt:"Design",className:"w-full h-full object-contain"}),e.is_selected&&(0,or.jsx)("div",{className:"absolute inset-0 bg-emerald-500/10 flex items-center justify-center backdrop-blur-[1px]",children:(0,or.jsxs)("div",{className:"bg-white text-emerald-600 px-4 py-2 rounded-full font-bold shadow-lg flex items-center gap-2 transform scale-110",children:[(0,or.jsx)(Dh,{})," \u0417\u0410\u0422\u0412\u0415\u0420\u0414\u0416\u0415\u041d\u041e"]})})]}),(0,or.jsxs)("div",{className:"p-3 flex justify-between items-center",children:[(0,or.jsxs)("div",{className:"flex flex-col overflow-hidden pr-2",children:[(0,or.jsx)("span",{className:"font-bold text-xs truncate "+(e.is_selected?"text-emerald-700":"text-slate-700"),children:e.file_name}),(0,or.jsx)("span",{className:"text-[10px] text-slate-400",children:new Date(e.created_at).toLocaleDateString()})]}),(0,or.jsx)("div",{className:"shrink-0 w-6 h-6 rounded-full border-2 flex items-center justify-center transition-colors "+(e.is_selected?"border-emerald-500 bg-emerald-500 text-white":"border-slate-200"),children:e.is_selected&&(0,or.jsx)(Rh,{size:10})})]})]},e.id))})]})]})}function zg(t){let{task:n,stageGroupKey:s,onClose:r,onAddUpdate:a,isLoading:i,employees:o,currentResponsibleId:l}=t;const[c,d]=(0,e.useState)("");let u=kg.default;kg[s]?u=kg[s]:"installation"===s&&(u=kg.installation);const h=u.find(e=>e.key===n.status)?n.status:u[0].key,[m,p]=(0,e.useState)(h),[f,g]=(0,e.useState)(l),[x,v]=(0,e.useState)([]),b=(0,e.useRef)(null),y=!["equipment","proposal"].includes(s),w=m!==n.status||c.trim().length>0||x.length>0||String(f)!==String(l);return(0,e.useEffect)(()=>()=>x.forEach(e=>URL.revokeObjectURL(e.preview)),[x]),(0,or.jsx)("div",{className:"fixed inset-0 z-[50] flex items-end sm:items-center justify-center bg-slate-900/40 backdrop-blur-sm animate-fade-in p-0 sm:p-4",children:(0,or.jsxs)("div",{className:"bg-white w-full max-w-lg h-[90vh] sm:h-auto sm:max-h-[90vh] sm:rounded-2xl rounded-t-2xl flex flex-col shadow-2xl overflow-hidden",children:[(0,or.jsxs)("div",{className:"p-5 border-b border-slate-100 flex justify-between items-start bg-white shrink-0",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043d\u043d\u044f \u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f"}),(0,or.jsx)("h3",{className:"font-extrabold text-lg text-slate-900 leading-tight",children:n.title})]}),(0,or.jsx)("button",{onClick:r,className:"p-2 bg-slate-50 rounded-full text-slate-500 hover:bg-slate-100 transition",type:"button",children:(0,or.jsx)(ap,{})})]}),(0,or.jsxs)("div",{className:"flex-1 overflow-y-auto p-5 custom-scrollbar bg-slate-50/50",children:[(0,or.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-slate-200 shadow-sm mb-6 space-y-5",children:[(0,or.jsxs)("div",{children:[(0,or.jsxs)("h4",{className:"text-xs font-black text-slate-900 uppercase tracking-wide mb-3 flex items-center gap-2",children:[(0,or.jsx)(Uh,{className:"text-indigo-500"})," \u0421\u0442\u0430\u0442\u0443\u0441"]}),(0,or.jsx)("div",{className:"grid grid-cols-1 gap-2",children:u.map(e=>{const t=m===e.key;return(0,or.jsxs)("button",{onClick:()=>p(e.key),className:"w-full py-3 px-4 rounded-xl text-sm font-bold transition-all flex items-center justify-between border "+(t?`${e.color.replace("text-","border-").split(" ")[0]} ${e.color} ring-1 ring-inset ring-black/5`:"bg-white border-slate-200 text-slate-500 hover:bg-slate-50"),type:"button",children:[(0,or.jsx)("span",{children:e.label}),t&&(0,or.jsx)(Rh,{})]},e.key)})})]}),(0,or.jsx)(Mg,{label:"\u0412\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0430\u043b\u044c\u043d\u0438\u0439 \u0437\u0430 \u0435\u0442\u0430\u043f",employees:o,selectedId:f,onSelect:g}),(0,or.jsxs)("div",{children:[(0,or.jsx)("div",{className:"text-[11px] font-bold text-slate-500 uppercase mb-1",children:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440"}),(0,or.jsx)("textarea",{value:c,onChange:e=>d(e.target.value),placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440...",className:"w-full p-3 text-sm bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none min-h-[80px] font-medium text-slate-700"})]}),y&&(0,or.jsxs)("div",{children:[(0,or.jsx)("input",{type:"file",multiple:!0,accept:"image/*",ref:b,onChange:e=>{if(e.target.files){const t=Array.from(e.target.files).map(e=>({file:e,preview:URL.createObjectURL(e)}));v(e=>[...e,...t])}},className:"hidden"}),x.length>0&&(0,or.jsxs)("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[x.map((e,t)=>(0,or.jsxs)("div",{className:"relative aspect-square rounded-lg overflow-hidden border border-slate-200 group",children:[(0,or.jsx)("img",{src:e.preview,alt:"preview",className:"w-full h-full object-cover"}),(0,or.jsx)("button",{onClick:()=>{return e=t,void v(t=>t.filter((t,n)=>n!==e));var e},className:"absolute top-1 right-1 bg-red-500 text-white p-1 rounded-full opacity-90 hover:opacity-100 transition shadow-sm",type:"button",children:(0,or.jsx)(op,{size:10})})]},t)),(0,or.jsx)("button",{onClick:()=>{var e;return null===(e=b.current)||void 0===e?void 0:e.click()},className:"aspect-square rounded-lg border-2 border-dashed border-slate-200 flex items-center justify-center text-slate-400 hover:border-indigo-400 hover:text-indigo-500 transition",type:"button",children:(0,or.jsx)(Vm,{})})]}),0===x.length&&(0,or.jsxs)("button",{onClick:()=>{var e;return null===(e=b.current)||void 0===e?void 0:e.click()},className:"w-full py-2.5 border border-dashed border-indigo-200 text-indigo-600 bg-indigo-50/50 rounded-xl text-xs font-bold flex items-center justify-center gap-2 hover:bg-indigo-50 transition",type:"button",children:[(0,or.jsx)(Oh,{})," \u0414\u043e\u0434\u0430\u0442\u0438 \u0444\u043e\u0442\u043e"]})]})]}),(0,or.jsxs)("div",{children:[(0,or.jsxs)("h4",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-2 flex items-center gap-2",children:[(0,or.jsx)(ym,{})," \u0425\u0440\u043e\u043d\u043e\u043b\u043e\u0433\u0456\u044f"]}),(0,or.jsx)(Rg,{logs:n.history,stageGroupKey:s})]})]}),(0,or.jsx)("div",{className:"p-4 border-t border-slate-100 bg-white shrink-0",children:(0,or.jsxs)("button",{onClick:()=>{if(!w)return;let e=c;a(n.id,{status:m,comment:e,photos:[],rawFiles:x.map(e=>e.file),assigned_to:f})},disabled:i||!w,className:"w-full py-3.5 rounded-xl font-bold text-lg shadow-lg transition flex justify-center items-center gap-2 "+(w?"bg-indigo-600 text-white hover:bg-indigo-700 shadow-indigo-200 active:scale-[0.98]":"bg-slate-100 text-slate-400 cursor-not-allowed"),type:"button",children:[i&&(0,or.jsx)(Zm,{className:"animate-spin"})," \u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u0437\u043c\u0456\u043d\u0438"]})})]})})}function Lg(e){return"project"===e.stageGroupKey&&"project_approval"===e.task.id?(0,or.jsx)("div",{className:"fixed inset-0 z-[50] flex items-center justify-center bg-slate-900/40 backdrop-blur-sm animate-fade-in p-4",children:(0,or.jsx)("div",{className:"bg-slate-50 w-full max-w-4xl h-[80vh] rounded-2xl shadow-2xl overflow-hidden flex flex-col",children:(0,or.jsx)(Pg,{installationId:e.installationId,onClose:e.onClose})})}):(0,or.jsx)(zg,{...e})}function Ag(e){let{isOpen:t,onClose:n,onConfirm:s,title:r,message:a}=e;return t?(0,or.jsx)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in",children:(0,or.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-sm w-full p-6 transform transition-all scale-100",children:[(0,or.jsxs)("div",{className:"flex items-center gap-3 text-amber-500 mb-4",children:[(0,or.jsx)(tm,{size:24}),(0,or.jsx)("h3",{className:"text-lg font-bold text-slate-900",children:r})]}),(0,or.jsx)("p",{className:"text-slate-600 mb-6 leading-relaxed",children:a}),(0,or.jsxs)("div",{className:"flex gap-3",children:[(0,or.jsx)("button",{onClick:n,className:"flex-1 py-3 px-4 rounded-xl font-bold text-slate-700 bg-slate-100 hover:bg-slate-200 transition",type:"button",children:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"}),(0,or.jsx)("button",{onClick:s,className:"flex-1 py-3 px-4 rounded-xl font-bold text-white bg-slate-900 hover:bg-slate-800 transition shadow-lg",type:"button",children:"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438"})]})]})}):null}function Mg(t){let{employees:n,selectedId:s,onSelect:r,label:a}=t;const[i,o]=(0,e.useState)(!1),[l,c]=(0,e.useState)(""),d=(0,e.useRef)(null),u=(n||[]).find(e=>String(e.custom_id)===String(s)),h=(n||[]).filter(e=>{if(!l)return!0;const t=l.toLowerCase();return(e.name||"").toLowerCase().includes(t)||String(e.custom_id).includes(t)});return(0,e.useEffect)(()=>{function e(e){d.current&&!d.current.contains(e.target)&&o(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,or.jsxs)("div",{className:"min-w-0 relative",ref:d,children:[(0,or.jsxs)("div",{className:"text-[11px] font-bold text-slate-500 uppercase mb-1 flex items-center gap-1",children:[(0,or.jsx)(vp,{})," ",a]}),(0,or.jsx)("div",{className:"relative",onClick:()=>o(!0),children:(0,or.jsxs)("div",{className:"w-full flex items-center justify-between border rounded-xl px-3 py-2.5 text-sm bg-white cursor-text transition-all "+(i?"ring-2 ring-indigo-500 border-indigo-500":"border-slate-200 hover:border-indigo-300"),children:[!i&&u?(0,or.jsxs)("span",{className:"font-bold text-slate-800 truncate pr-2",children:[u.name," ",(0,or.jsxs)("span",{className:"text-slate-400 font-normal",children:["#",u.custom_id]})]}):(0,or.jsx)("input",{type:"text",className:"w-full outline-none bg-transparent placeholder:text-slate-400 font-medium",placeholder:u?u.name:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0456\u043c'\u044f \u0430\u0431\u043e ID...",value:l,onChange:e=>{c(e.target.value),o(!0)},autoFocus:i}),(0,or.jsxs)("div",{className:"flex items-center gap-1 text-slate-400",children:[u&&!i&&(0,or.jsx)("button",{onClick:e=>{e.stopPropagation(),r(null),c("")},className:"p-1 hover:text-red-500 hover:bg-red-50 rounded-full transition",type:"button",children:(0,or.jsx)(ap,{})}),!i&&(0,or.jsx)(qm,{className:"text-xs"})]})]})}),i&&(0,or.jsx)("div",{className:"absolute z-50 w-full mt-1 bg-white border border-slate-200 rounded-xl shadow-xl max-h-60 overflow-y-auto custom-scrollbar animate-in fade-in zoom-in-95 duration-100",children:h.length>0?h.map(e=>(0,or.jsxs)("button",{onClick:()=>{r(e.custom_id),o(!1),c("")},className:"w-full text-left px-4 py-3 text-sm flex justify-between items-center hover:bg-indigo-50 transition border-b border-slate-50 last:border-0 "+(String(s)===String(e.custom_id)?"bg-indigo-50/50 text-indigo-700":"text-slate-700"),type:"button",children:[(0,or.jsxs)("div",{className:"flex flex-col",children:[(0,or.jsx)("span",{className:"font-bold",children:e.name}),(0,or.jsx)("span",{className:"text-xs text-slate-400",children:e.position||"\u041f\u0440\u0430\u0446\u0456\u0432\u043d\u0438\u043a"})]}),(0,or.jsxs)("span",{className:"text-xs font-mono bg-slate-100 px-2 py-1 rounded text-slate-500",children:["#",e.custom_id]})]},e.id)):(0,or.jsx)("div",{className:"px-4 py-3 text-sm text-slate-400 text-center italic",children:"\u041d\u0456\u043a\u043e\u0433\u043e \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e"})})]})}function Og(t){let{activeStage:n,onSelect:s}=t;const r=(0,e.useRef)(null),a=(0,e.useRef)({});return(0,e.useEffect)(()=>{const e=a.current[n];e&&r.current&&e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})},[n]),(0,or.jsx)("div",{ref:r,className:"flex overflow-x-auto gap-2 px-4 py-4 bg-white border-b border-slate-100 sticky top-0 z-30 no-scrollbar shadow-sm",children:wg.map(e=>{const t=e.key===n;return(0,or.jsxs)("button",{ref:t=>a.current[e.key]=t,onClick:()=>s(e.key),className:"shrink-0 px-4 py-2.5 rounded-xl text-sm font-extrabold transition-all duration-300 flex items-center gap-2 border "+(t?"bg-slate-900 text-white border-slate-900 shadow-md scale-105":"bg-white text-slate-500 border-slate-200 hover:bg-slate-50 hover:text-slate-700"),type:"button",children:[(0,or.jsx)(e.icon,{className:t?"text-yellow-400":"text-slate-400"})," ",e.label]},e.key)})})}function Dg(t){let{isOpen:n,onClose:s,fileIds:r,startIndex:a=0}=t;const[i,o]=(0,e.useState)(a);if((0,e.useEffect)(()=>{n&&o(a)},[n,a]),!n)return null;const l=r[i];return(0,or.jsx)("div",{className:"fixed inset-0 z-[70] flex items-center justify-center bg-black/70 backdrop-blur-sm p-4 animate-in fade-in",children:(0,or.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-5xl overflow-hidden",children:[(0,or.jsxs)("div",{className:"p-3 border-b border-slate-100 flex items-center justify-between",children:[(0,or.jsxs)("div",{className:"text-xs font-bold text-slate-500",children:["\u0424\u043e\u0442\u043e ",i+1," / ",r.length]}),(0,or.jsxs)("div",{className:"flex items-center gap-2",children:[(0,or.jsx)("button",{onClick:()=>o(Math.max(0,i-1)),disabled:0===i,className:"px-3 py-2 rounded-xl border font-bold text-xs bg-white",type:"button",children:"\u041d\u0430\u0437\u0430\u0434"}),(0,or.jsx)("button",{onClick:()=>o(Math.min(r.length-1,i+1)),disabled:i===r.length-1,className:"px-3 py-2 rounded-xl border font-bold text-xs bg-white",type:"button",children:"\u0414\u0430\u043b\u0456"}),(0,or.jsx)("button",{onClick:s,className:"p-2 bg-slate-100 rounded-full",type:"button",children:(0,or.jsx)(ap,{})})]})]}),(0,or.jsx)("div",{className:"bg-black flex items-center justify-center",children:(0,or.jsx)("img",{src:Cg(l),alt:"\u0424\u043e\u0442\u043e",className:"max-h-[78vh] w-auto object-contain"})})]})})}function Rg(t){let{logs:n,stageGroupKey:s}=t;const[r,a]=(0,e.useState)(!1),[i,o]=(0,e.useState)([]),[l,c]=(0,e.useState)(0);return n&&0!==n.length?(0,or.jsxs)(or.Fragment,{children:[(0,or.jsx)("div",{className:"space-y-4 mt-4",children:n.map(e=>{var t;const n=e.old_status&&e.new_status&&e.old_status!==e.new_status,r=n?_g(s,e.old_status):null,i=n?_g(s,e.new_status):null,l=Array.isArray(e.photo_file_ids)?e.photo_file_ids.filter(Boolean):[];return(0,or.jsxs)("div",{className:"flex gap-3 relative group",children:[(0,or.jsx)("div",{className:"absolute left-[15px] top-8 bottom-[-20px] w-0.5 bg-slate-100 group-last:hidden"}),(0,or.jsx)("div",{className:"w-8 h-8 rounded-full bg-slate-50 flex items-center justify-center shrink-0 z-10 border border-slate-200 bg-white shadow-sm",children:(0,or.jsx)("span",{className:"text-[10px] font-black text-slate-600 uppercase",children:(null===(t=e.actor)||void 0===t?void 0:t[0])||"U"})}),(0,or.jsxs)("div",{className:"flex-1 bg-white rounded-xl p-3 border border-slate-100 shadow-sm",children:[(0,or.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,or.jsx)("span",{className:"font-bold text-xs text-slate-800",children:e.actor||e.user||"\u041d\u0435\u0432\u0456\u0434\u043e\u043c\u0438\u0439"}),(0,or.jsx)("span",{className:"text-[10px] font-bold text-slate-400",children:e.date||Eg(e.created_at)})]}),n&&(0,or.jsxs)("div",{className:"mb-2 flex flex-wrap items-center gap-2 text-xs",children:[(0,or.jsx)("span",{className:`px-2 py-0.5 rounded border ${r.color} opacity-60 line-through`,children:r.label}),(0,or.jsx)(wh,{className:"text-slate-300 text-[10px]"}),(0,or.jsx)("span",{className:`px-2 py-0.5 rounded border ${i.color} font-bold`,children:i.label})]}),e.comment&&(0,or.jsx)("p",{className:"text-sm text-slate-700 mb-2 leading-relaxed whitespace-pre-line bg-slate-50/50 p-2 rounded-lg",children:e.comment}),l.length>0&&(0,or.jsx)("div",{className:"flex gap-2 mt-2 flex-wrap",children:l.map((e,t)=>(0,or.jsxs)("button",{type:"button",onClick:()=>{return e=t,o(l),c(e),void a(!0);var e},className:"block w-12 h-10 bg-slate-100 rounded border border-slate-200 overflow-hidden hover:bg-slate-200 transition",children:[(0,or.jsx)("img",{src:Sg(e),alt:"preview",className:"w-full h-full object-cover",onError:e=>{e.currentTarget.style.display="none"}}),(0,or.jsx)("div",{className:"w-full h-full flex items-center justify-center text-slate-400",children:(0,or.jsx)(jm,{size:14})})]},`${e}-${t}`))})]})]},e.id)})}),(0,or.jsx)(Dg,{isOpen:r,onClose:()=>a(!1),fileIds:i,startIndex:l})]}):(0,or.jsx)("div",{className:"text-center text-slate-400 py-6 text-xs italic",children:"\u0406\u0441\u0442\u043e\u0440\u0456\u044f \u043f\u043e\u0440\u043e\u0436\u043d\u044f."})}function $g(t){let{project:n}=t;const s=te(),{user:r,employee:a}=cr(),[i,o]=(0,e.useState)((null===n||void 0===n?void 0:n.workflow_stage)||"tech_review"),[l,c]=(0,e.useState)([]),[d,u]=(0,e.useState)([]),[h,m]=(0,e.useState)(!1),[p,f]=(0,e.useState)(!1),[g,x]=(0,e.useState)(null),[v,b]=(0,e.useState)({isOpen:!1,title:"",message:"",onConfirm:null}),y=null===n||void 0===n?void 0:n.custom_id,w=(0,e.useCallback)(async()=>{try{const{data:e,error:t}=await ar.from("employees").select("id, custom_id, name, position").order("custom_id",{ascending:!0}).limit(300);if(t)throw t;u(Array.isArray(e)?e:[])}catch(px){console.error("Employees load error:",px),u([])}},[]),j=(0,e.useCallback)(async()=>{if(y){m(!0);try{const[e,t]=await Promise.all([ar.from("project_stages").select("stage_key, status").eq("installation_custom_id",y),ar.from("workflow_events").select("*").eq("installation_custom_id",y).order("created_at",{ascending:!1})]);if(e.error)throw e.error;if(t.error)throw t.error;const n=(e.data||[]).reduce((e,t)=>(e[t.stage_key]=t.status,e),{}),s=(t.data||[]).map(e=>({...e,user:e.actor||"\u041d\u0435\u0432\u0456\u0434\u043e\u043c\u0438\u0439",date:Eg(e.created_at)})),r=(jg[i]||[]).map(e=>{const t=e.id;let r=(null===n||void 0===n?void 0:n[t])||"todo";null!==n&&void 0!==n&&n[t]||(r="equipment"===t||"project_design"===t||"commercial_proposal"===t?"waiting":"todo"),"project_approval"===t&&(r="selection_needed");const a=s.filter(e=>e.stage_key===t);return{...e,status:r,history:a,responsibleId:null}});c(r)}catch(px){console.error("Workflow Load Error:",px)}finally{m(!1)}}},[y,i]);(0,e.useEffect)(()=>{w()},[w]),(0,e.useEffect)(()=>{j()},[j]);const k=[...l];return(0,or.jsxs)("div",{className:"w-full h-full flex flex-col bg-white",children:[(0,or.jsx)(Og,{activeStage:i,onSelect:o}),(0,or.jsxs)("div",{className:"flex-1 p-4 md:p-6 bg-slate-50 overflow-y-auto",children:[(0,or.jsxs)("div",{className:"max-w-7xl mx-auto mb-6 flex flex-col sm:flex-row gap-3 items-center justify-between",children:[(null===n||void 0===n?void 0:n.workflow_stage)!==i&&(0,or.jsxs)("button",{onClick:()=>{var e;const t=null===(e=wg.find(e=>e.key===i))||void 0===e?void 0:e.label;b({isOpen:!0,title:"\u0417\u043c\u0456\u043d\u0438\u0442\u0438 \u0435\u0442\u0430\u043f \u043f\u0440\u043e\u0435\u043a\u0442\u0443?",message:`\u0412\u0438 \u0432\u043f\u0435\u0432\u043d\u0435\u043d\u0456, \u0449\u043e \u0445\u043e\u0447\u0435\u0442\u0435 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0438 \u0435\u0442\u0430\u043f "${t}" \u044f\u043a \u043f\u043e\u0442\u043e\u0447\u043d\u0438\u0439 \u0430\u043a\u0442\u0438\u0432\u043d\u0438\u0439 \u0435\u0442\u0430\u043f \u0434\u043b\u044f \u0432\u0441\u044c\u043e\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0443?`,onConfirm:async()=>{try{if(!r)return void alert("\u041d\u0435\u043c\u0430\u0454 \u0441\u0435\u0441\u0456\u0457. \u041f\u0435\u0440\u0435\u0437\u0430\u0439\u0434\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442.");const e=await Tg({user:r,employee:a}),{data:t,error:n}=await ar.rpc("update_workflow_stage",{p_installation_id:y,p_stage_key:i,p_new_status:"active",p_actor:e,p_comment:"",p_photos:[],p_photo_file_ids:[],p_new_responsible:null,p_set_as_global_stage:!0});if(n)throw n;if(t&&!1===t.success)return void alert(t.message||"\u041f\u043e\u043c\u0438\u043b\u043a\u0430");window.location.reload()}catch(px){alert(`\u041f\u043e\u043c\u0438\u043b\u043a\u0430: ${(null===px||void 0===px?void 0:px.message)||"\u041f\u043e\u043c\u0438\u043b\u043a\u0430"}`)}finally{b(e=>({...e,isOpen:!1}))}}})},className:"text-xs font-bold text-indigo-600 bg-indigo-50 px-4 py-3 rounded-xl hover:bg-indigo-100 transition flex items-center gap-2 border border-indigo-200 shadow-sm w-full sm:w-auto justify-center",type:"button",children:[(0,or.jsx)(sp,{})," \u0417\u0440\u043e\u0431\u0438\u0442\u0438 \u0446\u0435\u0439 \u0435\u0442\u0430\u043f \u043f\u043e\u0442\u043e\u0447\u043d\u0438\u043c"]}),"tech_review"===i&&(0,or.jsxs)("button",{onClick:()=>{s(`/measurements/${y}`)},className:"w-full sm:w-auto bg-slate-900 hover:bg-slate-800 text-white px-5 py-3 rounded-xl shadow-lg transition flex items-center justify-center gap-3 font-bold text-sm",type:"button",children:[(0,or.jsx)(ip,{className:"text-yellow-400"})," \u0406\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u0437\u0430\u043c\u0456\u0440\u0456\u0432"]})]}),h&&(0,or.jsx)("div",{className:"flex justify-center py-10 text-slate-400",children:(0,or.jsx)(Zm,{className:"animate-spin text-3xl"})}),!h&&(0,or.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-w-7xl mx-auto",children:k.map(e=>{let t;t="project_approval"===e.id?kg.project_selector.find(t=>t.key===e.status)||kg.project_selector[0]:((e,t)=>{if("project"===e&&"project_approval"===(null===g||void 0===g?void 0:g.id)){const e=kg.project_selector;return e.find(e=>e.key===t)||e[0]}return _g(e,t)})(i,e.status);const n=e.history&&e.history[0],s=["done","launched","approved","selected","completed","done_on_site","arrived","created"].includes(e.status);return(0,or.jsxs)("div",{onClick:()=>x(e),className:"group p-5 rounded-2xl border shadow-sm transition-all cursor-pointer flex flex-col justify-between relative overflow-hidden min-h-[140px] "+(s?"bg-slate-50 border-slate-200 opacity-90 hover:opacity-100":"bg-white border-slate-200 hover:shadow-md hover:border-indigo-200"),children:[s&&(0,or.jsx)(Dh,{className:"absolute -right-4 -bottom-4 text-7xl text-emerald-500/10 pointer-events-none"}),(0,or.jsxs)("div",{children:[(0,or.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,or.jsx)("div",{className:"font-extrabold text-lg leading-snug pr-2 transition-colors "+(s?"text-slate-500":"text-slate-900 group-hover:text-indigo-700"),children:e.title}),!s&&(0,or.jsx)(Vh,{className:"text-slate-300 mt-1 shrink-0 group-hover:text-indigo-300"})]}),"project_approval"===e.id?(0,or.jsxs)("div",{className:"flex items-center gap-2 text-indigo-600 font-bold text-xs uppercase tracking-wide",children:[(0,or.jsx)(gm,{className:"animate-pulse"})," \u041d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c \u0434\u043b\u044f \u0432\u0438\u0431\u043e\u0440\u0443"]}):(0,or.jsxs)("div",{className:"flex flex-wrap gap-2 items-center mb-3",children:[(0,or.jsx)("span",{className:`px-2.5 py-1.5 rounded-lg text-[11px] font-extrabold uppercase tracking-wider border ${t.color}`,children:t.label}),n&&(0,or.jsxs)("span",{className:"text-xs text-slate-400 font-bold flex items-center gap-1 bg-white px-2 py-1 rounded border border-slate-100",children:[(0,or.jsx)(Uh,{size:10})," ",n.date]})]})]}),n&&n.comment&&!s&&(0,or.jsx)("div",{className:"mt-auto pt-3 border-t border-slate-100",children:(0,or.jsxs)("div",{className:"text-xs text-slate-600 italic line-clamp-2 flex gap-2",children:[(0,or.jsxs)("span",{className:"font-bold not-italic text-slate-800",children:[n.actor||n.user,":"]}),'"',n.comment,'"']})})]},e.id)})})]}),g&&(0,or.jsx)(Lg,{task:g,stageGroupKey:i,onClose:()=>x(null),onAddUpdate:async(e,t)=>{if(y)if(r){f(!0);try{var n;let s=[],i=[];if(null!==t&&void 0!==t&&null!==(n=t.rawFiles)&&void 0!==n&&n.length){const n=await async function(e){let{files:t,installationId:n,stageKey:s}=e;if(!t||0===t.length)return{links:[],fileIds:[]};const r=new FormData;t.forEach(e=>r.append("files",e)),r.append("object_number",String(n)),r.append("doc_type","\u0424\u043e\u0442\u043e\u0437\u0432\u0456\u0442"),s&&r.append("stage_key",s);const a=`${yg}/workflow/upload`,i=await fetch(a,{method:"POST",body:r});let o;try{o=await i.json()}catch{o=null}if(!i.ok||!o||"success"!==o.status){const e=o&&(o.message||o.detail)||`Upload error (${i.status})`;throw new Error(e)}const l=Array.isArray(o.files)?o.files:[];return{links:l.map(e=>null===e||void 0===e?void 0:e.webViewLink).filter(Boolean),fileIds:l.map(e=>null===e||void 0===e?void 0:e.fileId).filter(Boolean)}}({files:t.rawFiles,installationId:y,stageKey:e});s=n.links||[],i=n.fileIds||[]}const o=[...Array.isArray(t.photos)?t.photos:[],...s],l=[...Array.isArray(t.photo_file_ids)?t.photo_file_ids:[],...i],c=await Tg({user:r,employee:a}),{data:d,error:u}=await ar.rpc("update_workflow_stage",{p_installation_id:y,p_stage_key:e,p_new_status:t.status,p_actor:c,p_comment:t.comment||"",p_photos:o,p_photo_file_ids:l,p_new_responsible:t.assigned_to||null,p_set_as_global_stage:!1});if(u)throw u;if(d&&!1===d.success)return void alert(d.message||"\u0417\u043c\u0456\u043d \u043d\u0435 \u0432\u0438\u044f\u0432\u043b\u0435\u043d\u043e \u0430\u0431\u043e \u0441\u0442\u0430\u043b\u0430\u0441\u044f \u043f\u043e\u043c\u0438\u043b\u043a\u0430");x(null),await j()}catch(px){alert(`\u041f\u043e\u043c\u0438\u043b\u043a\u0430: ${(null===px||void 0===px?void 0:px.message)||"\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0437'\u0454\u0434\u043d\u0430\u043d\u043d\u044f"}`)}finally{f(!1)}}else alert("\u041d\u0435\u043c\u0430\u0454 \u0441\u0435\u0441\u0456\u0457. \u041f\u0435\u0440\u0435\u0437\u0430\u0439\u0434\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442.")},isLoading:p,employees:d,currentResponsibleId:g.responsibleId,installationId:y}),(0,or.jsx)(Ag,{isOpen:v.isOpen,onClose:()=>b(e=>({...e,isOpen:!1})),onConfirm:v.onConfirm,title:v.title,message:v.message})]})}const Ig={planning:"\u041f\u043b\u0430\u043d\u0443\u0432\u0430\u043d\u043d\u044f",in_progress:"\u0412\u0438\u043a\u043e\u043d\u0443\u0454\u0442\u044c\u0441\u044f",on_hold:"\u041f\u0440\u0438\u0437\u0443\u043f\u0438\u043d\u0435\u043d\u043e",completed:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e",cancelled:"\u0421\u043a\u0430\u0441\u043e\u0432\u0430\u043d\u043e"},Vg=t=>{let{message:n,type:s="success",isVisible:r,onClose:a}=t;(0,e.useEffect)(()=>{if(r){const e=setTimeout(a,4e3);return()=>clearTimeout(e)}},[r,a]);return(0,or.jsx)(Sr,{children:r&&(0,or.jsx)(lh.div,{initial:{opacity:0,x:300},animate:{opacity:1,x:0},exit:{opacity:0,x:300},className:"fixed top-4 right-4 z-[100] max-w-[90vw]",children:(0,or.jsx)("div",{className:`${{success:"bg-green-600 text-white",error:"bg-red-600 text-white",info:"bg-blue-600 text-white"}[s]} rounded-lg shadow-lg p-4 min-w-[280px] border border-white/10`,children:(0,or.jsxs)("div",{className:"flex items-center space-x-3",children:["success"===s?(0,or.jsx)(Rh,{}):(0,or.jsx)(tm,{}),(0,or.jsx)("span",{className:"font-medium text-sm",children:n}),(0,or.jsx)("button",{onClick:a,className:"ml-auto text-white/80 hover:text-white",children:(0,or.jsx)(ap,{})})]})})})})};function Fg(){var t,n,s,r,a,i,o,l,c,d,u,h,m,p,f,g,x;const{id:v}=ne(),b=te(),{role:y,tier:w}=cr(),j="admin"===y||"super_admin"===y||"office"===y||"installer"===y&&1===w,[k,N]=(0,e.useState)("general"),[_,S]=(0,e.useState)(null),[C,E]=(0,e.useState)(!0),[T,P]=(0,e.useState)(!1),[z,L]=(0,e.useState)(!1),[A,M]=(0,e.useState)(!1),[O,D]=(0,e.useState)([]),[R,$]=(0,e.useState)(!0),[I,V]=(0,e.useState)(null),[F,B]=(0,e.useState)({}),[U,H]=(0,e.useState)([]),[q,W]=(0,e.useState)(""),[K,G]=(0,e.useState)({isVisible:!1,message:"",type:"success"}),J=(0,e.useCallback)(function(e){return G({isVisible:!0,message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"})},[]),Y=(0,e.useCallback)(()=>G(e=>({...e,isVisible:!1})),[]);(0,e.useEffect)(()=>{(async()=>{const{data:{user:e}}=await ar.auth.getUser();if(e&&e.email){const{data:t}=await ar.from("employees").select("*").eq("email",e.email).maybeSingle();V(t||{name:e.email})}})()},[]);const X=(0,e.useCallback)(async()=>{E(!0);try{const{data:e,error:t}=await ar.from("installations").select("\n            *,\n            client:clients!installations_client_id_fkey (\n              custom_id, name, company_name, phone, oblast, populated_place, notes, \n              object_type, is_subcontract, contractor_company\n            ),\n            responsible_employee:employees!installations_responsible_emp_id_fkey (*)\n          ").eq("custom_id",v).single();if(t)throw t;if(!e)return J("\u041f\u0440\u043e\u0435\u043a\u0442 \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e","error"),void b("/installations");S(e),B(e),e.responsible_employee&&W(`${e.responsible_employee.name} (ID: ${e.responsible_employee.custom_id})`);const{data:n,error:s}=await ar.from("project_additional_info").select("*").eq("installation_custom_id",v).order("created_at",{ascending:!1});s&&console.error("Error loading additional info:",s),D(n||[])}catch(e){console.error(e),J(`\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f: ${e.message}`,"error"),b("/installations")}finally{E(!1)}},[v,b,J]);(0,e.useEffect)(()=>{X();(async()=>{const{data:e}=await ar.from("employees").select("*").order("name");H(e||[])})()},[X]);const Q=q?U.filter(e=>{var t;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(q.toLowerCase()))||e.custom_id.toString().includes(q)}):[],Z=e=>e?new Date(e).toLocaleDateString("uk-UA"):"\u2014",ee=e=>{if(!e)return"";return new Date(e).toLocaleString("uk-UA",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})},se=e=>null!=e?`$${Number(e).toLocaleString("en-US")}`:"\u2014";let re=null===_||void 0===_?void 0:_.gps_link;if(!re&&null!==_&&void 0!==_&&null!==(t=_.client)&&void 0!==t&&t.oblast&&null!==_&&void 0!==_&&null!==(n=_.client)&&void 0!==n&&n.populated_place){const e=`${_.client.oblast}, ${_.client.populated_place}`;re=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(e)}`}const ae=(null===_||void 0===_||null===(s=_.responsible_employee)||void 0===s?void 0:s.phone)||(null===_||void 0===_||null===(r=_.responsible_employee)||void 0===r?void 0:r.contact_phone)||"\u2014";return C?(0,or.jsx)("div",{className:"min-h-screen bg-slate-100 flex items-center justify-center",children:(0,or.jsx)("div",{className:"w-16 h-16 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin"})}):_?(0,or.jsxs)("div",{className:"min-h-screen bg-slate-100 pb-20 font-sans text-slate-800",children:[(0,or.jsx)(Vg,{message:K.message,type:K.type,isVisible:K.isVisible,onClose:Y}),(0,or.jsx)("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-30 shadow-sm",children:(0,or.jsxs)("div",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 py-4",children:[(0,or.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,or.jsxs)("div",{className:"flex items-center gap-4",children:[(0,or.jsx)("button",{onClick:()=>b("/installations"),className:"p-2 hover:bg-gray-100 rounded-full text-gray-500 transition",children:(0,or.jsx)(yh,{})}),(0,or.jsxs)("div",{children:[(0,or.jsxs)("h1",{className:"text-2xl font-bold text-slate-900 flex items-center gap-3",children:[_.name||`\u041e\u0431'\u0454\u043a\u0442 #${_.custom_id}`,(0,or.jsxs)("span",{className:"text-sm font-normal text-slate-500 bg-slate-100 px-2 py-0.5 rounded-md border border-slate-200",children:["#",_.custom_id]})]}),(0,or.jsxs)("p",{className:"text-sm text-slate-500 mt-1",children:[(null===(a=_.client)||void 0===a?void 0:a.company_name)||(null===(i=_.client)||void 0===i?void 0:i.name)," \u2022 ",null===(o=_.client)||void 0===o?void 0:o.oblast]})]})]}),(0,or.jsxs)("div",{className:"flex items-center gap-3",children:[(0,or.jsxs)("button",{className:"px-4 py-2 bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 rounded-lg font-medium text-sm flex items-center gap-2 transition shadow-sm",onClick:()=>M(!0),children:[(0,or.jsx)(Wh,{className:"text-indigo-500"})," \u041d\u0430\u043f\u0438\u0441\u0430\u0442\u0438 \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440"]}),j&&(z?(0,or.jsxs)(or.Fragment,{children:[(0,or.jsx)("button",{onClick:()=>{L(!1),B(_),W(_.responsible_employee?`${_.responsible_employee.name} (ID: ${_.responsible_employee.custom_id})`:"")},className:"px-4 py-2 bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 rounded-lg font-medium text-sm transition shadow-sm",children:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"}),(0,or.jsxs)("button",{onClick:async()=>{if(j){P(!0);try{const e=parseFloat(F.total_cost||0),t=parseFloat(F.paid_amount||0);let n="pending";e>0&&t>=e?n="paid":t>0&&(n="partial");const s={...F,payment_status:n},r={},a=["client","responsible_employee","project_stages","id","created_at","updated_at","client_id","topic_updated"];if(Object.keys(s).forEach(e=>{if(a.includes(e))return;const t=_[e],n=s[e];String(t)!==String(n)&&(r[e]=n)}),r.payment_status=n,r.updated_at=(new Date).toISOString(),!(Object.keys(r).length>0))return J("\u041d\u0435\u043c\u0430\u0454 \u0437\u043c\u0456\u043d \u0434\u043b\u044f \u0437\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043d\u044f","info"),L(!1),void P(!1);{r.topic_updated=!0;const{error:e}=await ar.from("installations").update(r).eq("custom_id",v);if(e)throw e}J("\u0417\u043c\u0456\u043d\u0438 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0437\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043e!","success"),L(!1),S({..._,...r,responsible_employee:U.find(e=>e.custom_id===r.responsible_emp_id)||_.responsible_employee})}catch(e){console.error(e),J(`\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0437\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043d\u044f: ${e.message}`,"error")}finally{P(!1)}}else J("\u0423 \u0432\u0430\u0441 \u043d\u0435\u043c\u0430\u0454 \u043f\u0440\u0430\u0432 \u043d\u0430 \u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043d\u043d\u044f","error")},disabled:T,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium text-sm flex items-center gap-2 shadow-sm transition",children:[T?(0,or.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):(0,or.jsx)(Hm,{}),"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"]})]}):(0,or.jsxs)("button",{onClick:()=>L(!0),className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium text-sm flex items-center gap-2 shadow-sm transition",children:[(0,or.jsx)(Xh,{})," \u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438"]}))]})]}),(0,or.jsx)("div",{className:"flex items-center gap-8 mt-6 border-b border-gray-200",children:["general","documents","workflow"].map(e=>(0,or.jsxs)("button",{onClick:()=>N(e),className:"pb-3 px-1 text-sm font-bold flex items-center gap-2 transition-colors relative \n                        "+(k===e?"text-indigo-600 border-b-2 border-indigo-600":"text-gray-500 hover:text-gray-700"),children:["general"===e&&(0,or.jsx)(Ch,{}),"documents"===e&&(0,or.jsx)(am,{}),"workflow"===e&&(0,or.jsx)(ip,{}),"general"===e?"\u041e\u0441\u043d\u043e\u0432\u043d\u0430":"documents"===e?"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0438":"\u0425\u0456\u0434 \u0440\u043e\u0431\u043e\u0442\u0438"]},e))})]})}),(0,or.jsxs)("main",{className:"max-w-[1600px] mx-auto p-4 sm:p-6",children:["general"===k&&(0,or.jsxs)(lh.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.2},className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[(0,or.jsxs)("div",{className:"lg:col-span-4 space-y-6",children:[(0,or.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[(0,or.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center bg-gray-50/50",children:[(0,or.jsxs)("h3",{className:"text-base font-bold text-gray-800 flex items-center gap-2",children:[(0,or.jsx)(yp,{className:"text-gray-500"})," \u041a\u043b\u0456\u0454\u043d\u0442"]}),(null===(l=_.client)||void 0===l?void 0:l.is_subcontract)&&(0,or.jsxs)("span",{className:"bg-orange-100 text-orange-800 text-xs px-2 py-1 rounded-full font-bold border border-orange-200 flex items-center gap-1",children:[(0,or.jsx)(xm,{})," ",_.client.contractor_company]})]}),(0,or.jsxs)("div",{className:"p-6 grid gap-y-5",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("span",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider block mb-1",children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u0430 \u043e\u0441\u043e\u0431\u0430"}),(0,or.jsx)("p",{className:"text-base font-medium text-gray-900",children:null===(c=_.client)||void 0===c?void 0:c.name})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("span",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider block mb-1",children:"\u041a\u043e\u043c\u043f\u0430\u043d\u0456\u044f"}),(0,or.jsx)("p",{className:"text-base font-medium text-gray-900",children:(null===(d=_.client)||void 0===d?void 0:d.company_name)||"\u2014"})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("span",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider block mb-1",children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"}),(0,or.jsxs)("a",{href:`tel:${null===(u=_.client)||void 0===u?void 0:u.phone}`,className:"text-indigo-600 hover:underline font-medium flex items-center gap-2",children:[(0,or.jsx)($m,{className:"text-sm"})," ",(null===(h=_.client)||void 0===h?void 0:h.phone)||"\u2014"]})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("span",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider block mb-1",children:"\u0410\u0434\u0440\u0435\u0441\u0430 \u043e\u0431'\u0454\u043a\u0442\u0430"}),(0,or.jsxs)("p",{className:"text-gray-700 flex items-start gap-2",children:[(0,or.jsx)(Pm,{className:"text-gray-400 mt-1 shrink-0"}),(0,or.jsxs)("span",{children:[null===(m=_.client)||void 0===m?void 0:m.oblast,", ",null===(p=_.client)||void 0===p?void 0:p.populated_place]})]})]}),(null===(f=_.client)||void 0===f?void 0:f.notes)&&(0,or.jsxs)("div",{className:"mt-2",children:[(0,or.jsx)("span",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider block mb-1",children:"\u041f\u0440\u0438\u043c\u0456\u0442\u043a\u0438 \u043a\u043b\u0456\u0454\u043d\u0442\u0430"}),(0,or.jsx)("div",{className:"bg-yellow-50 p-3 rounded-lg border border-yellow-100 text-sm text-yellow-800 italic",children:_.client.notes})]})]})]}),(0,or.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[(0,or.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50/50",children:(0,or.jsxs)("h3",{className:"text-base font-bold text-gray-800 flex items-center gap-2",children:[(0,or.jsx)(Lm,{className:"text-gray-500"})," \u0424\u0456\u043d\u0430\u043d\u0441\u0438"]})}),(0,or.jsxs)("div",{className:"p-6",children:[(0,or.jsxs)("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider block mb-1",children:"\u0417\u0430\u0433\u0430\u043b\u044c\u043d\u0430 \u0432\u0430\u0440\u0442\u0456\u0441\u0442\u044c"}),z?(0,or.jsx)("input",{type:"number",step:"0.01",value:F.total_cost||"",onChange:e=>B({...F,total_cost:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-indigo-500 focus:border-indigo-500"}):(0,or.jsx)("p",{className:"text-lg font-bold text-gray-900",children:se(_.total_cost)})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider block mb-1",children:"\u0421\u043f\u043b\u0430\u0447\u0435\u043d\u043e"}),z?(0,or.jsx)("input",{type:"number",step:"0.01",value:F.paid_amount||"",onChange:e=>B({...F,paid_amount:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-indigo-500 focus:border-indigo-500"}):(0,or.jsx)("p",{className:"text-lg font-bold text-green-600",children:se(_.paid_amount)})]})]}),(0,or.jsxs)("div",{children:[(0,or.jsxs)("div",{className:"flex justify-between mb-1 text-xs font-medium text-gray-500",children:[(0,or.jsx)("span",{children:"\u041f\u0440\u043e\u0433\u0440\u0435\u0441 \u043e\u043f\u043b\u0430\u0442\u0438"}),(0,or.jsxs)("span",{children:[((_.paid_amount||0)/(_.total_cost||1)*100).toFixed(0),"%"]})]}),(0,or.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5 overflow-hidden",children:(0,or.jsx)("div",{className:"bg-green-500 h-2.5 rounded-full transition-all duration-500",style:{width:`${Math.min((_.paid_amount||0)/(_.total_cost||1)*100,100)}%`}})})]})]})]}),(0,or.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[(0,or.jsxs)("div",{onClick:()=>$(!R),className:"px-6 py-4 border-b border-gray-200 bg-gray-50/50 flex justify-between items-center cursor-pointer hover:bg-gray-100 transition",children:[(0,or.jsxs)("h3",{className:"text-base font-bold text-gray-800 flex items-center gap-2",children:[(0,or.jsx)(Wh,{className:"text-indigo-600"}),"\u0414\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u0430 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f (",O.length,")"]}),R?(0,or.jsx)(Fh,{className:"text-gray-400 text-sm"}):(0,or.jsx)($h,{className:"text-gray-400 text-sm"})]}),(0,or.jsx)(Sr,{children:R&&(0,or.jsx)(lh.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},children:(0,or.jsx)("div",{className:"p-6 bg-white space-y-4 max-h-[500px] overflow-y-auto",children:0===O.length?(0,or.jsx)("div",{className:"text-center text-gray-400 text-sm italic py-4",children:"\u0406\u0441\u0442\u043e\u0440\u0456\u044f \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u044c \u043f\u043e\u0440\u043e\u0436\u043d\u044f"}):O.map(e=>(0,or.jsxs)("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4",children:[(0,or.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,or.jsx)("span",{className:"font-bold text-slate-800 text-sm",children:e.author_name||"\u041d\u0435\u0432\u0456\u0434\u043e\u043c\u0438\u0439 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447"}),(0,or.jsx)("span",{className:"text-xs text-gray-400 font-medium",children:ee(e.created_at)})]}),(0,or.jsx)("p",{className:"text-sm text-gray-700 whitespace-pre-wrap leading-relaxed mb-3",children:e.message_text}),(0,or.jsx)("div",{className:"flex justify-end",children:e.is_sent_to_telegram?(0,or.jsxs)("span",{className:"text-[11px] font-bold text-green-600 flex items-center gap-1.5",children:[(0,or.jsx)(Dh,{className:"text-sm"})," \u041d\u0430\u0434\u0456\u0441\u043b\u0430\u043d\u043e \u0432 \u0422\u0413"]}):(0,or.jsxs)("span",{className:"text-[11px] font-medium text-gray-400 flex items-center gap-1.5",children:[(0,or.jsx)(Uh,{className:"text-sm"})," \u041d\u0435 \u043d\u0430\u0434\u0456\u0441\u043b\u0430\u043d\u043e"]})})]},e.id))})})})]})]}),(0,or.jsx)("div",{className:"lg:col-span-8",children:(0,or.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[(0,or.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50/50",children:(0,or.jsxs)("h3",{className:"text-base font-bold text-gray-800 flex items-center gap-2",children:[(0,or.jsx)(Ch,{className:"text-gray-500"})," \u0414\u0435\u0442\u0430\u043b\u0456 \u043e\u0431'\u0454\u043a\u0442\u0430"]})}),(0,or.jsxs)("div",{className:"p-6 space-y-8",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider block mb-2",children:"\u0412\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0430\u043b\u044c\u043d\u0438\u0439 \u0437\u0430 \u043f\u0440\u043e\u0435\u043a\u0442"}),z?(0,or.jsxs)("div",{className:"relative max-w-md",children:[(0,or.jsx)("input",{type:"text",value:q,onChange:e=>{W(e.target.value),F.responsible_emp_id&&B({...F,responsible_emp_id:""})},placeholder:"\u041f\u043e\u0448\u0443\u043a \u043f\u0440\u0430\u0446\u0456\u0432\u043d\u0438\u043a\u0430...",className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-indigo-500 focus:border-indigo-500"}),(0,or.jsx)($m,{className:"absolute right-3 top-2.5 text-gray-400"}),q&&Q.length>0&&!F.responsible_emp_id&&(0,or.jsx)("div",{className:"absolute z-10 w-full bg-white border border-gray-200 rounded-md mt-1 shadow-lg max-h-48 overflow-y-auto",children:Q.map(e=>(0,or.jsx)("button",{type:"button",onClick:()=>{return t=e,B({...F,responsible_emp_id:t.custom_id}),void W(`${t.name} (ID: ${t.custom_id})`);var t},className:"w-full px-4 py-2 text-left hover:bg-gray-50 border-b border-gray-100 text-sm text-gray-700",children:e.name},e.custom_id))})]}):(0,or.jsxs)("div",{className:"flex items-start gap-4 p-4 bg-gray-50 rounded-lg border border-gray-200 max-w-md",children:[(0,or.jsx)("div",{className:"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600 font-bold",children:null!==(g=_.responsible_employee)&&void 0!==g&&g.name?_.responsible_employee.name.charAt(0):"?"}),(0,or.jsxs)("div",{children:[(0,or.jsx)("p",{className:"text-base font-bold text-gray-900 leading-tight",children:(null===(x=_.responsible_employee)||void 0===x?void 0:x.name)||"\u041d\u0435 \u043f\u0440\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u043e"}),_.responsible_employee&&(0,or.jsxs)("a",{href:`tel:${ae}`,className:"text-sm text-indigo-600 hover:underline flex items-center gap-1 mt-1 font-medium",children:[(0,or.jsx)($m,{className:"text-xs"})," ",ae]})]})]})]}),(0,or.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:[(0,or.jsxs)("div",{className:"space-y-6",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider block mb-1",children:"\u0421\u0442\u0430\u0442\u0443\u0441 \u043f\u0440\u043e\u0435\u043a\u0442\u0443"}),z?(0,or.jsx)("select",{value:F.status||"planning",onChange:e=>B({...F,status:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm bg-white focus:ring-indigo-500 focus:border-indigo-500",children:Object.entries(Ig).map(e=>{let[t,n]=e;return(0,or.jsx)("option",{value:t,children:n},t)})}):(0,or.jsxs)("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-sm font-semibold border\n                                        "+("completed"===_.status?"bg-green-50 text-green-700 border-green-200":"in_progress"===_.status?"bg-blue-50 text-blue-700 border-blue-200":"on_hold"===_.status?"bg-yellow-50 text-yellow-700 border-yellow-200":"bg-gray-50 text-gray-700 border-gray-200"),children:["completed"===_.status&&(0,or.jsx)(Dh,{className:"text-xs"}),Ig[_.status]||_.status]})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider block mb-1",children:"\u0422\u0438\u043f \u0441\u0442\u0430\u043d\u0446\u0456\u0457"}),z?(0,or.jsxs)("select",{value:F.station_type||"",onChange:e=>B({...F,station_type:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm bg-white",children:[(0,or.jsx)("option",{value:"",children:"\u2014"}),(0,or.jsx)("option",{value:"\u041c\u0435\u0440\u0435\u0436\u0435\u0432\u0430",children:"\u041c\u0435\u0440\u0435\u0436\u0435\u0432\u0430"}),(0,or.jsx)("option",{value:"\u0410\u0432\u0442\u043e\u043d\u043e\u043c\u043d\u0430",children:"\u0410\u0432\u0442\u043e\u043d\u043e\u043c\u043d\u0430"}),(0,or.jsx)("option",{value:"\u0413\u0456\u0431\u0440\u0438\u0434\u043d\u0430",children:"\u0413\u0456\u0431\u0440\u0438\u0434\u043d\u0430"})]}):(0,or.jsx)("p",{className:"text-base font-medium text-gray-900",children:_.station_type||"\u2014"})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider block mb-1",children:"\u0422\u0438\u043f \u043c\u043e\u043d\u0442\u0430\u0436\u0443"}),z?(0,or.jsxs)("select",{value:F.mount_type||"",onChange:e=>B({...F,mount_type:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm bg-white",children:[(0,or.jsx)("option",{value:"",children:"\u2014"}),(0,or.jsx)("option",{value:"\u0414\u0430\u0445\u043e\u0432\u0435 \u043a\u0440\u0456\u043f\u043b\u0435\u043d\u043d\u044f (\u0421\u043a\u0430\u0442\u043d\u0438\u0439 \u0434\u0430\u0445)",children:"\u0414\u0430\u0445\u043e\u0432\u0435 \u043a\u0440\u0456\u043f\u043b\u0435\u043d\u043d\u044f (\u0421\u043a\u0430\u0442\u043d\u0438\u0439 \u0434\u0430\u0445)"}),(0,or.jsx)("option",{value:"\u041d\u0430\u0437\u0435\u043c\u043d\u0435 \u043a\u0440\u0456\u043f\u043b\u0435\u043d\u043d\u044f",children:"\u041d\u0430\u0437\u0435\u043c\u043d\u0435 \u043a\u0440\u0456\u043f\u043b\u0435\u043d\u043d\u044f"}),(0,or.jsx)("option",{value:"\u0414\u0430\u0445\u043e\u0432\u0435 \u043a\u0440\u0456\u043f\u043b\u0435\u043d\u043d\u044f (\u041f\u043b\u043e\u0441\u043a\u0438\u0439 \u0434\u0430\u0445)",children:"\u0414\u0430\u0445\u043e\u0432\u0435 \u043a\u0440\u0456\u043f\u043b\u0435\u043d\u043d\u044f (\u041f\u043b\u043e\u0441\u043a\u0438\u0439 \u0434\u0430\u0445)"}),(0,or.jsx)("option",{value:"\u0422\u0440\u0435\u043a\u0435\u0440\u043d\u0430 \u0441\u0438\u0441\u0442\u0435\u043c\u0430",children:"\u0422\u0440\u0435\u043a\u0435\u0440\u043d\u0430 \u0441\u0438\u0441\u0442\u0435\u043c\u0430"}),(0,or.jsx)("option",{value:"\u0415\u043b\u0435\u043a\u0442\u0440\u043e\u043c\u043e\u043d\u0442\u0430\u0436",children:"\u0415\u043b\u0435\u043a\u0442\u0440\u043e\u043c\u043e\u043d\u0442\u0430\u0436"})]}):(0,or.jsx)("p",{className:"text-base font-medium text-gray-900 truncate",title:_.mount_type,children:_.mount_type||"\u2014"})]})]}),(0,or.jsxs)("div",{className:"space-y-6",children:[(0,or.jsxs)("div",{className:"flex gap-6",children:[(0,or.jsxs)("div",{className:"flex-1",children:[(0,or.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider block mb-1",children:"\u041f\u043e\u0442\u0443\u0436\u043d\u0456\u0441\u0442\u044c"}),z?(0,or.jsxs)("div",{className:"relative",children:[(0,or.jsx)("input",{type:"number",step:"0.1",value:F.capacity_kw||"",onChange:e=>B({...F,capacity_kw:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm pr-8"}),(0,or.jsx)("span",{className:"absolute right-3 top-2 text-gray-500 text-sm",children:"\u043a\u0412\u0442"})]}):(0,or.jsx)("p",{className:"text-base font-medium text-gray-900",children:_.capacity_kw?`${_.capacity_kw} \u043a\u0412\u0442`:"\u2014"})]}),(0,or.jsxs)("div",{className:"flex-1",children:[(0,or.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider block mb-1",children:"\u0424\u0430\u0437\u0438"}),z?(0,or.jsxs)("select",{value:F.quant_phase||"",onChange:e=>B({...F,quant_phase:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm bg-white",children:[(0,or.jsx)("option",{value:"",children:"\u2014"}),(0,or.jsx)("option",{value:"1",children:"1 \u0444\u0430\u0437\u0430"}),(0,or.jsx)("option",{value:"3",children:"3 \u0444\u0430\u0437\u0438"})]}):(0,or.jsx)("p",{className:"text-base font-medium text-gray-900",children:_.quant_phase?`${_.quant_phase}\u0444`:"\u2014"})]})]}),(0,or.jsxs)("div",{className:"flex gap-6",children:[(0,or.jsxs)("div",{className:"flex-1",children:[(0,or.jsxs)("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider block mb-1 flex items-center gap-1",children:[(0,or.jsx)(Lh,{className:"text-gray-400"})," \u041f\u043e\u0447\u0430\u0442\u043e\u043a"]}),z?(0,or.jsx)("input",{type:"date",value:F.start_date||"",onChange:e=>B({...F,start_date:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm"}):(0,or.jsx)("p",{className:"text-base font-medium text-gray-900",children:Z(_.start_date)})]}),(0,or.jsxs)("div",{className:"flex-1",children:[(0,or.jsxs)("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider block mb-1 flex items-center gap-1",children:[(0,or.jsx)(Lh,{className:"text-gray-400"})," \u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044f"]}),z?(0,or.jsx)("input",{type:"date",value:F.end_date||"",onChange:e=>B({...F,end_date:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm"}):(0,or.jsx)("p",{className:"text-base font-medium text-gray-900",children:Z(_.end_date)})]})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider block mb-1",children:"\u041c\u0430\u0440\u0448\u0440\u0443\u0442 \u0434\u043e \u043e\u0431'\u0454\u043a\u0442\u0430"}),z?(0,or.jsxs)("div",{className:"relative",children:[(0,or.jsx)("input",{type:"url",placeholder:"GPS \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f...",value:F.gps_link||"",onChange:e=>B({...F,gps_link:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm pl-8"}),(0,or.jsx)(fm,{className:"absolute left-3 top-2.5 text-gray-400"})]}):re?(0,or.jsxs)("a",{href:re,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-white border border-gray-200 rounded-md text-sm font-medium text-indigo-600 hover:bg-gray-50 hover:border-gray-300 transition shadow-sm",children:[(0,or.jsx)(Pm,{className:"text-red-500"})," \u0412\u0456\u0434\u043a\u0440\u0438\u0442\u0438 \u043d\u0430 Google Maps"]}):(0,or.jsx)("span",{className:"text-gray-400 text-sm",children:"\u041d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u043e"})]})]})]}),(0,or.jsxs)("div",{className:"pt-4 border-t border-gray-100",children:[(0,or.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider block mb-2",children:"\u0422\u0435\u0445\u043d\u0456\u0447\u043d\u0456 \u043f\u0440\u0438\u043c\u0456\u0442\u043a\u0438"}),z?(0,or.jsx)("textarea",{rows:"3",value:F.notes||"",onChange:e=>B({...F,notes:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm resize-y focus:ring-indigo-500 focus:border-indigo-500",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043f\u0440\u0438\u043c\u0456\u0442\u043a\u0438..."}):(0,or.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 text-sm text-gray-700 whitespace-pre-wrap",children:_.notes||"\u041f\u0440\u0438\u043c\u0456\u0442\u043a\u0438 \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u0456."})]})]})]})})]}),"documents"===k&&(0,or.jsx)(lh.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},children:(0,or.jsx)(vg,{projectId:v})}),"workflow"===k&&(0,or.jsx)(lh.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},className:"-mx-4 sm:-mx-6 -mt-4 sm:-mt-6",children:(0,or.jsx)($g,{project:_})})]}),_&&(0,or.jsx)(pg,{isOpen:A,onClose:()=>M(!1),project:_,currentUser:I,onUpdate:async()=>{const{data:e}=await ar.from("project_additional_info").select("*").eq("installation_custom_id",v).order("created_at",{ascending:!1});D(e||[])},showToast:J})]}):null}function Bg(t,n){let{title:s,titleId:r,...a}=t;return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},a),s?e.createElement("title",{id:r},s):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const Ug=e.forwardRef(Bg);function Hg(t,n){let{title:s,titleId:r,...a}=t;return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},a),s?e.createElement("title",{id:r},s):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const qg=e.forwardRef(Hg);function Wg(t,n){let{title:s,titleId:r,...a}=t;return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},a),s?e.createElement("title",{id:r},s):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const Kg=e.forwardRef(Wg);function Gg(t,n){let{title:s,titleId:r,...a}=t;return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},a),s?e.createElement("title",{id:r},s):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const Jg=e.forwardRef(Gg);function Yg(t,n){let{title:s,titleId:r,...a}=t;return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},a),s?e.createElement("title",{id:r},s):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm1.294 6.336a6.721 6.721 0 0 1-3.17.789 6.721 6.721 0 0 1-3.168-.789 3.376 3.376 0 0 1 6.338 0Z"}))}const Xg=e.forwardRef(Yg);function Qg(t,n){let{title:s,titleId:r,...a}=t;return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},a),s?e.createElement("title",{id:r},s):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Zg=e.forwardRef(Qg);function ex(t,n){let{title:s,titleId:r,...a}=t;return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},a),s?e.createElement("title",{id:r},s):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const tx=e.forwardRef(ex);function nx(t,n){let{title:s,titleId:r,...a}=t;return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},a),s?e.createElement("title",{id:r},s):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const sx=e.forwardRef(nx),rx=[{value:"all",label:"\u0412\u0441\u0456 \u0440\u043e\u043b\u0456"},{value:"super_admin",label:"\ud83d\udc51 \u0410\u0434\u043c\u0456\u043d\u0456\u0441\u0442\u0440\u0430\u0442\u043e\u0440"},{value:"office",label:"\ud83c\udfe2 \u041e\u0444\u0456\u0441 / \u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440"},{value:"installer",label:"\ud83d\udee0\ufe0f \u041c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a"}],ax=[{value:1,label:"\u26a1 \u0411\u0440\u0438\u0433\u0430\u0434\u0438\u0440"},{value:2,label:"\ud83d\udd27 \u041c\u0430\u0439\u0441\u0442\u0435\u0440"}];function ix(){const[t,n]=(0,e.useState)([]),[s,r]=(0,e.useState)(!0),[a,i]=(0,e.useState)(""),[o,l]=(0,e.useState)("all"),[c,d]=(0,e.useState)(null);(0,e.useEffect)(()=>{(async()=>{r(!0);const{data:e,error:t}=await ar.from("employees").select("*").order("name",{ascending:!0});t||n(e||[]),r(!1)})()},[]);const u=async(e,t,s)=>{n(n=>n.map(n=>n.id===e?{...n,[t]:s}:n)),c&&c.id===e&&d(e=>({...e,[t]:s})),await ar.from("employees").update({[t]:s}).eq("id",e)},h=e=>{if(!e)return null;const t=Date.now()-new Date(e).getTime();return`${Math.floor(t/315576e5)} \u0440.`},m=t.filter(e=>{var t,n;const s=a.toLowerCase(),r=e.name.toLowerCase().includes(s)||(null===(t=e.position)||void 0===t?void 0:t.toLowerCase().includes(s))||(null===(n=e.email)||void 0===n?void 0:n.toLowerCase().includes(s)),i="all"===o||e.role===o;return r&&i});return(0,or.jsx)("div",{className:"min-h-screen bg-slate-50 p-6 sm:p-10 font-sans",children:(0,or.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,or.jsxs)("div",{className:"mb-8",children:[(0,or.jsx)("h1",{className:"text-3xl font-extrabold text-slate-900 tracking-tight",children:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u043b"}),(0,or.jsx)("p",{className:"text-slate-500 mt-1",children:"\u041a\u0435\u0440\u0443\u0432\u0430\u043d\u043d\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u0430\u043c\u0438 \u0442\u0430 \u043f\u0435\u0440\u0435\u0433\u043b\u044f\u0434 \u0434\u043e\u0441\u044c\u0454"})]}),(0,or.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 mb-8 flex flex-col sm:flex-row gap-4 items-center",children:[(0,or.jsxs)("div",{className:"relative flex-1 w-full",children:[(0,or.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,or.jsx)(Ug,{className:"h-5 w-5 text-slate-400"})}),(0,or.jsx)("input",{type:"text",placeholder:"\u041f\u043e\u0448\u0443\u043a \u0437\u0430 \u0456\u043c'\u044f\u043c, \u043f\u043e\u0448\u0442\u043e\u044e \u0447\u0438 \u043f\u043e\u0441\u0430\u0434\u043e\u044e...",value:a,onChange:e=>i(e.target.value),className:"pl-10 w-full border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 py-2.5 transition-all"})]}),(0,or.jsxs)("div",{className:"relative w-full sm:w-64",children:[(0,or.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,or.jsx)(qg,{className:"h-5 w-5 text-slate-400"})}),(0,or.jsx)("select",{value:o,onChange:e=>l(e.target.value),className:"pl-10 w-full border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 py-2.5 bg-white appearance-none cursor-pointer transition-all",children:rx.map(e=>(0,or.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),s?(0,or.jsx)("div",{className:"text-center py-20 text-slate-400 animate-pulse",children:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0431\u0430\u0437\u0438 \u0434\u0430\u043d\u0438\u0445..."}):(0,or.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(e=>(0,or.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm hover:shadow-lg transition-all duration-300 border border-slate-100 flex flex-col overflow-hidden group",children:[(0,or.jsxs)("div",{className:"p-6 pb-4",children:[(0,or.jsx)("div",{className:"flex justify-between items-start mb-4",children:(0,or.jsxs)("div",{className:"flex items-center gap-4",children:[(0,or.jsx)("div",{className:"h-14 w-14 rounded-full bg-indigo-50 text-indigo-600 flex items-center justify-center text-xl font-bold border-2 border-white shadow-sm",children:e.name.charAt(0).toUpperCase()}),(0,or.jsxs)("div",{children:[(0,or.jsx)("h3",{className:"font-bold text-slate-800 text-lg leading-tight",children:e.name}),(0,or.jsxs)("div",{className:"flex items-center text-sm text-slate-500 mt-0.5 gap-2",children:[(0,or.jsx)("span",{children:e.position||"\u0411\u0435\u0437 \u043f\u043e\u0441\u0430\u0434\u0438"}),e.date_birth&&(0,or.jsx)("span",{className:"bg-slate-100 px-1.5 py-0.5 rounded text-xs font-medium text-slate-600",children:h(e.date_birth)})]})]})]})}),(0,or.jsxs)("div",{className:"space-y-2 mt-2",children:[(0,or.jsxs)("div",{className:"flex items-center text-sm text-slate-600",children:[(0,or.jsx)(Kg,{className:"w-4 h-4 mr-2 text-slate-400"}),(0,or.jsx)("span",{className:"truncate",children:e.email})]}),e.phone&&(0,or.jsxs)("div",{className:"flex items-center text-sm text-slate-600",children:[(0,or.jsx)(Jg,{className:"w-4 h-4 mr-2 text-slate-400"}),(0,or.jsx)("span",{children:e.phone})]})]})]}),(0,or.jsx)("div",{className:"mt-auto bg-slate-50 p-4 border-t border-slate-100",children:(0,or.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,or.jsx)("div",{className:"relative",children:(0,or.jsx)("select",{value:e.role,onChange:t=>u(e.id,"role",t.target.value),className:"w-full bg-white border border-slate-200 text-slate-700 text-sm rounded-lg focus:ring-indigo-500 focus:border-indigo-500 block p-2 font-medium cursor-pointer",children:rx.filter(e=>"all"!==e.value).map(e=>(0,or.jsx)("option",{value:e.value,children:e.label},e.value))})}),"installer"===e.role&&(0,or.jsx)("div",{className:"flex bg-white rounded-lg border border-slate-200 p-1",children:ax.map(t=>(0,or.jsx)("button",{onClick:()=>u(e.id,"tier",t.value),className:"flex-1 py-1.5 text-xs font-semibold rounded-md transition-all "+(e.tier===t.value?"bg-indigo-100 text-indigo-700 shadow-sm":"text-slate-500 hover:bg-slate-50"),children:t.label},t.value))}),(0,or.jsx)("button",{onClick:()=>d(e),className:"w-full mt-1 py-2 text-sm text-slate-500 hover:text-indigo-600 font-medium transition-colors border border-dashed border-slate-300 rounded-lg hover:border-indigo-300 hover:bg-indigo-50",children:"\u041f\u0435\u0440\u0435\u0433\u043b\u044f\u043d\u0443\u0442\u0438 \u0441\u043f\u0440\u0430\u0432\u0443"})]})})]},e.id))}),c&&(0,or.jsx)("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:(0,or.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto animate-fade-in-up",children:[(0,or.jsxs)("div",{className:"bg-slate-50 px-6 py-4 border-b border-slate-100 flex justify-between items-center sticky top-0",children:[(0,or.jsxs)("h3",{className:"text-xl font-bold text-slate-800 flex items-center gap-2",children:[(0,or.jsx)(Xg,{className:"w-6 h-6 text-indigo-500"}),"\u041e\u0441\u043e\u0431\u0438\u0441\u0442\u0430 \u0441\u043f\u0440\u0430\u0432\u0430"]}),(0,or.jsx)("button",{onClick:()=>d(null),className:"p-2 bg-white rounded-full hover:bg-slate-200 transition",children:(0,or.jsx)(Zg,{className:"w-5 h-5 text-slate-500"})})]}),(0,or.jsxs)("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,or.jsxs)("div",{className:"space-y-4",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"text-xs font-bold text-slate-400 uppercase",children:"\u041f\u0406\u0411"}),(0,or.jsx)("p",{className:"text-lg font-semibold text-slate-800",children:c.name})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"text-xs font-bold text-slate-400 uppercase",children:"\u041f\u043e\u0441\u0430\u0434\u0430"}),(0,or.jsx)("p",{className:"text-base text-slate-700",children:c.position||"-"})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"text-xs font-bold text-slate-400 uppercase",children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0438"}),(0,or.jsxs)("div",{className:"flex flex-col gap-1 mt-1",children:[(0,or.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,or.jsx)(Kg,{className:"w-4 h-4 text-slate-400"})," ",c.email]}),(0,or.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,or.jsx)(Jg,{className:"w-4 h-4 text-slate-400"})," ",c.phone||"\u041d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u043e"]})]})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"text-xs font-bold text-slate-400 uppercase",children:"\u0414\u0430\u0442\u0430 \u043d\u0430\u0440\u043e\u0434\u0436\u0435\u043d\u043d\u044f / \u0412\u0456\u043a"}),(0,or.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,or.jsx)(tx,{className:"w-4 h-4 text-slate-400"}),(0,or.jsx)("span",{className:"text-sm",children:c.date_birth?`${new Date(c.date_birth).toLocaleDateString("uk-UA")} (${h(c.date_birth)})`:"\u041d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u043e"})]})]})]}),(0,or.jsxs)("div",{className:"space-y-4",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"text-xs font-bold text-slate-400 uppercase",children:"ID \u043f\u0440\u0430\u0446\u0456\u0432\u043d\u0438\u043a\u0430"}),(0,or.jsxs)("p",{className:"font-mono text-sm bg-slate-100 inline-block px-2 py-1 rounded text-slate-600",children:["#",c.custom_id||c.id]})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"text-xs font-bold text-slate-400 uppercase",children:"\u0412\u0456\u0434\u0434\u0456\u043b\u0438 (Department)"}),(0,or.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:c.department&&c.department.length>0?c.department.map((e,t)=>(0,or.jsx)("span",{className:"bg-blue-50 text-blue-700 px-2 py-1 rounded text-xs font-medium border border-blue-100",children:e},t)):(0,or.jsx)("span",{className:"text-sm text-slate-400 italic",children:"\u041d\u0435 \u043f\u0440\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u043e"})})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"text-xs font-bold text-slate-400 uppercase",children:"\u041d\u0430\u0432\u0438\u0447\u043a\u0438 (Skills)"}),(0,or.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:c.skills&&c.skills.length>0?c.skills.map((e,t)=>(0,or.jsx)("span",{className:"bg-green-50 text-green-700 px-2 py-1 rounded text-xs font-medium border border-green-100",children:e},t)):(0,or.jsx)("span",{className:"text-sm text-slate-400 italic",children:"\u041d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u043e"})})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"text-xs font-bold text-slate-400 uppercase",children:"\u041d\u043e\u0442\u0430\u0442\u043a\u0438"}),(0,or.jsx)("div",{className:"bg-amber-50 border border-amber-100 p-3 rounded-lg text-sm text-amber-800 mt-1 min-h-[80px]",children:c.notes||"\u041d\u043e\u0442\u0430\u0442\u043e\u043a \u043d\u0435\u043c\u0430\u0454..."})]})]}),(0,or.jsxs)("div",{className:"col-span-1 md:col-span-2 pt-4 border-t border-slate-100",children:[(0,or.jsxs)("div",{className:"flex items-center justify-between",children:[(0,or.jsx)("span",{className:"text-sm font-medium text-slate-500",children:"\u0421\u0442\u0430\u0442\u0443\u0441 \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u043e\u0433\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u0443:"}),c.user_id?(0,or.jsxs)("span",{className:"flex items-center gap-2 text-green-600 bg-green-50 px-3 py-1 rounded-full text-sm font-bold",children:[(0,or.jsx)(sx,{className:"w-5 h-5"})," \u0410\u043a\u0442\u0438\u0432\u043d\u0438\u0439"]}):(0,or.jsxs)("span",{className:"flex items-center gap-2 text-amber-600 bg-amber-50 px-3 py-1 rounded-full text-sm font-bold",children:[(0,or.jsx)(sx,{className:"w-5 h-5"})," \u041e\u0447\u0456\u043a\u0443\u0454 \u0440\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u0457"]})]}),!c.user_id&&(0,or.jsx)("p",{className:"text-xs text-slate-400 mt-2 text-right",children:"* \u041d\u0430\u0434\u0456\u0448\u043b\u0456\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0448\u0435\u043d\u043d\u044f \u0447\u0435\u0440\u0435\u0437 Supabase Auth Dashboard"})]})]})]})})]})})}var ox=n(141);const lx=Lf("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]),cx="#3A5F7D",dx="#F38217",ux=()=>{const[t,n]=(0,e.useState)([{id:1,name:"\u0413\u0456\u0431\u0440\u0438\u0434\u043d\u0438\u0439 \u0456\u043d\u0432\u0435\u0440\u0442\u043e\u0440 1\u0444",model:"Deye SUN-10K-SG02LP1-EU-AM3",qty:1,price:2030},{id:2,name:"\u0410\u041a\u0411",model:"Deye SE-G5.1 Pro-B",qty:3,price:950},{id:3,name:"\u0421\u043e\u043d\u044f\u0447\u043d\u0430 \u043f\u0430\u043d\u0435\u043b\u044c",model:"Trina TSN615",qty:18,price:95}]),[s,r]=(0,e.useState)([{id:1,name:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u044f",model:"\u041c\u0435\u0442\u0430\u043b (\u043e\u0446\u0438\u043d\u043a\u043e\u0432\u0430\u043d\u0438\u0439), \u043a\u0440\u0456\u043f\u043b\u0435\u043d\u043d\u044f",qty:1,price:630},{id:2,name:"\u0420\u043e\u0431\u043e\u0442\u0430",model:"\u0412\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0442\u0430 \u0437\u0430\u043f\u0443\u0441\u043a \u0441\u043e\u043d\u044f\u0447\u043d\u043e\u0457 \u0441\u0442\u0430\u043d\u0446\u0456\u0457",qty:1,price:800},{id:3,name:"\u0415\u043b\u0435\u043a\u0442\u0440\u0438\u0447\u043d\u0438\u0439 \u0437\u0430\u0445\u0438\u0441\u0442",model:"\u0421\u0438\u0441\u0442\u0435\u043c\u0430 \u0437\u0430\u0445\u0438\u0441\u0442\u0443, \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u043a\u0430, \u043a\u043e\u043c\u0443\u0442\u0430\u0446\u0456\u044f",qty:1,price:300}]),[a,i]=(0,e.useState)({solarPrice:1.7,powerPrice:4.4,logistics:160}),o=e=>e.reduce((e,t)=>e+t.price*t.qty,0),l=o(t)+o(s)+a.logistics,c=(0,e.useRef)(),d=(0,ox.useReactToPrint)({content:()=>c.current});return(0,or.jsxs)("div",{className:"flex bg-gray-100 min-h-screen font-sans",children:[(0,or.jsxs)("div",{className:"w-1/3 p-6 bg-white border-r shadow-xl overflow-y-auto h-screen",children:[(0,or.jsx)("h2",{className:"text-xl font-bold mb-6 text-gray-800 flex items-center gap-2",children:"\ud83d\udee0 \u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440 \u041a\u041f"}),(0,or.jsxs)("div",{className:"mb-8",children:[(0,or.jsx)("h3",{className:"font-bold text-sm uppercase text-gray-500 mb-3",children:"\u041a\u043b\u044e\u0447\u043e\u0432\u0435 \u043e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f"}),t.map(e=>(0,or.jsxs)("div",{className:"mb-4 p-3 border rounded-lg bg-gray-50 hover:border-blue-300 transition",children:[(0,or.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,or.jsx)("span",{className:"font-semibold text-sm",children:e.name}),(0,or.jsxs)("span",{className:"text-xs text-gray-500",children:[e.price,"$ / \u0448\u0442"]})]}),(0,or.jsx)("textarea",{className:"w-full p-2 border rounded text-sm mb-2",rows:"2",value:e.model,onChange:s=>((e,t,n,s)=>{s(n.map(n=>n.id===e?{...n,model:t}:n))})(e.id,s.target.value,t,n)}),(0,or.jsxs)("div",{className:"flex items-center gap-2",children:[(0,or.jsx)("label",{className:"text-xs",children:"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c:"}),(0,or.jsx)("input",{type:"number",value:e.qty,onChange:s=>((e,t,n,s)=>{s(n.map(n=>n.id===e?{...n,qty:Number(t)}:n))})(e.id,s.target.value,t,n),className:"w-20 p-1 border rounded text-center"})]})]},e.id))]}),(0,or.jsxs)("button",{onClick:d,className:"w-full bg-[#3A5F7D] hover:bg-[#2c4860] text-white py-3 rounded-lg flex items-center justify-center gap-2 font-bold shadow-lg transition-all",children:[(0,or.jsx)(lx,{size:20})," \u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 PDF"]})]}),(0,or.jsx)("div",{className:"w-2/3 bg-gray-500 p-8 overflow-y-auto h-screen flex justify-center",children:(0,or.jsxs)("div",{ref:c,className:"bg-[#F9F9F9] relative shadow-2xl origin-top",style:{width:"595px",minHeight:"842px",padding:"0px"},children:[(0,or.jsx)("div",{className:"absolute top-[26px] left-[68px] font-semibold text-[20px] uppercase tracking-wider text-[#151414]",children:"\u041a\u043e\u043c\u043f\u043b\u0435\u043a\u0442\u0430\u0446\u0456\u044f \u0442\u0430 \u0432\u0430\u0440\u0442\u0456\u0441\u0442\u044c \u0433\u0456\u0431\u0440\u0438\u0434\u043d\u043e\u0457 \u0421\u0415\u0421"}),(0,or.jsx)("div",{className:"absolute top-[80px] left-[104px] w-[410px] h-0 border-t-[3px]",style:{borderColor:cx}}),(0,or.jsxs)("div",{style:{position:"absolute",top:"110px",left:"30px",width:"535px"},children:[(0,or.jsxs)("div",{className:"mb-2",children:[(0,or.jsx)("h3",{className:"italic font-semibold text-[20px] mb-2 text-black",children:"\u041a\u043b\u044e\u0447\u043e\u0432\u0435 \u043e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f"}),(0,or.jsxs)("div",{className:"flex border-b-[3px] pb-1 mb-2",style:{borderColor:cx},children:[(0,or.jsx)("div",{className:"w-[130px] font-medium text-[13px] pl-1",children:"\u041f\u043e\u0437\u0438\u0446\u0456\u044f"}),(0,or.jsx)("div",{className:"w-[170px] font-medium text-[13px]",children:"\u041c\u043e\u0434\u0435\u043b\u044c"}),(0,or.jsx)("div",{className:"w-[80px] font-medium text-[13px] text-center",children:"\u041a-\u0441\u0442\u044c"}),(0,or.jsx)("div",{className:"w-[70px] font-medium text-[13px] text-right",children:"\u0426\u0456\u043d\u0430, $"}),(0,or.jsx)("div",{className:"w-[85px] font-medium text-[13px] text-right pr-2",children:"\u0421\u0443\u043c\u0430, $"})]}),t.map((e,t)=>(0,or.jsxs)("div",{className:"flex items-start mb-3 text-[13px] leading-[16px]",children:[(0,or.jsx)("div",{className:"w-[130px] pr-2",children:e.name}),(0,or.jsx)("div",{className:"w-[170px] pr-2 text-gray-900 break-words whitespace-pre-wrap",children:e.model}),(0,or.jsxs)("div",{className:"w-[80px] text-center",children:[e.qty," \u0448\u0442"]}),(0,or.jsx)("div",{className:"w-[70px] text-right",children:e.price}),(0,or.jsx)("div",{className:"w-[85px] text-right font-medium pr-2",children:e.price*e.qty})]},e.id))]}),(0,or.jsxs)("div",{className:"mt-6",children:[(0,or.jsx)("div",{className:"w-full h-0 border-t-[3px] mb-4",style:{borderColor:cx}}),(0,or.jsx)("h3",{className:"italic font-semibold text-[20px] mb-2 text-black",children:"\u041c\u043e\u043d\u0442\u0430\u0436 \u0442\u0430 \u0456\u043d\u0436\u0435\u043d\u0435\u0440\u0456\u044f"}),(0,or.jsxs)("div",{className:"flex border-b-[3px] pb-1 mb-2",style:{borderColor:cx},children:[(0,or.jsx)("div",{className:"w-[130px] font-medium text-[13px] pl-1",children:"\u041f\u043e\u0437\u0438\u0446\u0456\u044f"}),(0,or.jsx)("div",{className:"w-[170px] font-medium text-[13px]",children:"\u041c\u043e\u0434\u0435\u043b\u044c"}),(0,or.jsx)("div",{className:"w-[80px] font-medium text-[13px] text-center",children:"\u041a-\u0441\u0442\u044c"}),(0,or.jsx)("div",{className:"w-[70px] font-medium text-[13px] text-right",children:"\u0426\u0456\u043d\u0430, $"}),(0,or.jsx)("div",{className:"w-[85px] font-medium text-[13px] text-right pr-2",children:"\u0421\u0443\u043c\u0430, $"})]}),s.map(e=>(0,or.jsxs)("div",{className:"flex items-start mb-3 text-[13px] leading-[16px]",children:[(0,or.jsx)("div",{className:"w-[130px] pr-2",children:e.name}),(0,or.jsx)("div",{className:"w-[170px] pr-2 break-words",children:e.model}),(0,or.jsx)("div",{className:"w-[80px] text-center",children:e.qty>0?`${e.qty} \u0448\u0442`:"\u041d\u0430\u0431\u0456\u0440"}),(0,or.jsx)("div",{className:"w-[70px] text-right",children:e.price}),(0,or.jsx)("div",{className:"w-[85px] text-right font-medium pr-2",children:e.price*e.qty})]},e.id)),(0,or.jsxs)("div",{className:"flex items-start mb-3 text-[13px]",children:[(0,or.jsx)("div",{className:"w-[130px] pr-2",children:"\u0421\u043e\u043d\u044f\u0447\u043d\u0438\u0439 \u043a\u0430\u0431\u0435\u043b\u044c"}),(0,or.jsx)("div",{className:"w-[170px] pr-2",children:"\u041a\u0430\u0431\u0435\u043b\u044c \u041a\u0412\u0415 DB+ 6 \u043c\u043c\xb2 \u0443 \u043f\u043e\u0434\u0432\u0456\u0439\u043d\u0456\u0439 \u0456\u0437\u043e\u043b\u044f\u0446\u0456\u0457"}),(0,or.jsx)("div",{className:"w-[80px] text-center",children:"1 \u043c"}),(0,or.jsx)("div",{className:"w-[70px] text-right",children:a.solarPrice}),(0,or.jsx)("div",{className:"w-[85px] text-[10px] text-right leading-3",children:"\u0414\u0438\u0432. \u043a\u0456\u043d\u0435\u0446\u044c \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0438"})]}),(0,or.jsxs)("div",{className:"flex items-start mb-3 text-[13px]",children:[(0,or.jsx)("div",{className:"w-[130px] pr-2",children:"\u0415\u043b\u0435\u043a\u0442\u0440\u0438\u043a\u0430"}),(0,or.jsx)("div",{className:"w-[170px] pr-2",children:"\u0421\u0438\u043b\u043e\u0432\u0438\u0439 \u043a\u0430\u0431\u0435\u043b\u044c \u0410\u0412\u0412\u0413 4\u044525 + \u0434\u0432\u043e\u0441\u0442\u0456\u043d\u043d\u0430 \u0433\u043e\u0444\u0440\u0430"}),(0,or.jsx)("div",{className:"w-[80px] text-center",children:"1 \u043c"}),(0,or.jsx)("div",{className:"w-[70px] text-right",children:a.powerPrice}),(0,or.jsx)("div",{className:"w-[85px] text-[10px] text-right leading-3",children:"\u0414\u0438\u0432. \u043a\u0456\u043d\u0435\u0446\u044c \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0438"})]}),(0,or.jsx)("div",{className:"w-full h-0 border-t-[3px] my-3",style:{borderColor:cx}}),(0,or.jsxs)("div",{className:"flex justify-between items-center text-[13px]",children:[(0,or.jsx)("div",{className:"pl-1",children:"\u041b\u043e\u0433\u0456\u0441\u0442\u0438\u043a\u0430"}),(0,or.jsxs)("div",{className:"pr-2 font-medium",children:[a.logistics," $"]})]})]}),(0,or.jsxs)("div",{className:"mt-8 flex justify-end items-end flex-col pr-2",children:[(0,or.jsx)("span",{className:"text-[15px] mb-1",children:"\u041e\u0440\u0456\u0454\u043d\u0442\u043e\u0432\u043d\u0430 \u0432\u0430\u0440\u0442\u0456\u0441\u0442\u044c \u0441\u0438\u0441\u0442\u0435\u043c\u0438"}),(0,or.jsxs)("span",{className:"text-[24px] font-bold",style:{color:dx},children:[l.toLocaleString()," $"]})]})]}),(0,or.jsxs)("div",{className:"absolute bottom-[20px] left-[32px] w-[556px] text-[10px] leading-[12px] text-gray-800",children:[(0,or.jsx)("p",{className:"mb-1",children:"\u041a\u043e\u043c\u043f\u043b\u0435\u043a\u0442\u0430\u0446\u0456\u044f \u043c\u043e\u0436\u0435 \u0437\u043c\u0456\u043d\u044e\u0432\u0430\u0442\u0438\u0441\u044f \u0437\u0430\u043b\u0435\u0436\u043d\u043e \u0432\u0456\u0434 \u043f\u043e\u0442\u0440\u0435\u0431 \u0442\u0430 \u043d\u0430\u044f\u0432\u043d\u043e\u0441\u0442\u0456 \u043e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f."}),(0,or.jsx)("p",{className:"mb-1",children:"\u041a\u0430\u0431\u0435\u043b\u044c \u043e\u043f\u043b\u0430\u0447\u0443\u0454\u0442\u044c\u0441\u044f \u0437\u0430 \u0444\u0430\u043a\u0442\u043e\u043c \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f (\u0446\u0456\u043d\u0430 \u0432\u043a\u0430\u0437\u0430\u043d\u0430 \u0437\u0430 1 \u043c)."}),(0,or.jsx)("p",{className:"mb-1",children:"\u0426\u0456\u043d\u0438 \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u0456 \u043d\u0430 \u0434\u0430\u0442\u0443 \u0444\u043e\u0440\u043c\u0443\u0432\u0430\u043d\u043d\u044f \u043f\u0440\u043e\u043f\u043e\u0437\u0438\u0446\u0456\u0457."}),(0,or.jsx)("p",{children:"\u0413\u0430\u0440\u0430\u043d\u0442\u0456\u044f: \u0456\u043d\u0432\u0435\u0440\u0442\u043e\u0440 \u2014 5 \u0440\u043e\u043a\u0456\u0432, \u043f\u0430\u043d\u0435\u043b\u0456 \u2014 12 \u0440\u043e\u043a\u0456\u0432, \u0410\u041a\u0411 \u2014 5 \u0440\u043e\u043a\u0456\u0432."})]})]})})]})};function hx(){return(0,or.jsx)(dr,{children:(0,or.jsx)(tt,{children:(0,or.jsxs)(we,{children:[(0,or.jsx)(be,{path:"/",element:(0,or.jsx)(Cp,{})}),(0,or.jsx)(be,{path:"/home",element:(0,or.jsx)(Rp,{})}),(0,or.jsx)(be,{path:"/installations",element:(0,or.jsx)(Kp,{})}),(0,or.jsx)(be,{path:"/clients",element:(0,or.jsx)(Xp,{})}),(0,or.jsx)(be,{path:"/employees",element:(0,or.jsx)(ff,{})}),(0,or.jsx)(be,{path:"/tasks",element:(0,or.jsx)(Sf,{})}),(0,or.jsx)(be,{path:"/reports",element:(0,or.jsx)(If,{})}),(0,or.jsx)(be,{path:"/equipment",element:(0,or.jsx)(Gf,{})}),(0,or.jsx)(be,{path:"/payments",element:(0,or.jsx)(og,{})}),(0,or.jsx)(be,{path:"/documents",element:(0,or.jsx)(mg,{})}),(0,or.jsx)(be,{path:"/project/:id",element:(0,or.jsx)(Fg,{})}),(0,or.jsx)(be,{path:"/admin",element:(0,or.jsx)(ix,{})}),(0,or.jsx)(be,{path:"/bild",element:(0,or.jsx)(ux,{})})]})})})}const mx=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:s,getFCP:r,getLCP:a,getTTFB:i}=t;n(e),s(e),r(e),a(e),i(e)})};t.createRoot(document.getElementById("root")).render((0,or.jsx)(e.StrictMode,{children:(0,or.jsx)(hx,{})})),mx()})()})();
//# sourceMappingURL=main.90983bf4.js.map